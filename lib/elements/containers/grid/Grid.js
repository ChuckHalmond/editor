var e={9372:(e,t,s)=>{s.d(t,{GF:()=>r,bG:()=>c,b_:()=>o});var n=s(4141),i=s(1827);const r=function(e){return(t,s)=>{const{constructor:n}=t,{prototype:r}=n,o=String(s),{defaultValue:c=null,observed:l=!1,name:a=(0,i.cc)(o)}=e;if(l){const e=Reflect.get(n,"observedAttributes",n);Array.isArray(e)?e.push(a):Object.defineProperty(n,"observedAttributes",{value:[a],writable:!1})}const{type:h}=e;switch(h){case Boolean:Object.defineProperty(r,o,{get:function(){return this.hasAttribute(a)},set:function(e){e?this.setAttribute(a,""):this.removeAttribute(a)}});break;case Object:Object.defineProperty(r,o,{get:function(){const e=this.getAttribute(a);return null!==e?JSON.parse(e):c},set:function(e){null!==e?this.setAttribute(a,JSON.stringify(e)):this.removeAttribute(a)}});break;case Number:Object.defineProperty(r,o,{get:function(){const e=this.getAttribute(a);return null!==e?parseFloat(e):c},set:function(e){null!==e?this.setAttribute(a,e):this.removeAttribute(a)}});break;default:Object.defineProperty(r,o,{get:function(){const e=this.getAttribute(a);return null!==e?e:c},set:function(e){null!==e?this.setAttribute(a,e):this.removeAttribute(a)}})}}},o=function(e){return t=>{const{name:s,options:n}=e;return customElements.get(s)||customElements.define(s,t,n),t}};function c(e,t){if(t){const{options:s,attributes:n,dataset:r,children:o,listeners:c}=t,l=document.createElement(e,s);if(n&&Object.entries(n).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?l.toggleAttribute((0,i.cc)(e),t):l.setAttribute((0,i.cc)(e),String(t)))})),r){const{dataset:e}=l;Object.keys(r).forEach((t=>{e[t]=String(r[t])}))}return o&&("function"==typeof o?o(l):"object"==typeof o&&"length"in o?l.append(...Array.from(o)):l.append(o)),c&&Object.entries(c).forEach((([e,t])=>{Array.isArray(t)?l.addEventListener(e,t[0],t[1]):l.addEventListener(e,t)})),l}return document.createElement(e)}const l=new WeakMap;new FinalizationRegistry((e=>{const{model:t,reactiveElement:s}=e,n=l.get(t);if(void 0!==n){const{reactiveElementsArray:e}=n;e.splice(e.indexOf(s),1)}})),new n.KY((e=>{e.forEach((e=>{const{target:t,propertyName:s,oldValue:n,newValue:i}=e,{reactiveElementsArray:r}=l.get(t);r.forEach((e=>{const{elementRef:t,react:r,properties:o}=e,c=t.deref();c&&o.includes(s)&&r(c,s,n,i)}))}))}));const a=new WeakMap;new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:s}=e,n=a.get(t);if(n){const{reactiveChildElementsArray:e}=n;e.splice(e.indexOf(s),1)}})),new n.KY((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:s}=e,n=s,{length:i}=n,{reactiveChildElementsArray:r}=a.get(n);r.forEach((s=>{const{parentRef:n,mapping:r,placeholder:o}=s,c=n.deref();if(c){const{firstChild:s,children:n}=c,{length:l}=n;o&&i>0&&s==o&&c.removeChild(o);const{changeType:a,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:f}=e;switch(a){case h:{const{insertedIndex:t,insertedItems:s}=e,i=Array.from(s.values()).map(r),{length:o}=n;t<o?n[t].before(...i):c.append(...i);break}case d:{const{removedIndex:s,removedItems:i}=e,{length:r}=i;t=t??document.createRange();const o=s+(r-1);o<l&&(t.setStartBefore(n[s]),t.setEndAfter(n[o]),t.deleteContents());break}case f:{const{sortedIndices:t}=e,s=Array.from(n);c.append(...t.filter((e=>e<l)).map((e=>s[e])));break}}0==i&&o&&c.append(o)}}))}))}))},1827:(e,t,s)=>{function n(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}s.d(t,{cc:()=>n})},4545:(e,t,s)=>{s.d(t,{E:()=>h});var n,i,r,o,c=s(9372),l=s(7023);let a=class extends HTMLElement{constructor(){super(),n.add(this);const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(o),e.adoptedStyleSheets=[t],e.append(r.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)}(this,n,"m",i).bind(this))}cells(){return Array.from(this.querySelectorAll("e-gridcell"))}rows(){return Array.from(this.querySelectorAll("e-gridrow"))}};n=new WeakSet,i=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof l.y)).forEach(((e,t)=>{e.posinset=t}))},(r=(0,c.bG)("template")).content.append((0,c.bG)("slot")),o="\n            :host {\n                display: table-row-group;\n            }\n        ",a=function(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o}([(0,c.b_)({name:"e-gridbody"})],a);var h=a},7023:(e,t,s)=>{s.d(t,{y:()=>l});var n,i,r=s(9372),o=function(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o};let c=class extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(i),e.adoptedStyleSheets=[t],e.append(n.content.cloneNode(!0))}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,s){"selected"===e&&this.dispatchEvent(new Event("select",{bubbles:!0}))}};(n=(0,r.bG)("template")).content.append((0,r.bG)("slot")),i='\n            :host {\n                display: table-cell;\n                text-align: left;\n            }\n            \n            :host([type="columnheader"]:hover) {\n                background-color: var(--hovered-item-color);\n            }\n            \n            :host(:hover):host-context(e-grid:is(:not([selectby]), [selectby="cell"])) {\n                background-color: var(--hovered-item-color);\n            }\n            \n            :host([type="columnheader"][active]) {\n                background-color: var(--focused-item-color);\n            }\n            \n            :host([active]):host-context(e-grid:focus-within:is(:not([selectby]), [selectby="cell"])) {\n                outline: 1px solid var(--focused-item-outline-color);\n                outline-offset: -1px;\n            }\n\n            :host(:focus-visible):host-context(e-grid:focus-within:is([selectby="row"])) {\n                outline: none;\n            }\n            \n            :host([selected]):host-context(e-grid:is(:not([selectby]), [selectby="cell"])) {\n                background-color: var(--selected-item-color);\n            }\n        ',o([(0,r.GF)({type:String})],c.prototype,"name",void 0),o([(0,r.GF)({type:String})],c.prototype,"headers",void 0),o([(0,r.GF)({type:String})],c.prototype,"type",void 0),o([(0,r.GF)({type:Number})],c.prototype,"posinset",void 0),o([(0,r.GF)({type:Boolean})],c.prototype,"droptarget",void 0),o([(0,r.GF)({type:Boolean})],c.prototype,"active",void 0),o([(0,r.GF)({type:Boolean,observed:!0})],c.prototype,"selected",void 0),c=o([(0,r.b_)({name:"e-gridcell"})],c);var l=c},9795:(e,t,s)=>{s.d(t,{Q:()=>u});var n,i,r,o,c,l=s(9372),a=s(7023),h=function(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},d=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)};let f=class extends HTMLElement{constructor(){super(),n.add(this),i.set(this,void 0),function(e,t,s,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?i.call(e,s):i?i.value=s:t.set(e,s)}(this,i,null,"f");const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(c),e.adoptedStyleSheets=[t],e.append(o.content.cloneNode(!0)),e.addEventListener("slotchange",d(this,n,"m",r).bind(this))}cells(){return Array.from(this.querySelectorAll("e-gridcell"))}get menu(){return d(this,i,"f")}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}attributeChangedCallback(e,t,s){"selected"===e&&this.dispatchEvent(new Event("select",{bubbles:!0}))}};i=new WeakMap,n=new WeakSet,r=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof a.y)).forEach(((e,t)=>{e.posinset=t}))},(o=(0,l.bG)("template")).content.append((0,l.bG)("slot")),c='\n            :host {\n                display: table-row;\n            }\n            \n            :host(:hover):host-context(e-grid:is([selectby="row"])) {\n                background-color: var(--hovered-item-color);\n            }\n            \n            :host([active]):host-context(e-grid:focus-within:is([selectby="row"])) {\n                outline: 1px solid var(--focused-item-outline-color);\n                outline-offset: -1px;\n            }\n            \n            :host([selected]):host-context(e-grid:is([selectby="row"])) {\n                background-color: var(--selected-item-color);\n            }\n        ',h([(0,l.GF)({type:String})],f.prototype,"name",void 0),h([(0,l.GF)({type:Boolean})],f.prototype,"active",void 0),h([(0,l.GF)({type:Boolean})],f.prototype,"selected",void 0),h([(0,l.GF)({type:Number})],f.prototype,"posinset",void 0),f=h([(0,l.b_)({name:"e-gridrow"})],f);var u=f},174:(e,t,s)=>{s.d(t,{Y:()=>h});var n,i,r,o,c=s(9372),l=s(7023);let a=class extends HTMLElement{constructor(){super(),n.add(this);const e=this.attachShadow({mode:"open"}),t=new CSSStyleSheet;t.replace(o),e.adoptedStyleSheets=[t],e.append(r.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)}(this,n,"m",i).bind(this))}};n=new WeakSet,i=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof l.y)).forEach(((e,t)=>{e.posinset=t}))},(r=(0,c.bG)("template")).content.append((0,c.bG)("slot")),o="\n            :host {\n                display: table-row-group;\n            }\n        ",a=function(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o}([(0,c.b_)({name:"e-gridrowgroup"})],a);var h=a},4141:(e,t,s)=>{s.d(t,{KY:()=>j});var n,i,r,o,c,l,a,h,d,f,u,p,m,g,v,b,w,y,E,S=function(e,t,s,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,s):i?i.value=s:t.set(e,s),s},T=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)};class R{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new I(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new I(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return R.PROPERTY_CHANGE}get LIST_REMOVE(){return R.LIST_REMOVE}get LIST_INSERT(){return R.LIST_INSERT}get LIST_SORT(){return R.LIST_SORT}}var k=R;n=new WeakMap;var I=class{constructor(e){n.set(this,void 0),S(this,n,e.slice(),"f")}get length(){return T(this,n,"f").length}item(e){return T(this,n,"f")[e]??null}values(){return T(this,n,"f").values()}};class N{constructor(e){i.set(this,void 0),r.set(this,void 0),this.type=e,S(this,i,null,"f"),S(this,r,null,"f")}get currentTarget(){return T(this,i,"f")}get target(){return T(this,r,"f")}}i=new WeakMap,r=new WeakMap,N.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof N&&S(e,i,t,"f")}setTarget(e,t){e instanceof N&&S(e,r,t,"f")}};var P=N.ModelEventTargetAccessor;delete N.ModelEventTargetAccessor;var x=N;class O{constructor(){o.set(this,void 0),S(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,s=T(this,o,"f").get(t);P.setCurrentTarget(e,this),s&&s.forEach((t=>{t(e)}))}addEventListener(e,t){const s=T(this,o,"f").get(e);s?s.push(t):T(this,o,"f").set(e,[t])}removeEventListener(e,t){const s=T(this,o,"f").get(e);if(s){const n=s.findIndex((e=>e==t));n>-1&&s.splice(n,1),0==s.length&&T(this,o,"f").delete(e)}}dispatchEvent(e){P.setTarget(e,this),this.receiveEvent(e)}}o=new WeakMap;class A extends O{constructor(){super(),c.add(this),l.set(this,void 0),a.set(this,void 0),h.set(this,void 0),S(this,l,null,"f"),S(this,a,[],"f"),S(this,h,!1,"f")}get parentNode(){return T(this,l,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:s}=e;for(;!t&&null!==s;)({parentNode:s}=s),t=s==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");S(this,l,e,"f")}else S(this,l,null,"f")}beginChanges(){S(this,h,!0,"f")}endChanges(){this.dispatchEvent(new x("modelchange")),T(this,a,"f").splice(0),S(this,h,!1,"f")}getRecords(){return T(this,a,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}l=new WeakMap,a=new WeakMap,h=new WeakMap,c=new WeakSet,d=function(e,t,s){const n=T(this,a,"f"),i=new k({target:this,changeType:k.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:s});n.push(i),T(this,h,"f")||(this.dispatchEvent(new x("modelchange")),n.splice(0))},f=function(e){T(this,a,"f").push(e),T(this,h,"f")||(this.dispatchEvent(new x("modelchange")),T(this,a,"f").splice(0))},A.ModelNodeRecordsAccessor=new class{triggerChange(e,t,s,n){e instanceof A&&T(e,c,"m",d).call(e,t,s,n)}handleRecord(e,t){e instanceof A&&T(e,c,"m",f).call(e,t)}};var C=A.ModelNodeRecordsAccessor;delete A.ModelNodeRecordsAccessor;var L=A;class M extends A{constructor(){super(),u.set(this,void 0),S(this,u,new Map,"f")}}u=new WeakMap,M.ModelObjectPropertiesAccessor=new class{setProperty(e,t,s){e instanceof M&&T(e,u,"f").set(t,s)}getProperty(e,t){if(e instanceof M)return T(e,u,"f").get(t)}},M.ModelObjectPropertiesAccessor,delete M.ModelObjectPropertiesAccessor,p=new WeakMap;var _=class extends A{constructor(e){super(),p.set(this,void 0),S(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),T(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return T(this,p,"f").length}get(e){return T(this,p,"f")[e]??null}index(e){return T(this,p,"f").indexOf(e)}values(){return T(this,p,"f").values()}sort(e){const t=T(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,s)=>e(t.item,s.item))),S(this,p,t.map((e=>e.item)),"f");const s=new k({target:this,changeType:k.LIST_SORT,sortedIndices:t.map((e=>e.index))});C.handleRecord(this,s)}prepend(...e){const t=T(this,p,"f"),{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.splice(0,0,...e);const n=new k({target:this,changeType:k.LIST_INSERT,insertedIndex:0,insertedItems:e});C.handleRecord(this,n)}append(...e){const t=T(this,p,"f"),{length:s}=t,{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.push(...e);const i=new k({target:this,changeType:k.LIST_INSERT,insertedIndex:s,insertedItems:e});C.handleRecord(this,i)}insert(e,...t){const s=T(this,p,"f"),{length:n}=s;if(Math.abs(e)<=n){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<n?s.splice(e,0,...t):s.push(...t)}else if(e<0){e=n-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),s.splice(e,0,...t)}const i=new k({target:this,changeType:k.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});C.handleRecord(this,i)}}remove(e){const t=T(this,p,"f"),s=t.indexOf(e);if(s>-1){const e=t.splice(s,1)[0],{parentNode:n}=this;n&&e.setParent(null);const i=new k({target:this,changeType:k.LIST_REMOVE,removedIndex:s,removedItems:[e]});C.handleRecord(this,i)}}clear(){const e=T(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(null)}));const n=new k({target:this,changeType:k.LIST_REMOVE,removedIndex:0,removedItems:t});C.handleRecord(this,n)}}};g=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,m=new WeakSet,y=function(){const e=T(this,v,"f").splice(0);e.length>0&&T(this,g,"f").call(this,e)},E=function(e){if(!T(this,b,"f")){const{target:t,currentTarget:s}=e,n=T(this,w,"f").get(s);if(n){const{options:e}=n,{properties:i,propertiesFilter:r,childList:o,subtree:c}=e;c?i&&t instanceof L?(r?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):o&&t instanceof _&&(T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):t==s&&(i&&t instanceof L?(r?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):o&&t instanceof _&&(T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)))}}};var j=class{constructor(e){m.add(this),g.set(this,void 0),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),S(this,g,e,"f"),S(this,v,[],"f"),S(this,b,!1,"f"),S(this,w,new WeakMap,"f")}observe(e,t){S(this,b,!1,"f");const s=T(this,w,"f");let n=s.get(e);if(n)s.set(e,n);else{const i=T(this,m,"m",E).bind(this);e.addEventListener("modelchange",i),n={listener:i,options:t},s.set(e,n)}}unobserve(e){let t=T(this,w,"f").get(e);if(t){const{listener:s}=t;e.removeEventListener("modelchange",s)}}disconnect(){T(this,v,"f").splice(0),S(this,b,!0,"f")}}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{s.d(n,{Z:()=>z});var e,t,i,r,o,c,l,a,h,d,f,u,p,m,g,v,b,w,y,E,S,T,R,k,I,N,P,x,O,A,C,L,M,_,j,F,G,W,V,K,H=s(9372),q=s(4545),D=s(7023),Y=s(9795),B=s(174),Q=function(e,t,s,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(r<3?i(o):r>3?i(t,s,o):i(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},J=function(e,t,s,n){if("a"===s&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?n:"a"===s?n.call(e):n?n.value:t.get(e)},U=function(e,t,s,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,s):i?i.value=s:t.set(e,s),s};let Z=class extends HTMLElement{constructor(){super(),e.add(this),t.set(this,void 0),i.set(this,void 0),r.set(this,void 0),o.set(this,void 0),U(this,r,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,J(this,e,"m",c).bind(this)),"f"),U(this,o,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,J(this,e,"m",l).bind(this)),"f"),U(this,t,!1,"f"),U(this,i,!1,"f");const s=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replace(K),s.adoptedStyleSheets=[n],s.append(V.content.cloneNode(!0)),this.addEventListener("click",J(this,e,"m",C).bind(this)),this.addEventListener("contextmenu",J(this,e,"m",L).bind(this)),this.addEventListener("dblclick",J(this,e,"m",M).bind(this)),this.addEventListener("focus",J(this,e,"m",j).bind(this)),this.addEventListener("focusin",J(this,e,"m",F).bind(this)),this.addEventListener("keydown",J(this,e,"m",_).bind(this)),this.addEventListener("select",J(this,e,"m",G).bind(this)),s.addEventListener("slotchange",J(this,e,"m",W).bind(this))}cells(){return Array.from(this.querySelectorAll("e-gridcell"))}rows(){return Array.from(this.querySelectorAll("e-gridrow"))}get activeCell(){return this.querySelector("e-gridcell[active]")}get activeRow(){return this.querySelector("e-gridrow[active]")}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}connectedCallback(){const{tabIndex:e}=this;this.tabIndex=e}beginSelection(){U(this,t,!0,"f")}endSelection(){U(this,t,!1,"f"),J(this,i,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),U(this,i,!1,"f"))}clearSelection(){J(this,e,"m",v).call(this),J(this,e,"m",b).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};t=new WeakMap,i=new WeakMap,r=new WeakMap,o=new WeakMap,e=new WeakSet,c=function(e){return e instanceof D.y&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof q.E||e instanceof B.Y||e instanceof Y.Q?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},l=function(e){return e instanceof Y.Q&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof q.E||e instanceof B.Y?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},a=function(e,t){const s=Array.from(this.cells()),n=s.indexOf(e),i=s.indexOf(t);return n>-1&&i>-1?e==t?[e]:s.slice(Math.min(n,i),Math.max(n,i)+1):[]},h=function(t,s){if(t==s)return[t];const n=t.compareDocumentPosition(s);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let i=J(this,e,"m",x).call(this,t);for(;i&&i!==s;)n.push(i),i=J(this,e,"m",x).call(this,i);return n.push(s),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let i=J(this,e,"m",P).call(this,t);for(;i&&i!==s;)n.push(i),i=J(this,e,"m",P).call(this,i);return n.push(s),n}return[]},d=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},f=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},u=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},p=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},m=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},g=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},v=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},b=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},w=function(e){const{activeCell:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(J(this,r,"f").currentNode=e,e.active=!0,e.tabIndex=0)},y=function(e){const{activeRow:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(J(this,o,"f").currentNode=e,e.active=!0,e.tabIndex=0)},E=function(e){const t=J(this,r,"f");return t.currentNode=e,t.firstChild()},S=function(e){const t=J(this,r,"f");return t.currentNode=e,t.lastChild()},T=function(e){const t=J(this,r,"f");return t.currentNode=e,t.previousNode()},R=function(e){const t=J(this,r,"f");return t.currentNode=e,t.nextNode()},k=function(e){const t=J(this,o,"f");return t.currentNode=e,t.parentNode()},I=function(){const e=J(this,o,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},N=function(){const e=J(this,o,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},P=function(e){const t=J(this,o,"f");return t.currentNode=e,t.previousNode()},x=function(e){const t=J(this,o,"f");return t.currentNode=e,t.nextNode()},O=function(t){const s=J(this,e,"m",k).call(this,t);if(s){const n=s.cells().indexOf(t),i=J(this,e,"m",P).call(this,s);if(i){const e=i.cells();return e[Math.min(n,e.length)]}}return null},A=function(t){const s=J(this,e,"m",k).call(this,t);if(s){const n=s.cells().indexOf(t),i=J(this,e,"m",x).call(this,s);if(i){const e=i.cells();return e[Math.min(n,e.length)]}}return null},C=function(t){const{ctrlKey:s,shiftKey:n}=t,{selectby:i}=this;switch(i){case"cell":{const i=t.composedPath(),r=i.find((e=>e instanceof q.E))?i.find((e=>e instanceof D.y)):null,o=this.selectedCells();if(r instanceof D.y)if(n||s){if(s)r.selected?J(this,e,"m",m).call(this,r):J(this,e,"m",u).call(this,r);else if(n){const t=o[o.length-1];if(t){const s=J(this,e,"m",a).call(this,t,r);s&&(o.includes(r)?J(this,e,"m",m).call(this,...s):J(this,e,"m",u).call(this,...s))}else J(this,e,"m",d).call(this,r)}}else J(this,e,"m",d).call(this,r);break}case"row":{const i=this.selectedRows(),r=t.composedPath(),o=r.find((e=>e instanceof q.E))?r.find((e=>e instanceof Y.Q)):null;if(o instanceof Y.Q)if(n||s){if(s)o.selected?J(this,e,"m",g).call(this,o):J(this,e,"m",p).call(this,o);else if(n){const t=i[i.length-1];if(t){const s=J(this,e,"m",h).call(this,t,o);s&&(i.includes(o)?J(this,e,"m",g).call(this,...s):J(this,e,"m",p).call(this,...s))}else J(this,e,"m",f).call(this,o)}}else J(this,e,"m",f).call(this,o);break}}t.stopPropagation()},L=function(e){e.stopPropagation()},M=function(e){e.stopPropagation()},_=function(t){const{key:s}=t,{selectby:n,activeCell:i,activeRow:r}=this;switch(s){case"a":{const{ctrlKey:s}=t;if(s)switch(n){case"cell":{const t=J(this,e,"m",I).call(this),s=t?J(this,e,"m",E).call(this,t):null,n=J(this,e,"m",N).call(this),i=n?J(this,e,"m",S).call(this,n):null;if(s&&i){const t=J(this,e,"m",a).call(this,s,i);t&&J(this,e,"m",d).call(this,...t)}break}case"row":{const t=J(this,e,"m",I).call(this),s=J(this,e,"m",N).call(this);if(t&&s){const n=J(this,e,"m",h).call(this,t,s);n&&J(this,e,"m",f).call(this,...n)}break}}t.preventDefault();break}case"ArrowLeft":if("cell"==n&&i){const s=J(this,e,"m",T).call(this,i);if(s){s.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(s.selected?J(this,e,"m",m).call(this,s):J(this,e,"m",u).call(this,s))}}t.stopPropagation();break;case"ArrowRight":if("cell"==n&&i){const s=J(this,e,"m",R).call(this,i);if(s){s.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(s.selected?J(this,e,"m",m).call(this,s):J(this,e,"m",u).call(this,s))}}t.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const s=r??J(this,e,"m",I).call(this),n=i?J(this,e,"m",O).call(this,i):s?J(this,e,"m",E).call(this,s):null;if(n){n.focus({preventScroll:!0});const{shiftKey:s}=t;s&&(n.selected?J(this,e,"m",m).call(this,n):J(this,e,"m",u).call(this,n))}break}case"row":{const s=r?J(this,e,"m",P).call(this,r):J(this,e,"m",I).call(this);if(s){s.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(s.selected?J(this,e,"m",g).call(this,s):J(this,e,"m",p).call(this,s))}break}}t.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const s=r??J(this,e,"m",N).call(this),n=i?J(this,e,"m",A).call(this,i):s?J(this,e,"m",S).call(this,s):null;if(n){n.focus({preventScroll:!0});const{shiftKey:s}=t;s&&(n.selected?J(this,e,"m",m).call(this,n):J(this,e,"m",u).call(this,n))}}break;case"row":{const s=r?J(this,e,"m",x).call(this,r):J(this,e,"m",N).call(this);if(s){s.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(s.selected?J(this,e,"m",g).call(this,s):J(this,e,"m",p).call(this,s))}break}}t.stopPropagation();break;case"Home":switch(n){case"cell":if(r){const t=J(this,e,"m",E).call(this,r);t&&t.focus({preventScroll:!0})}break;case"row":{const t=J(this,e,"m",I).call(this);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"End":switch(n){case"cell":if(r){const t=J(this,e,"m",S).call(this,r);t&&t.focus({preventScroll:!0})}break;case"row":{const t=J(this,e,"m",N).call(this);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"Enter":switch(n){case"cell":i&&(J(this,e,"m",d).call(this,i),i.click());break;case"row":r&&(J(this,e,"m",f).call(this,r),r.click())}t.stopPropagation();break;case"Escape":switch(n){case"cell":J(this,e,"m",v).call(this),J(this,e,"m",w).call(this,null);break;case"row":J(this,e,"m",b).call(this),J(this,e,"m",y).call(this,null)}this.focus(),t.stopPropagation()}},j=function(e){const{relatedTarget:t}=e,{selectby:s}=this;switch(s){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},F=function(t){const{target:s}=t,{selectby:n}=this;switch(n){case"cell":{const t=s.closest("e-gridcell");t&&J(this,e,"m",w).call(this,t);break}case"row":{const t=s.closest("e-gridrow");t&&J(this,e,"m",y).call(this,t);break}}},G=function(){J(this,t,"f")?U(this,i,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},W=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Y.Q)).forEach(((e,t)=>{e.posinset=t}))},(V=(0,H.bG)("template")).content.append((0,H.bG)("slot")),K="\n            :host {\n                display: table;\n                user-select: none;\n                line-height: 22px;\n            }\n            \n            :host(:focus) {\n                outline: 1px solid var(--focused-item-outline-color);\n                outline-offset: -1px;\n            }\n        ",Q([(0,H.GF)({type:String})],Z.prototype,"name",void 0),Q([(0,H.GF)({type:String,defaultValue:"cell"})],Z.prototype,"selectby",void 0),Q([(0,H.GF)({type:Boolean})],Z.prototype,"multiselectable",void 0),Z=Q([(0,H.b_)({name:"e-grid"})],Z);var z=Z})();var i=n.Z;export{i as HTMLEGridElement};
//# sourceMappingURL=Grid.js.map