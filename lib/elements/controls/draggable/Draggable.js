(()=>{"use strict";var e={9372:(e,t,r)=>{r.d(t,{GF:()=>i,bG:()=>a,b_:()=>o});var n=r(4141),s=r(1827);const i=function(e){return(t,r)=>{const{constructor:n}=t,{prototype:i}=n,o=String(r),{defaultValue:a=null,observed:c=!1,name:h=(0,s.cc)(o)}=e;if(c){const e=Reflect.get(n,"observedAttributes",n);Array.isArray(e)?e.push(h):Object.defineProperty(n,"observedAttributes",{value:[h],writable:!1})}const{type:d}=e;switch(d){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(h)},set:function(e){e?this.setAttribute(h,""):this.removeAttribute(h)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(h);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(h,JSON.stringify(e)):this.removeAttribute(h)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(h);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(h,e):this.removeAttribute(h)}});break;default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(h);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(h,e):this.removeAttribute(h)}})}}},o=function(e){return t=>{const{name:r,options:n}=e;return customElements.get(r)||customElements.define(r,t,n),t}};function a(e,t){if(t){const{options:r,attributes:n,dataset:i,children:o,listeners:a}=t,c=document.createElement(e,r);if(n&&Object.entries(n).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?c.toggleAttribute((0,s.cc)(e),t):c.setAttribute((0,s.cc)(e),String(t)))})),i){const{dataset:e}=c;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}return o&&("function"==typeof o?o(c):"object"==typeof o&&"length"in o?c.append(...Array.from(o)):c.append(o)),a&&Object.entries(a).forEach((([e,t])=>{Array.isArray(t)?c.addEventListener(e,t[0],t[1]):c.addEventListener(e,t)})),c}return document.createElement(e)}const c=new WeakMap;new FinalizationRegistry((e=>{const{model:t,reactiveElement:r}=e,n=c.get(t);if(void 0!==n){const{reactiveElementsArray:e}=n;e.splice(e.indexOf(r),1)}})),new n.KY((e=>{e.forEach((e=>{const{target:t,propertyName:r,oldValue:n,newValue:s}=e,{reactiveElementsArray:i}=c.get(t);i.forEach((e=>{const{elementRef:t,react:i,properties:o}=e,a=t.deref();a&&o.includes(r)&&i(a,r,n,s)}))}))}));const h=new WeakMap;new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:r}=e,n=h.get(t);if(n){const{reactiveChildElementsArray:e}=n;e.splice(e.indexOf(r),1)}})),new n.KY((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:r}=e,n=r,{length:s}=n,{reactiveChildElementsArray:i}=h.get(n);i.forEach((r=>{const{parentRef:n,mapping:i,placeholder:o}=r,a=n.deref();if(a){const{firstChild:r,children:n}=a,{length:c}=n;o&&s>0&&r==o&&a.removeChild(o);const{changeType:h,LIST_INSERT:d,LIST_REMOVE:l,LIST_SORT:f}=e;switch(h){case d:{const{insertedIndex:t,insertedItems:r}=e,s=Array.from(r.values()).map(i),{length:o}=n;t<o?n[t].before(...s):a.append(...s);break}case l:{const{removedIndex:r,removedItems:s}=e,{length:i}=s;t=t??document.createRange();const o=r+(i-1);o<c&&(t.setStartBefore(n[r]),t.setEndAfter(n[o]),t.deleteContents());break}case f:{const{sortedIndices:t}=e,r=Array.from(n);a.append(...t.filter((e=>e<c)).map((e=>r[e])));break}}0==s&&o&&a.append(o)}}))}))}))},1827:(e,t,r)=>{function n(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}r.d(t,{cc:()=>n})},4141:(e,t,r)=>{r.d(t,{KY:()=>C});var n,s,i,o,a,c,h,d,l,f,p,u,g,v,m,b,w,y,E,T=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r},I=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class R{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new O(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new O(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return R.PROPERTY_CHANGE}get LIST_REMOVE(){return R.LIST_REMOVE}get LIST_INSERT(){return R.LIST_INSERT}get LIST_SORT(){return R.LIST_SORT}}var A=R;n=new WeakMap;var O=class{constructor(e){n.set(this,void 0),T(this,n,e.slice(),"f")}get length(){return I(this,n,"f").length}item(e){return I(this,n,"f")[e]??null}values(){return I(this,n,"f").values()}};class S{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,T(this,s,null,"f"),T(this,i,null,"f")}get currentTarget(){return I(this,s,"f")}get target(){return I(this,i,"f")}}s=new WeakMap,i=new WeakMap,S.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof S&&T(e,s,t,"f")}setTarget(e,t){e instanceof S&&T(e,i,t,"f")}};var P=S.ModelEventTargetAccessor;delete S.ModelEventTargetAccessor;var M=S;class x{constructor(){o.set(this,void 0),T(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,r=I(this,o,"f").get(t);P.setCurrentTarget(e,this),r&&r.forEach((t=>{t(e)}))}addEventListener(e,t){const r=I(this,o,"f").get(e);r?r.push(t):I(this,o,"f").set(e,[t])}removeEventListener(e,t){const r=I(this,o,"f").get(e);if(r){const n=r.findIndex((e=>e==t));n>-1&&r.splice(n,1),0==r.length&&I(this,o,"f").delete(e)}}dispatchEvent(e){P.setTarget(e,this),this.receiveEvent(e)}}o=new WeakMap;class N extends x{constructor(){super(),a.add(this),c.set(this,void 0),h.set(this,void 0),d.set(this,void 0),T(this,c,null,"f"),T(this,h,[],"f"),T(this,d,!1,"f")}get parentNode(){return I(this,c,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:r}=e;for(;!t&&null!==r;)({parentNode:r}=r),t=r==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");T(this,c,e,"f")}else T(this,c,null,"f")}beginChanges(){T(this,d,!0,"f")}endChanges(){this.dispatchEvent(new M("modelchange")),I(this,h,"f").splice(0),T(this,d,!1,"f")}getRecords(){return I(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}c=new WeakMap,h=new WeakMap,d=new WeakMap,a=new WeakSet,l=function(e,t,r){const n=I(this,h,"f"),s=new A({target:this,changeType:A.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:r});n.push(s),I(this,d,"f")||(this.dispatchEvent(new M("modelchange")),n.splice(0))},f=function(e){I(this,h,"f").push(e),I(this,d,"f")||(this.dispatchEvent(new M("modelchange")),I(this,h,"f").splice(0))},N.ModelNodeRecordsAccessor=new class{triggerChange(e,t,r,n){e instanceof N&&I(e,a,"m",l).call(e,t,r,n)}handleRecord(e,t){e instanceof N&&I(e,a,"m",f).call(e,t)}};var k=N.ModelNodeRecordsAccessor;delete N.ModelNodeRecordsAccessor;var L=N;class _ extends N{constructor(){super(),p.set(this,void 0),T(this,p,new Map,"f")}}p=new WeakMap,_.ModelObjectPropertiesAccessor=new class{setProperty(e,t,r){e instanceof _&&I(e,p,"f").set(t,r)}getProperty(e,t){if(e instanceof _)return I(e,p,"f").get(t)}},_.ModelObjectPropertiesAccessor,delete _.ModelObjectPropertiesAccessor,u=new WeakMap;var j=class extends N{constructor(e){super(),u.set(this,void 0),T(this,u,e?.slice()??[],"f")}setParent(e){super.setParent(e),I(this,u,"f").forEach((t=>{t.setParent(e)}))}get length(){return I(this,u,"f").length}get(e){return I(this,u,"f")[e]??null}index(e){return I(this,u,"f").indexOf(e)}values(){return I(this,u,"f").values()}sort(e){const t=I(this,u,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,r)=>e(t.item,r.item))),T(this,u,t.map((e=>e.item)),"f");const r=new A({target:this,changeType:A.LIST_SORT,sortedIndices:t.map((e=>e.index))});k.handleRecord(this,r)}prepend(...e){const t=I(this,u,"f"),{parentNode:r}=this;r&&e.forEach((e=>{e.setParent(r)})),t.splice(0,0,...e);const n=new A({target:this,changeType:A.LIST_INSERT,insertedIndex:0,insertedItems:e});k.handleRecord(this,n)}append(...e){const t=I(this,u,"f"),{length:r}=t,{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.push(...e);const s=new A({target:this,changeType:A.LIST_INSERT,insertedIndex:r,insertedItems:e});k.handleRecord(this,s)}insert(e,...t){const r=I(this,u,"f"),{length:n}=r;if(Math.abs(e)<=n){if(e>=0){const{parentNode:s}=this;t.forEach((e=>{e.setParent(s)})),e<n?r.splice(e,0,...t):r.push(...t)}else if(e<0){e=n-e;const{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(s)})),r.splice(e,0,...t)}const s=new A({target:this,changeType:A.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});k.handleRecord(this,s)}}remove(e){const t=I(this,u,"f"),r=t.indexOf(e);if(r>-1){const e=t.splice(r,1)[0],{parentNode:n}=this;n&&e.setParent(null);const s=new A({target:this,changeType:A.LIST_REMOVE,removedIndex:r,removedItems:[e]});k.handleRecord(this,s)}}clear(){const e=I(this,u,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:r}=this;r&&t.forEach((e=>{e.setParent(null)}));const n=new A({target:this,changeType:A.LIST_REMOVE,removedIndex:0,removedItems:t});k.handleRecord(this,n)}}};v=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakSet,y=function(){const e=I(this,m,"f").splice(0);e.length>0&&I(this,v,"f").call(this,e)},E=function(e){if(!I(this,b,"f")){const{target:t,currentTarget:r}=e,n=I(this,w,"f").get(r);if(n){const{options:e}=n,{properties:s,propertiesFilter:i,childList:o,subtree:a}=e;a?s&&t instanceof L?(i?I(this,m,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):I(this,m,"f").push(...t.getRecords()),I(this,g,"m",y).call(this)):o&&t instanceof j&&(I(this,m,"f").push(...t.getRecords()),I(this,g,"m",y).call(this)):t==r&&(s&&t instanceof L?(i?I(this,m,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):I(this,m,"f").push(...t.getRecords()),I(this,g,"m",y).call(this)):o&&t instanceof j&&(I(this,m,"f").push(...t.getRecords()),I(this,g,"m",y).call(this)))}}};var C=class{constructor(e){g.add(this),v.set(this,void 0),m.set(this,void 0),b.set(this,void 0),w.set(this,void 0),T(this,v,e,"f"),T(this,m,[],"f"),T(this,b,!1,"f"),T(this,w,new WeakMap,"f")}observe(e,t){T(this,b,!1,"f");const r=I(this,w,"f");let n=r.get(e);if(n)r.set(e,n);else{const s=I(this,g,"m",E).bind(this);e.addEventListener("modelchange",s),n={listener:s,options:t},r.set(e,n)}}unobserve(e){let t=I(this,w,"f").get(e);if(t){const{listener:r}=t;e.removeEventListener("modelchange",r)}}disconnect(){I(this,m,"f").splice(0),T(this,b,!0,"f")}}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t=r(9372),n=function(e,t,r,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},s=function(e,t,r,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r};let i=class extends HTMLElement{constructor(){super(),e.set(this,void 0),this.attachShadow({mode:"open"}).append((0,t.bG)("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),(0,t.bG)("div",{attributes:{part:"container"},children:[(0,t.bG)("slot",{children:["&nbsp;"]})]})),this.references=[],s(this,e,null,"f")}get referee(){return function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}(this,e,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const t=this.cloneNode(!0);return s(t,e,this,"f"),t}};e=new WeakMap,n([(0,t.GF)({type:Boolean})],i.prototype,"selected",void 0),n([(0,t.GF)({type:Boolean})],i.prototype,"dragovered",void 0),n([(0,t.GF)({type:Boolean})],i.prototype,"dragged",void 0),n([(0,t.GF)({type:Boolean})],i.prototype,"disabled",void 0),i=n([(0,t.b_)({name:"e-draggable"})],i)})()})();
//# sourceMappingURL=Draggable.js.map