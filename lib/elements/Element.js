var e={1827:(e,t,r)=>{function s(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}r.d(t,{cc:()=>s})},4141:(e,t,r)=>{r.d(t,{KY:()=>W});var s,n,i,o,a,c,l,h,d,f,u,p,g,m,v,E,y,w,b,R=function(e,t,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r},T=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};class A{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new S(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new S(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return A.PROPERTY_CHANGE}get LIST_REMOVE(){return A.LIST_REMOVE}get LIST_INSERT(){return A.LIST_INSERT}get LIST_SORT(){return A.LIST_SORT}}var I=A;s=new WeakMap;var S=class{constructor(e){s.set(this,void 0),R(this,s,e.slice(),"f")}get length(){return T(this,s,"f").length}item(e){return T(this,s,"f")[e]??null}values(){return T(this,s,"f").values()}};class O{constructor(e){n.set(this,void 0),i.set(this,void 0),this.type=e,R(this,n,null,"f"),R(this,i,null,"f")}get currentTarget(){return T(this,n,"f")}get target(){return T(this,i,"f")}}n=new WeakMap,i=new WeakMap,O.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof O&&R(e,n,t,"f")}setTarget(e,t){e instanceof O&&R(e,i,t,"f")}};var N=O.ModelEventTargetAccessor;delete O.ModelEventTargetAccessor;var M=O;class P{constructor(){o.set(this,void 0),R(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,r=T(this,o,"f").get(t);N.setCurrentTarget(e,this),r&&r.forEach((t=>{t(e)}))}addEventListener(e,t){const r=T(this,o,"f").get(e);r?r.push(t):T(this,o,"f").set(e,[t])}removeEventListener(e,t){const r=T(this,o,"f").get(e);if(r){const s=r.findIndex((e=>e==t));s>-1&&r.splice(s,1),0==r.length&&T(this,o,"f").delete(e)}}dispatchEvent(e){N.setTarget(e,this),this.receiveEvent(e)}}o=new WeakMap;class x extends P{constructor(){super(),a.add(this),c.set(this,void 0),l.set(this,void 0),h.set(this,void 0),R(this,c,null,"f"),R(this,l,[],"f"),R(this,h,!1,"f")}get parentNode(){return T(this,c,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:r}=e;for(;!t&&null!==r;)({parentNode:r}=r),t=r==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");R(this,c,e,"f")}else R(this,c,null,"f")}beginChanges(){R(this,h,!0,"f")}endChanges(){this.dispatchEvent(new M("modelchange")),T(this,l,"f").splice(0),R(this,h,!1,"f")}getRecords(){return T(this,l,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}c=new WeakMap,l=new WeakMap,h=new WeakMap,a=new WeakSet,d=function(e,t,r){const s=T(this,l,"f"),n=new I({target:this,changeType:I.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:r});s.push(n),T(this,h,"f")||(this.dispatchEvent(new M("modelchange")),s.splice(0))},f=function(e){T(this,l,"f").push(e),T(this,h,"f")||(this.dispatchEvent(new M("modelchange")),T(this,l,"f").splice(0))},x.ModelNodeRecordsAccessor=new class{triggerChange(e,t,r,s){e instanceof x&&T(e,a,"m",d).call(e,t,r,s)}handleRecord(e,t){e instanceof x&&T(e,a,"m",f).call(e,t)}};var k=x.ModelNodeRecordsAccessor;delete x.ModelNodeRecordsAccessor;var C=x;class L extends x{constructor(){super(),u.set(this,void 0),R(this,u,new Map,"f")}}u=new WeakMap,L.ModelObjectPropertiesAccessor=new class{setProperty(e,t,r){e instanceof L&&T(e,u,"f").set(t,r)}getProperty(e,t){if(e instanceof L)return T(e,u,"f").get(t)}},L.ModelObjectPropertiesAccessor,delete L.ModelObjectPropertiesAccessor,p=new WeakMap;var _=class extends x{constructor(e){super(),p.set(this,void 0),R(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),T(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return T(this,p,"f").length}get(e){return T(this,p,"f")[e]??null}index(e){return T(this,p,"f").indexOf(e)}values(){return T(this,p,"f").values()}sort(e){const t=T(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,r)=>e(t.item,r.item))),R(this,p,t.map((e=>e.item)),"f");const r=new I({target:this,changeType:I.LIST_SORT,sortedIndices:t.map((e=>e.index))});k.handleRecord(this,r)}prepend(...e){const t=T(this,p,"f"),{parentNode:r}=this;r&&e.forEach((e=>{e.setParent(r)})),t.splice(0,0,...e);const s=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:0,insertedItems:e});k.handleRecord(this,s)}append(...e){const t=T(this,p,"f"),{length:r}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const n=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:r,insertedItems:e});k.handleRecord(this,n)}insert(e,...t){const r=T(this,p,"f"),{length:s}=r;if(Math.abs(e)<=s){if(e>=0){const{parentNode:n}=this;t.forEach((e=>{e.setParent(n)})),e<s?r.splice(e,0,...t):r.push(...t)}else if(e<0){e=s-e;const{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(n)})),r.splice(e,0,...t)}const n=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});k.handleRecord(this,n)}}remove(e){const t=T(this,p,"f"),r=t.indexOf(e);if(r>-1){const e=t.splice(r,1)[0],{parentNode:s}=this;s&&e.setParent(null);const n=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:r,removedItems:[e]});k.handleRecord(this,n)}}clear(){const e=T(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:r}=this;r&&t.forEach((e=>{e.setParent(null)}));const s=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:0,removedItems:t});k.handleRecord(this,s)}}};m=new WeakMap,v=new WeakMap,E=new WeakMap,y=new WeakMap,g=new WeakSet,w=function(){const e=T(this,v,"f").splice(0);e.length>0&&T(this,m,"f").call(this,e)},b=function(e){if(!T(this,E,"f")){const{target:t,currentTarget:r}=e,s=T(this,y,"f").get(r);if(s){const{options:e}=s,{properties:n,propertiesFilter:i,childList:o,subtree:a}=e;a?n&&t instanceof C?(i?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,g,"m",w).call(this)):o&&t instanceof _&&(T(this,v,"f").push(...t.getRecords()),T(this,g,"m",w).call(this)):t==r&&(n&&t instanceof C?(i?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,g,"m",w).call(this)):o&&t instanceof _&&(T(this,v,"f").push(...t.getRecords()),T(this,g,"m",w).call(this)))}}};var W=class{constructor(e){g.add(this),m.set(this,void 0),v.set(this,void 0),E.set(this,void 0),y.set(this,void 0),R(this,m,e,"f"),R(this,v,[],"f"),R(this,E,!1,"f"),R(this,y,new WeakMap,"f")}observe(e,t){R(this,E,!1,"f");const r=T(this,y,"f");let s=r.get(e);if(s)r.set(e,s);else{const n=T(this,g,"m",b).bind(this);e.addEventListener("modelchange",n),s={listener:n,options:t},r.set(e,s)}}unobserve(e){let t=T(this,y,"f").get(e);if(t){const{listener:r}=t;e.removeEventListener("modelchange",r)}}disconnect(){T(this,v,"f").splice(0),R(this,E,!0,"f")}}}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};(()=>{r.d(s,{$5:()=>o,CX:()=>d,Dx:()=>h,GF:()=>n,JJ:()=>u,N5:()=>m,RT:()=>T,WH:()=>v,Ye:()=>i,bG:()=>f,b_:()=>a,bu:()=>l,en:()=>c,mS:()=>R,ny:()=>b,tH:()=>A});var e=r(4141),t=r(1827);const n=function(e){return(r,s)=>{const{constructor:n}=r,{prototype:i}=n,o=String(s),{defaultValue:a=null,observed:c=!1,name:l=(0,t.cc)(o)}=e;if(c){const e=Reflect.get(n,"observedAttributes",n);Array.isArray(e)?e.push(l):Object.defineProperty(n,"observedAttributes",{value:[l],writable:!1})}const{type:h}=e;switch(h){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(l)},set:function(e){e?this.setAttribute(l,""):this.removeAttribute(l)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(l,JSON.stringify(e)):this.removeAttribute(l)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}});break;default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}})}}};function i(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}function o(e){const t=e.indexOf("\n"),r=(e=e.substring(t+1)).match(/^[\s]*/);if(r){const t=e.substring(0,r[0].length);e=e.replaceAll(t,"").trimEnd()}return e}const a=function(e){return t=>{const{name:r,options:s}=e;return customElements.get(r)||customElements.define(r,t,s),t}},c=function(e){return(t,r)=>{const{constructor:s}=t,{prototype:n}=s,i=String(r),{selector:o}=e,a=e.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(n,i,{get:a})}},l=function(e){return(t,r)=>{const{constructor:s}=t,{prototype:n}=s,i=String(r),{selector:o}=e,a=e.withinShadowRoot?function(){return Array.from(this.shadowRoot.querySelectorAll(o))}:function(){return Array.from(this.querySelectorAll(o))};Object.defineProperty(n,i,{get:a})}};function h(...e){const t=document.createDocumentFragment();return t.append(...e),t}function d(e){return document.createTextNode(e)}function f(e,r){if(r){const{options:s,attributes:n,dataset:i,children:o,listeners:a}=r,c=document.createElement(e,s);if(n&&Object.entries(n).forEach((([e,r])=>{void 0!==r&&("boolean"==typeof r?c.toggleAttribute((0,t.cc)(e),r):c.setAttribute((0,t.cc)(e),String(r)))})),i){const{dataset:e}=c;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}return o&&("function"==typeof o?o(c):"object"==typeof o&&"length"in o?c.append(...Array.from(o)):c.append(o)),a&&Object.entries(a).forEach((([e,t])=>{Array.isArray(t)?c.addEventListener(e,t[0],t[1]):c.addEventListener(e,t)})),c}return document.createElement(e)}const u=new WeakMap,p=new FinalizationRegistry((e=>{const{model:t,reactiveElement:r}=e,s=u.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(r),1)}})),g=new e.KY((e=>{e.forEach((e=>{const{target:t,propertyName:r,oldValue:s,newValue:n}=e,{reactiveElementsArray:i}=u.get(t);i.forEach((e=>{const{elementRef:t,react:i,properties:o}=e,a=t.deref();a&&o.includes(r)&&i(a,r,s,n)}))}))}));function m(e,t,r,s){const n={elementRef:new WeakRef(t),react:s,properties:r},i=u.get(e);if(p.register(t,{model:e,reactiveElement:n}),i){const{reactiveElementsArray:e,observerOptions:t}=i,{propertiesFilter:s}=t;e.push(n),t.propertiesFilter=s?s.concat(r.filter((e=>!s.includes(e)))):r.filter(((e,t,r)=>r.indexOf(e)===t))}else{const t={properties:!0,propertiesFilter:r},s=[n];u.set(e,{observerOptions:t,reactiveElementsArray:s}),g.observe(e,t)}return r.forEach((r=>{if(r in e){const n=Reflect.get(e,r,e);s(t,r,void 0,n)}})),t}function v(e,t){const r=u.get(e);if(r){const{reactiveElementsArray:s}=r,n=s.findIndex((e=>e.elementRef.deref()===t));n>-1&&s.splice(n,1),0===s.length&&u.delete(e)}}const E=new WeakMap,y=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:r}=e,s=E.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(r),1)}})),w=new e.KY((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:r}=e,s=r,{length:n}=s,{reactiveChildElementsArray:i}=E.get(s);i.forEach((r=>{const{parentRef:s,mapping:i,placeholder:o}=r,a=s.deref();if(a){const{firstChild:r,children:s}=a,{length:c}=s;o&&n>0&&r==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:f}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:r}=e,n=Array.from(r.values()).map(i),{length:o}=s;t<o?s[t].before(...n):a.append(...n);break}case d:{const{removedIndex:r,removedItems:n}=e,{length:i}=n;t=t??document.createRange();const o=r+(i-1);o<c&&(t.setStartBefore(s[r]),t.setEndAfter(s[o]),t.deleteContents());break}case f:{const{sortedIndices:t}=e,r=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>r[e])));break}}0==n&&o&&a.append(o)}}))}))}));function b(e,t,r){return s=>{const n=new WeakRef(s),i=E.get(e),o={parentRef:n,mapping:t,placeholder:r};if(y.register(s,{list:e,reactiveChildElement:o}),i){const{reactiveChildElementsArray:e}=i;e.push(o)}else{const t=[o];E.set(e,{reactiveChildElementsArray:t}),w.observe(e,{childList:!0})}const a=0==e.length&&r?[r]:Array.from(e.values()).map(t);s.replaceChildren(...a)}}function R(e,t){const r=E.get(e);if(r){const{reactiveChildElementsArray:s}=r,n=s.findIndex((e=>e.parentRef.deref()===t));n>-1&&s.splice(n,1),0===s.length&&E.delete(e)}}function T(e,t,r,s,n){if(t==s)switch(e){case"boolean":return""==r&&""==n;case"string":return""!==r&&r==n;case"list":return""!==r&&null!==n&&new RegExp(`${r}s*?`,"g").test(n)}return!1}class A{constructor(e,t="boolean",r=""){this.attributeName=e,this.attributeType=t,this.attributeValue=r}attach(){throw new TypeError("Not implemented method.")}detach(){throw new TypeError("Not implemented method.")}}})();var n=s.tH,i=s.GF,o=s.b_,a=s.bu,c=s.en,l=s.Ye,h=s.RT,d=s.bG,f=s.Dx,u=s.ny,p=s.N5,g=s.JJ,m=s.mS,v=s.WH,E=s.CX,y=s.$5;export{n as AttributeMutationMixinBase,i as AttributeProperty,o as CustomElement,a as QueryAllProperty,c as QueryProperty,l as Stylesheet,h as areAttributesMatching,d as element,f as fragment,u as reactiveChildElements,p as reactiveElement,g as reactiveElementsMap,m as revokeReactiveChildElements,v as revokeReactiveElement,E as textNode,y as trimMultilineIndent};
//# sourceMappingURL=Element.js.map