(()=>{"use strict";var e={9372:(e,t,n)=>{n.d(t,{Dx:()=>a,GF:()=>i,N5:()=>f,bG:()=>c,b_:()=>o,ny:()=>g});var r=n(4141),s=n(1827);const i=function(e){return(t,n)=>{const{constructor:r}=t,{prototype:i}=r,o=String(n),{defaultValue:a=null,observed:c=!1,name:l=(0,s.cc)(o)}=e;if(c){const e=Reflect.get(r,"observedAttributes",r);Array.isArray(e)?e.push(l):Object.defineProperty(r,"observedAttributes",{value:[l],writable:!1})}const{type:h}=e;switch(h){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(l)},set:function(e){e?this.setAttribute(l,""):this.removeAttribute(l)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(l,JSON.stringify(e)):this.removeAttribute(l)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}});break;default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(l);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(l,e):this.removeAttribute(l)}})}}},o=function(e){return t=>{const{name:n,options:r}=e;return customElements.get(n)||customElements.define(n,t,r),t}};function a(...e){const t=document.createDocumentFragment();return t.append(...e),t}function c(e,t){if(t){const{options:n,attributes:r,dataset:i,children:o,listeners:a}=t,c=document.createElement(e,n);if(r&&Object.entries(r).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?c.toggleAttribute((0,s.cc)(e),t):c.setAttribute((0,s.cc)(e),String(t)))})),i){const{dataset:e}=c;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}return o&&("function"==typeof o?o(c):"object"==typeof o&&"length"in o?c.append(...Array.from(o)):c.append(o)),a&&Object.entries(a).forEach((([e,t])=>{Array.isArray(t)?c.addEventListener(e,t[0],t[1]):c.addEventListener(e,t)})),c}return document.createElement(e)}const l=new WeakMap,h=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,r=l.get(t);if(void 0!==r){const{reactiveElementsArray:e}=r;e.splice(e.indexOf(n),1)}})),d=new r.KY((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:r,newValue:s}=e,{reactiveElementsArray:i}=l.get(t);i.forEach((e=>{const{elementRef:t,react:i,properties:o}=e,a=t.deref();a&&o.includes(n)&&i(a,n,r,s)}))}))}));function f(e,t,n,r){const s={elementRef:new WeakRef(t),react:r,properties:n},i=l.get(e);if(h.register(t,{model:e,reactiveElement:s}),i){const{reactiveElementsArray:e,observerOptions:t}=i,{propertiesFilter:r}=t;e.push(s),t.propertiesFilter=r?r.concat(n.filter((e=>!r.includes(e)))):n.filter(((e,t,n)=>n.indexOf(e)===t))}else{const t={properties:!0,propertiesFilter:n},r=[s];l.set(e,{observerOptions:t,reactiveElementsArray:r}),d.observe(e,t)}return n.forEach((n=>{if(n in e){const s=Reflect.get(e,n,e);r(t,n,void 0,s)}})),t}const u=new WeakMap,p=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,r=u.get(t);if(r){const{reactiveChildElementsArray:e}=r;e.splice(e.indexOf(n),1)}})),m=new r.KY((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,r=n,{length:s}=r,{reactiveChildElementsArray:i}=u.get(r);i.forEach((n=>{const{parentRef:r,mapping:i,placeholder:o}=n,a=r.deref();if(a){const{firstChild:n,children:r}=a,{length:c}=r;o&&s>0&&n==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:f}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,s=Array.from(n.values()).map(i),{length:o}=r;t<o?r[t].before(...s):a.append(...s);break}case d:{const{removedIndex:n,removedItems:s}=e,{length:i}=s;t=t??document.createRange();const o=n+(i-1);o<c&&(t.setStartBefore(r[n]),t.setEndAfter(r[o]),t.deleteContents());break}case f:{const{sortedIndices:t}=e,n=Array.from(r);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==s&&o&&a.append(o)}}))}))}));function g(e,t,n){return r=>{const s=new WeakRef(r),i=u.get(e),o={parentRef:s,mapping:t,placeholder:n};if(p.register(r,{list:e,reactiveChildElement:o}),i){const{reactiveChildElementsArray:e}=i;e.push(o)}else{const t=[o];u.set(e,{reactiveChildElementsArray:t}),m.observe(e,{childList:!0})}const a=0==e.length&&n?[n]:Array.from(e.values()).map(t);r.replaceChildren(...a)}}},1827:(e,t,n)=>{function r(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}n.d(t,{cc:()=>r})},4141:(e,t,n)=>{n.d(t,{KY:()=>G,TO:()=>L,bn:()=>j,t0:()=>D});var r,s,i,o,a,c,l,h,d,f,u,p,m,g,v,b,w,y,E,I=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},T=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class R{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new A(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new A(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return R.PROPERTY_CHANGE}get LIST_REMOVE(){return R.LIST_REMOVE}get LIST_INSERT(){return R.LIST_INSERT}get LIST_SORT(){return R.LIST_SORT}}var S=R;r=new WeakMap;var A=class{constructor(e){r.set(this,void 0),I(this,r,e.slice(),"f")}get length(){return T(this,r,"f").length}item(e){return T(this,r,"f")[e]??null}values(){return T(this,r,"f").values()}};class x{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,I(this,s,null,"f"),I(this,i,null,"f")}get currentTarget(){return T(this,s,"f")}get target(){return T(this,i,"f")}}s=new WeakMap,i=new WeakMap,x.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof x&&I(e,s,t,"f")}setTarget(e,t){e instanceof x&&I(e,i,t,"f")}};var O=x.ModelEventTargetAccessor;delete x.ModelEventTargetAccessor;var N=x;class P{constructor(){o.set(this,void 0),I(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,n=T(this,o,"f").get(t);O.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=T(this,o,"f").get(e);n?n.push(t):T(this,o,"f").set(e,[t])}removeEventListener(e,t){const n=T(this,o,"f").get(e);if(n){const r=n.findIndex((e=>e==t));r>-1&&n.splice(r,1),0==n.length&&T(this,o,"f").delete(e)}}dispatchEvent(e){O.setTarget(e,this),this.receiveEvent(e)}}o=new WeakMap;class M extends P{constructor(){super(),a.add(this),c.set(this,void 0),l.set(this,void 0),h.set(this,void 0),I(this,c,null,"f"),I(this,l,[],"f"),I(this,h,!1,"f")}get parentNode(){return T(this,c,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");I(this,c,e,"f")}else I(this,c,null,"f")}beginChanges(){I(this,h,!0,"f")}endChanges(){this.dispatchEvent(new N("modelchange")),T(this,l,"f").splice(0),I(this,h,!1,"f")}getRecords(){return T(this,l,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}c=new WeakMap,l=new WeakMap,h=new WeakMap,a=new WeakSet,d=function(e,t,n){const r=T(this,l,"f"),s=new S({target:this,changeType:S.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});r.push(s),T(this,h,"f")||(this.dispatchEvent(new N("modelchange")),r.splice(0))},f=function(e){T(this,l,"f").push(e),T(this,h,"f")||(this.dispatchEvent(new N("modelchange")),T(this,l,"f").splice(0))},M.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,r){e instanceof M&&T(e,a,"m",d).call(e,t,n,r)}handleRecord(e,t){e instanceof M&&T(e,a,"m",f).call(e,t)}};var C=M.ModelNodeRecordsAccessor;delete M.ModelNodeRecordsAccessor;var k=M;const L=function(){return(e,t)=>{const{constructor:n}=e,{prototype:r}=n;Object.defineProperty(r,t,{set:function(e){const n=_.getProperty(this,t);return _.setProperty(this,t,e),e!==n&&C.triggerChange(this,t,n,e),!0},get:function(){return _.getProperty(this,t)},enumerable:!0})}};class W extends M{constructor(){super(),u.set(this,void 0),I(this,u,new Map,"f")}}u=new WeakMap,W.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof W&&T(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof W)return T(e,u,"f").get(t)}};var _=W.ModelObjectPropertiesAccessor;delete W.ModelObjectPropertiesAccessor;var j=W;p=new WeakMap;var D=class extends M{constructor(e){super(),p.set(this,void 0),I(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),T(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return T(this,p,"f").length}get(e){return T(this,p,"f")[e]??null}index(e){return T(this,p,"f").indexOf(e)}values(){return T(this,p,"f").values()}sort(e){const t=T(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),I(this,p,t.map((e=>e.item)),"f");const n=new S({target:this,changeType:S.LIST_SORT,sortedIndices:t.map((e=>e.index))});C.handleRecord(this,n)}prepend(...e){const t=T(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const r=new S({target:this,changeType:S.LIST_INSERT,insertedIndex:0,insertedItems:e});C.handleRecord(this,r)}append(...e){const t=T(this,p,"f"),{length:n}=t,{parentNode:r}=this;r&&e.forEach((e=>{e.setParent(r)})),t.push(...e);const s=new S({target:this,changeType:S.LIST_INSERT,insertedIndex:n,insertedItems:e});C.handleRecord(this,s)}insert(e,...t){const n=T(this,p,"f"),{length:r}=n;if(Math.abs(e)<=r){if(e>=0){const{parentNode:s}=this;t.forEach((e=>{e.setParent(s)})),e<r?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=r-e;const{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(s)})),n.splice(e,0,...t)}const s=new S({target:this,changeType:S.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});C.handleRecord(this,s)}}remove(e){const t=T(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:r}=this;r&&e.setParent(null);const s=new S({target:this,changeType:S.LIST_REMOVE,removedIndex:n,removedItems:[e]});C.handleRecord(this,s)}}clear(){const e=T(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const r=new S({target:this,changeType:S.LIST_REMOVE,removedIndex:0,removedItems:t});C.handleRecord(this,r)}}};g=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,m=new WeakSet,y=function(){const e=T(this,v,"f").splice(0);e.length>0&&T(this,g,"f").call(this,e)},E=function(e){if(!T(this,b,"f")){const{target:t,currentTarget:n}=e,r=T(this,w,"f").get(n);if(r){const{options:e}=r,{properties:s,propertiesFilter:i,childList:o,subtree:a}=e;a?s&&t instanceof k?(i?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):o&&t instanceof D&&(T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):t==n&&(s&&t instanceof k?(i?T(this,v,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)):o&&t instanceof D&&(T(this,v,"f").push(...t.getRecords()),T(this,m,"m",y).call(this)))}}};var G=class{constructor(e){m.add(this),g.set(this,void 0),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),I(this,g,e,"f"),I(this,v,[],"f"),I(this,b,!1,"f"),I(this,w,new WeakMap,"f")}observe(e,t){I(this,b,!1,"f");const n=T(this,w,"f");let r=n.get(e);if(r)n.set(e,r);else{const s=T(this,m,"m",E).bind(this);e.addEventListener("modelchange",s),r={listener:s,options:t},n.set(e,r)}}unobserve(e){let t=T(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){T(this,v,"f").splice(0),I(this,b,!0,"f")}}},1234:(e,t,n)=>{n.d(t,{G:()=>a});var r,s=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n},i=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class o extends HTMLElement{constructor(){super(),r.set(this,void 0),s(this,r,null,"f")}get model(){return i(this,r,"f")}setModel(e){e!==i(this,r,"f")&&s(this,r,e,"f")}renderLight(){}renderShadow(){}render(){const{shadowRoot:e}=this;if(null!==e){const t=this.renderShadow();t&&e.replaceChildren(t)}const t=this.renderLight();t&&this.replaceChildren(t)}}r=new WeakMap;var a=o}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t,r,s,i,o,a,c,l,h,d,f,u,p,m,g=n(9372),v=n(4141),b=n(1234),w=function(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},y=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class E extends v.bn{constructor(n){super(),e.add(this);const{items:r=[],sortFunction:s}=n??{};r.forEach(((e,t)=>e.index=t));const i=new v.t0(r);i.setParent(this),this.childItems=i,this.items=new v.t0(this.subtreeItems()),this.sortFunction=s??function(e,t){return e.name.localeCompare(t.name)},this.addEventListener("modelchange",y(this,e,"m",t).bind(this))}subtreeItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...e.subtreeItems())))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:r}=e;for(let s=0;s<n;s++){const n=t.get(s),{uri:i}=n,{length:o}=i;if(e.startsWith(i))return o===r?n:E.prototype.getItemByUri.call(n,e)}return null}}e=new WeakSet,t=function(e){const{target:t}=e,{items:n,sortFunction:r,subtreeItems:s}=this;t instanceof v.t0&&(t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:i}=e,o=Array.from(t.values()).flatMap((e=>Array.of(e,...s.call(e)))),a=Array.from(i.values()).flatMap((e=>Array.of(e,...s.call(e))));n.beginChanges(),n.append(...o),a.forEach((e=>n.remove(e))),r&&n.sort(r),n.endChanges()})),Array.from(t.values()).forEach(((e,t)=>{e.index=t})))};class I{constructor(e){this.items=e}get count(){return this.items.length}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof T||n instanceof E){const{childItems:r}=n,s=e.get(r);s?s.push(t):e.set(r,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class T extends v.bn{constructor(e){super();const{name:t,type:n,items:r=[]}=e;r.forEach(((e,t)=>e.index=t));const s=new v.t0(r);s.setParent(this),this.name=t,this.childItems=s,this.type=n,this.index=-1}get level(){const{parentNode:e}=this;return e instanceof T?e.level+1:0}get uri(){const{parentNode:e,name:t}=this;return e instanceof T?`${e.uri}${t}/`:`${t}/`}get parentItem(){const{parentNode:e}=this;return e instanceof T?e:null}subtreeItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...e.subtreeItems())))}remove(){const{parentNode:e}=this;if(e instanceof T||e instanceof E){const{childItems:t}=e;t&&t.remove(this)}}}w([(0,v.TO)()],T.prototype,"name",void 0),w([(0,v.TO)()],T.prototype,"type",void 0),w([(0,v.TO)()],T.prototype,"index",void 0);let R=class extends b.G{constructor(e){super(),r.add(this),s.set(this,void 0),function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?s.call(e,n):s?s.value=n:t.set(e,n)}(this,s,new WeakMap,"f");const t=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replace(m),t.adoptedStyleSheets=[n],this.setModel(e??new E)}attributeChangedCallback(e,t,n){switch(e){case"draggable":{const{treeElement:e}=this;e&&Array.from(e.items).forEach((e=>e.draggable=null!==n));break}}}get treeElement(){return this.shadowRoot.querySelector("e-tree")}treeItemElement(e){return this.shadowRoot.querySelector(`e-treeitem[uri=${e.uri}]`)}treeItem(e){return this.model.getItemByUri(y(this,r,"m",i).call(this,e))}renderShadow(){const{model:e}=this,t=(0,g.bG)("e-tree",{attributes:{tabindex:0},children:(0,g.ny)(e.childItems,(e=>y(this,r,"m",a).call(this,e))),listeners:{dragstart:y(this,r,"m",l).bind(this),drop:y(this,r,"m",h).bind(this),contextmenu:y(this,r,"m",d).bind(this),focus:y(this,r,"m",f).bind(this),focusin:y(this,r,"m",u).bind(this),focusout:y(this,r,"m",p).bind(this)}});return(0,g.Dx)(t,(0,g.bG)("slot"),(0,g.bG)("div",{attributes:{class:"offscreen",hidden:!0},children:(0,g.ny)(e.items,(e=>y(this,r,"m",c).call(this,e)))}))}itemContentDelegate(e){return(0,g.N5)(e,(0,g.bG)("span"),["name"],((e,t,n,r)=>{e.textContent=r}))}itemToolbarDelegate(e){return null}itemMenuDelegate(){return null}selectedItems(){const{treeElement:e}=this;return e?e.selectedItems().map((e=>this.treeItem(e))):[]}activeItem(){const{treeElement:e}=this;if(e){const{activeItem:t}=e;return t?this.treeItem(t):null}return null}};s=new WeakMap,r=new WeakSet,i=function(e){let t="",n=e;for(;null!==n;){const{dataset:e,parentElement:r}=n,{name:s}=e;t=`${s}/`+t,n=r?.closest("e-treeitem")??null}return t},o=function(e){return y(this,s,"f").get(e)?.deref()??null},a=function e(t){const{draggable:n}=this,{index:s,level:i,name:o}=t,a=this.itemToolbarDelegate(t),c=this.itemContentDelegate(t),l=(0,g.N5)(t,(0,g.bG)("e-treeitem",{attributes:{draggable:String(n),posinset:s,level:i},dataset:{name:o},children:[...c?[c]:[],...a?[a]:[]]}),["index","name","type"],((n,s,i,o)=>{switch(s){case"index":n.posinset=o;break;case"name":{const{dataset:e}=n;e.name=o;break}case"type":switch(n.type=o,o){case"parent":n.append((0,g.bG)("e-treeitemgroup",{attributes:{slot:"group"},children:(0,g.ny)(t.childItems,(t=>y(this,r,"m",e).call(this,t)))}));break;case"leaf":{const{group:e}=n;e&&e.remove();break}}}}));return l},c=function(e){const t=(0,g.N5)(e,(0,g.bG)("span",{attributes:{class:"dragimage"}}),["name"],((e,t,n,r)=>{e.textContent=r}));return y(this,s,"f").set(e,new WeakRef(t)),t},l=function(e){const{currentTarget:t,target:n}=e,s=t,a=n.closest("e-treeitem"),{model:c}=this;if(a){const{dataTransfer:t}=e,n=s.selectedItems(),{length:a}=n;if(a>0){const e=n.map((e=>y(this,r,"m",i).call(this,e))).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),s=e.join("\n"),a=e[e.length-1],l=c.getItemByUri(a);if(l&&t){t.dropEffect="move",t.setData("text/plain",s);const e=y(this,r,"m",o).call(this,l);e&&t.setDragImage(e,-16,0)}}}},h=function(e){const{currentTarget:t,target:n}=e,s=t,o=n.closest("e-treeitem"),{model:a}=this,{sortFunction:c}=a;if(o){const{dataTransfer:t}=e;if(t){const e=y(this,r,"m",i).call(this,o),n=a.getItemByUri(e),l=t.getData("text/plain").split("\n");if(!l.some((t=>e.startsWith(`${t}/`)||t===e))){const e=l.map((e=>a.getItemByUri(e))).filter((e=>null!==e)),{type:t,parentItem:r}=n,{childItems:i}="parent"===t?n:r||a;Array.from(i.values()).forEach((t=>{const n=e.findIndex((e=>e.name===t.name));n>-1&&(confirm(`Replace ${t.name}?`)?i.remove(t):(e.copyWithin(n,n+1),e.length--))})),new I(e).remove(),c?(i.beginChanges(),i.append(...e),i.sort(c),i.endChanges()):i.insert(o.posinset,...e);const h=s.querySelectorAll(`e-treeitem:is(${e.map((e=>`[data-uri="${e.uri}"]`)).join(",")})`);s.beginSelection(),h.forEach((e=>e.selected=!0)),s.endSelection()}}}},d=function(e){const{clientX:t,clientY:n,currentTarget:r,target:s}=e,i=r,o=s.closest("e-treeitem");if(o){const e=this.itemMenuDelegate();null!==e&&(e.contextual=!0,e.addEventListener("close",(()=>{o.focus({preventScroll:!0})})),i.append(e),e.positionContextual(t,n),e.focus({preventScroll:!0}))}e.preventDefault()},f=function(e){const{currentTarget:t,relatedTarget:n}=e,r=t;if(null!==n&&!this.contains(n)){const t=n.compareDocumentPosition(this);if(!(t&Node.DOCUMENT_POSITION_DISCONNECTED)&&t&Node.DOCUMENT_POSITION_PRECEDING){const{activeItem:t}=r;if(t){const n=t.querySelector("e-toolbar");n&&(e.preventDefault(),n.focus())}}}},u=function(e){const{target:t}=e,n=t.closest("e-treeitem");if(n){const e=n.querySelector("e-toolbar");e&&(e.tabIndex=e.contains(t)?-1:0)}},p=function(e){const{target:t}=e,n=t.closest("e-treeitem");if(n){const e=n.querySelector("e-toolbar");e&&(e.tabIndex=e.contains(t)?0:-1)}},m="\n            :host {\n                display: block;\n            }\n            \n            .offscreen {\n                position: absolute;\n                top: 0;\n                left: 0;\n                transform: translateY(-100%);\n                display: block;\n                pointer-events: none;\n            }\n            \n            .dragimage {\n                white-space: nowrap;\n                margin: 1px;\n                display: inline-block;\n                outline: 1px solid var(--focused-item-outline-color);\n                outline-offset: -1px;\n                border-radius: 3px; \n                padding: 2px 4px;\n            }\n        ",w([(0,g.GF)({type:Boolean,observed:!0})],R.prototype,"draggable",void 0),R=w([(0,g.b_)({name:"e-treeview"})],R)})()})();
//# sourceMappingURL=TreeView.ts.js.map