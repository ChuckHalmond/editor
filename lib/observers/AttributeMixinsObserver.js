var e={9372:(e,t,s)=>{s.d(t,{RT:()=>a});var r=s(4141);const n=new WeakMap;new FinalizationRegistry((e=>{const{model:t,reactiveElement:s}=e,r=n.get(t);if(void 0!==r){const{reactiveElementsArray:e}=r;e.splice(e.indexOf(s),1)}})),new r.KY((e=>{e.forEach((e=>{const{target:t,propertyName:s,oldValue:r,newValue:i}=e,{reactiveElementsArray:a}=n.get(t);a.forEach((e=>{const{elementRef:t,react:n,properties:a}=e,o=t.deref();o&&a.includes(s)&&n(o,s,r,i)}))}))}));const i=new WeakMap;function a(e,t,s,r,n){if(t==r)switch(e){case"boolean":return""==s&&""==n;case"string":return""!==s&&s==n;case"list":return""!==s&&null!==n&&new RegExp(`${s}s*?`,"g").test(n)}return!1}new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:s}=e,r=i.get(t);if(r){const{reactiveChildElementsArray:e}=r;e.splice(e.indexOf(s),1)}})),new r.KY((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:s}=e,r=s,{length:n}=r,{reactiveChildElementsArray:a}=i.get(r);a.forEach((s=>{const{parentRef:r,mapping:i,placeholder:a}=s,o=r.deref();if(o){const{firstChild:s,children:r}=o,{length:c}=r;a&&n>0&&s==a&&o.removeChild(a);const{changeType:h,LIST_INSERT:l,LIST_REMOVE:d,LIST_SORT:f}=e;switch(h){case l:{const{insertedIndex:t,insertedItems:s}=e,n=Array.from(s.values()).map(i),{length:a}=r;t<a?r[t].before(...n):o.append(...n);break}case d:{const{removedIndex:s,removedItems:n}=e,{length:i}=n;t=t??document.createRange();const a=s+(i-1);a<c&&(t.setStartBefore(r[s]),t.setEndAfter(r[a]),t.deleteContents());break}case f:{const{sortedIndices:t}=e,s=Array.from(r);o.append(...t.filter((e=>e<c)).map((e=>s[e])));break}}0==n&&a&&o.append(a)}}))}))}))},4141:(e,t,s)=>{s.d(t,{KY:()=>C});var r,n,i,a,o,c,h,l,d,f,p,u,g,v,m,w,E,T,R,y=function(e,t,s,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,s):n?n.value=s:t.set(e,s),s},I=function(e,t,s,r){if("a"===s&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?r:"a"===s?r.call(e):r?r.value:t.get(e)};class b{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new N(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new N(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return b.PROPERTY_CHANGE}get LIST_REMOVE(){return b.LIST_REMOVE}get LIST_INSERT(){return b.LIST_INSERT}get LIST_SORT(){return b.LIST_SORT}}var M=b;r=new WeakMap;var N=class{constructor(e){r.set(this,void 0),y(this,r,e.slice(),"f")}get length(){return I(this,r,"f").length}item(e){return I(this,r,"f")[e]??null}values(){return I(this,r,"f").values()}};class S{constructor(e){n.set(this,void 0),i.set(this,void 0),this.type=e,y(this,n,null,"f"),y(this,i,null,"f")}get currentTarget(){return I(this,n,"f")}get target(){return I(this,i,"f")}}n=new WeakMap,i=new WeakMap,S.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof S&&y(e,n,t,"f")}setTarget(e,t){e instanceof S&&y(e,i,t,"f")}};var P=S.ModelEventTargetAccessor;delete S.ModelEventTargetAccessor;var x=S;class O{constructor(){a.set(this,void 0),y(this,a,new Map,"f")}receiveEvent(e){const{type:t}=e,s=I(this,a,"f").get(t);P.setCurrentTarget(e,this),s&&s.forEach((t=>{t(e)}))}addEventListener(e,t){const s=I(this,a,"f").get(e);s?s.push(t):I(this,a,"f").set(e,[t])}removeEventListener(e,t){const s=I(this,a,"f").get(e);if(s){const r=s.findIndex((e=>e==t));r>-1&&s.splice(r,1),0==s.length&&I(this,a,"f").delete(e)}}dispatchEvent(e){P.setTarget(e,this),this.receiveEvent(e)}}a=new WeakMap;class k extends O{constructor(){super(),o.add(this),c.set(this,void 0),h.set(this,void 0),l.set(this,void 0),y(this,c,null,"f"),y(this,h,[],"f"),y(this,l,!1,"f")}get parentNode(){return I(this,c,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:s}=e;for(;!t&&null!==s;)({parentNode:s}=s),t=s==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");y(this,c,e,"f")}else y(this,c,null,"f")}beginChanges(){y(this,l,!0,"f")}endChanges(){this.dispatchEvent(new x("modelchange")),I(this,h,"f").splice(0),y(this,l,!1,"f")}getRecords(){return I(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}c=new WeakMap,h=new WeakMap,l=new WeakMap,o=new WeakSet,d=function(e,t,s){const r=I(this,h,"f"),n=new M({target:this,changeType:M.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:s});r.push(n),I(this,l,"f")||(this.dispatchEvent(new x("modelchange")),r.splice(0))},f=function(e){I(this,h,"f").push(e),I(this,l,"f")||(this.dispatchEvent(new x("modelchange")),I(this,h,"f").splice(0))},k.ModelNodeRecordsAccessor=new class{triggerChange(e,t,s,r){e instanceof k&&I(e,o,"m",d).call(e,t,s,r)}handleRecord(e,t){e instanceof k&&I(e,o,"m",f).call(e,t)}};var A=k.ModelNodeRecordsAccessor;delete k.ModelNodeRecordsAccessor;var L=k;class _ extends k{constructor(){super(),p.set(this,void 0),y(this,p,new Map,"f")}}p=new WeakMap,_.ModelObjectPropertiesAccessor=new class{setProperty(e,t,s){e instanceof _&&I(e,p,"f").set(t,s)}getProperty(e,t){if(e instanceof _)return I(e,p,"f").get(t)}},_.ModelObjectPropertiesAccessor,delete _.ModelObjectPropertiesAccessor,u=new WeakMap;var W=class extends k{constructor(e){super(),u.set(this,void 0),y(this,u,e?.slice()??[],"f")}setParent(e){super.setParent(e),I(this,u,"f").forEach((t=>{t.setParent(e)}))}get length(){return I(this,u,"f").length}get(e){return I(this,u,"f")[e]??null}index(e){return I(this,u,"f").indexOf(e)}values(){return I(this,u,"f").values()}sort(e){const t=I(this,u,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,s)=>e(t.item,s.item))),y(this,u,t.map((e=>e.item)),"f");const s=new M({target:this,changeType:M.LIST_SORT,sortedIndices:t.map((e=>e.index))});A.handleRecord(this,s)}prepend(...e){const t=I(this,u,"f"),{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.splice(0,0,...e);const r=new M({target:this,changeType:M.LIST_INSERT,insertedIndex:0,insertedItems:e});A.handleRecord(this,r)}append(...e){const t=I(this,u,"f"),{length:s}=t,{parentNode:r}=this;r&&e.forEach((e=>{e.setParent(r)})),t.push(...e);const n=new M({target:this,changeType:M.LIST_INSERT,insertedIndex:s,insertedItems:e});A.handleRecord(this,n)}insert(e,...t){const s=I(this,u,"f"),{length:r}=s;if(Math.abs(e)<=r){if(e>=0){const{parentNode:n}=this;t.forEach((e=>{e.setParent(n)})),e<r?s.splice(e,0,...t):s.push(...t)}else if(e<0){e=r-e;const{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(n)})),s.splice(e,0,...t)}const n=new M({target:this,changeType:M.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});A.handleRecord(this,n)}}remove(e){const t=I(this,u,"f"),s=t.indexOf(e);if(s>-1){const e=t.splice(s,1)[0],{parentNode:r}=this;r&&e.setParent(null);const n=new M({target:this,changeType:M.LIST_REMOVE,removedIndex:s,removedItems:[e]});A.handleRecord(this,n)}}clear(){const e=I(this,u,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(null)}));const r=new M({target:this,changeType:M.LIST_REMOVE,removedIndex:0,removedItems:t});A.handleRecord(this,r)}}};v=new WeakMap,m=new WeakMap,w=new WeakMap,E=new WeakMap,g=new WeakSet,T=function(){const e=I(this,m,"f").splice(0);e.length>0&&I(this,v,"f").call(this,e)},R=function(e){if(!I(this,w,"f")){const{target:t,currentTarget:s}=e,r=I(this,E,"f").get(s);if(r){const{options:e}=r,{properties:n,propertiesFilter:i,childList:a,subtree:o}=e;o?n&&t instanceof L?(i?I(this,m,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):I(this,m,"f").push(...t.getRecords()),I(this,g,"m",T).call(this)):a&&t instanceof W&&(I(this,m,"f").push(...t.getRecords()),I(this,g,"m",T).call(this)):t==s&&(n&&t instanceof L?(i?I(this,m,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):I(this,m,"f").push(...t.getRecords()),I(this,g,"m",T).call(this)):a&&t instanceof W&&(I(this,m,"f").push(...t.getRecords()),I(this,g,"m",T).call(this)))}}};var C=class{constructor(e){g.add(this),v.set(this,void 0),m.set(this,void 0),w.set(this,void 0),E.set(this,void 0),y(this,v,e,"f"),y(this,m,[],"f"),y(this,w,!1,"f"),y(this,E,new WeakMap,"f")}observe(e,t){y(this,w,!1,"f");const s=I(this,E,"f");let r=s.get(e);if(r)s.set(e,r);else{const n=I(this,g,"m",R).bind(this);e.addEventListener("modelchange",n),r={listener:n,options:t},s.set(e,r)}}unobserve(e){let t=I(this,E,"f").get(e);if(t){const{listener:s}=t;e.removeEventListener("modelchange",s)}}disconnect(){I(this,m,"f").splice(0),y(this,w,!0,"f")}}}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{s.d(r,{X:()=>d});var e,t,n,i,a,o,c=s(9372),h=function(e,t,s,r){if("a"===s&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?r:"a"===s?r.call(e):r?r.value:t.get(e)},l=function(e,t,s,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,s):n?n.value=s:t.set(e,s),s};t=new WeakMap,n=new WeakMap,e=new WeakSet,i=function(t){t.forEach((t=>{if(t.addedNodes.forEach((t=>{t instanceof Element&&h(this,e,"m",a).call(this,t)})),t.removedNodes.forEach((t=>{t instanceof Element&&h(this,e,"m",o).call(this,t)})),t.target instanceof Element){const e=t.target,s=t.attributeName;s&&h(this,n,"f").filter((e=>e.attributeName==s)).forEach((t=>{(0,c.RT)(t.attributeType,t.attributeName,t.attributeValue,s,e.getAttribute(s))?t.attach(e):t.detach(e)}))}}))},a=function t(s){Array.from(s.attributes).forEach((e=>{h(this,n,"f").filter((t=>(0,c.RT)(t.attributeType,t.attributeName,t.attributeValue,e.name,e.value))).forEach((e=>{e.attach(s)}))}));let r=0;const{children:i}=s;for(;r<i.length;){const s=i.item(r);null!==s&&h(this,e,"m",t).call(this,s),r++}},o=function t(s){Array.from(s.attributes).forEach((e=>{h(this,n,"f").filter((t=>(0,c.RT)(t.attributeType,t.attributeName,t.attributeValue,e.name,e.value))).forEach((e=>{e.detach(s)}))}));let r=0;const{children:i}=s;for(;r<i.length;){const s=i.item(r);null!==s&&h(this,e,"m",t).call(this,s),r++}};var d=class{constructor(s){e.add(this),t.set(this,void 0),n.set(this,void 0),l(this,t,new MutationObserver(h(this,e,"m",i).bind(this)),"f"),l(this,n,s.slice(),"f")}trigger(){h(this,e,"m",i).call(this,h(this,t,"f").takeRecords())}observe(e){h(this,t,"f").observe(e,{childList:!0,subtree:!0,attributeFilter:h(this,n,"f").map((e=>e.attributeName))})}disconnect(){h(this,t,"f").disconnect()}}})();var n=r.X;export{n as AttributeMixinsObserver};
//# sourceMappingURL=AttributeMixinsObserver.js.map