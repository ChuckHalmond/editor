{"version":3,"file":"main.js","mappings":"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","sources":["webpack://main/webpack/bootstrap","webpack://main/webpack/runtime/define property getters","webpack://main/webpack/runtime/hasOwnProperty shorthand","webpack://main/webpack/runtime/make namespace object","webpack://main/./src/models/Model.ts","webpack://main/./src/elements/Snippets.ts","webpack://main/./src/elements/Element.ts","webpack://main/./src/elements/containers/menus/MenuItem.ts","webpack://main/./src/views/View.ts","webpack://main/./src/views/GridView.ts","webpack://main/./src/views/TreeView.ts","webpack://main/./lib/src/Input.js","webpack://main/./lib/src/models/Model.js","webpack://main/./lib/src/elements/Snippets.js","webpack://main/./lib/src/elements/Element.js","webpack://main/./lib/src/elements/containers/grid/GridCell.js","webpack://main/./lib/src/elements/containers/grid/GridRowGroup.js","webpack://main/./lib/src/elements/containers/menus/MenuItem.js","webpack://main/./lib/src/elements/containers/menus/MenuItemGroup.js","webpack://main/./lib/src/elements/containers/menus/Menu.js","webpack://main/./lib/src/elements/containers/grid/GridRow.js","webpack://main/./lib/src/elements/containers/grid/GridCellCollection.js","webpack://main/./lib/src/elements/containers/grid/GridRowCollection.js","webpack://main/./lib/src/elements/containers/grid/GridBody.js","webpack://main/./lib/src/elements/containers/grid/Grid.js","webpack://main/./lib/src/elements/containers/grid/GridHead.js","webpack://main/./lib/src/elements/containers/menus/MenuBar.js","webpack://main/./lib/src/elements/containers/menus/MenuButton.js","webpack://main/./lib/src/elements/containers/toolbars/ToolBarItem.js","webpack://main/./lib/src/elements/containers/toolbars/ToolBarItemGroup.js","webpack://main/./lib/src/elements/containers/toolbars/ToolBar.js","webpack://main/./lib/src/elements/containers/tabs/Tab.js","webpack://main/./lib/src/elements/containers/tabs/TabList.js","webpack://main/./lib/src/elements/containers/tabs/TabPanel.js","webpack://main/./lib/src/elements/containers/trees/TreeItem.js","webpack://main/./lib/src/elements/containers/trees/TreeItemGroup.js","webpack://main/./lib/src/elements/containers/trees/Tree.js","webpack://main/./lib/src/elements/containers/lists/ListItem.js","webpack://main/./lib/src/elements/containers/lists/ListItemGroup.js","webpack://main/./lib/src/elements/containers/lists/List.js","webpack://main/./lib/src/elements/controls/draggable/Draggable.js","webpack://main/./lib/src/elements/controls/draggable/Dragzone.js","webpack://main/./lib/src/elements/controls/draggable/Dropzone.js","webpack://main/./lib/src/elements/controls/dialogs/Dialog.js","webpack://main/./lib/src/elements/controls/forms/Option.js","webpack://main/./lib/src/elements/controls/forms/OptionGroup.js","webpack://main/./lib/src/elements/controls/forms/Select.js","webpack://main/./lib/src/elements/misc/Separator.js","webpack://main/./lib/src/elements/misc/ToolTip.js","webpack://main/./lib/src/elements/misc/Handle.js","webpack://main/./lib/src/elements/misc/HeightSash.js","webpack://main/./lib/src/elements/misc/Import.js","webpack://main/./lib/src/elements/misc/Loader.js","webpack://main/./lib/src/elements/misc/WidthSash.js","webpack://main/./lib/src/observers/AttributeMixinsObserver.js","webpack://main/./lib/src/views/widgets/Widget.js","webpack://main/./lib/src/views/widgets/SeparatorWidget.js","webpack://main/./lib/src/views/widgets/menu/MenuItemWidget.js","webpack://main/./lib/src/views/widgets/menu/MenuBarWidget.js","webpack://main/./lib/src/views/widgets/menu/MenuWidget.js","webpack://main/./lib/src/views/widgets/menu/MenuItemGroupWidget.js","webpack://main/./lib/src/views/widgets/tree/TreeItemWidget.js","webpack://main/./lib/src/views/widgets/tree/TreeWidget.js","webpack://main/./lib/src/views/widgets/tree/TreeItemGroupWidget.js","webpack://main/./lib/src/views/widgets/list/ListItemWidget.js","webpack://main/./lib/src/views/widgets/list/ListWidget.js","webpack://main/./lib/src/views/widgets/list/ListItemGroupWidget.js","webpack://main/./lib/src/views/widgets/toolbar/ToolBarItemWidget.js","webpack://main/./lib/src/views/widgets/toolbar/ToolBarWidget.js","webpack://main/./lib/src/views/widgets/toolbar/ToolBarItemGroupWidget.js","webpack://main/./lib/src/views/widgets/WidthSashWidget.js","webpack://main/./lib/src/views/widgets/HeightSashWidget.js","webpack://main/./lib/src/views/widgets/grid/GridCellWidget.js","webpack://main/./lib/src/views/widgets/grid/GridRowWidget.js","webpack://main/./lib/src/views/widgets/grid/GridWidget.js","webpack://main/./lib/src/views/widgets/grid/GridBodyWidget.js","webpack://main/./lib/src/views/widgets/grid/GridHeadWidget.js","webpack://main/./lib/src/views/widgets/grid/GridHeaderWidget.js","webpack://main/./lib/src/views/widgets/combobox/OptionWidget.js","webpack://main/./lib/src/views/widgets/combobox/ComboBoxWidget.js","webpack://main/./lib/src/views/widgets/combobox/OptionGroupWidget.js","webpack://main/./sample/main.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { ModelChangeRecord };\r\nexport { ModelEvent };\r\nexport { ModelNode };\r\nexport { ModelObject };\r\nexport { ModelProperty };\r\nexport { ModelList };\r\nexport { ModelChangeObserverOptions };\r\nexport { ModelChangeObserver };\r\n\r\ninterface ModelChangeRecordConstructor {\r\n    prototype: ModelChangeRecord;\r\n    new(\r\n        init: {\r\n            target: ModelNode | ModelList;\r\n            changeType: number;\r\n            propertyName?: string;\r\n            oldValue?: any;\r\n            newValue?: any;\r\n            removedIndex?: number,\r\n            removedItems?: ModelNode[],\r\n            insertedIndex?: number,\r\n            insertedItems?: ModelNode[],\r\n            sortedIndices?: number[]\r\n        }\r\n    ): ModelChangeRecord;\r\n    readonly PROPERTY_CHANGE: number;\r\n    readonly LIST_REMOVE: number;\r\n    readonly LIST_INSERT: number;\r\n    readonly LIST_SORT: number;\r\n}\r\n\r\ninterface ModelChangeRecord {\r\n    readonly target: ModelNode | ModelList\r\n    readonly propertyName: string | null;\r\n    readonly oldValue: any;\r\n    readonly newValue: any;\r\n    readonly changeType: number;\r\n    readonly removedIndex: number;\r\n    readonly removedItems: ModelNodesList;\r\n    readonly insertedIndex: number;\r\n    readonly insertedItems: ModelNodesList;\r\n    readonly sortedIndices: number[];\r\n    readonly PROPERTY_CHANGE: number;\r\n    readonly LIST_REMOVE: number;\r\n    readonly LIST_INSERT: number;\r\n    readonly LIST_SORT: number;\r\n}\r\n\r\nclass ModelChangeRecordBase implements ModelChangeRecord {\r\n    readonly target: ModelNode | ModelList;\r\n    readonly changeType: number;\r\n    readonly propertyName: string | null;\r\n    readonly oldValue: any;\r\n    readonly newValue: any;\r\n    readonly removedIndex: number;\r\n    readonly removedItems: ModelNodesList;\r\n    readonly insertedIndex: number;\r\n    readonly insertedItems: ModelNodesList;\r\n    readonly sortedIndices: number[];\r\n\r\n    constructor(\r\n        init: {\r\n            target: ModelNode | ModelList;\r\n            changeType: number;\r\n            propertyName?: string;\r\n            oldValue?: any;\r\n            newValue?: any;\r\n            removedIndex?: number,\r\n            removedItems?: ModelNode[],\r\n            insertedIndex?: number,\r\n            insertedItems?: ModelNode[],\r\n            sortedIndices?: number[]\r\n        }\r\n    ) {\r\n        this.target = init.target;\r\n        this.changeType = init.changeType;\r\n        this.propertyName = init.propertyName ?? null;\r\n        this.oldValue = init.oldValue ?? undefined;\r\n        this.newValue = init.newValue ?? undefined;\r\n        this.removedIndex = init.removedIndex ?? 0;\r\n        this.removedItems = new ModelNodesList(init.removedItems ?? []);\r\n        this.insertedIndex = init.insertedIndex ?? 0;\r\n        this.insertedItems = new ModelNodesList(init.insertedItems ?? []);\r\n        this.sortedIndices = init.sortedIndices ?? [];\r\n    }\r\n\r\n    static get PROPERTY_CHANGE(): number {\r\n        return 1;\r\n    }\r\n\r\n    static get LIST_REMOVE(): number {\r\n        return 2;\r\n    }\r\n\r\n    static get LIST_INSERT(): number {\r\n        return 3;\r\n    }\r\n\r\n    static get LIST_SORT(): number {\r\n        return 4;\r\n    }\r\n\r\n    get PROPERTY_CHANGE(): number {\r\n        return ModelChangeRecordBase.PROPERTY_CHANGE;\r\n    }\r\n\r\n    get LIST_REMOVE(): number {\r\n        return ModelChangeRecordBase.LIST_REMOVE;\r\n    }\r\n\r\n    get LIST_INSERT(): number {\r\n        return ModelChangeRecordBase.LIST_INSERT;\r\n    }\r\n\r\n    get LIST_SORT(): number {\r\n        return ModelChangeRecordBase.LIST_SORT;\r\n    }\r\n}\r\n\r\nvar ModelChangeRecord: ModelChangeRecordConstructor = ModelChangeRecordBase;\r\n\r\ninterface ModelNodesListConstructor {\r\n    prototype: ModelNodesList;\r\n    new(items: any[]): ModelNodesList;\r\n}\r\n\r\ninterface ModelNodesList {\r\n    get length(): number;\r\n    item(index: number): ModelNode | null;\r\n    values(): IterableIterator<ModelNode>;\r\n}\r\n\r\nclass ModelNodesListBase implements ModelNodesList {\r\n    #items: ModelNode[];\r\n\r\n    constructor(items: ModelNode[]) {\r\n        this.#items = items.slice();\r\n    }\r\n\r\n    get length(): number {\r\n        return this.#items.length;\r\n    }\r\n\r\n    item(index: number): ModelNode | null {\r\n        return this.#items[index] ?? null;\r\n    }\r\n\r\n    values(): IterableIterator<ModelNode> {\r\n        return this.#items.values();\r\n    }\r\n}\r\n\r\nvar ModelNodesList: ModelNodesListConstructor = ModelNodesListBase;\r\n\r\ninterface ModelEventConstructor {\r\n    prototype: ModelEvent;\r\n    new(type: string): ModelEvent;\r\n}\r\n\r\ninterface ModelEvent {\r\n    readonly type: string;\r\n    readonly currentTarget: ModelEventTarget | null;\r\n    readonly target: ModelEventTarget | null;\r\n}\r\n\r\nclass ModelEventBase implements ModelEvent {\r\n    readonly type: string;\r\n\r\n    #currentTarget: ModelEventTarget | null;\r\n    #target: ModelEventTarget | null;\r\n\r\n    constructor(type: string) {\r\n        this.type = type;\r\n        this.#currentTarget = null;\r\n        this.#target = null;\r\n    }\r\n\r\n    get currentTarget(): ModelEventTarget | null {\r\n        return this.#currentTarget;\r\n    }\r\n\r\n    get target(): ModelEventTarget | null {\r\n        return this.#target;\r\n    }\r\n\r\n    static ModelEventTargetAccessor? = new class ModelEventTargetAccessor {\r\n        setCurrentTarget(event: ModelEvent, currentTarget: ModelEventTarget): void {\r\n            if (event instanceof ModelEventBase) {\r\n                event.#currentTarget = currentTarget;\r\n            }\r\n        }\r\n\r\n        setTarget(event: ModelEvent, target: ModelEventTarget): void {\r\n            if (event instanceof ModelEventBase) {\r\n                event.#target = target;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ninterface ModelEventTargetAccessor {\r\n    setCurrentTarget(event: ModelEvent, currentTarget: ModelEventTarget): void;\r\n    setTarget(event: ModelEvent, target: ModelEventTarget): void;\r\n}\r\n\r\nvar ModelEventTargetAccessor: ModelEventTargetAccessor = ModelEventBase.ModelEventTargetAccessor!;\r\ndelete ModelEventBase.ModelEventTargetAccessor;\r\n\r\nvar ModelEvent: ModelEventConstructor = ModelEventBase;\r\n\r\ninterface ModelEventTargetConstructor {\r\n    prototype: ModelEventTarget;\r\n    new(): ModelEventTarget;\r\n}\r\n\r\ninterface ModelEventTarget {\r\n    addEventListener(type: string, callback: (event: ModelEvent) => void): void;\r\n    removeEventListener(type: string, callback: (event: ModelEvent) => void): void;\r\n    dispatchEvent(event: ModelEvent): void;\r\n    receiveEvent(event: ModelEvent): void;\r\n}\r\n\r\nclass ModelEventTargetBase implements ModelEventTarget {\r\n    #callbacks: Map<string, ((event: ModelEvent) => void)[]>;\r\n\r\n    constructor() {\r\n        this.#callbacks = new Map();\r\n    }\r\n\r\n    receiveEvent(event: ModelEvent): void {\r\n        const {type} = event;\r\n        const callbacks = this.#callbacks.get(type);\r\n        ModelEventTargetAccessor.setCurrentTarget(event, this);\r\n        if (callbacks) {\r\n            callbacks.forEach((callback_i) => {\r\n                callback_i(event);\r\n            });\r\n        }\r\n    }\r\n\r\n    addEventListener(type: string, callback: (event: ModelEvent) => void): void {\r\n        const callbacks = this.#callbacks.get(type);\r\n        if (callbacks) {\r\n            callbacks.push(callback);\r\n        }\r\n        else {\r\n            this.#callbacks.set(type, [callback]);\r\n        }\r\n    }\r\n\r\n    removeEventListener(type: string, callback: (event: ModelEvent) => void): void {\r\n        const callbacks = this.#callbacks.get(type);\r\n        if (callbacks) {\r\n            const callbackIndex = callbacks.findIndex(\r\n                callback_i => callback_i == callback\r\n            );\r\n            if (callbackIndex > -1) {\r\n                callbacks.splice(callbackIndex, 1);\r\n            }\r\n            if (callbacks.length == 0) {\r\n                this.#callbacks.delete(type);\r\n            }\r\n        }\r\n    }\r\n\r\n    dispatchEvent(event: ModelEvent): void {\r\n        ModelEventTargetAccessor.setTarget(event, this);\r\n        this.receiveEvent(event);\r\n    }\r\n}\r\n\r\nvar ModelEventTarget: ModelEventTargetConstructor = ModelEventTargetBase;\r\n\r\ninterface ModelNodeConstructor {\r\n    prototype: ModelNode;\r\n    new(): ModelNode;\r\n}\r\n\r\ninterface ModelNode extends ModelEventTarget {\r\n    readonly parentNode: ModelNode | null;\r\n    setParent(parentNode: ModelNode | null): void;\r\n    getRecords(): ModelChangeRecord[];\r\n    beginChanges(): void;\r\n    endChanges(): void;\r\n}\r\n\r\ninterface ModelNodeRecordsAccessor {\r\n    triggerChange(node: ModelNode, property: string, oldValue: any, newValue: any): void;\r\n    handleRecord(node: ModelNode, record: ModelChangeRecord): void;\r\n}\r\n\r\nclass ModelNodeBase extends ModelEventTargetBase implements ModelNode {\r\n    #parentNode: ModelNode | null;\r\n    #records: ModelChangeRecord[];\r\n    #isRecording: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n        this.#parentNode = null;\r\n        this.#records = [];\r\n        this.#isRecording = false;\r\n    }\r\n\r\n    get parentNode(): ModelNode | null {\r\n        return this.#parentNode;\r\n    }\r\n\r\n    setParent(parentNode: ModelNode | null): void {\r\n        if (parentNode !== null) {\r\n            let isCyclicReference = parentNode == this;\r\n            let {parentNode: ancestorNode} = parentNode;\r\n            while (!isCyclicReference && ancestorNode !== null) {\r\n                ({parentNode: ancestorNode} = ancestorNode);\r\n                isCyclicReference = ancestorNode == this;\r\n            }\r\n            if (!isCyclicReference) {\r\n                this.#parentNode = parentNode;\r\n            }\r\n            else {\r\n                throw new TypeError(\"Failed to set parent on ModelNode: circular reference detected in the hierarchy.\");\r\n            }\r\n        }\r\n        else {\r\n            this.#parentNode = null;\r\n        }\r\n    }\r\n    \r\n    beginChanges(): void {\r\n        this.#isRecording = true;\r\n    }\r\n\r\n    endChanges(): void {\r\n        this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n        this.#records.splice(0);\r\n        this.#isRecording = false;\r\n    }\r\n\r\n    getRecords(): ModelChangeRecord[] {\r\n        return this.#records.slice();\r\n    }\r\n\r\n    receiveEvent(event: ModelEvent): void {\r\n        super.receiveEvent(event);\r\n        const {parentNode} = this;\r\n        if (parentNode) {\r\n            parentNode.receiveEvent(event);\r\n        }\r\n    }\r\n\r\n    #triggerChange(property: string, oldValue: any, newValue: any): void {\r\n        const records = this.#records;\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.PROPERTY_CHANGE,\r\n            propertyName: property,\r\n            oldValue, newValue\r\n        });\r\n        records.push(record);\r\n        this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n        records.splice(0);\r\n    }\r\n\r\n    #handleRecord(record: ModelChangeRecord): void {\r\n        this.#records.push(record);\r\n        if (!this.#isRecording) {\r\n            this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n            this.#records.splice(0);\r\n        }\r\n    }\r\n\r\n    static ModelNodeRecordsAccessor? = new class ModelNodeRecordsAccessor {\r\n        triggerChange(node: ModelNode, property: string, oldValue: any, newValue: any): void {\r\n            if (node instanceof ModelNodeBase) {\r\n                node.#triggerChange(property, oldValue, newValue);\r\n            }\r\n        }\r\n\r\n        handleRecord(node: ModelNode, record: ModelChangeRecord): void {\r\n            if (node instanceof ModelNodeBase) {\r\n                node.#handleRecord(record);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar ModelNodeRecordsAccessor: ModelNodeRecordsAccessor = ModelNodeBase.ModelNodeRecordsAccessor!;\r\ndelete ModelNodeBase.ModelNodeRecordsAccessor;\r\n\r\nvar ModelNode: ModelNodeConstructor = ModelNodeBase;\r\n\r\ninterface ModelPropertyDecorator {\r\n    (\r\n        init?: {\r\n            type: typeof String | typeof Number | typeof Boolean | typeof Date | typeof Object\r\n        }\r\n    ): <Model extends ModelObject>(target: Model, property: string) => void;\r\n}\r\n\r\nconst ModelProperty: ModelPropertyDecorator = function(\r\n    init?: {\r\n        type: typeof String | typeof Number | typeof Boolean | typeof Date | typeof Object\r\n    }\r\n) {\r\n    return (\r\n        target: ModelObject, property: string\r\n    ) => {\r\n        const {constructor} = target;\r\n        const {prototype} = constructor;\r\n        /*const observedAttributes = Reflect.get(constructor, \"observedAttributes\", constructor);\r\n        if (Array.isArray(observedAttributes)) {\r\n            observedAttributes.push(property);\r\n        }\r\n        else {\r\n            Object.defineProperty(\r\n                constructor, \"observedAttributes\", {\r\n                    value: [property],\r\n                    writable: false\r\n                }\r\n            );\r\n        }*/\r\n        const setter = function(this: ModelObject, value: any) {\r\n            const oldValue = ModelObjectPropertiesAccessor.getProperty(this, property);\r\n            ModelObjectPropertiesAccessor.setProperty(this, property, value);\r\n            if (value !== oldValue) {\r\n                ModelNodeRecordsAccessor.triggerChange(this, property, oldValue, value);\r\n            }\r\n            return true;\r\n        };\r\n        const getter = function(this: ModelObject) {\r\n            return ModelObjectPropertiesAccessor.getProperty(this, property);\r\n        };\r\n        Object.defineProperty(prototype, property, {\r\n            set: setter,\r\n            get: getter,\r\n            enumerable: true\r\n        });\r\n    }\r\n}\r\n\r\ninterface ModelObjectConstructor {\r\n    prototype: ModelObject;\r\n    new(): ModelObject;\r\n}\r\n\r\ninterface ModelObject extends ModelNode {}\r\n\r\ninterface ModelObjectPropertiesAccessor {\r\n    setProperty(node: ModelNode, property: string, value: any): void;\r\n    getProperty(node: ModelNode, property: string,): any;\r\n}\r\n\r\nclass ModelObjectBase extends ModelNodeBase implements ModelObject {\r\n    #properties: Map<string, any>;\r\n\r\n    constructor() {\r\n        super();\r\n        this.#properties = new Map();\r\n    }\r\n\r\n    static ModelObjectPropertiesAccessor? = new class ModelPropertiesAccessor {\r\n        setProperty(node: ModelObject, property: string, value: any): void {\r\n            if (node instanceof ModelObjectBase) {\r\n                node.#properties.set(property, value);\r\n            }\r\n        }\r\n\r\n        getProperty(node: ModelObject, property: string): any {\r\n            if (node instanceof ModelObjectBase) {\r\n                return node.#properties.get(property);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar ModelObjectPropertiesAccessor: ModelObjectPropertiesAccessor = ModelObjectBase.ModelObjectPropertiesAccessor!;\r\ndelete ModelObjectBase.ModelObjectPropertiesAccessor;\r\n\r\nvar ModelObject: ModelObjectConstructor = ModelObjectBase;\r\n\r\ninterface ModelListConstructor {\r\n    prototype: ModelList;\r\n    new<Model extends ModelNode>(): ModelList<Model>;\r\n    new<Model extends ModelNode>(items: Model[]): ModelList<Model>;\r\n}\r\n\r\ninterface ModelList<Model extends ModelNode = ModelNode> extends ModelNode {\r\n    readonly parentNode: ModelNode | null;\r\n    readonly length: number;\r\n    index(item: Model): number;\r\n    get(index: number): Model | null;\r\n    values(): IterableIterator<Model>;\r\n    sort(compareFunction: (item_a: any, item_b: any) => number): void;\r\n    insert(index: number, ...items: Model[]): void;\r\n    prepend(...items: Model[]): void;\r\n    append(...items: Model[]): void;\r\n    remove(item: Model): void;\r\n    clear(): void;\r\n}\r\n\r\nclass ModelListBase<Model extends ModelNode = ModelNode> extends ModelNodeBase implements ModelList<Model> {\r\n    #items: Model[];\r\n\r\n    constructor()\r\n    constructor(items: Model[])\r\n    constructor(items?: Model[]) {\r\n        super();\r\n        this.#items = items?.slice() ?? [];\r\n    }\r\n\r\n    setParent(parentNode: ModelNode | null): void {\r\n        super.setParent(parentNode);\r\n        this.#items.forEach((item_i) => {\r\n            item_i.setParent(parentNode);\r\n        });\r\n    }\r\n\r\n    get length(): number {\r\n        return this.#items.length;\r\n    }\r\n\r\n    get(index: number): Model | null {\r\n        return this.#items[index] ?? null;\r\n    }\r\n\r\n    index(item: Model): number {\r\n        return this.#items.indexOf(item);\r\n    }\r\n\r\n    values(): IterableIterator<Model> {\r\n        return this.#items.values();\r\n    }\r\n\r\n    sort(compareFunction: (item_a: any, item_b: any) => number): void {\r\n        const items = this.#items;\r\n        const indexedItems = items.map(\r\n            (item_i, i) => {\r\n                return {\r\n                    item: item_i,\r\n                    index: i\r\n                };\r\n            }\r\n        );\r\n        indexedItems.sort(\r\n            (indexedItem_a, indexedItem_b) => {\r\n                return compareFunction(\r\n                    indexedItem_a.item, indexedItem_b.item\r\n                )\r\n            }\r\n        );\r\n        this.#items = indexedItems.map(indexedItem_i => indexedItem_i.item);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_SORT,\r\n            sortedIndices: indexedItems.map(indexedItem_i => indexedItem_i.index)\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n\r\n    prepend(...items: Model[]): void {\r\n        const _items = this.#items;\r\n        const {parentNode} = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.splice(0, 0, ...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: 0,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n\r\n    append(...items: Model[]): void {\r\n        const _items = this.#items;\r\n        const {length} = _items;\r\n        const {parentNode} = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.push(...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: length,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n\r\n    insert(index: number, ...items: Model[]): void {\r\n        const _items = this.#items;\r\n        const {length} = _items;\r\n        const positiveIndex = Math.abs(index);\r\n        if (positiveIndex <= length) {\r\n            if (index >= 0) {\r\n                const {parentNode} = this;\r\n                items.forEach(item_i => {\r\n                    item_i.setParent(parentNode);\r\n                });\r\n                if (index < length) {\r\n                    _items.splice(index, 0, ...items);\r\n                }\r\n                else {\r\n                    _items.push(...items);\r\n                }\r\n            }\r\n            else if (index < 0) {\r\n                index = length - index;\r\n                const {parentNode} = this;\r\n                if (parentNode) {\r\n                    items.forEach(item_i => {\r\n                        item_i.setParent(parentNode);\r\n                    });\r\n                }\r\n                _items.splice(index, 0, ...items);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_INSERT,\r\n                insertedIndex: index,\r\n                insertedItems: items.slice()\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n\r\n    remove(item: Model): void {\r\n        const _items = this.#items;\r\n        const index = _items.indexOf(item);\r\n        if (index > -1) {\r\n            const item = _items.splice(index, 1)[0];\r\n            const {parentNode} = this;\r\n            if (parentNode) {\r\n                item.setParent(null);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: index,\r\n                removedItems: [item]\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n\r\n    clear(): void {\r\n        const items = this.#items;\r\n        const {length} = items;\r\n        if (length > 0) {\r\n            const removedItems = items.splice(0);\r\n            const {parentNode} = this;\r\n            if (parentNode) {\r\n                removedItems.forEach((removedItem_i) => {\r\n                    removedItem_i.setParent(null);\r\n                });\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: 0,\r\n                removedItems: removedItems\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n};\r\n\r\nvar ModelList: ModelListConstructor = ModelListBase!;\r\n\r\ninterface ModelChangeObserverConstructor {\r\n    prototype: ModelChangeObserver;\r\n    new(callback: (records: ModelChangeRecord[]) => void): ModelChangeObserver;\r\n}\r\n\r\ninterface ModelChangeObserver {\r\n    observe(node: ModelNode, options: ModelChangeObserverOptions): void;\r\n    unobserve(node: ModelNode): void;\r\n    disconnect(): void;\r\n}\r\n\r\ntype ModelChangeObserverOptions = {\r\n    properties?: boolean;\r\n    propertiesFilter?: string[];\r\n    childList?: boolean;\r\n    subtree?: boolean;\r\n}\r\n\r\nclass ModelChangeObserverBase implements ModelChangeObserver {\r\n    #callback: (records: ModelChangeRecord[]) => void;\r\n    #records: ModelChangeRecord[];\r\n    #disconnected: boolean;\r\n\r\n    #references: WeakMap<ModelNode, {\r\n        listener: (event: ModelEvent) => void,\r\n        options: ModelChangeObserverOptions\r\n    }>;\r\n\r\n    constructor(callback: (records: ModelChangeRecord[]) => void) {\r\n        this.#callback = callback;\r\n        this.#records = [];\r\n        this.#disconnected = false;\r\n        this.#references = new WeakMap();\r\n    }\r\n\r\n    observe(node: ModelNode, options: ModelChangeObserverOptions): void {\r\n        this.#disconnected = false;\r\n        const references = this.#references;\r\n        let reference = references.get(node);\r\n        if (!reference) {\r\n            const listener = this.#handleModelEvent.bind(this);\r\n            node.addEventListener(\"modelchange\", listener);\r\n            reference = {listener, options};\r\n            references.set(node, reference);\r\n        }\r\n        else {\r\n            references.set(node, reference);\r\n        }\r\n    }\r\n\r\n    unobserve(node: ModelNode): void {\r\n        const references = this.#references;\r\n        let reference = references.get(node);\r\n        if (reference) {\r\n            const {listener} = reference;\r\n            node.removeEventListener(\"modelchange\", listener);\r\n        }\r\n    }\r\n\r\n    disconnect(): void {\r\n        this.#records.splice(0);\r\n        this.#disconnected = true;\r\n    }\r\n\r\n    #trigger(): void {\r\n        const records = this.#records.splice(0);\r\n        if (records.length > 0) {\r\n            this.#callback(records);\r\n        }\r\n    }\r\n\r\n    #handleModelEvent(event: ModelEvent): void {\r\n        if (!this.#disconnected) {\r\n            const {target, currentTarget} = event;\r\n            const reference = this.#references.get(<ModelNode>currentTarget);\r\n            if (reference) {\r\n                const {options} = reference;\r\n                const {properties, propertiesFilter, childList, subtree} = options;\r\n                if (subtree) {\r\n                    if (properties && target instanceof ModelNode) {\r\n                        if (propertiesFilter) {\r\n                            this.#records.push(\r\n                                ...target.getRecords()\r\n                                    .filter(record_i => {\r\n                                        const {propertyName} = record_i;\r\n                                        return propertiesFilter.includes(\r\n                                            propertyName!\r\n                                        )\r\n                                    })\r\n                            );\r\n                        }\r\n                        else {\r\n                            this.#records.push(\r\n                                ...target.getRecords()\r\n                            );\r\n                        }\r\n                        this.#trigger();\r\n                    }\r\n                    else if (childList && target instanceof ModelList) {\r\n                        this.#records.push(\r\n                            ...target.getRecords()\r\n                        );\r\n                        this.#trigger();\r\n                    }\r\n                }\r\n                else if (target == currentTarget) {\r\n                    if (properties && target instanceof ModelNode) {\r\n                        if (propertiesFilter) {\r\n                            this.#records.push(\r\n                                ...target.getRecords()\r\n                                    .filter(record_i => {\r\n                                        const {propertyName} = record_i;\r\n                                        return propertiesFilter.includes(\r\n                                            propertyName!\r\n                                        )\r\n                                    })\r\n                            );\r\n                        }\r\n                        else {\r\n                            this.#records.push(\r\n                                ...target.getRecords()\r\n                            );\r\n                        }\r\n                        this.#trigger();\r\n                    }\r\n                    else if (childList && target instanceof ModelList) {\r\n                        this.#records.push(\r\n                            ...target.getRecords()\r\n                        );\r\n                        this.#trigger();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar ModelChangeObserver: ModelChangeObserverConstructor = ModelChangeObserverBase;","\r\nexport { snakeToCamel };\r\nexport { camelToSnake };\r\nexport { trainToCamel };\r\nexport { camelToTrain };\r\n\r\nfunction snakeToCamel(str: string) {\r\n  return str.split('_').map(str =>  str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\n\r\nfunction camelToSnake(str: string) {\r\n  return str.replace(/(?<!^)(?=[A-Z])/g, '_').toLowerCase();\r\n}\r\n\r\nfunction trainToCamel(str: string) {\r\n  return str.split('-').map(str =>  str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\n\r\nfunction camelToTrain(str: string) {\r\n  return str.replace(/(?<!^)(?=[A-Z])/g, '-').toLowerCase();\r\n}","import { ModelList, ModelNode, ModelChangeRecord, ModelChangeObserver, ModelChangeObserverOptions } from \"../models/Model\";\r\nimport { camelToTrain } from \"./Snippets\";\r\n/*\r\nexport { subtreeNodes };\r\nexport { ancestorNodes };*/\r\nexport { CustomElement };\r\nexport { ReactiveChildElements };\r\nexport { QueryProperty };\r\nexport { QueryAllProperty };\r\nexport { AttributeProperty };\r\nexport { reactiveElement };\r\nexport { reactiveChildElements };\r\nexport { element };\r\nexport { fragment };\r\nexport { textNode };\r\nexport { AttributeMutationMixin };\r\nexport { AttributeType };\r\nexport { areAttributesMatching };\r\nexport { AttributeMutationMixinBase };\r\nexport { trimMultilineIndent };\r\nexport { Stylesheet };\r\n\r\ninterface AttributePropertyDecorator {\r\n    (\r\n        init: {\r\n            type: typeof String;\r\n            observed?: boolean;\r\n            defaultValue?: string | null;\r\n            name?: string;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, property: keyof E) => void;\r\n    (\r\n        init: {\r\n            type: typeof Number;\r\n            observed?: boolean;\r\n            defaultValue?: number | null;\r\n            name?: string;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, property: keyof E) => void;\r\n    (\r\n        init: {\r\n            type: typeof Boolean;\r\n            observed?: boolean;\r\n            name?: string;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, property: keyof E) => void;\r\n    (\r\n        init: {\r\n            type: typeof Object;\r\n            observed?: boolean;\r\n            defaultValue?: any | null;\r\n            name?: string;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, property: keyof E) => void;\r\n}\r\n\r\nconst AttributeProperty: AttributePropertyDecorator = function(\r\n    init: {\r\n        type: typeof String | typeof Number | typeof Boolean | typeof Object;\r\n        observed?: boolean;\r\n        defaultValue?: string | number | any | null;\r\n        name?: string;\r\n    }\r\n) {\r\n    return <E extends HTMLElement>(\r\n        target: E, property: keyof E\r\n    ) => {\r\n        const {constructor} = target;\r\n        const {prototype} = constructor;\r\n        const propertyName = String(property);\r\n        const {defaultValue = null, observed = false, name = camelToTrain(propertyName)} = init;\r\n        if (observed) {\r\n            const observedAttributes = Reflect.get(constructor, \"observedAttributes\", constructor);\r\n            if (Array.isArray(observedAttributes)) {\r\n                observedAttributes.push(name);\r\n            }\r\n            else {\r\n                Object.defineProperty(\r\n                    constructor, \"observedAttributes\", {\r\n                        value: [name],\r\n                        writable: false\r\n                    }\r\n                );\r\n            }\r\n        }\r\n        const {type} = init;\r\n        switch (type) {\r\n            case Boolean: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function(this: HTMLElement) {\r\n                        return this.hasAttribute(name);\r\n                    },\r\n                    set: function(this: HTMLElement, value) {\r\n                        if (value) {\r\n                            this.setAttribute(name, \"\");\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Object: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function(this: HTMLElement) {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? JSON.parse(val) : defaultValue;\r\n                    },\r\n                    set: function(this: HTMLElement, value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, JSON.stringify(value));\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Number: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function(this: HTMLElement) {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? parseFloat(val) : defaultValue;\r\n                    },\r\n                    set: function(this: HTMLElement, value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case String:\r\n            default: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function(this: HTMLElement) {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? val : defaultValue;\r\n                    },\r\n                    set: function(this: HTMLElement, value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n    \r\nfunction Stylesheet(text: string): CSSStyleSheet {\r\n    const stylesheet = new CSSStyleSheet();\r\n    (stylesheet as any).replaceSync(text);\r\n    return stylesheet;\r\n}\r\n\r\nfunction trimMultilineIndent(text: string): string {\r\n    const newlineIndex = text.indexOf(\"\\n\");\r\n    text = text.substring(newlineIndex + 1);\r\n    const indentMatch = text.match(/^[\\s]*/);\r\n    if (indentMatch) {\r\n        const indent = text.substring(0, indentMatch[0].length);\r\n        text = text.replaceAll(indent, \"\").trimEnd();\r\n    }\r\n    return text;\r\n}\r\n\r\ninterface CustomElementDecorator {\r\n    (init: {\r\n        name: string;\r\n        options?: ElementDefinitionOptions\r\n    }): <C extends CustomElementConstructor>(elementCtor: C) => C;\r\n}\r\n\r\nconst CustomElement: CustomElementDecorator = function(init: {\r\n    name: string;\r\n    options?: ElementDefinitionOptions\r\n}) {\r\n    return <C extends CustomElementConstructor>(\r\n        elementCtor: C\r\n    ) => {\r\n        const {name, options} = init;\r\n        if (!customElements.get(name)) {\r\n            customElements.define(\r\n                name,\r\n                elementCtor,\r\n                options\r\n            );\r\n        }\r\n        return elementCtor;\r\n    }\r\n}\r\n\r\ninterface QueryPropertyDecorator {\r\n    (\r\n        init: {\r\n            selector: string;\r\n            withinShadowRoot?: boolean;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, propertyKey: keyof E) => void;\r\n}\r\n\r\nconst QueryProperty: QueryPropertyDecorator = function(\r\n        init: {\r\n            selector: string;\r\n            withinShadowRoot?: boolean;\r\n        }\r\n    ) {\r\n    return <E extends HTMLElement>(\r\n        target: E, propertyKey: keyof E\r\n    ) => {\r\n        const {constructor} = target;\r\n        const {prototype} = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const {selector} = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function(this: HTMLElement) {\r\n            return this.shadowRoot!.querySelector(selector);\r\n        } : function(this: HTMLElement) {\r\n            return this.querySelector(selector);\r\n        }\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    }\r\n}\r\n\r\ninterface QueryAllPropertyDecorator {\r\n    (\r\n        init: {\r\n            selector: string;\r\n            withinShadowRoot?: boolean;\r\n        }\r\n    ): <E extends HTMLElement>(target: E, propertyKey: keyof E) => void;\r\n}\r\n\r\nconst QueryAllProperty: QueryAllPropertyDecorator = function(\r\n        init: {\r\n            selector: string;\r\n            withinShadowRoot?: boolean;\r\n        }\r\n    ) {\r\n    return <E extends HTMLElement>(\r\n        target: E, propertyKey: keyof E\r\n    ) => {\r\n        const {constructor} = target;\r\n        const {prototype} = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const {selector} = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function(this: HTMLElement) {\r\n            return Array.from(this.shadowRoot!.querySelectorAll(selector));\r\n        } : function(this: HTMLElement) {\r\n            return Array.from(this.querySelectorAll(selector));\r\n        };\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    }\r\n}\r\n\r\nfunction fragment(...nodes: (Node | string)[]): DocumentFragment {\r\n    const fragment = document.createDocumentFragment();\r\n    fragment.append(...nodes);\r\n    return fragment;\r\n}\r\n\r\nfunction textNode(text: string): Node {\r\n    return document.createTextNode(text);\r\n}\r\n\r\ninterface HTMLElementInit {\r\n    options?: ElementCreationOptions,\r\n    attributes?: {\r\n        [name: string]: number | string | boolean | undefined\r\n    },\r\n    dataset?: {\r\n        [property: string]: string | number | boolean\r\n    },\r\n    children?: Node | string | (Node | string)[] | NodeList | ReactiveChildElements,\r\n    listeners?: {\r\n        [EventName in keyof HTMLElementEventMap]?: EventListenerOrEventListenerObject | [EventListenerOrEventListenerObject, boolean | AddEventListenerOptions | undefined]\r\n    }\r\n}\r\n\r\nfunction element<E extends HTMLElementTagNameMap[K], K extends keyof HTMLElementTagNameMap>(\r\n    tagName: K, init?: HTMLElementInit): E;\r\nfunction element(\r\n    tagName: string, init?: HTMLElementInit): HTMLElement;\r\nfunction element<K extends keyof HTMLElementTagNameMap>(\r\n    tagName: K, init?: HTMLElementInit): HTMLElementTagNameMap[K] {\r\n    if (init) {\r\n        const {options, attributes, dataset, children, listeners} = init;\r\n        const element = document.createElement(tagName, options);\r\n        if (attributes) {\r\n            Object.entries(attributes).forEach(([attributeName, attributeValue]) => {\r\n                if (attributeValue !== undefined) {\r\n                    if (typeof attributeValue === \"boolean\") {\r\n                        element.toggleAttribute(camelToTrain(attributeName), attributeValue);\r\n                    }\r\n                    else {\r\n                        element.setAttribute(camelToTrain(attributeName), String(attributeValue));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (dataset) {\r\n            const {dataset: elementDataset} = element;\r\n            Object.keys(dataset).forEach((datasetEntry_i) => {\r\n                elementDataset[datasetEntry_i] = String(dataset[datasetEntry_i]);\r\n            });\r\n        }\r\n        if (children) {\r\n            if (typeof children === \"function\") {\r\n                element.append(...children(element));\r\n            }\r\n            else if (typeof children === \"object\" && \"length\" in children) {\r\n                element.append(...Array.from(children));\r\n            }\r\n            else {\r\n                element.append(children);\r\n            }\r\n        }\r\n        if (listeners) {\r\n            Object.entries(listeners).forEach(([name_i, listener_i]) => {\r\n                if (Array.isArray(listener_i)) {\r\n                    element.addEventListener(name_i, listener_i[0], listener_i[1]);\r\n                }\r\n                else {\r\n                    element.addEventListener(name_i, listener_i);\r\n                }\r\n            });\r\n        }\r\n        return element;\r\n    }\r\n    return document.createElement(tagName);\r\n}\r\n\r\nconst reactiveElementsMap = new WeakMap<ModelNode, {\r\n    observerOptions: ModelChangeObserverOptions,\r\n    reactiveElementsArray: {\r\n        elementRef: WeakRef<Element>,\r\n        properties: string[],\r\n        react: (element: any, property: string, oldValue: any, newValue: any) => void;\r\n    }[]\r\n}>();\r\n\r\nconst reactiveElementsFinalizationRegistry = new FinalizationRegistry((heldValue: {\r\n    model: ModelNode,\r\n    reactiveElement: {\r\n        elementRef: WeakRef<Element>,\r\n        properties: string[],\r\n        react: (element: any, property: string, oldValue: any, newValue: any) => void;\r\n    }\r\n}) => {\r\n    const {model, reactiveElement} = heldValue;\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    if (reactiveElementsMapEntry !== undefined) {\r\n        const {reactiveElementsArray} = reactiveElementsMapEntry;\r\n        reactiveElementsArray.splice(reactiveElementsArray.indexOf(reactiveElement), 1);\r\n    }\r\n});\r\n\r\nconst reactiveElementsPropertyObserver = new ModelChangeObserver((records: ModelChangeRecord[]) => {\r\n    records.forEach((record_i) => {\r\n        const {target, propertyName, oldValue, newValue} = record_i;\r\n        const {reactiveElementsArray} = reactiveElementsMap.get(target)!;\r\n        reactiveElementsArray.forEach(reactiveElement_i => {\r\n            const {elementRef, react, properties} = reactiveElement_i;\r\n            const element = elementRef.deref();\r\n            if (element) {\r\n                if (properties.includes(propertyName!)) {\r\n                    react(element, propertyName!, oldValue, newValue);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nfunction reactiveElement<M extends ModelNode, E extends Element, K extends string>(\r\n    model: M,\r\n    element: E,\r\n    properties: K[],\r\n    react: (object: E, property: K, oldValue: any, newValue: any) => void\r\n): E;\r\nfunction reactiveElement<M extends ModelNode, E extends Element>(\r\n    model: M,\r\n    element: E,\r\n    properties: string[],\r\n    react: (element: E, property: string, oldValue: any, newValue: any) => void\r\n): E {\r\n    const elementRef = new WeakRef(element);\r\n    const reactiveElement = {elementRef, react, properties};\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    reactiveElementsFinalizationRegistry.register(element, {model, reactiveElement});\r\n    if (!reactiveElementsMapEntry) {\r\n        const observerOptions = {\r\n            properties: true,\r\n            propertiesFilter: properties\r\n        };\r\n        const reactiveElementsArray = [reactiveElement];\r\n        reactiveElementsMap.set(model, {observerOptions, reactiveElementsArray});\r\n        reactiveElementsPropertyObserver.observe(model, observerOptions);\r\n    }\r\n    else {\r\n        const {reactiveElementsArray, observerOptions} = reactiveElementsMapEntry;\r\n        const {propertiesFilter} = observerOptions;\r\n        reactiveElementsArray.push(reactiveElement);\r\n        observerOptions.propertiesFilter = propertiesFilter ?\r\n            propertiesFilter.concat(properties.filter(\r\n                property_i => !propertiesFilter.includes(property_i)\r\n            )) : properties.filter(\r\n                (property_i, i, properties) => properties.indexOf(property_i) === i\r\n            )\r\n    }\r\n    properties.forEach((property_i) => {\r\n        if (property_i in model) {\r\n            const value = Reflect.get(model, property_i, model);\r\n            if (value !== undefined) {\r\n                react(element, <any>property_i, <any>undefined, value);\r\n            }\r\n        }\r\n    });\r\n    return element;\r\n}\r\n\r\ninterface ReactiveChildElements {\r\n    (parent: Node & ParentNode): (Node | string)[]\r\n}\r\n\r\nconst reactiveChildElementsMap = new WeakMap<ModelList, {\r\n    reactiveChildElementsArray: {\r\n        parentRef: WeakRef<ParentNode>,\r\n        mapping: (item: any) => Element,\r\n        placeholder?: Element\r\n    }[]\r\n}>();\r\n\r\nconst reactiveChildElementsFinalizationRegistry = new FinalizationRegistry((heldValue: {\r\n    list: ModelList,\r\n    reactiveChildElement: {\r\n        parentRef: WeakRef<ParentNode>,\r\n        mapping: (item: any) => Element,\r\n        placeholder?: Element\r\n    }\r\n}) => {\r\n    const {list, reactiveChildElement} = heldValue;\r\n    const reactiveChildrenElementsMapEntry = reactiveChildElementsMap.get(list);\r\n    if (reactiveChildrenElementsMapEntry) {\r\n        const {reactiveChildElementsArray} = reactiveChildrenElementsMapEntry;\r\n        reactiveChildElementsArray.splice(reactiveChildElementsArray.indexOf(reactiveChildElement), 1);\r\n    }\r\n});\r\n\r\nconst reactiveChildElementsObserver = new ModelChangeObserver((records: ModelChangeRecord[]) => {\r\n    let range: null | Range = null;\r\n    Array.from(records.values()).forEach((record_i) => {\r\n        const {target} = record_i;\r\n        const list = <ModelList>target;\r\n        const {length: listLength} = list;\r\n        const {reactiveChildElementsArray} = reactiveChildElementsMap.get(list)!;\r\n        reactiveChildElementsArray.forEach((reactiveChildElements_i) => {\r\n            const {parentRef, mapping, placeholder} = reactiveChildElements_i;\r\n            const parent = parentRef.deref();\r\n            if (parent) {\r\n                const {firstChild, children} = parent;\r\n                const {length: childrenCount} = children;\r\n                if (placeholder && listLength > 0 && firstChild == placeholder) {\r\n                    parent.removeChild(placeholder);\r\n                }\r\n                const {changeType, LIST_INSERT, LIST_REMOVE, LIST_SORT} = record_i;\r\n                switch (changeType) {\r\n                    case LIST_INSERT: {\r\n                        const {insertedIndex, insertedItems} = record_i;\r\n                        const insertedItemsArray = Array.from(insertedItems.values()).map(mapping);\r\n                        const {length: childrenCount} = children;\r\n                        if (insertedIndex < childrenCount) {\r\n                            children[insertedIndex].before(...insertedItemsArray);\r\n                        }\r\n                        else {\r\n                            parent.append(...insertedItemsArray);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_REMOVE: {\r\n                        const {removedIndex, removedItems} = record_i;\r\n                        const {length: removedCount} = removedItems;\r\n                        range = range ?? document.createRange();\r\n                        const removeEndIndex = removedIndex + (removedCount - 1);\r\n                        if (removeEndIndex < childrenCount) {\r\n                            range.setStartBefore(children[removedIndex]);\r\n                            range.setEndAfter(children[removeEndIndex]);\r\n                            range.deleteContents();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_SORT: {\r\n                        const {sortedIndices} = record_i;\r\n                        const childrenArray = Array.from(children);\r\n                        parent.append(\r\n                            ...sortedIndices.filter(\r\n                                index_i => index_i < childrenCount\r\n                            ).map(\r\n                                index_i => childrenArray[index_i]\r\n                            )\r\n                        );\r\n                        break;\r\n                    }\r\n                }\r\n                if (listLength == 0 && placeholder) {\r\n                    parent.append(placeholder);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nfunction reactiveChildElements<Model extends ModelNode>(\r\n    list: ModelList<Model>,\r\n    mapping: (item: Model) => Element,\r\n    placeholder?: Element\r\n): ReactiveChildElements {\r\n    return (parent: Node & ParentNode) => {\r\n        const parentRef = new WeakRef(parent);\r\n        const reactiveChildElementsMapEntry = reactiveChildElementsMap.get(list);\r\n        const reactiveChildElement = {parentRef, mapping, placeholder};\r\n        reactiveChildElementsFinalizationRegistry.register(parent, {list, reactiveChildElement});\r\n        if (!reactiveChildElementsMapEntry) {\r\n            const reactiveChildElementsArray = [reactiveChildElement];\r\n            reactiveChildElementsMap.set(list, {reactiveChildElementsArray});\r\n            reactiveChildElementsObserver.observe(list, {\r\n                childList: true\r\n            });\r\n        }\r\n        else {\r\n            const {reactiveChildElementsArray} = reactiveChildElementsMapEntry;\r\n            reactiveChildElementsArray.push(reactiveChildElement);\r\n        }\r\n        return list.length == 0 && placeholder ?\r\n            [placeholder] : Array.from(list.values()).map(mapping);\r\n    }\r\n}\r\n\r\ninterface AttributeMutationMixin {\r\n    readonly attributeName: string;\r\n    readonly attributeValue: string;\r\n    readonly attributeType: AttributeType;\r\n    attach(element: Element): void;\r\n    detach(element: Element): void;\r\n}\r\n\r\ntype AttributeType = \"string\" | \"boolean\" | \"list\";\r\n\r\nfunction areAttributesMatching(\r\n    referenceAttributeType: AttributeType,\r\n    referenceAttributeName: string, referenceAttributeValue: string,\r\n    attributeName: string, attributeValue: string | null): boolean {\r\n    if (referenceAttributeName == attributeName) {\r\n        switch (referenceAttributeType) {\r\n            case \"boolean\":\r\n                return referenceAttributeValue == \"\" && attributeValue == \"\";\r\n            case \"string\":\r\n                return referenceAttributeValue !== \"\" && (referenceAttributeValue == attributeValue);\r\n            case \"list\":\r\n                return (referenceAttributeValue !== \"\" && attributeValue !== null) && new RegExp(`${referenceAttributeValue}\\s*?`, \"g\").test(attributeValue );\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nclass AttributeMutationMixinBase implements AttributeMutationMixin {\r\n    readonly attributeName: string;\r\n    readonly attributeValue: string;\r\n    readonly attributeType: AttributeType;\r\n\r\n    constructor(attributeName: string, attributeType: AttributeType = \"boolean\", attributeValue: string = \"\") {\r\n        this.attributeName = attributeName;\r\n        this.attributeType = attributeType;\r\n        this.attributeValue = attributeValue;\r\n    }\r\n\r\n    attach(): void {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n\r\n    detach(): void {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n}","import { CustomElement, AttributeProperty, QueryProperty, element } from \"../../Element\";\r\nimport { HTMLEMenuElement } from \"./Menu\";\r\n\r\nexport { HTMLEMenuItemElement };\r\nexport { EMenuItem };\r\n\r\ninterface HTMLEMenuItemElementConstructor {\r\n    prototype: HTMLEMenuItemElement;\r\n    new(): HTMLEMenuItemElement;\r\n}\r\n\r\ninterface HTMLEMenuItemElement extends HTMLElement {\r\n    readonly shadowRoot: ShadowRoot;\r\n    readonly internals: ElementInternals;\r\n    get menu(): HTMLEMenuElement | null;\r\n    name: string;\r\n    label: string | null;\r\n    value: string;\r\n    hotkey: string;\r\n    disabled: boolean;\r\n    checked: boolean;\r\n    expanded: boolean;\r\n    type: \"button\" | \"checkbox\" | \"radio\" | \"menu\" | \"submenu\";\r\n    connectedCallback(): void;\r\n    attributeChangedCallback(attributeName: string, oldValue: string | null, newValue: string | null): void;\r\n    toggle(force?: boolean): void;\r\n    expand(): void;\r\n    collapse(): void;\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        \"e-menuitem\": HTMLEMenuItemElement,\r\n    }\r\n}\r\n\r\nvar shadowTemplate: HTMLTemplateElement;\r\n\r\n@CustomElement({\r\n    name: \"e-menuitem\"\r\n})\r\nclass HTMLEMenuItemElementBase extends HTMLElement implements HTMLEMenuItemElement {\r\n\r\n    readonly shadowRoot!: ShadowRoot;\r\n    readonly internals: ElementInternals;\r\n    \r\n    @QueryProperty({selector: \":scope > e-menu[slot=menu]\"})\r\n    menu!: HTMLEMenuElement | null;\r\n\r\n    @AttributeProperty({type: String})\r\n    name!: string;\r\n\r\n    @AttributeProperty({type: String, observed: true})\r\n    label!: string | null;\r\n\r\n    @AttributeProperty({type: String})\r\n    value!: string;\r\n\r\n    @AttributeProperty({type: String})\r\n    hotkey!: string;\r\n\r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    disabled!: boolean;\r\n\r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    checked!: boolean;\r\n\r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    expanded!: boolean;\r\n\r\n    @AttributeProperty({type: Boolean})\r\n    overflown!: boolean;\r\n\r\n    @AttributeProperty({type: String, defaultValue: \"button\", observed: true})\r\n    type!: \"button\" | \"checkbox\" | \"radio\" | \"menu\" | \"submenu\";\r\n\r\n    attributeChangedCallback(attributeName: string, oldValue: string | null, newValue: string | null): void {\r\n        const {internals} = this;\r\n        switch (attributeName) {\r\n            case \"type\": {\r\n                switch (newValue) {\r\n                    case \"checkbox\":\r\n                    case \"radio\": {\r\n                        internals.role = `menuitem${newValue}`;\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        internals.role = \"menuitem\";\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"checked\": {\r\n                internals.ariaChecked = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"disabled\": {\r\n                internals.ariaDisabled = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"expanded\": {\r\n                internals.ariaExpanded = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                internals.ariaLabel = newValue;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    static {\r\n        shadowTemplate = element(\"template\");\r\n        shadowTemplate.content.append(\r\n            element(\"span\", {\r\n                attributes: {\r\n                    part: \"icon\"\r\n                }\r\n            }),\r\n            element(\"span\", {\r\n                attributes: {\r\n                    part: \"label\"\r\n                },\r\n                children: [\r\n                    element(\"slot\")\r\n                ]\r\n            }),\r\n            element(\"span\", {\r\n                attributes: {\r\n                    part: \"arrow\"\r\n                }\r\n            }),\r\n            element(\"slot\", {\r\n                attributes: {\r\n                    name: \"menu\"\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({mode: \"open\"});\r\n        const internals = this.attachInternals();\r\n        this.internals = internals;\r\n        internals.role = \"menuitem\";\r\n        shadowRoot.append(\r\n            shadowTemplate.content.cloneNode(true)\r\n        );\r\n    }\r\n    \r\n    connectedCallback(): void {\r\n        const {tabIndex} = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n\r\n    toggle(force?: boolean): void {\r\n        const {type, expanded} = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                const expand = force ?? !expanded;\r\n                this.expanded = expand;\r\n                if (expand) {\r\n                    this.#positionMenu();\r\n                }\r\n                this.dispatchEvent(new Event(\"toggle\", {bubbles: true}));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    expand(): void {\r\n        const {type, expanded} = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (!expanded) {\r\n                    this.expanded = true;\r\n                    this.#positionMenu();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    collapse(): void {\r\n        const {type, expanded} = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (expanded) {\r\n                    this.expanded = false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    #positionMenu(): void {\r\n        const {menu} = this;\r\n        if (menu !== null) {\r\n            const {style: menuStyle} = menu;\r\n            const {top: itemTop, bottom: itemBottom, left: itemLeft, right: itemRight} = this.getBoundingClientRect();\r\n            const {width: menuWidth, height: menuHeight} = menu.getBoundingClientRect();\r\n            const {scrollY, scrollX} = window;\r\n            const {clientWidth, clientHeight} = document.body;\r\n            const {type} = this;\r\n            if (type == \"menu\") {\r\n                const overflowX = itemRight + menuWidth - clientWidth;\r\n                const overflowY = itemTop + menuHeight - clientHeight;\r\n                menuStyle.setProperty(\"left\", `${\r\n                    overflowX > 0 ?\r\n                    scrollX + itemRight - menuWidth :\r\n                    scrollX + itemLeft\r\n                }px`);\r\n                menuStyle.setProperty(\"top\", `${\r\n                    overflowY > 0 ?\r\n                    scrollY + itemTop - menuHeight :\r\n                    scrollY + itemBottom\r\n                }px`);\r\n            }\r\n            else {\r\n                const closestMenu = this.closest(\"e-menu\");\r\n                if (closestMenu !== null) {\r\n                    const {top: closestMenuTop, left: closestMenuLeft} = closestMenu.getBoundingClientRect();\r\n                    const overflowX = itemRight + menuWidth - clientWidth;\r\n                    const overflowY = itemTop + menuHeight - clientHeight;\r\n                    menuStyle.setProperty(\"left\", `${\r\n                        overflowX > 0 ?\r\n                        itemLeft - menuWidth - closestMenuLeft :\r\n                        itemRight - closestMenuLeft\r\n                    }px`);\r\n                    menuStyle.setProperty(\"top\", `${\r\n                        overflowY > 0 ?\r\n                        itemBottom  - menuHeight - closestMenuTop :\r\n                        itemTop - closestMenuTop\r\n                    }px`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar HTMLEMenuItemElement: HTMLEMenuItemElementConstructor = HTMLEMenuItemElementBase;\r\n\r\ninterface EMenuItemConstructor {\r\n    prototype: HTMLEMenuItemElement;\r\n    new(init: {\r\n        name?: string;\r\n        label: string;\r\n        type?: \"button\" | \"checkbox\" | \"radio\" | \"menu\" | \"submenu\";\r\n        value?: string;\r\n        trigger?: () => void;\r\n        menu?: HTMLEMenuElement;\r\n    }): HTMLEMenuItemElement;\r\n    button(init: {\r\n        name?: string;\r\n        label: string;\r\n        value?: string;\r\n        trigger?: () => void;\r\n    }): HTMLEMenuItemElement;\r\n    checkbox(init: {\r\n        name?: string;\r\n        label: string;\r\n        value?: string;\r\n        trigger?: () => void;\r\n    }): HTMLEMenuItemElement;\r\n    radio(init: {\r\n        name?: string;\r\n        label: string;\r\n        value?: string;\r\n        trigger?: () => void;\r\n    }): HTMLEMenuItemElement;\r\n    menu(init: {\r\n        name?: string;\r\n        label: string;\r\n        menu: HTMLEMenuElement;\r\n    }): HTMLEMenuItemElement;\r\n    submenu(init: {\r\n        name?: string;\r\n        label: string;\r\n        menu: HTMLEMenuElement;\r\n    }): HTMLEMenuItemElement;\r\n}\r\n\r\nvar EMenuItem = <EMenuItemConstructor>Object.assign(\r\n    <Function>function(init: {\r\n        name?: string;\r\n        label: string;\r\n        type?: \"button\" | \"checkbox\" | \"radio\" | \"menu\" | \"submenu\";\r\n        value?: string;\r\n        trigger?: () => void;\r\n        menu?: HTMLEMenuElement;\r\n    }) {\r\n        const {label, name, type, value, trigger, menu} = init;\r\n        if (menu) {\r\n            menu.slot = \"menu\";\r\n        }\r\n        return element(\"e-menuitem\", {\r\n            attributes: {\r\n                tabindex: -1,\r\n                title: label,\r\n                name: name,\r\n                value: value,\r\n                type: type\r\n            },\r\n            children: menu ? [\r\n                label,\r\n                menu\r\n            ] : [\r\n                label\r\n            ],\r\n            listeners: {\r\n                click: trigger\r\n            }\r\n        });\r\n    }, {\r\n        prototype: HTMLEMenuItemElement.prototype,\r\n        button(init: {\r\n            name?: string,\r\n            label: string,\r\n            value?: string,\r\n            trigger?: () => void;\r\n        }) {\r\n            return new EMenuItem({\r\n                ...init, type: \"button\"\r\n            });\r\n        },\r\n        checkbox(init: {\r\n            name?: string;\r\n            label: string;\r\n            value?: string;\r\n            trigger?: () => void;\r\n        }) {\r\n            return new EMenuItem({\r\n                ...init, type: \"checkbox\"\r\n            });\r\n        },\r\n        radio(init: {\r\n            name?: string;\r\n            label: string;\r\n            value?: string;\r\n            trigger?: () => void;\r\n        }) {\r\n            return new EMenuItem({\r\n                ...init, type: \"radio\"\r\n            });\r\n        },\r\n        menu(init: {\r\n            name?: string;\r\n            label: string;\r\n            menu: HTMLEMenuElement;\r\n        }) {\r\n            return new EMenuItem({\r\n                ...init, type: \"menu\"\r\n            });\r\n        },\r\n        submenu(init: {\r\n            name?: string;\r\n            label: string;\r\n            menu: HTMLEMenuElement;\r\n        }) {\r\n            return new EMenuItem({\r\n                ...init, type: \"submenu\"\r\n            });\r\n        }\r\n    }\r\n);","import { ModelObject } from \"../models/Model\";\r\n\r\nexport { View };\r\n\r\ninterface View extends HTMLElement {\r\n    readonly model: ModelObject | null;\r\n    setModel(model: ModelObject): void;\r\n    renderShadow(): Node | undefined;\r\n    renderLight(): Node | undefined;\r\n    render(): void;\r\n}\r\n\r\ninterface ViewConstructor {\r\n    prototype: View;\r\n    new(): View;\r\n}\r\n\r\nclass ViewBase extends HTMLElement implements View {\r\n    #model: ModelObject | null;\r\n\r\n    constructor() {\r\n        super();\r\n        this.#model = null;\r\n    }\r\n\r\n    get model(): ModelObject | null {\r\n        return this.#model;\r\n    }\r\n    \r\n    setModel(model: ModelObject): void {\r\n        if (model !== this.#model) {\r\n            this.#model = model;\r\n        }\r\n    }\r\n\r\n    renderLight(): Node | undefined {\r\n        return;\r\n    }\r\n\r\n    renderShadow(): Node | undefined {\r\n        return;\r\n    }\r\n\r\n    render(): void {\r\n        const {shadowRoot} = this;\r\n        if (shadowRoot !== null) {\r\n            const shadow = this.renderShadow();\r\n            if (shadow) {\r\n                shadowRoot.replaceChildren(shadow);\r\n            }\r\n        }\r\n        const light = this.renderLight();\r\n        if (light) {\r\n            this.replaceChildren(light);\r\n        }\r\n    }\r\n}\r\n\r\nvar View: ViewConstructor = ViewBase;","import { element, reactiveChildElements, CustomElement, fragment, AttributeProperty, reactiveElement } from \"../elements/Element\";\r\nimport { ModelList, ModelObject, ModelProperty } from \"../models/Model\";\r\nimport { View } from \"./View\";\r\nimport { HTMLEGridCellElement } from \"../elements/containers/grid/GridCell\";\r\nimport { HTMLEGridElement } from \"../elements/containers/grid/Grid\";\r\nimport { HTMLEGridRowElement } from \"../elements/containers/grid/GridRow\";\r\n\r\nexport { GridModel };\r\nexport { GridRowModel };\r\nexport { GridColumnModel };\r\nexport { GridView };\r\n\r\ninterface GridInit {\r\n    rows: GridRowModel[];\r\n    columns: GridColumnModel[];\r\n}\r\n\r\nclass GridModel extends ModelObject {\r\n    readonly rows: ModelList<GridRowModel>;\r\n    readonly columns: ModelList<GridColumnModel>;\r\n\r\n    constructor()\r\n    constructor(init: GridInit)\r\n    constructor(init?: GridInit) {\r\n        super();\r\n        const {rows: initRows = [], columns: initColumns = []} = init ?? {};\r\n        const rows = new ModelList(initRows);\r\n        rows.setParent(this);\r\n        this.rows = rows;\r\n        const columns = new ModelList(initColumns);\r\n        columns.setParent(this);\r\n        this.columns = columns;\r\n    }\r\n\r\n    getColumnByName(name: string): GridColumnModel | null {\r\n        return Array.from(this.columns.values()).find(\r\n            column_i => column_i.name == name\r\n        ) ?? null;\r\n    }\r\n\r\n    sortByColumn(column: GridColumnModel, sortOrder: number) {\r\n        Array.from(this.columns.values()).forEach((column_i) => {\r\n            column_i.sortorder = column_i === column ? sortOrder : undefined;\r\n        });\r\n        const sortTest = (() => {\r\n            const {type} = column;\r\n            switch (type) {\r\n                case String: {\r\n                    return (row_1: GridRowModel, row_2: GridRowModel) => {\r\n                        const cell_1 = String(column.extract(row_1));\r\n                        const cell_2 = String(column.extract(row_2));\r\n                        return sortOrder * cell_1.localeCompare(cell_2);\r\n                    };\r\n                }\r\n                default: {\r\n                    return (row_1: GridRowModel, row_2: GridRowModel) => {\r\n                        const cell_1 = Number(column.extract(row_1));\r\n                        const cell_2 = Number(column.extract(row_2));\r\n                        return Math.sign(sortOrder * (cell_1 - cell_2));\r\n                    };\r\n                }\r\n            }\r\n        })();\r\n        this.rows.sort(sortTest);\r\n    }\r\n}\r\n\r\n\r\ntype GridRowFilter = {\r\n    filter: (row: GridRowModel) => boolean;\r\n}\r\n\r\ninterface GridColumnInit {\r\n    name: string,\r\n    type: NumberConstructor | StringConstructor | DateConstructor,\r\n    label: string,\r\n    extract: (row: GridRowModel) => string,\r\n    filters?: (GridRowFilter & {name: string})[]\r\n}\r\n\r\nclass GridColumnModel extends ModelObject {\r\n    readonly name: string\r\n    readonly type: NumberConstructor | StringConstructor | DateConstructor;\r\n    readonly label: string;\r\n    readonly extract: (row: GridRowModel) => string;\r\n    readonly filters: (GridRowFilter & {name: string})[];\r\n\r\n    @ModelProperty()\r\n    sortorder: number | undefined;\r\n\r\n    constructor(init: GridColumnInit) {\r\n        super();\r\n        const {name, type, label, extract, filters = []} = init;\r\n        this.name = name;\r\n        this.type = type;\r\n        this.label = label;\r\n        this.extract = extract;\r\n        this.filters = filters;\r\n    }\r\n}\r\n\r\nclass GridRowModel extends ModelObject {\r\n    id: number;\r\n\r\n    @ModelProperty()\r\n    name: string;\r\n\r\n    @ModelProperty()\r\n    age: number;\r\n    \r\n    constructor(init: {\r\n        id: number;\r\n        name: string,\r\n        age: number\r\n    }) {\r\n        super();\r\n        const {id, name, age} = init;\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n}\r\n\r\ninterface GridViewConstructor {\r\n    prototype: GridView;\r\n    new(): GridView;\r\n    new(model: GridModel): GridView;\r\n}\r\n\r\ninterface GridView extends View {\r\n    readonly shadowRoot: ShadowRoot;\r\n    model: GridModel;\r\n    resizable: boolean;\r\n    sortable: boolean;\r\n    setColumnDelegate(delegate: (column: GridColumnModel) => string | Node): void;\r\n    setCellDelegate(delegate: (row: GridRowModel, column: GridColumnModel) => string | Node): void;\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        \"e-gridview\": GridView,\r\n    }\r\n}\r\n\r\n@CustomElement({\r\n    name: \"e-gridview\"\r\n})\r\nclass GridViewBase extends View implements GridView {\r\n\r\n    readonly shadowRoot!: ShadowRoot;\r\n    readonly model!: GridModel;\r\n\r\n    #columnDelegate: (column: GridColumnModel) => string | Node;\r\n    #cellDelegate: (row: GridRowModel, column: GridColumnModel) => string | Node;\r\n    \r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    resizable!: boolean;\r\n\r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    sortable!: boolean;\r\n\r\n    #displayFilters: (GridRowFilter & {name: string})[];\r\n    #searchFilter: GridRowFilter | null;\r\n    \r\n    constructor()\r\n    constructor(model: GridModel)\r\n    constructor(model?: GridModel) {\r\n        super();\r\n        this.#displayFilters = [];\r\n        this.#searchFilter = null;\r\n        this.attachShadow({mode: \"open\"});\r\n        this.#cellDelegate =\r\n            (row: GridRowModel, column: GridColumnModel) =>\r\n                element(\"label\", {\r\n                    children: column.extract(row)\r\n                });\r\n        this.#columnDelegate =\r\n            (column: GridColumnModel) =>\r\n                element(\"label\", {\r\n                    children: column.label\r\n                });\r\n        this.setModel(model ?? new GridModel());\r\n    }\r\n\r\n    attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null): void {\r\n        switch (name) {\r\n            case \"resizable\":\r\n            case \"sortable\": {\r\n                this.render();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    get gridElement(): HTMLEGridElement {\r\n        return this.shadowRoot.querySelector(\"e-grid\")!;\r\n    }\r\n\r\n    setColumnDelegate(delegate: (column: GridColumnModel) => string | Node): void {\r\n        this.#columnDelegate = delegate;\r\n    }\r\n\r\n    setCellDelegate(delegate: (row: GridRowModel, column: GridColumnModel) => string | Node): void {\r\n        this.#cellDelegate = delegate;\r\n    }\r\n\r\n    getRowElement(row: GridRowModel): HTMLEGridRowElement | null {\r\n        return this.shadowRoot.querySelector(`e-grid > e-gridbody > e-gridrow[data-index='${row.id}']`);\r\n    }\r\n\r\n    getColumnHeaderElement(column: GridColumnModel): HTMLEGridCellElement | null {\r\n        return this.shadowRoot.querySelector(`e-grid > e-gridhead > e-gridcell[id=${column.name}]`);\r\n    }\r\n    \r\n    getColumnCellsElements(column: GridColumnModel): HTMLEGridCellElement[] {\r\n        return Array.from(this.shadowRoot.querySelectorAll(`e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${column.name}]`));\r\n    }\r\n\r\n    renderShadow(): Node {\r\n        const {model} = this;\r\n        return fragment(\r\n            element(\"link\", {\r\n                attributes: {\r\n                    rel: \"stylesheet\",\r\n                    href: \"/css/main.css\"\r\n                }\r\n            }),\r\n            element(\"link\", {\r\n                attributes: {\r\n                    rel: \"stylesheet\",\r\n                    href: \"/css/views/gridview.css\"\r\n                }\r\n            }),\r\n            element(\"div\", {\r\n                children: element(\"input\", {\r\n                    attributes: {\r\n                        type: \"search\"\r\n                    },\r\n                    listeners: {\r\n                        input: <EventListener>this.#handleSearchInputEvent.bind(this)\r\n                    }\r\n                })\r\n            }),\r\n            element(\"e-grid\", {\r\n                attributes: {\r\n                    tabindex: 0,\r\n                    selectby: \"row\",\r\n                    multisectable: true\r\n                },\r\n                children: [\r\n                    element(\"e-gridhead\", {\r\n                        children: reactiveChildElements(\r\n                            model.columns, column => this.#renderGridColumnHeaderCell(column)\r\n                        ),\r\n                        listeners: {\r\n                            contextmenu: <EventListener>this.#handleHeadContextMenuEvent.bind(this),\r\n                            click: <EventListener>this.#handleHeadClickEvent.bind(this)\r\n                        }\r\n                    }),\r\n                    element(\"e-gridbody\", {\r\n                        children: reactiveChildElements(\r\n                            model.rows, row => this.#renderGridBodyRow(row)\r\n                        )\r\n                    })\r\n                ]\r\n            })\r\n        );\r\n    }\r\n\r\n    #filter(row: GridRowModel): boolean {\r\n        const displayFilters = this.#displayFilters;\r\n        const searchFilter = this.#searchFilter;\r\n        return (displayFilters.length > 0 ? displayFilters.some(filter_i => filter_i.filter(row)) : true) &&\r\n        (searchFilter ? searchFilter.filter(row) : true);\r\n    }\r\n\r\n    setSearchFilter(filter: GridRowFilter | null): void {\r\n        const {model, gridElement} = this;\r\n        const {rows} = model;\r\n        this.#searchFilter = filter;\r\n        Array.from(rows.values()).forEach((row_i) => {\r\n            const rowElement = this.getRowElement(row_i);\r\n            if (rowElement) {\r\n                rowElement.hidden = !this.#filter(row_i);\r\n            }\r\n        });\r\n        gridElement.clearSelection();\r\n    }\r\n\r\n    addDisplayFilter(filter: (GridRowFilter & {name: string;})): void {\r\n        const {model, gridElement} = this;\r\n        const {rows} = model;\r\n        const displayFilters = this.#displayFilters;\r\n        if (!displayFilters.includes(filter)) {\r\n            displayFilters.push(filter);\r\n            Array.from(rows.values()).forEach((row_i) => {\r\n                const rowElement = this.getRowElement(row_i);\r\n                if (rowElement) {\r\n                    rowElement.hidden = !this.#filter(row_i);\r\n                }\r\n            });\r\n        }\r\n        gridElement.clearSelection();\r\n    }\r\n\r\n    removeDisplayFilter(filter: (GridRowFilter & {name: string;})): void {\r\n        const {model, gridElement} = this;\r\n        const {rows} = model;\r\n        const displayFilters = this.#displayFilters;\r\n        const filterIndex = displayFilters.indexOf(filter);\r\n        if (filterIndex > -1) {\r\n            displayFilters.splice(filterIndex, 1);\r\n            Array.from(rows.values()).forEach((row_i) => {\r\n                const rowElement = this.getRowElement(row_i);\r\n                if (rowElement) {\r\n                    rowElement.hidden = !this.#filter(row_i);\r\n                }\r\n            });\r\n        }\r\n        gridElement.clearSelection();\r\n    }\r\n\r\n    #renderGridColumnHeaderCell(column: GridColumnModel): Element {\r\n        const gridColumnElement = reactiveElement(\r\n            column,\r\n            element(\"e-gridcell\", {\r\n                attributes: {\r\n                    type: \"columnheader\",\r\n                    id: column.name\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"gridheader-content\"\r\n                        },\r\n                        children: (<Node[]>[\r\n                            element(\"span\", {\r\n                                attributes: {\r\n                                    class: \"gridheader-label\"\r\n                                },\r\n                                children: this.#columnDelegate(column)\r\n                            }),\r\n                            element(\"span\", {\r\n                                attributes: {\r\n                                    class: \"gridheader-sort-indicator\"\r\n                                }\r\n                            })\r\n                        ]).concat(\r\n                            this.resizable ? [\r\n                                element(\"e-wsash\", {\r\n                                    attributes: {\r\n                                        controls: column.name\r\n                                    }\r\n                                })\r\n                            ] : []\r\n                        )\r\n                    })\r\n                ]\r\n            }),\r\n            [\"sortorder\"],\r\n            (cell, property, oldValue, newValue) => {\r\n                switch (property) {\r\n                    case \"sortorder\":\r\n                        const {dataset} = cell;\r\n                        if (typeof newValue !== \"undefined\") {\r\n                            dataset.sortorder = newValue.toString();\r\n                        }\r\n                        else {\r\n                            delete dataset.sortorder;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        );\r\n        return gridColumnElement;\r\n    }\r\n\r\n    #renderGridBodyRow(row: GridRowModel): Element {\r\n        const {model} = this;\r\n        const gridRowElement = element(\"e-gridrow\", {\r\n            dataset: {\r\n                index: row.id\r\n            },\r\n            children: reactiveChildElements(\r\n                model.columns, column => this.#renderGridDataCell(row, column)\r\n            )\r\n        });\r\n        return gridRowElement;\r\n    }\r\n\r\n    #renderGridDataCell(row: GridRowModel, column: GridColumnModel): Element {\r\n        const gridCellElement = element(\"e-gridcell\", {\r\n            attributes: {\r\n                type: \"gridcell\",\r\n                headers: column.name\r\n            },\r\n            children: element(\"span\", {\r\n                attributes: {\r\n                    class: \"gridcell-content\"\r\n                },\r\n                children: (<Node[]>[\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"gridcell-label\"\r\n                        },\r\n                        children: this.#cellDelegate(row, column)\r\n                    })\r\n                ])\r\n            })\r\n        });\r\n        return gridCellElement;\r\n    }\r\n\r\n    #handleHeadContextMenuEvent(event: MouseEvent): void {\r\n        const {clientX, clientY, currentTarget, target} = event;\r\n        const {gridElement} = this;\r\n        const targetHead = <HTMLElement>currentTarget;\r\n        const targetHeader = <HTMLEGridCellElement>(<HTMLElement>target).closest(\"e-gridcell\");\r\n        const {model} = this;\r\n        if (targetHeader) {\r\n            const column = model.getColumnByName(targetHeader.id)!;\r\n            const {sortorder, filters} = column;\r\n            const contextMenu = element(\"e-menu\",  {\r\n                attributes: {\r\n                    contextual: true,\r\n                },\r\n                children: [\r\n                    element(\"e-menuitem\",  {\r\n                        attributes: {\r\n                            label: \"Resize Auto\"\r\n                        },\r\n                        children: \"Resize auto\",\r\n                        listeners: {\r\n                            click: () => {\r\n                                const columnHeaderElement = this.getColumnHeaderElement(column);\r\n                                if (columnHeaderElement) {\r\n                                    const {style} = columnHeaderElement;\r\n                                    const labels = this.getColumnCellsElements(column).map(\r\n                                        cell_i => cell_i.querySelector(\".gridcell-label\")!\r\n                                    );\r\n                                    const maxWidth = labels.reduce(\r\n                                        (maxWidth, label) => Math.max(maxWidth, label.getBoundingClientRect().width), 0\r\n                                    );\r\n                                    style.setProperty(\"width\", `${maxWidth}px`);\r\n                                }\r\n                                gridElement.focus();\r\n                            }\r\n                        }\r\n                    }),\r\n                    element(\"e-menuitem\",  {\r\n                        attributes: {\r\n                            label: \"Resize To Default\"\r\n                        },\r\n                        children: \"Resize to Default\",\r\n                        listeners: {\r\n                            click: () => {\r\n                                const columnHeaderElement = this.getColumnHeaderElement(column);\r\n                                if (columnHeaderElement) {\r\n                                    const {style} = columnHeaderElement;\r\n                                    style.removeProperty(\"width\");\r\n                                }\r\n                                gridElement.focus();\r\n                            }\r\n                        }\r\n                    }),\r\n                    element(\"e-menuitem\",  {\r\n                        attributes: {\r\n                            type: \"submenu\",\r\n                            label: \"Sort\",\r\n                        },\r\n                        children: [\r\n                            \"Sort\",\r\n                            element(\"e-menu\",  {\r\n                                attributes: {\r\n                                    slot: \"menu\"\r\n                                },\r\n                                children: [\r\n                                    element(\"e-menuitem\",  {\r\n                                        attributes: {\r\n                                            type: \"radio\",\r\n                                            name: \"sort\",\r\n                                            value: \"1\",\r\n                                            label: \"Ascending\",\r\n                                            checked: sortorder === 1\r\n                                        },\r\n                                        children: \"Ascending\"\r\n                                    }),\r\n                                    element(\"e-menuitem\",  {\r\n                                        attributes: {\r\n                                            type: \"radio\",\r\n                                            name: \"sort\",\r\n                                            value: \"-1\",\r\n                                            label: \"Descending\",\r\n                                            checked: sortorder === -1\r\n                                        },\r\n                                        children: \"Descending\"\r\n                                    })\r\n                                ],\r\n                                listeners: {\r\n                                    click: (event) => {\r\n                                        const {target} = event;\r\n                                        const targetItem = (<HTMLElement>target).closest(\"e-menuitem\");\r\n                                        if (targetItem) {\r\n                                            model.sortByColumn(column, Number(targetItem.value));\r\n                                        }\r\n                                        gridElement.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    }),\r\n                    element(\"e-menuitem\",  {\r\n                        attributes: {\r\n                            type: \"submenu\",\r\n                            label: \"Filter\"\r\n                        },\r\n                        children: [\r\n                            \"Filter\",\r\n                            element(\"e-menu\",  {\r\n                                attributes: {\r\n                                    slot: \"menu\"\r\n                                },\r\n                                children: filters.map(filter => {\r\n                                    const {name} = filter;\r\n                                    return element(\"e-menuitem\", {\r\n                                        attributes: {\r\n                                            type: \"checkbox\",\r\n                                            checked: this.#displayFilters.includes(filter),\r\n                                            label: name\r\n                                        },\r\n                                        children: name\r\n                                    })\r\n                                }),\r\n                                listeners: {\r\n                                    click: (event) => {\r\n                                        const {target} = event;\r\n                                        const targetItem = (<HTMLElement>target).closest(\"e-menuitem\");\r\n                                        if (targetItem) {\r\n                                            const {checked, label} = targetItem;\r\n                                            const filter = filters.find(filter => filter.name === label);\r\n                                            if (filter) {\r\n                                                if (checked) {\r\n                                                    this.addDisplayFilter(filter);\r\n                                                }\r\n                                                else {\r\n                                                    this.removeDisplayFilter(filter);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        gridElement.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    })\r\n                ]\r\n            });\r\n            targetHead.append(contextMenu);\r\n            contextMenu.positionContextual(clientX, clientY);\r\n            contextMenu.focus({preventScroll: true});\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    #handleSearchInputEvent(event: InputEvent) {\r\n        const {target} = event;\r\n        if (target instanceof HTMLInputElement) {\r\n            const {value} = target;\r\n            this.setSearchFilter(value !== \"\" ? {\r\n                filter: (row) => row.name.toLowerCase().includes(value.toLowerCase())\r\n            } : null);\r\n        }\r\n    }\r\n\r\n    #handleHeadClickEvent(event: MouseEvent): void {\r\n        const {target} = event;\r\n        const targetIsHeaderContent = (<HTMLElement>target).matches(\"e-gridcell[type=columnheader] :scope:not(e-wsash)\");\r\n        if (targetIsHeaderContent) {\r\n            const targetHeader = <HTMLEGridCellElement>(<HTMLElement>target).closest(\"e-gridcell\");\r\n            const {model} = this;\r\n            const {columns} = model;\r\n            if (targetHeader) {\r\n                const targetColumn = Array.from(columns.values()).find(column_i => column_i.name == targetHeader.id);\r\n                if (targetColumn) {\r\n                    const sortorder = targetColumn.sortorder !== undefined ? -targetColumn.sortorder : 1;\r\n                    model.sortByColumn(targetColumn, sortorder);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar GridView: GridViewConstructor = GridViewBase;","import { HTMLEMenuElement } from \"../elements/containers/menus/Menu\";\r\nimport { HTMLEToolBarElement } from \"../elements/containers/toolbars/ToolBar\";\r\nimport { HTMLETreeElement } from \"../elements/containers/trees/Tree\";\r\nimport { HTMLETreeItemElement } from \"../elements/containers/trees/TreeItem\";\r\nimport { AttributeProperty, CustomElement, element, fragment, reactiveChildElements, reactiveElement } from \"../elements/Element\";\r\nimport { ModelEvent, ModelList, ModelObject, ModelProperty } from \"../models/Model\";\r\nimport { View } from \"./View\";\r\n\r\nexport { TreeItemModelList };\r\nexport { TreeModel };\r\nexport { TreeItemModel };\r\nexport { TreeView };\r\n\r\ninterface TreeModelInit {\r\n    items: TreeItemModel[];\r\n    sortFunction?: (item_a: TreeItemModel, item_b: TreeItemModel) => number;\r\n}\r\n\r\nclass TreeModel extends ModelObject {\r\n    readonly items: ModelList<TreeItemModel>;\r\n    readonly childItems: ModelList<TreeItemModel>;\r\n    sortFunction: ((item_a: TreeItemModel, item_b: TreeItemModel) => number) | null;\r\n\r\n    constructor()\r\n    constructor(init: TreeModelInit)\r\n    constructor(init?: TreeModelInit) {\r\n        super();\r\n        const {items = [], sortFunction} = init ?? {};\r\n        items.forEach((item_i, i) => item_i.index = i);\r\n        const childItems = new ModelList(items);\r\n        childItems.setParent(this);\r\n        this.childItems = childItems;\r\n        this.items = new ModelList(this.subtreeItems());\r\n        this.sortFunction = sortFunction ??\r\n            function(item_a: TreeItemModel, item_b: TreeItemModel) {\r\n                return item_a.name.localeCompare(item_b.name);\r\n            };\r\n        this.addEventListener(\"modelchange\", this.#handleModelChangeEvent.bind(this));\r\n    }\r\n    \r\n    #handleModelChangeEvent(event: ModelEvent): void {\r\n        const {target} = event;\r\n        const {items, sortFunction, subtreeItems} = this;\r\n        if (target instanceof ModelList) {\r\n            const records = target.getRecords();\r\n            records.forEach((record_i) => {\r\n                const {insertedItems, removedItems} = record_i;\r\n                const flattenedInsertedItems = (<TreeItemModel[]>Array.from(insertedItems.values())).flatMap(\r\n                    insertedItem_i => Array.of(insertedItem_i, ...subtreeItems.call(insertedItem_i))\r\n                );\r\n                const flattenedRemovedItems = (<TreeItemModel[]>Array.from(removedItems.values())).flatMap(\r\n                    removedItem_i => Array.of(removedItem_i, ...subtreeItems.call(removedItem_i))\r\n                );\r\n                items.beginChanges();\r\n                items.append(...flattenedInsertedItems);\r\n                flattenedRemovedItems.forEach((removedItem_i) => items.remove(removedItem_i));\r\n                if (sortFunction) items.sort(sortFunction);\r\n                items.endChanges();\r\n            });\r\n            Array.from((<ModelList<TreeItemModel>>target).values()).forEach((item_i, i) => {\r\n                item_i.index = i;\r\n            });\r\n        }\r\n    }\r\n\r\n    subtreeItems(): TreeItemModel[] {\r\n        const {childItems} = this;\r\n        return Array.from(childItems.values()).flatMap(\r\n            treeItem_i => Array.of(treeItem_i, ...treeItem_i.subtreeItems())\r\n        );\r\n    }\r\n\r\n    getItemByUri(this: TreeModel | TreeItemModel, uri: string): TreeItemModel | null {\r\n        const {childItems} = this;\r\n        const {length: itemsCount} = childItems;\r\n        const {length: uriLength} = uri;\r\n        for (let i = 0; i < itemsCount; i++) {\r\n            const item_i = childItems.get(i)!;\r\n            const {uri: itemUri} = item_i;\r\n            const {length: itemUriLength} = itemUri;\r\n            if (uri.startsWith(itemUri)) {\r\n                if (itemUriLength === uriLength) {\r\n                    return <TreeItemModel>item_i;\r\n                }\r\n                return TreeModel.prototype.getItemByUri.call(item_i, uri);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nclass TreeItemModelList {\r\n    readonly items: TreeItemModel[];\r\n\r\n    constructor(items: TreeItemModel[]) {\r\n        this.items = items;\r\n    }\r\n\r\n    get count(): number {\r\n        return this.items.length;\r\n    }\r\n\r\n    remove(): void {\r\n        const {items} = this;\r\n        const removedItemsGroups = items.reduce((map, item_i) => {\r\n            const {parentNode} = item_i;\r\n            if (parentNode instanceof TreeItemModel || parentNode instanceof TreeModel) {\r\n                const {childItems} = parentNode;\r\n                const group = map.get(childItems);\r\n                if (group) group.push(item_i);\r\n                else map.set(childItems, [item_i]);\r\n            }\r\n            return map;\r\n        }, new Map<ModelList, TreeItemModel[]>());\r\n        Array.from(removedItemsGroups.entries()).forEach(\r\n            ([list_i, children_i]) => {\r\n                list_i.beginChanges();\r\n                children_i.forEach((child_i) => {\r\n                    list_i.remove(child_i);\r\n                });\r\n                list_i.endChanges();\r\n            }\r\n        );\r\n    }\r\n}\r\n\r\nclass TreeItemModel extends ModelObject {\r\n    readonly childItems: ModelList<TreeItemModel>;\r\n\r\n    @ModelProperty()\r\n    name: string;\r\n    \r\n    @ModelProperty()\r\n    type: \"leaf\" | \"parent\";\r\n\r\n    @ModelProperty()\r\n    index: number;\r\n\r\n    get level(): number {\r\n        const {parentNode} = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return parentNode.level + 1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    get uri(): string {\r\n        const {parentNode, name} = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return `${parentNode.uri}${name}/`;\r\n        }\r\n        return `${name}/`;\r\n    }\r\n\r\n    get parentItem(): TreeItemModel | null {\r\n        const {parentNode} = this;\r\n        if (parentNode instanceof TreeItemModel) {\r\n            return parentNode;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    constructor(init: {name: string, type: \"leaf\" | \"parent\", items?: TreeItemModel[]}) {\r\n        super();\r\n        const {name, type, items = []} = init;\r\n        items.forEach((item_i, i) => item_i.index = i);\r\n        const childItems = new ModelList(items);\r\n        childItems.setParent(this);\r\n        this.name = name;\r\n        this.childItems = childItems;\r\n        this.type = type;\r\n        this.index = -1;\r\n    }\r\n\r\n    subtreeItems(): TreeItemModel[] {\r\n        const {childItems} = this;\r\n        return Array.from(childItems.values()).flatMap(\r\n            treeItem_i => Array.of(treeItem_i, ...treeItem_i.subtreeItems())\r\n        );\r\n    }\r\n\r\n    remove(): void {\r\n        const {parentNode} = this;\r\n        if (parentNode instanceof TreeItemModel || parentNode instanceof TreeModel) {\r\n            const {childItems} = parentNode;\r\n            if (childItems) {\r\n                childItems.remove(this);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ninterface TreeViewConstructor {\r\n    prototype: TreeView;\r\n    new(): TreeView;\r\n    new(model: TreeModel): TreeView;\r\n}\r\n\r\ninterface TreeView extends View {\r\n    readonly shadowRoot: ShadowRoot;\r\n    readonly model: TreeModel;\r\n    setModel(model: TreeModel): void;\r\n    renderShadow(): Node;\r\n    draggable: boolean;\r\n    selectedItems(): TreeItemModel[];\r\n    activeItem(): TreeItemModel | null;\r\n    get treeElement(): HTMLETreeElement | null ;\r\n    treeItemElement(item: TreeItemModel): HTMLETreeItemElement | null;\r\n    treeItem(element: HTMLETreeItemElement): TreeItemModel | null;\r\n    itemContentDelegate(this: TreeView, item: TreeItemModel): string | Node;\r\n    itemToolbarDelegate(this: TreeView, item: TreeItemModel): HTMLEToolBarElement | null;\r\n    itemMenuDelegate(this: TreeView): HTMLEMenuElement | null;\r\n}\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        \"e-treeview\": TreeView,\r\n    }\r\n}\r\n\r\n@CustomElement({\r\n    name: \"e-treeview\"\r\n})\r\nclass TreeViewBase extends View implements TreeView {\r\n    readonly shadowRoot!: ShadowRoot;\r\n    readonly model!: TreeModel;\r\n\r\n    #dragImages: WeakMap<TreeItemModel, WeakRef<Element>>;\r\n\r\n    @AttributeProperty({type: Boolean, observed: true})\r\n    draggable!: boolean;\r\n    \r\n    constructor()\r\n    constructor(model: TreeModel)\r\n    constructor(model?: TreeModel) {\r\n        super();\r\n        this.attachShadow({mode: \"open\"});\r\n        this.#dragImages = new WeakMap();\r\n        this.setModel(model ?? new TreeModel());\r\n    }\r\n\r\n    attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null): void {\r\n        switch (name) {\r\n            case \"draggable\": {\r\n                const {treeElement} = this;\r\n                if (treeElement) {\r\n                    Array.from(treeElement.items).forEach(\r\n                        item_i => item_i.draggable = newValue !== null\r\n                    );\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    get treeElement(): HTMLETreeElement | null {\r\n        return this.shadowRoot.querySelector<HTMLETreeElement>(\"e-tree\")!;\r\n    }\r\n\r\n    treeItemElement(item: TreeItemModel): HTMLETreeItemElement | null  {\r\n        return this.shadowRoot.querySelector<HTMLETreeItemElement>(`e-treeitem[uri=${item.uri}]`)!;\r\n    }\r\n\r\n    #getTreeItemElementUri(item: HTMLETreeItemElement): string {\r\n        let uri = \"\";\r\n        let closestItem = <HTMLETreeItemElement | null>item;\r\n        while (closestItem !== null) {\r\n            const {dataset, parentElement} = closestItem;\r\n            const {name} = dataset;\r\n            uri = `${name}/` + uri;\r\n            closestItem = parentElement?.closest(\"e-treeitem\") ?? null;\r\n        }\r\n        return uri;\r\n    }\r\n\r\n    treeItem(element: HTMLETreeItemElement): TreeItemModel | null  {\r\n        return this.model.getItemByUri(this.#getTreeItemElementUri(element));\r\n    }\r\n\r\n    override renderShadow(): Node {\r\n        const {model} = this;\r\n        const treeElement = element(\"e-tree\", {\r\n            attributes: {\r\n                tabindex: 0,\r\n            },\r\n            children: reactiveChildElements(\r\n                model.childItems, item => this.#renderTreeItem(item)\r\n            ),\r\n            listeners: {\r\n                dragstart: <EventListener>this.#handleDragStartEvent.bind(this),\r\n                drop: <EventListener>this.#handleDropEvent.bind(this),\r\n                contextmenu: <EventListener>this.#handleContextMenuEvent.bind(this),\r\n                focus: <EventListener>this.#handleFocusEvent.bind(this),\r\n                focusin: <EventListener>this.#handleFocusInEvent.bind(this),\r\n                focusout: <EventListener>this.#handleFocusOutEvent.bind(this),\r\n            }\r\n        });\r\n        return fragment(\r\n            element(\"link\", {\r\n                attributes: {\r\n                    rel: \"stylesheet\",\r\n                    href: \"/css/main.css\"\r\n                }\r\n            }),\r\n            element(\"link\", {\r\n                attributes: {\r\n                    rel: \"stylesheet\",\r\n                    href: \"/css/views/treeview.css\"\r\n                }\r\n            }),\r\n            treeElement,\r\n            element(\"slot\"),\r\n            element(\"div\", {\r\n                attributes: {\r\n                    class: \"offscreen\",\r\n                    hidden: true\r\n                },\r\n                children: reactiveChildElements(model.items,\r\n                    item => this.#renderTreeItemDragImage(item)\r\n                )\r\n            })\r\n        );\r\n    }\r\n\r\n    itemContentDelegate(item: TreeItemModel): string | Node {\r\n        return reactiveElement(\r\n            item,\r\n            element(\"span\"),\r\n            [\"name\"],\r\n            (label, property, oldValue, newValue) => {\r\n                label.textContent = newValue;\r\n            }\r\n        );\r\n    }\r\n\r\n    itemToolbarDelegate(item: TreeItemModel): HTMLEToolBarElement | null {\r\n        return null;\r\n    }\r\n    \r\n    itemMenuDelegate(this: TreeView): HTMLEMenuElement | null {\r\n        return null;\r\n    }\r\n\r\n    selectedItems(): TreeItemModel[] {\r\n        const {treeElement} = this;\r\n        if (treeElement) {\r\n            const selectedElements = treeElement.selectedItems();\r\n            return selectedElements.map(\r\n                item_i => <TreeItemModel>this.treeItem(item_i)\r\n            );\r\n        }\r\n        return [];\r\n    }\r\n\r\n    activeItem(): TreeItemModel | null {\r\n        const {treeElement} = this;\r\n        if (treeElement) {\r\n            const {activeItem} = treeElement;\r\n            return activeItem ?\r\n                this.treeItem(activeItem) :\r\n                null;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    #getDragImage(model: TreeItemModel): Element | null {\r\n        return this.#dragImages.get(model)?.deref() ?? null;\r\n    }\r\n\r\n    #renderTreeItem(item: TreeItemModel): HTMLETreeItemElement {\r\n        const {draggable} = this;\r\n        const {index, level, name} = item;\r\n        const toolbar = this.itemToolbarDelegate(item);\r\n        const content = this.itemContentDelegate(item);\r\n        const treeItemElement = reactiveElement(\r\n            item,\r\n            element(\"e-treeitem\", {\r\n                attributes: {\r\n                    draggable: String(draggable),\r\n                    posinset: index,\r\n                    level: level\r\n                },\r\n                dataset: {\r\n                    name: name\r\n                },\r\n                children: [\r\n                    ...(content ? [content] : []),\r\n                    ...(toolbar ? [toolbar] : [])\r\n                ]\r\n            }),\r\n            [\"index\", \"name\", \"type\"],\r\n            (treeitem, propertyName, oldValue, newValue) => {\r\n                switch (propertyName) {\r\n                    case \"index\": {\r\n                        treeitem.posinset = newValue;\r\n                        break;\r\n                    }\r\n                    case \"name\": {\r\n                        const {dataset} = treeitem;\r\n                        dataset.name = newValue;\r\n                        break;\r\n                    }\r\n                    case \"type\": {\r\n                        treeitem.type = newValue;\r\n                        switch (newValue) {\r\n                            case \"parent\": {\r\n                                treeitem.append(\r\n                                    element(\"e-treeitemgroup\", {\r\n                                        attributes: {\r\n                                            slot: \"group\"\r\n                                        },\r\n                                        children: reactiveChildElements(item.childItems,\r\n                                            item => this.#renderTreeItem(item)\r\n                                        )\r\n                                    })\r\n                                );\r\n                                break;\r\n                            }\r\n                            case \"leaf\": {\r\n                                const {group} = treeitem;\r\n                                if (group) {\r\n                                    group.remove();\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        return treeItemElement;\r\n    }\r\n\r\n    #renderTreeItemDragImage(item: TreeItemModel): Element {\r\n        const dragImageElement = reactiveElement(\r\n            item,\r\n            element(\"span\", {\r\n                attributes: {\r\n                    class: \"dragimage\"\r\n                }\r\n            }),\r\n            [\"name\"],\r\n            (span, property, oldValue, newValue) => {\r\n                span.textContent = newValue;\r\n            }\r\n        );\r\n        this.#dragImages.set(item, new WeakRef(dragImageElement));\r\n        return dragImageElement;\r\n    }\r\n\r\n    #handleDragStartEvent(event: DragEvent): void {\r\n        const {currentTarget, target} = event;\r\n        const targetTree = <HTMLETreeElement>currentTarget;\r\n        const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n        const {model} = this;\r\n        if (targetItem) {\r\n            const {dataTransfer} = event;\r\n            const selectedElements = targetTree.selectedItems();\r\n            const {length: selectedCount} = selectedElements;\r\n            if (selectedCount > 0) {\r\n                const selectedUris = \r\n                    selectedElements\r\n                    .map(element_i => this.#getTreeItemElementUri(element_i))\r\n                    .filter(\r\n                        (uri_i, _, uris) => !uris.some(\r\n                            uri_j => uri_i.startsWith(`${uri_j}/`)\r\n                        )\r\n                    );\r\n                const selectedUrisString = selectedUris.join(\"\\n\");\r\n                const lastUri = selectedUris[selectedUris.length - 1];\r\n                const lastItem = model.getItemByUri(lastUri);\r\n                if (lastItem && dataTransfer) {\r\n                    dataTransfer.dropEffect = \"move\";\r\n                    dataTransfer.setData(\"text/plain\", selectedUrisString);\r\n                    const dragImage = this.#getDragImage(lastItem);\r\n                    if (dragImage) {\r\n                        dataTransfer.setDragImage(dragImage, -16, 0);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    #handleDropEvent(event: DragEvent): void {\r\n        const {currentTarget, target} = event;\r\n        const targetTree = <HTMLETreeElement>currentTarget;\r\n        const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n        const {model} = this;\r\n        const {sortFunction} = model;\r\n        if (targetItem) {\r\n            const {dataTransfer} = event;\r\n            if (dataTransfer) {\r\n                const targetUri = this.#getTreeItemElementUri(targetItem);\r\n                const targetItemModel = model.getItemByUri(targetUri)!;\r\n                const transferedUris = dataTransfer.getData(\"text/plain\").split(\"\\n\");\r\n                const targetIsWithin = transferedUris.some(uri_i => targetUri.startsWith(`${uri_i}/`) || uri_i === targetUri);\r\n                if (!targetIsWithin) {\r\n                    const transferedItems = <TreeItemModel[]>(\r\n                        transferedUris.map(\r\n                            uri_i => model.getItemByUri(uri_i)\r\n                        ).filter(\r\n                            item_i => item_i !== null\r\n                        )\r\n                    );\r\n                    const {type: targetType, parentItem: targetParentItem} = targetItemModel;\r\n                    const {childItems: targetList} =\r\n                        targetType === \"parent\" ? targetItemModel :\r\n                        targetParentItem ? targetParentItem : model;\r\n                    const targetItems = Array.from(targetList.values());\r\n                    targetItems.forEach((item_i) => {\r\n                        const sameLabelIndex = transferedItems.findIndex(item_j => item_j.name === item_i.name);\r\n                        if (sameLabelIndex > -1) {\r\n                            const doReplace = confirm(`Replace ${item_i.name}?`);\r\n                            if (doReplace) {\r\n                                targetList.remove(item_i);\r\n                            }\r\n                            else {\r\n                                transferedItems.copyWithin(sameLabelIndex, sameLabelIndex + 1);\r\n                                transferedItems.length--;\r\n                            }\r\n                        }\r\n                    });\r\n                    const transferedItemsModelList = new TreeItemModelList(transferedItems);\r\n                    transferedItemsModelList.remove();\r\n                    if (sortFunction) {\r\n                        targetList.beginChanges();\r\n                        targetList.append(...transferedItems);\r\n                        targetList.sort(sortFunction);\r\n                        targetList.endChanges();\r\n                    }\r\n                    else {\r\n                        targetList.insert(targetItem.posinset, ...transferedItems);\r\n                    }\r\n                    const newElements = targetTree.querySelectorAll<HTMLETreeItemElement>(`e-treeitem:is(${\r\n                        transferedItems.map(item_i => `[data-uri=\"${item_i.uri}\"]`).join(\",\")\r\n                    })`);\r\n                    targetTree.beginSelection();\r\n                    newElements.forEach(element_i => element_i.selected = true);\r\n                    targetTree.endSelection();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    #handleContextMenuEvent(event: MouseEvent): void {\r\n        const {clientX, clientY, currentTarget, target} = event;\r\n        const targetTree = <HTMLETreeElement>currentTarget;\r\n        const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const contextMenu = this.itemMenuDelegate();\r\n            if (contextMenu !== null) {\r\n                contextMenu.contextual = true;\r\n                contextMenu.addEventListener(\"close\", () => {\r\n                    targetItem.focus({preventScroll: true});\r\n                });\r\n                targetTree.append(contextMenu);\r\n                contextMenu.positionContextual(clientX, clientY);\r\n                contextMenu.focus({preventScroll: true});\r\n            }\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    #handleFocusEvent(event: FocusEvent): void {\r\n        const {currentTarget, relatedTarget} = event;\r\n        const targetTree = <HTMLETreeElement>currentTarget;\r\n        if (relatedTarget !== null  && !this.contains(<Node | null>relatedTarget)) {\r\n            const relatedPosition = (<Node>relatedTarget).compareDocumentPosition(this);\r\n            if (!(relatedPosition & Node.DOCUMENT_POSITION_DISCONNECTED) && (relatedPosition & Node.DOCUMENT_POSITION_PRECEDING)) {\r\n                const {activeItem} = targetTree;\r\n                if (activeItem) {\r\n                    const itemToolbar = activeItem.querySelector(\"e-toolbar\");\r\n                    if (itemToolbar) {\r\n                        event.preventDefault();\r\n                        itemToolbar.focus();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    #handleFocusInEvent(event: FocusEvent): void {\r\n        const {target} = event;\r\n        const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const itemToolbar = targetItem.querySelector(\"e-toolbar\");\r\n            if (itemToolbar) {\r\n                itemToolbar.tabIndex = itemToolbar.contains(<Node | null>target) ? -1 : 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    #handleFocusOutEvent(event: FocusEvent): void {\r\n        const {target} = event;\r\n        const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n        if (targetItem) {\r\n            const itemToolbar = targetItem.querySelector(\"e-toolbar\");\r\n            if (itemToolbar) {\r\n                itemToolbar.tabIndex = itemToolbar.contains(<Node | null>target) ? 0 : -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar TreeView: TreeViewConstructor = TreeViewBase;","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HotKey_instances, _HotKey_modifierString, _HotKey_testModifier;\r\nexport { Key };\r\nexport { KeyModifier };\r\nexport { HotKey };\r\nexport { MouseButton };\r\nvar Key;\r\n(function (Key) {\r\n    Key[\"A\"] = \"a\";\r\n    Key[\"B\"] = \"b\";\r\n    Key[\"C\"] = \"c\";\r\n    Key[\"D\"] = \"d\";\r\n    Key[\"E\"] = \"e\";\r\n    Key[\"F\"] = \"f\";\r\n    Key[\"G\"] = \"g\";\r\n    Key[\"H\"] = \"h\";\r\n    Key[\"I\"] = \"i\";\r\n    Key[\"J\"] = \"j\";\r\n    Key[\"K\"] = \"k\";\r\n    Key[\"L\"] = \"l\";\r\n    Key[\"M\"] = \"m\";\r\n    Key[\"O\"] = \"o\";\r\n    Key[\"P\"] = \"p\";\r\n    Key[\"Q\"] = \"q\";\r\n    Key[\"R\"] = \"r\";\r\n    Key[\"S\"] = \"s\";\r\n    Key[\"T\"] = \"t\";\r\n    Key[\"U\"] = \"u\";\r\n    Key[\"V\"] = \"v\";\r\n    Key[\"W\"] = \"w\";\r\n    Key[\"X\"] = \"x\";\r\n    Key[\"Y\"] = \"y\";\r\n    Key[\"Z\"] = \"z\";\r\n    Key[\"ENTER\"] = \"Enter\";\r\n    Key[\"BACKSPACE\"] = \"Backspace\";\r\n    Key[\"ARROW_DOWN\"] = \"ArrowDown\";\r\n    Key[\"ARROW_LEFT\"] = \"ArrowLeft\";\r\n    Key[\"ARROW_RIGHT\"] = \"ArrowRight\";\r\n    Key[\"ARROW_UP\"] = \"ArrowUp\";\r\n    Key[\"SHIFT\"] = \"Shift\";\r\n})(Key || (Key = {}));\r\nvar KeyModifier;\r\n(function (KeyModifier) {\r\n    KeyModifier[\"Alt\"] = \"Alt\";\r\n    KeyModifier[\"Control\"] = \"Control\";\r\n    KeyModifier[\"Shift\"] = \"Shift\";\r\n})(KeyModifier || (KeyModifier = {}));\r\nvar MouseButton;\r\n(function (MouseButton) {\r\n    MouseButton[MouseButton[\"LEFT\"] = 1] = \"LEFT\";\r\n    MouseButton[MouseButton[\"WHEEL\"] = 2] = \"WHEEL\";\r\n    MouseButton[MouseButton[\"RIGHT\"] = 3] = \"RIGHT\";\r\n    MouseButton[MouseButton[\"FORWARD\"] = 4] = \"FORWARD\";\r\n    MouseButton[MouseButton[\"BACK\"] = 5] = \"BACK\";\r\n})(MouseButton || (MouseButton = {}));\r\nclass HotKey {\r\n    constructor(key, mod1, mod2) {\r\n        _HotKey_instances.add(this);\r\n        this.key = key;\r\n        this.mod1 = mod1;\r\n        this.mod2 = mod2;\r\n    }\r\n    toString() {\r\n        return `${this.mod1 ? `${__classPrivateFieldGet(this, _HotKey_instances, \"m\", _HotKey_modifierString).call(this, this.mod1)}+` : \"\"}${this.mod2 ? `${__classPrivateFieldGet(this, _HotKey_instances, \"m\", _HotKey_modifierString).call(this, this.mod2)}+` : \"\"}${(this.key.length == 1) ? this.key.toUpperCase() : this.key}`;\r\n    }\r\n    test(event) {\r\n        return (!this.mod1 || __classPrivateFieldGet(this, _HotKey_instances, \"m\", _HotKey_testModifier).call(this, this.mod1, event)) && (!this.mod2 || __classPrivateFieldGet(this, _HotKey_instances, \"m\", _HotKey_testModifier).call(this, this.mod2, event)) && event.key == this.key;\r\n    }\r\n}\r\n_HotKey_instances = new WeakSet(), _HotKey_modifierString = function _HotKey_modifierString(mod) {\r\n    switch (mod) {\r\n        case KeyModifier.Control:\r\n            return \"Ctrl\";\r\n        default:\r\n            return mod;\r\n    }\r\n}, _HotKey_testModifier = function _HotKey_testModifier(mod, event) {\r\n    switch (mod) {\r\n        case \"Alt\":\r\n            return event.altKey;\r\n        case \"Control\":\r\n            return event.ctrlKey;\r\n        case \"Shift\":\r\n            return event.shiftKey;\r\n        default:\r\n            return true;\r\n    }\r\n};\r\n//# sourceMappingURL=Input.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ModelNodesListBase_items, _ModelEventBase_currentTarget, _ModelEventBase_target, _ModelEventTargetBase_callbacks, _ModelNodeBase_instances, _ModelNodeBase_parentNode, _ModelNodeBase_records, _ModelNodeBase_isRecording, _ModelNodeBase_triggerChange, _ModelNodeBase_handleRecord, _ModelObjectBase_properties, _ModelListBase_items, _ModelChangeObserverBase_instances, _ModelChangeObserverBase_callback, _ModelChangeObserverBase_records, _ModelChangeObserverBase_disconnected, _ModelChangeObserverBase_references, _ModelChangeObserverBase_trigger, _ModelChangeObserverBase_handleModelEvent;\r\nexport { ModelChangeRecord };\r\nexport { ModelEvent };\r\nexport { ModelNode };\r\nexport { ModelObject };\r\nexport { ModelProperty };\r\nexport { ModelList };\r\nexport { ModelChangeObserver };\r\nclass ModelChangeRecordBase {\r\n    constructor(init) {\r\n        this.target = init.target;\r\n        this.changeType = init.changeType;\r\n        this.propertyName = init.propertyName ?? null;\r\n        this.oldValue = init.oldValue ?? undefined;\r\n        this.newValue = init.newValue ?? undefined;\r\n        this.removedIndex = init.removedIndex ?? 0;\r\n        this.removedItems = new ModelNodesList(init.removedItems ?? []);\r\n        this.insertedIndex = init.insertedIndex ?? 0;\r\n        this.insertedItems = new ModelNodesList(init.insertedItems ?? []);\r\n        this.sortedIndices = init.sortedIndices ?? [];\r\n    }\r\n    static get PROPERTY_CHANGE() {\r\n        return 1;\r\n    }\r\n    static get LIST_REMOVE() {\r\n        return 2;\r\n    }\r\n    static get LIST_INSERT() {\r\n        return 3;\r\n    }\r\n    static get LIST_SORT() {\r\n        return 4;\r\n    }\r\n    get PROPERTY_CHANGE() {\r\n        return ModelChangeRecordBase.PROPERTY_CHANGE;\r\n    }\r\n    get LIST_REMOVE() {\r\n        return ModelChangeRecordBase.LIST_REMOVE;\r\n    }\r\n    get LIST_INSERT() {\r\n        return ModelChangeRecordBase.LIST_INSERT;\r\n    }\r\n    get LIST_SORT() {\r\n        return ModelChangeRecordBase.LIST_SORT;\r\n    }\r\n}\r\nvar ModelChangeRecord = ModelChangeRecordBase;\r\nclass ModelNodesListBase {\r\n    constructor(items) {\r\n        _ModelNodesListBase_items.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelNodesListBase_items, items.slice(), \"f\");\r\n    }\r\n    get length() {\r\n        return __classPrivateFieldGet(this, _ModelNodesListBase_items, \"f\").length;\r\n    }\r\n    item(index) {\r\n        return __classPrivateFieldGet(this, _ModelNodesListBase_items, \"f\")[index] ?? null;\r\n    }\r\n    values() {\r\n        return __classPrivateFieldGet(this, _ModelNodesListBase_items, \"f\").values();\r\n    }\r\n}\r\n_ModelNodesListBase_items = new WeakMap();\r\nvar ModelNodesList = ModelNodesListBase;\r\nclass ModelEventBase {\r\n    constructor(type) {\r\n        _ModelEventBase_currentTarget.set(this, void 0);\r\n        _ModelEventBase_target.set(this, void 0);\r\n        this.type = type;\r\n        __classPrivateFieldSet(this, _ModelEventBase_currentTarget, null, \"f\");\r\n        __classPrivateFieldSet(this, _ModelEventBase_target, null, \"f\");\r\n    }\r\n    get currentTarget() {\r\n        return __classPrivateFieldGet(this, _ModelEventBase_currentTarget, \"f\");\r\n    }\r\n    get target() {\r\n        return __classPrivateFieldGet(this, _ModelEventBase_target, \"f\");\r\n    }\r\n}\r\n_ModelEventBase_currentTarget = new WeakMap(), _ModelEventBase_target = new WeakMap();\r\nModelEventBase.ModelEventTargetAccessor = new class ModelEventTargetAccessor {\r\n    setCurrentTarget(event, currentTarget) {\r\n        if (event instanceof ModelEventBase) {\r\n            __classPrivateFieldSet(event, _ModelEventBase_currentTarget, currentTarget, \"f\");\r\n        }\r\n    }\r\n    setTarget(event, target) {\r\n        if (event instanceof ModelEventBase) {\r\n            __classPrivateFieldSet(event, _ModelEventBase_target, target, \"f\");\r\n        }\r\n    }\r\n};\r\nvar ModelEventTargetAccessor = ModelEventBase.ModelEventTargetAccessor;\r\ndelete ModelEventBase.ModelEventTargetAccessor;\r\nvar ModelEvent = ModelEventBase;\r\nclass ModelEventTargetBase {\r\n    constructor() {\r\n        _ModelEventTargetBase_callbacks.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelEventTargetBase_callbacks, new Map(), \"f\");\r\n    }\r\n    receiveEvent(event) {\r\n        const { type } = event;\r\n        const callbacks = __classPrivateFieldGet(this, _ModelEventTargetBase_callbacks, \"f\").get(type);\r\n        ModelEventTargetAccessor.setCurrentTarget(event, this);\r\n        if (callbacks) {\r\n            callbacks.forEach((callback_i) => {\r\n                callback_i(event);\r\n            });\r\n        }\r\n    }\r\n    addEventListener(type, callback) {\r\n        const callbacks = __classPrivateFieldGet(this, _ModelEventTargetBase_callbacks, \"f\").get(type);\r\n        if (callbacks) {\r\n            callbacks.push(callback);\r\n        }\r\n        else {\r\n            __classPrivateFieldGet(this, _ModelEventTargetBase_callbacks, \"f\").set(type, [callback]);\r\n        }\r\n    }\r\n    removeEventListener(type, callback) {\r\n        const callbacks = __classPrivateFieldGet(this, _ModelEventTargetBase_callbacks, \"f\").get(type);\r\n        if (callbacks) {\r\n            const callbackIndex = callbacks.findIndex(callback_i => callback_i == callback);\r\n            if (callbackIndex > -1) {\r\n                callbacks.splice(callbackIndex, 1);\r\n            }\r\n            if (callbacks.length == 0) {\r\n                __classPrivateFieldGet(this, _ModelEventTargetBase_callbacks, \"f\").delete(type);\r\n            }\r\n        }\r\n    }\r\n    dispatchEvent(event) {\r\n        ModelEventTargetAccessor.setTarget(event, this);\r\n        this.receiveEvent(event);\r\n    }\r\n}\r\n_ModelEventTargetBase_callbacks = new WeakMap();\r\nvar ModelEventTarget = ModelEventTargetBase;\r\nclass ModelNodeBase extends ModelEventTargetBase {\r\n    constructor() {\r\n        super();\r\n        _ModelNodeBase_instances.add(this);\r\n        _ModelNodeBase_parentNode.set(this, void 0);\r\n        _ModelNodeBase_records.set(this, void 0);\r\n        _ModelNodeBase_isRecording.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelNodeBase_parentNode, null, \"f\");\r\n        __classPrivateFieldSet(this, _ModelNodeBase_records, [], \"f\");\r\n        __classPrivateFieldSet(this, _ModelNodeBase_isRecording, false, \"f\");\r\n    }\r\n    get parentNode() {\r\n        return __classPrivateFieldGet(this, _ModelNodeBase_parentNode, \"f\");\r\n    }\r\n    setParent(parentNode) {\r\n        if (parentNode !== null) {\r\n            let isCyclicReference = parentNode == this;\r\n            let { parentNode: ancestorNode } = parentNode;\r\n            while (!isCyclicReference && ancestorNode !== null) {\r\n                ({ parentNode: ancestorNode } = ancestorNode);\r\n                isCyclicReference = ancestorNode == this;\r\n            }\r\n            if (!isCyclicReference) {\r\n                __classPrivateFieldSet(this, _ModelNodeBase_parentNode, parentNode, \"f\");\r\n            }\r\n            else {\r\n                throw new TypeError(\"Failed to set parent on ModelNode: circular reference detected in the hierarchy.\");\r\n            }\r\n        }\r\n        else {\r\n            __classPrivateFieldSet(this, _ModelNodeBase_parentNode, null, \"f\");\r\n        }\r\n    }\r\n    beginChanges() {\r\n        __classPrivateFieldSet(this, _ModelNodeBase_isRecording, true, \"f\");\r\n    }\r\n    endChanges() {\r\n        this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n        __classPrivateFieldGet(this, _ModelNodeBase_records, \"f\").splice(0);\r\n        __classPrivateFieldSet(this, _ModelNodeBase_isRecording, false, \"f\");\r\n    }\r\n    getRecords() {\r\n        return __classPrivateFieldGet(this, _ModelNodeBase_records, \"f\").slice();\r\n    }\r\n    receiveEvent(event) {\r\n        super.receiveEvent(event);\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            parentNode.receiveEvent(event);\r\n        }\r\n    }\r\n}\r\n_ModelNodeBase_parentNode = new WeakMap(), _ModelNodeBase_records = new WeakMap(), _ModelNodeBase_isRecording = new WeakMap(), _ModelNodeBase_instances = new WeakSet(), _ModelNodeBase_triggerChange = function _ModelNodeBase_triggerChange(property, oldValue, newValue) {\r\n    const records = __classPrivateFieldGet(this, _ModelNodeBase_records, \"f\");\r\n    const record = new ModelChangeRecord({\r\n        target: this,\r\n        changeType: ModelChangeRecord.PROPERTY_CHANGE,\r\n        propertyName: property,\r\n        oldValue, newValue\r\n    });\r\n    records.push(record);\r\n    this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n    records.splice(0);\r\n}, _ModelNodeBase_handleRecord = function _ModelNodeBase_handleRecord(record) {\r\n    __classPrivateFieldGet(this, _ModelNodeBase_records, \"f\").push(record);\r\n    if (!__classPrivateFieldGet(this, _ModelNodeBase_isRecording, \"f\")) {\r\n        this.dispatchEvent(new ModelEvent(\"modelchange\"));\r\n        __classPrivateFieldGet(this, _ModelNodeBase_records, \"f\").splice(0);\r\n    }\r\n};\r\nModelNodeBase.ModelNodeRecordsAccessor = new class ModelNodeRecordsAccessor {\r\n    triggerChange(node, property, oldValue, newValue) {\r\n        if (node instanceof ModelNodeBase) {\r\n            __classPrivateFieldGet(node, _ModelNodeBase_instances, \"m\", _ModelNodeBase_triggerChange).call(node, property, oldValue, newValue);\r\n        }\r\n    }\r\n    handleRecord(node, record) {\r\n        if (node instanceof ModelNodeBase) {\r\n            __classPrivateFieldGet(node, _ModelNodeBase_instances, \"m\", _ModelNodeBase_handleRecord).call(node, record);\r\n        }\r\n    }\r\n};\r\nvar ModelNodeRecordsAccessor = ModelNodeBase.ModelNodeRecordsAccessor;\r\ndelete ModelNodeBase.ModelNodeRecordsAccessor;\r\nvar ModelNode = ModelNodeBase;\r\nconst ModelProperty = function (init) {\r\n    return (target, property) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        /*const observedAttributes = Reflect.get(constructor, \"observedAttributes\", constructor);\r\n        if (Array.isArray(observedAttributes)) {\r\n            observedAttributes.push(property);\r\n        }\r\n        else {\r\n            Object.defineProperty(\r\n                constructor, \"observedAttributes\", {\r\n                    value: [property],\r\n                    writable: false\r\n                }\r\n            );\r\n        }*/\r\n        const setter = function (value) {\r\n            const oldValue = ModelObjectPropertiesAccessor.getProperty(this, property);\r\n            ModelObjectPropertiesAccessor.setProperty(this, property, value);\r\n            if (value !== oldValue) {\r\n                ModelNodeRecordsAccessor.triggerChange(this, property, oldValue, value);\r\n            }\r\n            return true;\r\n        };\r\n        const getter = function () {\r\n            return ModelObjectPropertiesAccessor.getProperty(this, property);\r\n        };\r\n        Object.defineProperty(prototype, property, {\r\n            set: setter,\r\n            get: getter,\r\n            enumerable: true\r\n        });\r\n    };\r\n};\r\nclass ModelObjectBase extends ModelNodeBase {\r\n    constructor() {\r\n        super();\r\n        _ModelObjectBase_properties.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelObjectBase_properties, new Map(), \"f\");\r\n    }\r\n}\r\n_ModelObjectBase_properties = new WeakMap();\r\nModelObjectBase.ModelObjectPropertiesAccessor = new class ModelPropertiesAccessor {\r\n    setProperty(node, property, value) {\r\n        if (node instanceof ModelObjectBase) {\r\n            __classPrivateFieldGet(node, _ModelObjectBase_properties, \"f\").set(property, value);\r\n        }\r\n    }\r\n    getProperty(node, property) {\r\n        if (node instanceof ModelObjectBase) {\r\n            return __classPrivateFieldGet(node, _ModelObjectBase_properties, \"f\").get(property);\r\n        }\r\n    }\r\n};\r\nvar ModelObjectPropertiesAccessor = ModelObjectBase.ModelObjectPropertiesAccessor;\r\ndelete ModelObjectBase.ModelObjectPropertiesAccessor;\r\nvar ModelObject = ModelObjectBase;\r\nclass ModelListBase extends ModelNodeBase {\r\n    constructor(items) {\r\n        super();\r\n        _ModelListBase_items.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelListBase_items, items?.slice() ?? [], \"f\");\r\n    }\r\n    setParent(parentNode) {\r\n        super.setParent(parentNode);\r\n        __classPrivateFieldGet(this, _ModelListBase_items, \"f\").forEach((item_i) => {\r\n            item_i.setParent(parentNode);\r\n        });\r\n    }\r\n    get length() {\r\n        return __classPrivateFieldGet(this, _ModelListBase_items, \"f\").length;\r\n    }\r\n    get(index) {\r\n        return __classPrivateFieldGet(this, _ModelListBase_items, \"f\")[index] ?? null;\r\n    }\r\n    index(item) {\r\n        return __classPrivateFieldGet(this, _ModelListBase_items, \"f\").indexOf(item);\r\n    }\r\n    values() {\r\n        return __classPrivateFieldGet(this, _ModelListBase_items, \"f\").values();\r\n    }\r\n    sort(compareFunction) {\r\n        const items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const indexedItems = items.map((item_i, i) => {\r\n            return {\r\n                item: item_i,\r\n                index: i\r\n            };\r\n        });\r\n        indexedItems.sort((indexedItem_a, indexedItem_b) => {\r\n            return compareFunction(indexedItem_a.item, indexedItem_b.item);\r\n        });\r\n        __classPrivateFieldSet(this, _ModelListBase_items, indexedItems.map(indexedItem_i => indexedItem_i.item), \"f\");\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_SORT,\r\n            sortedIndices: indexedItems.map(indexedItem_i => indexedItem_i.index)\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    prepend(...items) {\r\n        const _items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.splice(0, 0, ...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: 0,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    append(...items) {\r\n        const _items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const { length } = _items;\r\n        const { parentNode } = this;\r\n        if (parentNode) {\r\n            items.forEach(item_i => {\r\n                item_i.setParent(parentNode);\r\n            });\r\n        }\r\n        _items.push(...items);\r\n        const record = new ModelChangeRecord({\r\n            target: this,\r\n            changeType: ModelChangeRecord.LIST_INSERT,\r\n            insertedIndex: length,\r\n            insertedItems: items\r\n        });\r\n        ModelNodeRecordsAccessor.handleRecord(this, record);\r\n    }\r\n    insert(index, ...items) {\r\n        const _items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const { length } = _items;\r\n        const positiveIndex = Math.abs(index);\r\n        if (positiveIndex <= length) {\r\n            if (index >= 0) {\r\n                const { parentNode } = this;\r\n                items.forEach(item_i => {\r\n                    item_i.setParent(parentNode);\r\n                });\r\n                if (index < length) {\r\n                    _items.splice(index, 0, ...items);\r\n                }\r\n                else {\r\n                    _items.push(...items);\r\n                }\r\n            }\r\n            else if (index < 0) {\r\n                index = length - index;\r\n                const { parentNode } = this;\r\n                if (parentNode) {\r\n                    items.forEach(item_i => {\r\n                        item_i.setParent(parentNode);\r\n                    });\r\n                }\r\n                _items.splice(index, 0, ...items);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_INSERT,\r\n                insertedIndex: index,\r\n                insertedItems: items.slice()\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n    remove(item) {\r\n        const _items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const index = _items.indexOf(item);\r\n        if (index > -1) {\r\n            const item = _items.splice(index, 1)[0];\r\n            const { parentNode } = this;\r\n            if (parentNode) {\r\n                item.setParent(null);\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: index,\r\n                removedItems: [item]\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n    clear() {\r\n        const items = __classPrivateFieldGet(this, _ModelListBase_items, \"f\");\r\n        const { length } = items;\r\n        if (length > 0) {\r\n            const removedItems = items.splice(0);\r\n            const { parentNode } = this;\r\n            if (parentNode) {\r\n                removedItems.forEach((removedItem_i) => {\r\n                    removedItem_i.setParent(null);\r\n                });\r\n            }\r\n            const record = new ModelChangeRecord({\r\n                target: this,\r\n                changeType: ModelChangeRecord.LIST_REMOVE,\r\n                removedIndex: 0,\r\n                removedItems: removedItems\r\n            });\r\n            ModelNodeRecordsAccessor.handleRecord(this, record);\r\n        }\r\n    }\r\n}\r\n_ModelListBase_items = new WeakMap();\r\n;\r\nvar ModelList = ModelListBase;\r\nclass ModelChangeObserverBase {\r\n    constructor(callback) {\r\n        _ModelChangeObserverBase_instances.add(this);\r\n        _ModelChangeObserverBase_callback.set(this, void 0);\r\n        _ModelChangeObserverBase_records.set(this, void 0);\r\n        _ModelChangeObserverBase_disconnected.set(this, void 0);\r\n        _ModelChangeObserverBase_references.set(this, void 0);\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_callback, callback, \"f\");\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_records, [], \"f\");\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_disconnected, false, \"f\");\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_references, new WeakMap(), \"f\");\r\n    }\r\n    observe(node, options) {\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_disconnected, false, \"f\");\r\n        const references = __classPrivateFieldGet(this, _ModelChangeObserverBase_references, \"f\");\r\n        let reference = references.get(node);\r\n        if (!reference) {\r\n            const listener = __classPrivateFieldGet(this, _ModelChangeObserverBase_instances, \"m\", _ModelChangeObserverBase_handleModelEvent).bind(this);\r\n            node.addEventListener(\"modelchange\", listener);\r\n            reference = { listener, options };\r\n            references.set(node, reference);\r\n        }\r\n        else {\r\n            references.set(node, reference);\r\n        }\r\n    }\r\n    unobserve(node) {\r\n        const references = __classPrivateFieldGet(this, _ModelChangeObserverBase_references, \"f\");\r\n        let reference = references.get(node);\r\n        if (reference) {\r\n            const { listener } = reference;\r\n            node.removeEventListener(\"modelchange\", listener);\r\n        }\r\n    }\r\n    disconnect() {\r\n        __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").splice(0);\r\n        __classPrivateFieldSet(this, _ModelChangeObserverBase_disconnected, true, \"f\");\r\n    }\r\n}\r\n_ModelChangeObserverBase_callback = new WeakMap(), _ModelChangeObserverBase_records = new WeakMap(), _ModelChangeObserverBase_disconnected = new WeakMap(), _ModelChangeObserverBase_references = new WeakMap(), _ModelChangeObserverBase_instances = new WeakSet(), _ModelChangeObserverBase_trigger = function _ModelChangeObserverBase_trigger() {\r\n    const records = __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").splice(0);\r\n    if (records.length > 0) {\r\n        __classPrivateFieldGet(this, _ModelChangeObserverBase_callback, \"f\").call(this, records);\r\n    }\r\n}, _ModelChangeObserverBase_handleModelEvent = function _ModelChangeObserverBase_handleModelEvent(event) {\r\n    if (!__classPrivateFieldGet(this, _ModelChangeObserverBase_disconnected, \"f\")) {\r\n        const { target, currentTarget } = event;\r\n        const reference = __classPrivateFieldGet(this, _ModelChangeObserverBase_references, \"f\").get(currentTarget);\r\n        if (reference) {\r\n            const { options } = reference;\r\n            const { properties, propertiesFilter, childList, subtree } = options;\r\n            if (subtree) {\r\n                if (properties && target instanceof ModelNode) {\r\n                    if (propertiesFilter) {\r\n                        __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords()\r\n                            .filter(record_i => {\r\n                            const { propertyName } = record_i;\r\n                            return propertiesFilter.includes(propertyName);\r\n                        }));\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords());\r\n                    }\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_instances, \"m\", _ModelChangeObserverBase_trigger).call(this);\r\n                }\r\n                else if (childList && target instanceof ModelList) {\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords());\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_instances, \"m\", _ModelChangeObserverBase_trigger).call(this);\r\n                }\r\n            }\r\n            else if (target == currentTarget) {\r\n                if (properties && target instanceof ModelNode) {\r\n                    if (propertiesFilter) {\r\n                        __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords()\r\n                            .filter(record_i => {\r\n                            const { propertyName } = record_i;\r\n                            return propertiesFilter.includes(propertyName);\r\n                        }));\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords());\r\n                    }\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_instances, \"m\", _ModelChangeObserverBase_trigger).call(this);\r\n                }\r\n                else if (childList && target instanceof ModelList) {\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_records, \"f\").push(...target.getRecords());\r\n                    __classPrivateFieldGet(this, _ModelChangeObserverBase_instances, \"m\", _ModelChangeObserverBase_trigger).call(this);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nvar ModelChangeObserver = ModelChangeObserverBase;\r\n//# sourceMappingURL=Model.js.map","export { snakeToCamel };\r\nexport { camelToSnake };\r\nexport { trainToCamel };\r\nexport { camelToTrain };\r\nfunction snakeToCamel(str) {\r\n    return str.split('_').map(str => str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\nfunction camelToSnake(str) {\r\n    return str.replace(/(?<!^)(?=[A-Z])/g, '_').toLowerCase();\r\n}\r\nfunction trainToCamel(str) {\r\n    return str.split('-').map(str => str.charAt(0).toUpperCase() + str.substring(1).toLowerCase()).join(\"\");\r\n}\r\nfunction camelToTrain(str) {\r\n    return str.replace(/(?<!^)(?=[A-Z])/g, '-').toLowerCase();\r\n}\r\n//# sourceMappingURL=Snippets.js.map","import { ModelChangeObserver } from \"../models/Model\";\r\nimport { camelToTrain } from \"./Snippets\";\r\n/*\r\nexport { subtreeNodes };\r\nexport { ancestorNodes };*/\r\nexport { CustomElement };\r\nexport { QueryProperty };\r\nexport { QueryAllProperty };\r\nexport { AttributeProperty };\r\nexport { reactiveElement };\r\nexport { reactiveChildElements };\r\nexport { element };\r\nexport { fragment };\r\nexport { textNode };\r\nexport { areAttributesMatching };\r\nexport { AttributeMutationMixinBase };\r\nexport { trimMultilineIndent };\r\nexport { Stylesheet };\r\nconst AttributeProperty = function (init) {\r\n    return (target, property) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(property);\r\n        const { defaultValue = null, observed = false, name = camelToTrain(propertyName) } = init;\r\n        if (observed) {\r\n            const observedAttributes = Reflect.get(constructor, \"observedAttributes\", constructor);\r\n            if (Array.isArray(observedAttributes)) {\r\n                observedAttributes.push(name);\r\n            }\r\n            else {\r\n                Object.defineProperty(constructor, \"observedAttributes\", {\r\n                    value: [name],\r\n                    writable: false\r\n                });\r\n            }\r\n        }\r\n        const { type } = init;\r\n        switch (type) {\r\n            case Boolean: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        return this.hasAttribute(name);\r\n                    },\r\n                    set: function (value) {\r\n                        if (value) {\r\n                            this.setAttribute(name, \"\");\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Object: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? JSON.parse(val) : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, JSON.stringify(value));\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case Number: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? parseFloat(val) : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case String:\r\n            default: {\r\n                Object.defineProperty(prototype, propertyName, {\r\n                    get: function () {\r\n                        const val = this.getAttribute(name);\r\n                        return (val !== null) ? val : defaultValue;\r\n                    },\r\n                    set: function (value) {\r\n                        if (value !== null) {\r\n                            this.setAttribute(name, value);\r\n                        }\r\n                        else {\r\n                            this.removeAttribute(name);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    };\r\n};\r\nfunction Stylesheet(text) {\r\n    const stylesheet = new CSSStyleSheet();\r\n    stylesheet.replaceSync(text);\r\n    return stylesheet;\r\n}\r\nfunction trimMultilineIndent(text) {\r\n    const newlineIndex = text.indexOf(\"\\n\");\r\n    text = text.substring(newlineIndex + 1);\r\n    const indentMatch = text.match(/^[\\s]*/);\r\n    if (indentMatch) {\r\n        const indent = text.substring(0, indentMatch[0].length);\r\n        text = text.replaceAll(indent, \"\").trimEnd();\r\n    }\r\n    return text;\r\n}\r\nconst CustomElement = function (init) {\r\n    return (elementCtor) => {\r\n        const { name, options } = init;\r\n        if (!customElements.get(name)) {\r\n            customElements.define(name, elementCtor, options);\r\n        }\r\n        return elementCtor;\r\n    };\r\n};\r\nconst QueryProperty = function (init) {\r\n    return (target, propertyKey) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const { selector } = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function () {\r\n            return this.shadowRoot.querySelector(selector);\r\n        } : function () {\r\n            return this.querySelector(selector);\r\n        };\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    };\r\n};\r\nconst QueryAllProperty = function (init) {\r\n    return (target, propertyKey) => {\r\n        const { constructor } = target;\r\n        const { prototype } = constructor;\r\n        const propertyName = String(propertyKey);\r\n        const { selector } = init;\r\n        const withinShadowRoot = init.withinShadowRoot ?? false;\r\n        const getter = withinShadowRoot ? function () {\r\n            return Array.from(this.shadowRoot.querySelectorAll(selector));\r\n        } : function () {\r\n            return Array.from(this.querySelectorAll(selector));\r\n        };\r\n        Object.defineProperty(prototype, propertyName, {\r\n            get: getter\r\n        });\r\n    };\r\n};\r\nfunction fragment(...nodes) {\r\n    const fragment = document.createDocumentFragment();\r\n    fragment.append(...nodes);\r\n    return fragment;\r\n}\r\nfunction textNode(text) {\r\n    return document.createTextNode(text);\r\n}\r\nfunction element(tagName, init) {\r\n    if (init) {\r\n        const { options, attributes, dataset, children, listeners } = init;\r\n        const element = document.createElement(tagName, options);\r\n        if (attributes) {\r\n            Object.entries(attributes).forEach(([attributeName, attributeValue]) => {\r\n                if (attributeValue !== undefined) {\r\n                    if (typeof attributeValue === \"boolean\") {\r\n                        element.toggleAttribute(camelToTrain(attributeName), attributeValue);\r\n                    }\r\n                    else {\r\n                        element.setAttribute(camelToTrain(attributeName), String(attributeValue));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (dataset) {\r\n            const { dataset: elementDataset } = element;\r\n            Object.keys(dataset).forEach((datasetEntry_i) => {\r\n                elementDataset[datasetEntry_i] = String(dataset[datasetEntry_i]);\r\n            });\r\n        }\r\n        if (children) {\r\n            if (typeof children === \"function\") {\r\n                element.append(...children(element));\r\n            }\r\n            else if (typeof children === \"object\" && \"length\" in children) {\r\n                element.append(...Array.from(children));\r\n            }\r\n            else {\r\n                element.append(children);\r\n            }\r\n        }\r\n        if (listeners) {\r\n            Object.entries(listeners).forEach(([name_i, listener_i]) => {\r\n                if (Array.isArray(listener_i)) {\r\n                    element.addEventListener(name_i, listener_i[0], listener_i[1]);\r\n                }\r\n                else {\r\n                    element.addEventListener(name_i, listener_i);\r\n                }\r\n            });\r\n        }\r\n        return element;\r\n    }\r\n    return document.createElement(tagName);\r\n}\r\nconst reactiveElementsMap = new WeakMap();\r\nconst reactiveElementsFinalizationRegistry = new FinalizationRegistry((heldValue) => {\r\n    const { model, reactiveElement } = heldValue;\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    if (reactiveElementsMapEntry !== undefined) {\r\n        const { reactiveElementsArray } = reactiveElementsMapEntry;\r\n        reactiveElementsArray.splice(reactiveElementsArray.indexOf(reactiveElement), 1);\r\n    }\r\n});\r\nconst reactiveElementsPropertyObserver = new ModelChangeObserver((records) => {\r\n    records.forEach((record_i) => {\r\n        const { target, propertyName, oldValue, newValue } = record_i;\r\n        const { reactiveElementsArray } = reactiveElementsMap.get(target);\r\n        reactiveElementsArray.forEach(reactiveElement_i => {\r\n            const { elementRef, react, properties } = reactiveElement_i;\r\n            const element = elementRef.deref();\r\n            if (element) {\r\n                if (properties.includes(propertyName)) {\r\n                    react(element, propertyName, oldValue, newValue);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\nfunction reactiveElement(model, element, properties, react) {\r\n    const elementRef = new WeakRef(element);\r\n    const reactiveElement = { elementRef, react, properties };\r\n    const reactiveElementsMapEntry = reactiveElementsMap.get(model);\r\n    reactiveElementsFinalizationRegistry.register(element, { model, reactiveElement });\r\n    if (!reactiveElementsMapEntry) {\r\n        const observerOptions = {\r\n            properties: true,\r\n            propertiesFilter: properties\r\n        };\r\n        const reactiveElementsArray = [reactiveElement];\r\n        reactiveElementsMap.set(model, { observerOptions, reactiveElementsArray });\r\n        reactiveElementsPropertyObserver.observe(model, observerOptions);\r\n    }\r\n    else {\r\n        const { reactiveElementsArray, observerOptions } = reactiveElementsMapEntry;\r\n        const { propertiesFilter } = observerOptions;\r\n        reactiveElementsArray.push(reactiveElement);\r\n        observerOptions.propertiesFilter = propertiesFilter ?\r\n            propertiesFilter.concat(properties.filter(property_i => !propertiesFilter.includes(property_i))) : properties.filter((property_i, i, properties) => properties.indexOf(property_i) === i);\r\n    }\r\n    properties.forEach((property_i) => {\r\n        if (property_i in model) {\r\n            const value = Reflect.get(model, property_i, model);\r\n            if (value !== undefined) {\r\n                react(element, property_i, undefined, value);\r\n            }\r\n        }\r\n    });\r\n    return element;\r\n}\r\nconst reactiveChildElementsMap = new WeakMap();\r\nconst reactiveChildElementsFinalizationRegistry = new FinalizationRegistry((heldValue) => {\r\n    const { list, reactiveChildElement } = heldValue;\r\n    const reactiveChildrenElementsMapEntry = reactiveChildElementsMap.get(list);\r\n    if (reactiveChildrenElementsMapEntry) {\r\n        const { reactiveChildElementsArray } = reactiveChildrenElementsMapEntry;\r\n        reactiveChildElementsArray.splice(reactiveChildElementsArray.indexOf(reactiveChildElement), 1);\r\n    }\r\n});\r\nconst reactiveChildElementsObserver = new ModelChangeObserver((records) => {\r\n    let range = null;\r\n    Array.from(records.values()).forEach((record_i) => {\r\n        const { target } = record_i;\r\n        const list = target;\r\n        const { length: listLength } = list;\r\n        const { reactiveChildElementsArray } = reactiveChildElementsMap.get(list);\r\n        reactiveChildElementsArray.forEach((reactiveChildElements_i) => {\r\n            const { parentRef, mapping, placeholder } = reactiveChildElements_i;\r\n            const parent = parentRef.deref();\r\n            if (parent) {\r\n                const { firstChild, children } = parent;\r\n                const { length: childrenCount } = children;\r\n                if (placeholder && listLength > 0 && firstChild == placeholder) {\r\n                    parent.removeChild(placeholder);\r\n                }\r\n                const { changeType, LIST_INSERT, LIST_REMOVE, LIST_SORT } = record_i;\r\n                switch (changeType) {\r\n                    case LIST_INSERT: {\r\n                        const { insertedIndex, insertedItems } = record_i;\r\n                        const insertedItemsArray = Array.from(insertedItems.values()).map(mapping);\r\n                        const { length: childrenCount } = children;\r\n                        if (insertedIndex < childrenCount) {\r\n                            children[insertedIndex].before(...insertedItemsArray);\r\n                        }\r\n                        else {\r\n                            parent.append(...insertedItemsArray);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_REMOVE: {\r\n                        const { removedIndex, removedItems } = record_i;\r\n                        const { length: removedCount } = removedItems;\r\n                        range = range ?? document.createRange();\r\n                        const removeEndIndex = removedIndex + (removedCount - 1);\r\n                        if (removeEndIndex < childrenCount) {\r\n                            range.setStartBefore(children[removedIndex]);\r\n                            range.setEndAfter(children[removeEndIndex]);\r\n                            range.deleteContents();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case LIST_SORT: {\r\n                        const { sortedIndices } = record_i;\r\n                        const childrenArray = Array.from(children);\r\n                        parent.append(...sortedIndices.filter(index_i => index_i < childrenCount).map(index_i => childrenArray[index_i]));\r\n                        break;\r\n                    }\r\n                }\r\n                if (listLength == 0 && placeholder) {\r\n                    parent.append(placeholder);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\nfunction reactiveChildElements(list, mapping, placeholder) {\r\n    return (parent) => {\r\n        const parentRef = new WeakRef(parent);\r\n        const reactiveChildElementsMapEntry = reactiveChildElementsMap.get(list);\r\n        const reactiveChildElement = { parentRef, mapping, placeholder };\r\n        reactiveChildElementsFinalizationRegistry.register(parent, { list, reactiveChildElement });\r\n        if (!reactiveChildElementsMapEntry) {\r\n            const reactiveChildElementsArray = [reactiveChildElement];\r\n            reactiveChildElementsMap.set(list, { reactiveChildElementsArray });\r\n            reactiveChildElementsObserver.observe(list, {\r\n                childList: true\r\n            });\r\n        }\r\n        else {\r\n            const { reactiveChildElementsArray } = reactiveChildElementsMapEntry;\r\n            reactiveChildElementsArray.push(reactiveChildElement);\r\n        }\r\n        return list.length == 0 && placeholder ?\r\n            [placeholder] : Array.from(list.values()).map(mapping);\r\n    };\r\n}\r\nfunction areAttributesMatching(referenceAttributeType, referenceAttributeName, referenceAttributeValue, attributeName, attributeValue) {\r\n    if (referenceAttributeName == attributeName) {\r\n        switch (referenceAttributeType) {\r\n            case \"boolean\":\r\n                return referenceAttributeValue == \"\" && attributeValue == \"\";\r\n            case \"string\":\r\n                return referenceAttributeValue !== \"\" && (referenceAttributeValue == attributeValue);\r\n            case \"list\":\r\n                return (referenceAttributeValue !== \"\" && attributeValue !== null) && new RegExp(`${referenceAttributeValue}\\s*?`, \"g\").test(attributeValue);\r\n        }\r\n    }\r\n    return false;\r\n}\r\nclass AttributeMutationMixinBase {\r\n    constructor(attributeName, attributeType = \"boolean\", attributeValue = \"\") {\r\n        this.attributeName = attributeName;\r\n        this.attributeType = attributeType;\r\n        this.attributeValue = attributeValue;\r\n    }\r\n    attach() {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n    detach() {\r\n        throw new TypeError(\"Not implemented method.\");\r\n    }\r\n}\r\n//# sourceMappingURL=Element.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element, AttributeProperty } from \"../../Element\";\r\nexport { HTMLEGridCellElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridCellElementBase = class HTMLEGridCellElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"headers\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridCellElementBase.prototype, \"type\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEGridCellElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridCellElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridCellElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEGridCellElementBase.prototype, \"selected\", void 0);\r\nHTMLEGridCellElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridcell\"\r\n    })\r\n], HTMLEGridCellElementBase);\r\nvar HTMLEGridCellElement = HTMLEGridCellElementBase;\r\n//# sourceMappingURL=GridCell.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEGridRowGroupElementBase_instances, _HTMLEGridRowGroupElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nexport { HTMLEGridRowGroupElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridRowGroupElementBase = class HTMLEGridRowGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEGridRowGroupElementBase_instances.add(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEGridRowGroupElementBase_instances, \"m\", _HTMLEGridRowGroupElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n};\r\n_HTMLEGridRowGroupElementBase_instances = new WeakSet(), _HTMLEGridRowGroupElementBase_handleSlotChangeEvent = function _HTMLEGridRowGroupElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedItems = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n    assignedItems.forEach((item_i, i) => {\r\n        item_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: table-row-group;\r\n                            /*display: flex;\r\n                            flex-direction: column;*/\r\n                        }\r\n                    `\r\n        ]\r\n    }), element(\"slot\"));\r\n})();\r\nHTMLEGridRowGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridrowgroup\"\r\n    })\r\n], HTMLEGridRowGroupElementBase);\r\nvar HTMLEGridRowGroupElement = HTMLEGridRowGroupElementBase;\r\n//# sourceMappingURL=GridRowGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEMenuItemElementBase_instances, _HTMLEMenuItemElementBase_positionMenu;\r\nimport { CustomElement, AttributeProperty, QueryProperty, element } from \"../../Element\";\r\nexport { HTMLEMenuItemElement };\r\nexport { EMenuItem };\r\nvar shadowTemplate;\r\nlet HTMLEMenuItemElementBase = class HTMLEMenuItemElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEMenuItemElementBase_instances.add(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        const internals = this.attachInternals();\r\n        this.internals = internals;\r\n        internals.role = \"menuitem\";\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(attributeName, oldValue, newValue) {\r\n        const { internals } = this;\r\n        switch (attributeName) {\r\n            case \"type\": {\r\n                switch (newValue) {\r\n                    case \"checkbox\":\r\n                    case \"radio\": {\r\n                        internals.role = `menuitem${newValue}`;\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        internals.role = \"menuitem\";\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"checked\": {\r\n                internals.ariaChecked = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"disabled\": {\r\n                internals.ariaDisabled = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"expanded\": {\r\n                internals.ariaExpanded = String(newValue !== null);\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                internals.ariaLabel = newValue;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    toggle(force) {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                const expand = force ?? !expanded;\r\n                this.expanded = expand;\r\n                if (expand) {\r\n                    __classPrivateFieldGet(this, _HTMLEMenuItemElementBase_instances, \"m\", _HTMLEMenuItemElementBase_positionMenu).call(this);\r\n                }\r\n                this.dispatchEvent(new Event(\"toggle\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    expand() {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (!expanded) {\r\n                    this.expanded = true;\r\n                    __classPrivateFieldGet(this, _HTMLEMenuItemElementBase_instances, \"m\", _HTMLEMenuItemElementBase_positionMenu).call(this);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    collapse() {\r\n        const { type, expanded } = this;\r\n        switch (type) {\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                if (expanded) {\r\n                    this.expanded = false;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n_HTMLEMenuItemElementBase_instances = new WeakSet(), _HTMLEMenuItemElementBase_positionMenu = function _HTMLEMenuItemElementBase_positionMenu() {\r\n    const { menu } = this;\r\n    if (menu !== null) {\r\n        const { style: menuStyle } = menu;\r\n        const { top: itemTop, bottom: itemBottom, left: itemLeft, right: itemRight } = this.getBoundingClientRect();\r\n        const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n        const { scrollY, scrollX } = window;\r\n        const { clientWidth, clientHeight } = document.body;\r\n        const { type } = this;\r\n        if (type == \"menu\") {\r\n            const overflowX = itemRight + menuWidth - clientWidth;\r\n            const overflowY = itemTop + menuHeight - clientHeight;\r\n            menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                scrollX + itemRight - menuWidth :\r\n                scrollX + itemLeft}px`);\r\n            menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                scrollY + itemTop - menuHeight :\r\n                scrollY + itemBottom}px`);\r\n        }\r\n        else {\r\n            const closestMenu = this.closest(\"e-menu\");\r\n            if (closestMenu !== null) {\r\n                const { top: closestMenuTop, left: closestMenuLeft } = closestMenu.getBoundingClientRect();\r\n                const overflowX = itemRight + menuWidth - clientWidth;\r\n                const overflowY = itemTop + menuHeight - clientHeight;\r\n                menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                    itemLeft - menuWidth - closestMenuLeft :\r\n                    itemRight - closestMenuLeft}px`);\r\n                menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                    itemBottom - menuHeight - closestMenuTop :\r\n                    itemTop - closestMenuTop}px`);\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"span\", {\r\n        attributes: {\r\n            part: \"icon\"\r\n        }\r\n    }), element(\"span\", {\r\n        attributes: {\r\n            part: \"label\"\r\n        },\r\n        children: [\r\n            element(\"slot\")\r\n        ]\r\n    }), element(\"span\", {\r\n        attributes: {\r\n            part: \"arrow\"\r\n        }\r\n    }), element(\"slot\", {\r\n        attributes: {\r\n            name: \"menu\"\r\n        }\r\n    }));\r\n})();\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu]\" })\r\n], HTMLEMenuItemElementBase.prototype, \"menu\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemElementBase.prototype, \"hotkey\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"checked\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuItemElementBase.prototype, \"overflown\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"button\", observed: true })\r\n], HTMLEMenuItemElementBase.prototype, \"type\", void 0);\r\nHTMLEMenuItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menuitem\"\r\n    })\r\n], HTMLEMenuItemElementBase);\r\nvar HTMLEMenuItemElement = HTMLEMenuItemElementBase;\r\nvar EMenuItem = Object.assign(function (init) {\r\n    const { label, name, type, value, trigger, menu } = init;\r\n    if (menu) {\r\n        menu.slot = \"menu\";\r\n    }\r\n    return element(\"e-menuitem\", {\r\n        attributes: {\r\n            tabindex: -1,\r\n            title: label,\r\n            name: name,\r\n            value: value,\r\n            type: type\r\n        },\r\n        children: menu ? [\r\n            label,\r\n            menu\r\n        ] : [\r\n            label\r\n        ],\r\n        listeners: {\r\n            click: trigger\r\n        }\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuItemElement.prototype,\r\n    button(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"button\"\r\n        });\r\n    },\r\n    checkbox(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"checkbox\"\r\n        });\r\n    },\r\n    radio(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"radio\"\r\n        });\r\n    },\r\n    menu(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"menu\"\r\n        });\r\n    },\r\n    submenu(init) {\r\n        return new EMenuItem({\r\n            ...init, type: \"submenu\"\r\n        });\r\n    }\r\n});\r\n//# sourceMappingURL=MenuItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, CustomElement, AttributeProperty } from \"../../Element\";\r\nimport { EMenuItem } from \"./MenuItem\";\r\nexport { HTMLEMenuItemGroupElement };\r\nexport { EMenuItemGroup };\r\nvar shadowTemplate;\r\nlet HTMLEMenuItemGroupElementBase = class HTMLEMenuItemGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        const internals = this.attachInternals();\r\n        internals.role = \"group\";\r\n        this.internals = internals;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        const { internals } = this;\r\n        switch (name) {\r\n            case \"label\":\r\n                internals.ariaLabel = newValue;\r\n                break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"span\", {\r\n        attributes: {\r\n            part: \"label\"\r\n        }\r\n    }), element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuItemGroupElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEMenuItemGroupElementBase.prototype, \"label\", void 0);\r\nHTMLEMenuItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menuitemgroup\"\r\n    })\r\n], HTMLEMenuItemGroupElementBase);\r\nvar HTMLEMenuItemGroupElement = HTMLEMenuItemGroupElementBase;\r\nvar EMenuItemGroup = Object.assign(function (init) {\r\n    const { name, items } = init;\r\n    return element(\"e-menuitemgroup\", {\r\n        attributes: {\r\n            name: name\r\n        },\r\n        children: items\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuItemGroupElement.prototype,\r\n    radios: (init) => {\r\n        const { name, items } = init;\r\n        return element(\"e-menuitemgroup\", {\r\n            attributes: {\r\n                name: name\r\n            },\r\n            children: items.map(({ label, value }) => new EMenuItem({ name, label, type: \"radio\", value }))\r\n        });\r\n    }\r\n});\r\n//# sourceMappingURL=MenuItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEMenuElementBase_instances, _HTMLEMenuElementBase_walker, _HTMLEMenuElementBase_activeIndex, _HTMLEMenuElementBase_collapseSubmenus, _HTMLEMenuElementBase_nearestItem, _HTMLEMenuElementBase_walkerNodeFilter, _HTMLEMenuElementBase_lastItem, _HTMLEMenuElementBase_previousItem, _HTMLEMenuElementBase_nextItem, _HTMLEMenuElementBase_firstChildItem, _HTMLEMenuElementBase_setActiveItem, _HTMLEMenuElementBase_handleClickEvent, _HTMLEMenuElementBase_handleFocusInEvent, _HTMLEMenuElementBase_handleFocusOutEvent, _HTMLEMenuElementBase_handleKeyDownEvent, _HTMLEMenuElementBase_handleMouseOutEvent, _HTMLEMenuElementBase_handleMouseOverEvent;\r\nvar HTMLEMenuElementBase_1;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEMenuItemElement } from \"./MenuItem\";\r\nimport { HTMLEMenuItemGroupElement } from \"./MenuItemGroup\";\r\nexport { HTMLEMenuElement };\r\nexport { EMenu };\r\nvar shadowTemplate;\r\nvar toggleAnimations;\r\nvar HIDE_DELAY_MS = 200;\r\nvar SHOW_DELAY_MS = 400;\r\nlet HTMLEMenuElementBase = HTMLEMenuElementBase_1 = class HTMLEMenuElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEMenuElementBase_instances.add(this);\r\n        _HTMLEMenuElementBase_walker.set(this, void 0);\r\n        _HTMLEMenuElementBase_activeIndex.set(this, void 0);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        __classPrivateFieldSet(this, _HTMLEMenuElementBase_activeIndex, -1, \"f\");\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        __classPrivateFieldSet(this, _HTMLEMenuElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_walkerNodeFilter).bind(this)), \"f\");\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleMouseOverEvent).bind(this));\r\n        this.addEventListener(\"mouseout\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleMouseOutEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_handleKeyDownEvent).bind(this));\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n    }\r\n    get activeIndex() {\r\n        return __classPrivateFieldGet(this, _HTMLEMenuElementBase_activeIndex, \"f\");\r\n    }\r\n    get activeItem() {\r\n        const { activeIndex } = this;\r\n        return (this.querySelector(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within\") ?? activeIndex > -1) ? this.items()[activeIndex] ?? null : null;\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    positionContextual(x, y) {\r\n        const { style } = this;\r\n        const { width: menuWidth, height: menuHeight } = this.getBoundingClientRect();\r\n        const { scrollX, scrollY } = window;\r\n        const left = x + scrollX;\r\n        const top = y + scrollY;\r\n        const { clientWidth, clientHeight } = document.body;\r\n        const overflowX = left + menuWidth - clientWidth;\r\n        const overflowY = top + menuHeight - clientHeight;\r\n        style.setProperty(\"left\", `${overflowX > 0 ? left - menuWidth : left}px`);\r\n        style.setProperty(\"top\", `${overflowY > 0 ? top - menuHeight : top}px`);\r\n    }\r\n    firstItem() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEMenuElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n};\r\n_HTMLEMenuElementBase_walker = new WeakMap(), _HTMLEMenuElementBase_activeIndex = new WeakMap(), _HTMLEMenuElementBase_instances = new WeakSet(), _HTMLEMenuElementBase_collapseSubmenus = function _HTMLEMenuElementBase_collapseSubmenus() {\r\n    this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]\")\r\n        .forEach((item_i) => {\r\n        item_i.collapse();\r\n    });\r\n}, _HTMLEMenuElementBase_nearestItem = function _HTMLEMenuElementBase_nearestItem(target) {\r\n    return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\")).find(item_i => item_i.contains(target)) ?? null;\r\n}, _HTMLEMenuElementBase_walkerNodeFilter = function _HTMLEMenuElementBase_walkerNodeFilter(node) {\r\n    if (node instanceof HTMLEMenuItemElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEMenuItemGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEMenuElementBase_lastItem = function _HTMLEMenuElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.lastChild();\r\n}, _HTMLEMenuElementBase_previousItem = function _HTMLEMenuElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.previousNode();\r\n}, _HTMLEMenuElementBase_nextItem = function _HTMLEMenuElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.nextNode();\r\n}, _HTMLEMenuElementBase_firstChildItem = function _HTMLEMenuElementBase_firstChildItem(item) {\r\n    const { menu } = item;\r\n    return menu instanceof HTMLEMenuElementBase_1 ?\r\n        menu.firstItem() :\r\n        null;\r\n}, _HTMLEMenuElementBase_setActiveItem = function _HTMLEMenuElementBase_setActiveItem(item) {\r\n    if (item !== null) {\r\n        __classPrivateFieldSet(this, _HTMLEMenuElementBase_activeIndex, this.items().indexOf(item), \"f\");\r\n    }\r\n}, _HTMLEMenuElementBase_handleClickEvent = function _HTMLEMenuElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-menuitem\");\r\n    if (targetItem) {\r\n        const { type, checked } = targetItem;\r\n        switch (type) {\r\n            case \"checkbox\": {\r\n                targetItem.checked = !checked;\r\n                break;\r\n            }\r\n            case \"radio\": {\r\n                const { name, value } = targetItem;\r\n                targetItem.checked = true;\r\n                this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${name}]`)\r\n                    .forEach((radio_i) => {\r\n                    radio_i.checked = radio_i.value == value;\r\n                });\r\n                break;\r\n            }\r\n            case \"menu\":\r\n            case \"submenu\": {\r\n                targetItem.toggle();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEMenuElementBase_handleFocusInEvent = function _HTMLEMenuElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEMenuItemElement) {\r\n        const nearestItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_nearestItem).call(this, target);\r\n        if (nearestItem) {\r\n            __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_setActiveItem).call(this, nearestItem);\r\n        }\r\n    }\r\n}, _HTMLEMenuElementBase_handleFocusOutEvent = function _HTMLEMenuElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        const { contextual } = this;\r\n        if (contextual) {\r\n            try {\r\n                this.remove();\r\n            }\r\n            catch (error) { }\r\n            ;\r\n        }\r\n        else {\r\n            const { activeItem } = this;\r\n            if (activeItem?.expanded) {\r\n                activeItem.collapse();\r\n            }\r\n            __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_setActiveItem).call(this, null);\r\n        }\r\n    }\r\n}, _HTMLEMenuElementBase_handleKeyDownEvent = function _HTMLEMenuElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { activeItem } = this;\r\n    switch (key) {\r\n        case \"ArrowUp\": {\r\n            const previousItem = activeItem ?\r\n                __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_previousItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_lastItem).call(this) :\r\n                this.firstItem();\r\n            previousItem?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            const nextItem = activeItem ?\r\n                __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_nextItem).call(this, activeItem) ?? this.firstItem() :\r\n                this.firstItem();\r\n            nextItem?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstItem = this.firstItem();\r\n            firstItem?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_lastItem).call(this);\r\n            lastItem?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\":\r\n        case \" \": {\r\n            if (activeItem) {\r\n                const { type } = activeItem;\r\n                switch (type) {\r\n                    case \"menu\":\r\n                    case \"submenu\": {\r\n                        activeItem.expand();\r\n                        if (activeItem.expanded) {\r\n                            const firstChildItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_firstChildItem).call(this, activeItem);\r\n                            firstChildItem?.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        activeItem.click();\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n            }\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            if (activeItem) {\r\n                const isClosestTargetMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                if (!isClosestTargetMenu) {\r\n                    activeItem.collapse();\r\n                    activeItem.focus({ preventScroll: true });\r\n                    event.stopPropagation();\r\n                }\r\n                else {\r\n                    const { contextual } = this;\r\n                    if (contextual) {\r\n                        this.blur();\r\n                        this.dispatchEvent(new Event(\"close\", { bubbles: true }));\r\n                        event.stopPropagation();\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowLeft\": {\r\n            if (activeItem) {\r\n                const isClosestTargetMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n                if (!isClosestTargetMenu) {\r\n                    activeItem.collapse();\r\n                    activeItem.focus({ preventScroll: true });\r\n                    event.stopPropagation();\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            if (activeItem) {\r\n                const { type } = activeItem;\r\n                switch (type) {\r\n                    case \"submenu\": {\r\n                        if (!activeItem.expanded) {\r\n                            activeItem.expand();\r\n                            const firstChildItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_firstChildItem).call(this, activeItem);\r\n                            firstChildItem?.focus({ preventScroll: true });\r\n                            event.stopPropagation();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLEMenuElementBase_handleMouseOutEvent = function _HTMLEMenuElementBase_handleMouseOutEvent(event) {\r\n    const { target, relatedTarget } = event;\r\n    if (target instanceof HTMLEMenuItemElement) {\r\n        const nearestItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_nearestItem).call(this, target);\r\n        if (nearestItem !== null) {\r\n            if (nearestItem.type == \"submenu\" &&\r\n                !nearestItem.expanded) {\r\n                toggleAnimations.get(nearestItem)?.cancel();\r\n            }\r\n            const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n            if (isTargetClosestMenu) {\r\n                const { activeItem } = this;\r\n                if (activeItem?.type == \"submenu\" &&\r\n                    activeItem.expanded) {\r\n                    let toggleAnimation = toggleAnimations.get(activeItem);\r\n                    if (toggleAnimation) {\r\n                        toggleAnimation.cancel();\r\n                    }\r\n                    toggleAnimation = activeItem.animate(null, {\r\n                        duration: HIDE_DELAY_MS\r\n                    });\r\n                    toggleAnimations.set(activeItem, toggleAnimation);\r\n                    const { finished } = toggleAnimation;\r\n                    finished\r\n                        .then(() => {\r\n                        activeItem.collapse();\r\n                    })\r\n                        .catch(() => undefined)\r\n                        .finally(() => {\r\n                        toggleAnimations.delete(activeItem);\r\n                    });\r\n                }\r\n                const { clientX, clientY } = event;\r\n                const { left, right, top, bottom } = this.getBoundingClientRect();\r\n                const intersectsWithMouse = !(left > clientX || right < clientX || top > clientY || bottom < clientY);\r\n                const containsRelatedTarget = this.contains(relatedTarget);\r\n                if (intersectsWithMouse && containsRelatedTarget) {\r\n                    if (relatedTarget instanceof HTMLEMenuElement && relatedTarget !== this) {\r\n                        relatedTarget.focus({ preventScroll: true });\r\n                    }\r\n                    else {\r\n                        this.focus({ preventScroll: true });\r\n                        __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_setActiveItem).call(this, null);\r\n                    }\r\n                }\r\n                if (!intersectsWithMouse) {\r\n                    this.focus({ preventScroll: true });\r\n                    __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_setActiveItem).call(this, null);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEMenuElementBase_handleMouseOverEvent = function _HTMLEMenuElementBase_handleMouseOverEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEMenuItemElement) {\r\n        const nearestItem = __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_nearestItem).call(this, target);\r\n        if (nearestItem !== null) {\r\n            if (nearestItem.type === \"submenu\" && nearestItem.expanded) {\r\n                toggleAnimations.get(nearestItem)?.cancel();\r\n            }\r\n            const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLEMenuElement) == this;\r\n            if (isTargetClosestMenu) {\r\n                const { activeItem } = this;\r\n                if (activeItem?.type === \"submenu\" &&\r\n                    activeItem.expanded &&\r\n                    !activeItem.contains(target)) {\r\n                    let toggleAnimation = toggleAnimations.get(activeItem);\r\n                    if (toggleAnimation) {\r\n                        toggleAnimation.cancel();\r\n                    }\r\n                    toggleAnimation = activeItem.animate(null, {\r\n                        duration: SHOW_DELAY_MS\r\n                    });\r\n                    toggleAnimations.set(activeItem, toggleAnimation);\r\n                    const { finished } = toggleAnimation;\r\n                    finished\r\n                        .then(() => {\r\n                        activeItem.collapse();\r\n                    })\r\n                        .catch(() => undefined)\r\n                        .finally(() => {\r\n                        toggleAnimations.delete(activeItem);\r\n                    });\r\n                }\r\n                __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_setActiveItem).call(this, nearestItem);\r\n                nearestItem.focus({ preventScroll: true });\r\n                if (nearestItem.type === \"submenu\") {\r\n                    if (!nearestItem.expanded) {\r\n                        let toggleAnimation = toggleAnimations.get(nearestItem);\r\n                        if (toggleAnimation) {\r\n                            toggleAnimation.cancel();\r\n                        }\r\n                        toggleAnimation = nearestItem.animate(null, {\r\n                            duration: HIDE_DELAY_MS\r\n                        });\r\n                        toggleAnimations.set(nearestItem, toggleAnimation);\r\n                        const { finished } = toggleAnimation;\r\n                        finished\r\n                            .then(() => {\r\n                            const { activeItem } = this;\r\n                            __classPrivateFieldGet(this, _HTMLEMenuElementBase_instances, \"m\", _HTMLEMenuElementBase_collapseSubmenus).call(this);\r\n                            if (activeItem) {\r\n                                toggleAnimations.get(activeItem)?.cancel();\r\n                                activeItem.expand();\r\n                                activeItem.menu?.focus({ preventScroll: true });\r\n                            }\r\n                        })\r\n                            .catch(() => undefined)\r\n                            .finally(() => {\r\n                            toggleAnimations.delete(nearestItem);\r\n                        });\r\n                    }\r\n                    else {\r\n                        nearestItem.menu?.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n    toggleAnimations = new WeakMap();\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuElementBase.prototype, \"contextual\", void 0);\r\nHTMLEMenuElementBase = HTMLEMenuElementBase_1 = __decorate([\r\n    CustomElement({\r\n        name: \"e-menu\"\r\n    })\r\n], HTMLEMenuElementBase);\r\nvar HTMLEMenuElement = HTMLEMenuElementBase;\r\nvar EMenu = Object.assign(function (init) {\r\n    const { name, children } = init;\r\n    return element(\"e-menu\", {\r\n        attributes: {\r\n            name: name,\r\n            tabindex: -1,\r\n        },\r\n        children: children\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuElement.prototype,\r\n});\r\n//# sourceMappingURL=Menu.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEGridRowElementBase_instances, _HTMLEGridRowElementBase_menu, _HTMLEGridRowElementBase_handleSlotChangeEvent;\r\nimport { AttributeProperty, CustomElement, element } from \"../../Element\";\r\nimport { HTMLEMenuElement } from \"../menus/Menu\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridCellCollection } from \"./GridCellCollection\";\r\nexport { HTMLEGridRowElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridRowElementBase = class HTMLEGridRowElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEGridRowElementBase_instances.add(this);\r\n        _HTMLEGridRowElementBase_menu.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEGridRowElementBase_menu, null, \"f\");\r\n        this.cells = new HTMLEGridCellCollection(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEGridRowElementBase_instances, \"m\", _HTMLEGridRowElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n    get menu() {\r\n        return __classPrivateFieldGet(this, _HTMLEGridRowElementBase_menu, \"f\");\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n_HTMLEGridRowElementBase_menu = new WeakMap(), _HTMLEGridRowElementBase_instances = new WeakSet(), _HTMLEGridRowElementBase_handleSlotChangeEvent = function _HTMLEGridRowElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const { name: slotName } = target;\r\n    switch (slotName) {\r\n        case \"menu\": {\r\n            const element = target.assignedElements()[0];\r\n            __classPrivateFieldSet(this, _HTMLEGridRowElementBase_menu, element instanceof HTMLEMenuElement ? element : null, \"f\");\r\n            break;\r\n        }\r\n        default: {\r\n            const assignedCells = target\r\n                .assignedElements()\r\n                .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n            assignedCells.forEach((cell_i, i) => {\r\n                cell_i.posinset = i;\r\n            });\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: table-row;\r\n                        }\r\n\r\n                        :host([droptarget]) {\r\n                            background-color: gainsboro;\r\n                        }\r\n                        \r\n                        :host(:hover) {\r\n                            background-color: rgba(135, 206, 250, 0.2);\r\n                        }\r\n\r\n                        :host([active]) {\r\n                            outline: 1px solid rgb(135, 206, 250);\r\n                            outline-offset: -1px;\r\n                        }\r\n\r\n                        :host([selected]) {\r\n                            background-color: rgba(135, 206, 250, 0.4);\r\n                            outline: 1px solid rgb(135, 206, 250);\r\n                            outline-offset: -1px;\r\n                        }\r\n                    `\r\n        ]\r\n    }), element(\"slot\"), element(\"slot\", {\r\n        attributes: {\r\n            name: \"menu\"\r\n        }\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridRowElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridRowElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridRowElementBase.prototype, \"selected\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEGridRowElementBase.prototype, \"posinset\", void 0);\r\nHTMLEGridRowElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridrow\"\r\n    })\r\n], HTMLEGridRowElementBase);\r\nvar HTMLEGridRowElement = HTMLEGridRowElementBase;\r\n//# sourceMappingURL=GridRow.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEGridCellCollectionBase_instances, _HTMLEGridCellCollectionBase_walker, _HTMLEGridCellCollectionBase_nodeFilter;\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridRowGroupElement } from \"./GridRowGroup\";\r\nimport { HTMLEGridRowElement } from \"./GridRow\";\r\nimport { HTMLEGridBodyElement } from \"./GridBody\";\r\nexport { HTMLEGridCellCollection };\r\nclass HTMLEGridCellCollectionBase {\r\n    constructor(root) {\r\n        _HTMLEGridCellCollectionBase_instances.add(this);\r\n        _HTMLEGridCellCollectionBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEGridCellCollectionBase_walker, document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEGridCellCollectionBase_instances, \"m\", _HTMLEGridCellCollectionBase_nodeFilter).bind(this)), \"f\");\r\n    }\r\n    get length() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridCellCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let length = 0;\r\n        while (walker.nextNode() !== null)\r\n            length++;\r\n        return length;\r\n    }\r\n    item(index) {\r\n        if (index < 0) {\r\n            return null;\r\n        }\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridCellCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        let i = 0;\r\n        while (i < index && currentNode !== null) {\r\n            currentNode = walker.nextNode();\r\n            i++;\r\n        }\r\n        return currentNode;\r\n    }\r\n    namedItem(name) {\r\n        if (!name) {\r\n            return null;\r\n        }\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridCellCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        while (currentNode !== null && !(currentNode.name == name)) {\r\n            currentNode = walker.nextNode();\r\n        }\r\n        return currentNode;\r\n    }\r\n    *values() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridCellCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        while (currentNode !== null) {\r\n            yield currentNode;\r\n            currentNode = walker.nextNode();\r\n        }\r\n    }\r\n}\r\n_HTMLEGridCellCollectionBase_walker = new WeakMap(), _HTMLEGridCellCollectionBase_instances = new WeakSet(), _HTMLEGridCellCollectionBase_nodeFilter = function _HTMLEGridCellCollectionBase_nodeFilter(node) {\r\n    if (node instanceof HTMLEGridCellElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEGridBodyElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    if (node instanceof HTMLEGridRowGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    if (node instanceof HTMLEGridRowElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n};\r\nvar HTMLEGridCellCollection = HTMLEGridCellCollectionBase;\r\n//# sourceMappingURL=GridCellCollection.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEGridRowCollectionBase_instances, _HTMLEGridRowCollectionBase_walker, _HTMLEGridRowCollectionBase_nodeFilter;\r\nimport { HTMLEGridRowGroupElement } from \"./GridRowGroup\";\r\nimport { HTMLEGridRowElement } from \"./GridRow\";\r\nimport { HTMLEGridBodyElement } from \"./GridBody\";\r\nexport { HTMLEGridRowCollection };\r\nclass HTMLEGridRowCollectionBase {\r\n    constructor(root) {\r\n        _HTMLEGridRowCollectionBase_instances.add(this);\r\n        _HTMLEGridRowCollectionBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEGridRowCollectionBase_walker, document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEGridRowCollectionBase_instances, \"m\", _HTMLEGridRowCollectionBase_nodeFilter).bind(this)), \"f\");\r\n    }\r\n    get length() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridRowCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let length = 0;\r\n        while (walker.nextNode() !== null)\r\n            length++;\r\n        return length;\r\n    }\r\n    item(index) {\r\n        if (index < 0) {\r\n            return null;\r\n        }\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridRowCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        let i = 0;\r\n        while (i < index && currentNode !== null) {\r\n            currentNode = walker.nextNode();\r\n            i++;\r\n        }\r\n        return currentNode;\r\n    }\r\n    namedItem(name) {\r\n        if (!name) {\r\n            return null;\r\n        }\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridRowCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        while (currentNode !== null && !(currentNode.name == name)) {\r\n            currentNode = walker.nextNode();\r\n        }\r\n        return currentNode;\r\n    }\r\n    *values() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEGridRowCollectionBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let currentNode = walker.nextNode();\r\n        while (currentNode !== null) {\r\n            yield currentNode;\r\n            currentNode = walker.nextNode();\r\n        }\r\n    }\r\n}\r\n_HTMLEGridRowCollectionBase_walker = new WeakMap(), _HTMLEGridRowCollectionBase_instances = new WeakSet(), _HTMLEGridRowCollectionBase_nodeFilter = function _HTMLEGridRowCollectionBase_nodeFilter(node) {\r\n    if (node instanceof HTMLEGridRowElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEGridBodyElement || node instanceof HTMLEGridRowGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n};\r\nvar HTMLEGridRowCollection = HTMLEGridRowCollectionBase;\r\n//# sourceMappingURL=GridRowCollection.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEGridBodyElementBase_instances, _HTMLEGridBodyElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridCellCollection } from \"./GridCellCollection\";\r\nimport { HTMLEGridRowCollection } from \"./GridRowCollection\";\r\nexport { HTMLEGridBodyElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridBodyElementBase = class HTMLEGridBodyElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEGridBodyElementBase_instances.add(this);\r\n        this.cells = new HTMLEGridCellCollection(this);\r\n        this.rows = new HTMLEGridRowCollection(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEGridBodyElementBase_instances, \"m\", _HTMLEGridBodyElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n};\r\n_HTMLEGridBodyElementBase_instances = new WeakSet(), _HTMLEGridBodyElementBase_handleSlotChangeEvent = function _HTMLEGridBodyElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedItems = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n    assignedItems.forEach((item_i, i) => {\r\n        item_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: table-row-group;\r\n                        }\r\n                    `\r\n        ]\r\n    }), element(\"slot\"));\r\n})();\r\nHTMLEGridBodyElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridbody\"\r\n    })\r\n], HTMLEGridBodyElementBase);\r\nvar HTMLEGridBodyElement = HTMLEGridBodyElementBase;\r\n//# sourceMappingURL=GridBody.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEGridElementBase_instances, _HTMLEGridElementBase_onSelection, _HTMLEGridElementBase_hasSelectionChanged, _HTMLEGridElementBase_cellsWalker, _HTMLEGridElementBase_rowsWalker, _HTMLEGridElementBase_cellsWalkerNodeFilter, _HTMLEGridElementBase_rowsWalkerNodeFilter, _HTMLEGridElementBase_getCellsRange, _HTMLEGridElementBase_getRowsRange, _HTMLEGridElementBase_setCellsSelection, _HTMLEGridElementBase_setRowsSelection, _HTMLEGridElementBase_addCellsToSelection, _HTMLEGridElementBase_addRowsToSelection, _HTMLEGridElementBase_removeCellsFromSelection, _HTMLEGridElementBase_removeRowsFromSelection, _HTMLEGridElementBase_clearCellsSelection, _HTMLEGridElementBase_clearRowsSelection, _HTMLEGridElementBase_setActiveCell, _HTMLEGridElementBase_setActiveRow, _HTMLEGridElementBase_firstCell, _HTMLEGridElementBase_lastCell, _HTMLEGridElementBase_previousCell, _HTMLEGridElementBase_nextCell, _HTMLEGridElementBase_closestRow, _HTMLEGridElementBase_firstRow, _HTMLEGridElementBase_lastRow, _HTMLEGridElementBase_previousRow, _HTMLEGridElementBase_nextRow, _HTMLEGridElementBase_topCell, _HTMLEGridElementBase_bottomCell, _HTMLEGridElementBase_handleClickEvent, _HTMLEGridElementBase_handleContextMenuEvent, _HTMLEGridElementBase_handleDblClickEvent, _HTMLEGridElementBase_handleKeyDownEvent, _HTMLEGridElementBase_handleFocusEvent, _HTMLEGridElementBase_handleFocusInEvent, _HTMLEGridElementBase_handleSelectEvent, _HTMLEGridElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEGridBodyElement } from \"./GridBody\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridCellCollection } from \"./GridCellCollection\";\r\nimport { HTMLEGridRowElement } from \"./GridRow\";\r\nimport { HTMLEGridRowCollection } from \"./GridRowCollection\";\r\nimport { HTMLEGridRowGroupElement } from \"./GridRowGroup\";\r\nexport { HTMLEGridElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridElementBase = class HTMLEGridElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEGridElementBase_instances.add(this);\r\n        _HTMLEGridElementBase_onSelection.set(this, void 0);\r\n        _HTMLEGridElementBase_hasSelectionChanged.set(this, void 0);\r\n        _HTMLEGridElementBase_cellsWalker.set(this, void 0);\r\n        _HTMLEGridElementBase_rowsWalker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_cellsWalker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_cellsWalkerNodeFilter).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_rowsWalker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_rowsWalkerNodeFilter).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_onSelection, false, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_hasSelectionChanged, false, \"f\");\r\n        this.cells = new HTMLEGridCellCollection(this);\r\n        this.rows = new HTMLEGridRowCollection(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"contextmenu\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleContextMenuEvent).bind(this));\r\n        this.addEventListener(\"dblclick\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleDblClickEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleSelectEvent).bind(this));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n    get activeCell() {\r\n        return this.querySelector(\"e-gridcell[active]\");\r\n    }\r\n    get activeRow() {\r\n        return this.querySelector(\"e-gridrow[active]\");\r\n    }\r\n    get body() {\r\n        return this.querySelector(\":scope > e-gridbody\");\r\n    }\r\n    get head() {\r\n        return this.querySelector(\":scope > e-gridhead\");\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    beginSelection() {\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_onSelection, true, \"f\");\r\n    }\r\n    endSelection() {\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_onSelection, false, \"f\");\r\n        if (__classPrivateFieldGet(this, _HTMLEGridElementBase_hasSelectionChanged, \"f\")) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            __classPrivateFieldSet(this, _HTMLEGridElementBase_hasSelectionChanged, false, \"f\");\r\n        }\r\n    }\r\n    clearSelection() {\r\n        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_clearCellsSelection).call(this);\r\n        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_clearRowsSelection).call(this);\r\n    }\r\n    selectedCells() {\r\n        return Array.from(this.querySelectorAll(\"e-gridcell[selected]\"));\r\n    }\r\n    selectedRows() {\r\n        return Array.from(this.querySelectorAll(\"e-gridrow[selected]\"));\r\n    }\r\n};\r\n_HTMLEGridElementBase_onSelection = new WeakMap(), _HTMLEGridElementBase_hasSelectionChanged = new WeakMap(), _HTMLEGridElementBase_cellsWalker = new WeakMap(), _HTMLEGridElementBase_rowsWalker = new WeakMap(), _HTMLEGridElementBase_instances = new WeakSet(), _HTMLEGridElementBase_cellsWalkerNodeFilter = function _HTMLEGridElementBase_cellsWalkerNodeFilter(node) {\r\n    if (node instanceof HTMLEGridCellElement && !node.hidden) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEGridBodyElement || node instanceof HTMLEGridRowGroupElement || node instanceof HTMLEGridRowElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEGridElementBase_rowsWalkerNodeFilter = function _HTMLEGridElementBase_rowsWalkerNodeFilter(node) {\r\n    if (node instanceof HTMLEGridRowElement && !node.hidden) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEGridBodyElement || node instanceof HTMLEGridRowGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEGridElementBase_getCellsRange = function _HTMLEGridElementBase_getCellsRange(from, to) {\r\n    const cells = Array.from(this.cells.values());\r\n    const fromIndex = cells.indexOf(from);\r\n    const toIndex = cells.indexOf(to);\r\n    if (fromIndex > -1 && toIndex > -1) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        return cells.slice(Math.min(fromIndex, toIndex), Math.max(fromIndex, toIndex) + 1);\r\n    }\r\n    return [];\r\n}, _HTMLEGridElementBase_getRowsRange = function _HTMLEGridElementBase_getRowsRange(from, to) {\r\n    if (from == to) {\r\n        return [from];\r\n    }\r\n    const position = from.compareDocumentPosition(to);\r\n    if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n        const range = [from];\r\n        let nextVisibleRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_nextRow).call(this, from);\r\n        while (nextVisibleRow && nextVisibleRow !== to) {\r\n            range.push(nextVisibleRow);\r\n            nextVisibleRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_nextRow).call(this, nextVisibleRow);\r\n        }\r\n        range.push(to);\r\n        return range;\r\n    }\r\n    else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n        const range = [from];\r\n        let previousVisibleRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_previousRow).call(this, from);\r\n        while (previousVisibleRow && previousVisibleRow !== to) {\r\n            range.push(previousVisibleRow);\r\n            previousVisibleRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_previousRow).call(this, previousVisibleRow);\r\n        }\r\n        range.push(to);\r\n        return range;\r\n    }\r\n    return [];\r\n}, _HTMLEGridElementBase_setCellsSelection = function _HTMLEGridElementBase_setCellsSelection(...cells) {\r\n    this.beginSelection();\r\n    const selectedCells = this.selectedCells();\r\n    selectedCells.forEach((selectedCell_i) => {\r\n        if (!cells.includes(selectedCell_i)) {\r\n            selectedCell_i.selected = false;\r\n        }\r\n    });\r\n    cells.forEach((cell_i) => {\r\n        if (!cell_i.selected) {\r\n            cell_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_setRowsSelection = function _HTMLEGridElementBase_setRowsSelection(...rows) {\r\n    this.beginSelection();\r\n    const selectedRows = this.selectedRows();\r\n    selectedRows.forEach((selectedRow_i) => {\r\n        if (!rows.includes(selectedRow_i)) {\r\n            selectedRow_i.selected = false;\r\n        }\r\n    });\r\n    rows.forEach((row_i) => {\r\n        if (!row_i.selected) {\r\n            row_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_addCellsToSelection = function _HTMLEGridElementBase_addCellsToSelection(...cells) {\r\n    this.beginSelection();\r\n    cells.forEach((cell_i) => {\r\n        if (!cell_i.selected) {\r\n            cell_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_addRowsToSelection = function _HTMLEGridElementBase_addRowsToSelection(...rows) {\r\n    this.beginSelection();\r\n    rows.forEach((row_i) => {\r\n        if (!row_i.selected) {\r\n            row_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_removeCellsFromSelection = function _HTMLEGridElementBase_removeCellsFromSelection(...cells) {\r\n    this.beginSelection();\r\n    const selectedCells = this.selectedCells();\r\n    cells.forEach((cell_i) => {\r\n        if (selectedCells.includes(cell_i)) {\r\n            cell_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_removeRowsFromSelection = function _HTMLEGridElementBase_removeRowsFromSelection(...rows) {\r\n    this.beginSelection();\r\n    const selectedRows = this.selectedRows();\r\n    rows.forEach((row_i) => {\r\n        if (selectedRows.includes(row_i)) {\r\n            row_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_clearCellsSelection = function _HTMLEGridElementBase_clearCellsSelection() {\r\n    this.beginSelection();\r\n    const selectedCells = this.selectedCells();\r\n    selectedCells.forEach((cell_i) => {\r\n        if (cell_i.selected) {\r\n            cell_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_clearRowsSelection = function _HTMLEGridElementBase_clearRowsSelection() {\r\n    this.beginSelection();\r\n    const selectedRows = this.selectedRows();\r\n    selectedRows.forEach((row_i) => {\r\n        if (row_i.selected) {\r\n            row_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEGridElementBase_setActiveCell = function _HTMLEGridElementBase_setActiveCell(cell) {\r\n    const { activeCell } = this;\r\n    if (activeCell !== null && activeCell !== cell) {\r\n        activeCell.active = false;\r\n        activeCell.tabIndex = -1;\r\n    }\r\n    if (cell !== null) {\r\n        const cellsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_cellsWalker, \"f\");\r\n        cellsWalker.currentNode = cell;\r\n        cell.active = true;\r\n        cell.tabIndex = 0;\r\n    }\r\n}, _HTMLEGridElementBase_setActiveRow = function _HTMLEGridElementBase_setActiveRow(row) {\r\n    const { activeRow } = this;\r\n    if (activeRow !== null && activeRow !== row) {\r\n        activeRow.active = false;\r\n        activeRow.tabIndex = -1;\r\n    }\r\n    if (row !== null) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = row;\r\n        row.active = true;\r\n        row.tabIndex = 0;\r\n    }\r\n}, _HTMLEGridElementBase_firstCell = function _HTMLEGridElementBase_firstCell(row) {\r\n    const cellsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_cellsWalker, \"f\");\r\n    cellsWalker.currentNode = row;\r\n    return cellsWalker.firstChild();\r\n}, _HTMLEGridElementBase_lastCell = function _HTMLEGridElementBase_lastCell(row) {\r\n    const cellsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_cellsWalker, \"f\");\r\n    cellsWalker.currentNode = row;\r\n    return cellsWalker.lastChild();\r\n}, _HTMLEGridElementBase_previousCell = function _HTMLEGridElementBase_previousCell(cell) {\r\n    const cellsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_cellsWalker, \"f\");\r\n    cellsWalker.currentNode = cell;\r\n    return cellsWalker.previousNode();\r\n}, _HTMLEGridElementBase_nextCell = function _HTMLEGridElementBase_nextCell(cell) {\r\n    const cellsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_cellsWalker, \"f\");\r\n    cellsWalker.currentNode = cell;\r\n    return cellsWalker.nextNode();\r\n}, _HTMLEGridElementBase_closestRow = function _HTMLEGridElementBase_closestRow(cell) {\r\n    const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n    rowsWalker.currentNode = cell;\r\n    return rowsWalker.parentNode();\r\n}, _HTMLEGridElementBase_firstRow = function _HTMLEGridElementBase_firstRow() {\r\n    const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n    const { root } = rowsWalker;\r\n    rowsWalker.currentNode = root;\r\n    return rowsWalker.firstChild();\r\n}, _HTMLEGridElementBase_lastRow = function _HTMLEGridElementBase_lastRow() {\r\n    const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n    const { root } = rowsWalker;\r\n    rowsWalker.currentNode = root;\r\n    return rowsWalker.lastChild();\r\n}, _HTMLEGridElementBase_previousRow = function _HTMLEGridElementBase_previousRow(row) {\r\n    const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n    rowsWalker.currentNode = row;\r\n    return rowsWalker.previousNode();\r\n}, _HTMLEGridElementBase_nextRow = function _HTMLEGridElementBase_nextRow(row) {\r\n    const rowsWalker = __classPrivateFieldGet(this, _HTMLEGridElementBase_rowsWalker, \"f\");\r\n    rowsWalker.currentNode = row;\r\n    return rowsWalker.nextNode();\r\n}, _HTMLEGridElementBase_topCell = function _HTMLEGridElementBase_topCell(cell) {\r\n    const closestRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_closestRow).call(this, cell);\r\n    if (closestRow) {\r\n        const { cells: closestRowCells } = closestRow;\r\n        const cellIndex = Array.from(closestRowCells.values()).indexOf(cell);\r\n        const previousRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_previousRow).call(this, closestRow);\r\n        if (previousRow) {\r\n            const { cells: previousRowCells } = previousRow;\r\n            return previousRowCells.item(Math.min(cellIndex, previousRowCells.length));\r\n        }\r\n    }\r\n    return null;\r\n}, _HTMLEGridElementBase_bottomCell = function _HTMLEGridElementBase_bottomCell(cell) {\r\n    const closestRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_closestRow).call(this, cell);\r\n    if (closestRow) {\r\n        const { cells: closestRowCells } = closestRow;\r\n        const cellIndex = Array.from(closestRowCells.values()).indexOf(cell);\r\n        const nextRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_nextRow).call(this, closestRow);\r\n        if (nextRow) {\r\n            const { cells: nextRowCells } = nextRow;\r\n            return nextRowCells.item(Math.min(cellIndex, nextRowCells.length));\r\n        }\r\n    }\r\n    return null;\r\n}, _HTMLEGridElementBase_handleClickEvent = function _HTMLEGridElementBase_handleClickEvent(event) {\r\n    const { ctrlKey, shiftKey } = event;\r\n    const { selectby } = this;\r\n    switch (selectby) {\r\n        case \"cell\": {\r\n            const composedPath = event.composedPath();\r\n            const targetCell = composedPath.find(target_i => target_i instanceof HTMLEGridBodyElement) ? composedPath.find(target_i => target_i instanceof HTMLEGridCellElement) : null;\r\n            const selectedCells = this.selectedCells();\r\n            if (targetCell instanceof HTMLEGridCellElement) {\r\n                if (!shiftKey && !ctrlKey) {\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setCellsSelection).call(this, targetCell);\r\n                }\r\n                else if (ctrlKey) {\r\n                    !targetCell.selected ?\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, targetCell) :\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, targetCell);\r\n                }\r\n                else if (shiftKey) {\r\n                    const lastSelectedCell = selectedCells[selectedCells.length - 1];\r\n                    if (lastSelectedCell) {\r\n                        const range = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_getCellsRange).call(this, lastSelectedCell, targetCell);\r\n                        if (range) {\r\n                            selectedCells.includes(targetCell) ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, ...range) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, ...range);\r\n                        }\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setCellsSelection).call(this, targetCell);\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"row\": {\r\n            const selectedRows = this.selectedRows();\r\n            const composedPath = event.composedPath();\r\n            const targetRow = composedPath.find(target_i => target_i instanceof HTMLEGridBodyElement) ? composedPath.find(target_i => target_i instanceof HTMLEGridRowElement) : null;\r\n            if (targetRow instanceof HTMLEGridRowElement) {\r\n                if (!shiftKey && !ctrlKey) {\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setRowsSelection).call(this, targetRow);\r\n                }\r\n                else if (ctrlKey) {\r\n                    !targetRow.selected ?\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addRowsToSelection).call(this, targetRow) :\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeRowsFromSelection).call(this, targetRow);\r\n                }\r\n                else if (shiftKey) {\r\n                    const lastSelectedRow = selectedRows[selectedRows.length - 1];\r\n                    if (lastSelectedRow) {\r\n                        const range = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_getRowsRange).call(this, lastSelectedRow, targetRow);\r\n                        if (range) {\r\n                            selectedRows.includes(targetRow) ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeRowsFromSelection).call(this, ...range) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addRowsToSelection).call(this, ...range);\r\n                        }\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setRowsSelection).call(this, targetRow);\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    event.stopPropagation();\r\n}, _HTMLEGridElementBase_handleContextMenuEvent = function _HTMLEGridElementBase_handleContextMenuEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLEGridElementBase_handleDblClickEvent = function _HTMLEGridElementBase_handleDblClickEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLEGridElementBase_handleKeyDownEvent = function _HTMLEGridElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { selectby, activeCell, activeRow } = this;\r\n    switch (key) {\r\n        case \"a\": {\r\n            const { ctrlKey } = event;\r\n            if (ctrlKey) {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        const firstRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstRow).call(this);\r\n                        const firstCell = firstRow ? __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstCell).call(this, firstRow) : null;\r\n                        const lastRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastRow).call(this);\r\n                        const lastCell = lastRow ? __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastCell).call(this, lastRow) : null;\r\n                        if (firstCell && lastCell) {\r\n                            const range = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_getCellsRange).call(this, firstCell, lastCell);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setCellsSelection).call(this, ...range);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const firstRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstRow).call(this);\r\n                        const lastRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastRow).call(this);\r\n                        if (firstRow && lastRow) {\r\n                            const range = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_getRowsRange).call(this, firstRow, lastRow);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setRowsSelection).call(this, ...range);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            event.preventDefault();\r\n            break;\r\n        }\r\n        case \"ArrowLeft\": {\r\n            if (selectby == \"cell\") {\r\n                if (activeCell) {\r\n                    const previousCell = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_previousCell).call(this, activeCell);\r\n                    if (previousCell) {\r\n                        previousCell.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            previousCell.selected ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, previousCell) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, previousCell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            if (selectby == \"cell\") {\r\n                if (activeCell) {\r\n                    const nextCell = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_nextCell).call(this, activeCell);\r\n                    if (nextCell) {\r\n                        nextCell.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            nextCell.selected ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, nextCell) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, nextCell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowUp\": {\r\n            switch (selectby) {\r\n                case \"cell\": {\r\n                    const firstRow = activeRow ?? __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstRow).call(this);\r\n                    const topCell = activeCell ?\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_topCell).call(this, activeCell) :\r\n                        firstRow ?\r\n                            __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstCell).call(this, firstRow) :\r\n                            null;\r\n                    if (topCell) {\r\n                        topCell.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            topCell.selected ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, topCell) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, topCell);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case \"row\": {\r\n                    const previousRow = activeRow ?\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_previousRow).call(this, activeRow) :\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstRow).call(this);\r\n                    if (previousRow) {\r\n                        previousRow.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            previousRow.selected ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeRowsFromSelection).call(this, previousRow) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addRowsToSelection).call(this, previousRow);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            switch (selectby) {\r\n                case \"cell\":\r\n                    {\r\n                        const lastRow = activeRow ?? __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastRow).call(this);\r\n                        const bottomCell = activeCell ?\r\n                            __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_bottomCell).call(this, activeCell) :\r\n                            lastRow ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastCell).call(this, lastRow) :\r\n                                null;\r\n                        if (bottomCell) {\r\n                            bottomCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey) {\r\n                                bottomCell.selected ?\r\n                                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeCellsFromSelection).call(this, bottomCell) :\r\n                                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addCellsToSelection).call(this, bottomCell);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"row\": {\r\n                    const nextRow = activeRow ?\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_nextRow).call(this, activeRow) :\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastRow).call(this);\r\n                    if (nextRow) {\r\n                        nextRow.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            nextRow.selected ?\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_removeRowsFromSelection).call(this, nextRow) :\r\n                                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_addRowsToSelection).call(this, nextRow);\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            switch (selectby) {\r\n                case \"cell\": {\r\n                    if (activeRow) {\r\n                        const firstCell = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstCell).call(this, activeRow);\r\n                        if (firstCell) {\r\n                            firstCell.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case \"row\": {\r\n                    const firstRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_firstRow).call(this);\r\n                    if (firstRow) {\r\n                        firstRow.focus({ preventScroll: true });\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            switch (selectby) {\r\n                case \"cell\": {\r\n                    if (activeRow) {\r\n                        const lastCell = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastCell).call(this, activeRow);\r\n                        if (lastCell) {\r\n                            lastCell.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case \"row\": {\r\n                    const lastRow = __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_lastRow).call(this);\r\n                    if (lastRow) {\r\n                        lastRow.focus({ preventScroll: true });\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\": {\r\n            switch (selectby) {\r\n                case \"cell\": {\r\n                    if (activeCell) {\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setCellsSelection).call(this, activeCell);\r\n                        activeCell.click();\r\n                    }\r\n                    break;\r\n                }\r\n                case \"row\": {\r\n                    if (activeRow) {\r\n                        __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setRowsSelection).call(this, activeRow);\r\n                        activeRow.click();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            switch (selectby) {\r\n                case \"cell\": {\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_clearCellsSelection).call(this);\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setActiveCell).call(this, null);\r\n                    break;\r\n                }\r\n                case \"row\": {\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_clearRowsSelection).call(this);\r\n                    __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setActiveRow).call(this, null);\r\n                    break;\r\n                }\r\n            }\r\n            this.focus();\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLEGridElementBase_handleFocusEvent = function _HTMLEGridElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { selectby } = this;\r\n    switch (selectby) {\r\n        case \"cell\": {\r\n            const { activeCell } = this;\r\n            if (activeCell && relatedTarget !== activeCell) {\r\n                activeCell.focus();\r\n            }\r\n            break;\r\n        }\r\n        case \"row\": {\r\n            const { activeRow } = this;\r\n            if (activeRow && relatedTarget !== activeRow) {\r\n                activeRow.focus();\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLEGridElementBase_handleFocusInEvent = function _HTMLEGridElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    const { selectby } = this;\r\n    switch (selectby) {\r\n        case \"cell\": {\r\n            const targetCell = target.closest(\"e-gridcell\");\r\n            if (targetCell) {\r\n                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setActiveCell).call(this, targetCell);\r\n            }\r\n            break;\r\n        }\r\n        case \"row\": {\r\n            const targetRow = target.closest(\"e-gridrow\");\r\n            if (targetRow) {\r\n                __classPrivateFieldGet(this, _HTMLEGridElementBase_instances, \"m\", _HTMLEGridElementBase_setActiveRow).call(this, targetRow);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLEGridElementBase_handleSelectEvent = function _HTMLEGridElementBase_handleSelectEvent() {\r\n    if (__classPrivateFieldGet(this, _HTMLEGridElementBase_onSelection, \"f\")) {\r\n        __classPrivateFieldSet(this, _HTMLEGridElementBase_hasSelectionChanged, true, \"f\");\r\n    }\r\n    else {\r\n        this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n    }\r\n}, _HTMLEGridElementBase_handleSlotChangeEvent = function _HTMLEGridElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedRows = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEGridRowElement);\r\n    assignedRows.forEach((row_i, i) => {\r\n        row_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEGridElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"cell\" })\r\n], HTMLEGridElementBase.prototype, \"selectby\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEGridElementBase.prototype, \"multiselectable\", void 0);\r\nHTMLEGridElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-grid\"\r\n    })\r\n], HTMLEGridElementBase);\r\nvar HTMLEGridElement = HTMLEGridElementBase;\r\n//# sourceMappingURL=Grid.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEGridHeadElementBase_instances, _HTMLEGridHeadElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEGridCellElement } from \"./GridCell\";\r\nimport { HTMLEGridCellCollection } from \"./GridCellCollection\";\r\nimport { HTMLEGridRowCollection } from \"./GridRowCollection\";\r\nexport { HTMLEGridHeadElement };\r\nvar shadowTemplate;\r\nlet HTMLEGridHeadElementBase = class HTMLEGridHeadElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEGridHeadElementBase_instances.add(this);\r\n        this.cells = new HTMLEGridCellCollection(this);\r\n        this.rows = new HTMLEGridRowCollection(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEGridHeadElementBase_instances, \"m\", _HTMLEGridHeadElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n};\r\n_HTMLEGridHeadElementBase_instances = new WeakSet(), _HTMLEGridHeadElementBase_handleSlotChangeEvent = function _HTMLEGridHeadElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedItems = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEGridCellElement);\r\n    assignedItems.forEach((item_i, i) => {\r\n        item_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: table-row-group;\r\n                        }\r\n                    `\r\n        ]\r\n    }), element(\"slot\"));\r\n})();\r\nHTMLEGridHeadElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-gridhead\"\r\n    })\r\n], HTMLEGridHeadElementBase);\r\nvar HTMLEGridHeadElement = HTMLEGridHeadElementBase;\r\n//# sourceMappingURL=GridHead.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEMenuBarElementBase_instances, _HTMLEMenuBarElementBase_activeIndex, _HTMLEMenuBarElementBase_walker, _HTMLEMenuBarElementBase_walkerNodeFilter, _HTMLEMenuBarElementBase_lastItem, _HTMLEMenuBarElementBase_previousItem, _HTMLEMenuBarElementBase_nextItem, _HTMLEMenuBarElementBase_firstChildItem, _HTMLEMenuBarElementBase_setActiveItem, _HTMLEMenuBarElementBase_items_get, _HTMLEMenuBarElementBase_isClosestMenu, _HTMLEMenuBarElementBase_nearestItem, _HTMLEMenuBarElementBase_handleFocusEvent, _HTMLEMenuBarElementBase_handleFocusInEvent, _HTMLEMenuBarElementBase_handleFocusOutEvent, _HTMLEMenuBarElementBase_handleMouseOverEvent, _HTMLEMenuBarElementBase_handleClickEvent, _HTMLEMenuBarElementBase_handleKeyDownEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEMenuItemElement } from \"./MenuItem\";\r\nimport { HTMLEMenuItemGroupElement } from \"./MenuItemGroup\";\r\nexport { HTMLEMenuBarElement };\r\nvar shadowTemplate;\r\nlet HTMLEMenuBarElementBase = class HTMLEMenuBarElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEMenuBarElementBase_instances.add(this);\r\n        _HTMLEMenuBarElementBase_activeIndex.set(this, void 0);\r\n        _HTMLEMenuBarElementBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEMenuBarElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_walkerNodeFilter).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEMenuBarElementBase_activeIndex, -1, \"f\");\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleMouseOverEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_handleKeyDownEvent).bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n    }\r\n    get activeIndex() {\r\n        return __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_activeIndex, \"f\");\r\n    }\r\n    get activeItem() {\r\n        const { activeIndex } = this;\r\n        return (this.querySelector(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within\") ?? activeIndex > -1) ? this.items()[activeIndex] ?? null : null;\r\n    }\r\n    firstItem() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n};\r\n_HTMLEMenuBarElementBase_activeIndex = new WeakMap(), _HTMLEMenuBarElementBase_walker = new WeakMap(), _HTMLEMenuBarElementBase_instances = new WeakSet(), _HTMLEMenuBarElementBase_walkerNodeFilter = function _HTMLEMenuBarElementBase_walkerNodeFilter(node) {\r\n    if (node instanceof HTMLEMenuItemElement && !(node.disabled || node.hidden)) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEMenuItemGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEMenuBarElementBase_lastItem = function _HTMLEMenuBarElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.lastChild();\r\n}, _HTMLEMenuBarElementBase_previousItem = function _HTMLEMenuBarElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.previousSibling();\r\n}, _HTMLEMenuBarElementBase_nextItem = function _HTMLEMenuBarElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.nextSibling();\r\n}, _HTMLEMenuBarElementBase_firstChildItem = function _HTMLEMenuBarElementBase_firstChildItem(item) {\r\n    const { menu } = item;\r\n    if (menu) {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_walker, \"f\");\r\n        walker.currentNode = menu;\r\n        return walker.firstChild();\r\n    }\r\n    return null;\r\n}, _HTMLEMenuBarElementBase_setActiveItem = function _HTMLEMenuBarElementBase_setActiveItem(item) {\r\n    const { activeItem, expanded } = this;\r\n    if (activeItem !== null && activeItem !== item) {\r\n        activeItem.collapse();\r\n    }\r\n    if (item !== null) {\r\n        if (expanded) {\r\n            item.expand();\r\n        }\r\n        __classPrivateFieldSet(this, _HTMLEMenuBarElementBase_activeIndex, this.items().indexOf(item), \"f\");\r\n    }\r\n    else {\r\n        __classPrivateFieldSet(this, _HTMLEMenuBarElementBase_activeIndex, -1, \"f\");\r\n    }\r\n}, _HTMLEMenuBarElementBase_items_get = function _HTMLEMenuBarElementBase_items_get() {\r\n    return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-menuitemgroup) > e-menuitem\"));\r\n}, _HTMLEMenuBarElementBase_isClosestMenu = function _HTMLEMenuBarElementBase_isClosestMenu(target) {\r\n    return target.closest(\":is(e-menubar, e-menu)\") == this;\r\n}, _HTMLEMenuBarElementBase_nearestItem = function _HTMLEMenuBarElementBase_nearestItem(target) {\r\n    return __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"a\", _HTMLEMenuBarElementBase_items_get).find(item_i => item_i.contains(target)) ?? null;\r\n}, _HTMLEMenuBarElementBase_handleFocusEvent = function _HTMLEMenuBarElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { activeItem } = this;\r\n    if (!this.contains(relatedTarget)) {\r\n        (activeItem ?? this.firstItem())?.focus();\r\n    }\r\n}, _HTMLEMenuBarElementBase_handleFocusInEvent = function _HTMLEMenuBarElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof Element) {\r\n        const nearestItem = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_nearestItem).call(this, target);\r\n        __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_setActiveItem).call(this, nearestItem);\r\n    }\r\n}, _HTMLEMenuBarElementBase_handleFocusOutEvent = function _HTMLEMenuBarElementBase_handleFocusOutEvent(event) {\r\n    const { target, relatedTarget } = event;\r\n    if (target instanceof HTMLElement) {\r\n        const nearestItem = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_nearestItem).call(this, target);\r\n        if (nearestItem) {\r\n            nearestItem.collapse();\r\n        }\r\n    }\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        this.expanded = false;\r\n    }\r\n}, _HTMLEMenuBarElementBase_handleMouseOverEvent = function _HTMLEMenuBarElementBase_handleMouseOverEvent(event) {\r\n    const { target } = event;\r\n    const { expanded, activeItem } = this;\r\n    if (target instanceof HTMLEMenuItemElement) {\r\n        const isClosestMenu = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_isClosestMenu).call(this, target);\r\n        if (isClosestMenu && target !== activeItem && expanded) {\r\n            const { menu } = target;\r\n            if (menu) {\r\n                target.expand();\r\n                menu.focus({ preventScroll: true });\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEMenuBarElementBase_handleClickEvent = function _HTMLEMenuBarElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const { expanded, activeItem } = this;\r\n    if (target instanceof HTMLEMenuItemElement) {\r\n        const isClosestMenu = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_isClosestMenu).call(this, target);\r\n        if (isClosestMenu) {\r\n            const isExpanded = !expanded;\r\n            this.expanded = isExpanded;\r\n            if (isExpanded) {\r\n                if (activeItem && !activeItem.expanded) {\r\n                    activeItem.expand();\r\n                }\r\n                const { menu } = target;\r\n                menu?.focus({ preventScroll: true });\r\n            }\r\n            else {\r\n                document.body.focus();\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEMenuBarElementBase_handleKeyDownEvent = function _HTMLEMenuBarElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { expanded } = this;\r\n    let { activeItem } = this;\r\n    switch (key) {\r\n        case \"ArrowLeft\": {\r\n            const previousItem = activeItem ?\r\n                __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_previousItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_lastItem).call(this) :\r\n                this.firstItem();\r\n            previousItem?.focus({ preventScroll: true });\r\n            ({ activeItem } = this);\r\n            if (expanded && activeItem) {\r\n                const firstChildItem = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_firstChildItem).call(this, activeItem);\r\n                firstChildItem?.focus({ preventScroll: true });\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            const nextItem = activeItem ?\r\n                __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_nextItem).call(this, activeItem) ?? this.firstItem() :\r\n                __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_lastItem).call(this);\r\n            nextItem?.focus({ preventScroll: true });\r\n            ({ activeItem } = this);\r\n            if (expanded && activeItem) {\r\n                const firstChildItem = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_firstChildItem).call(this, activeItem);\r\n                firstChildItem?.focus({ preventScroll: true });\r\n            }\r\n            break;\r\n        }\r\n        case \"Enter\":\r\n        case \" \": {\r\n            if (activeItem) {\r\n                this.expanded = !expanded;\r\n                if (!expanded) {\r\n                    const firstChildItem = __classPrivateFieldGet(this, _HTMLEMenuBarElementBase_instances, \"m\", _HTMLEMenuBarElementBase_firstChildItem).call(this, activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            if (expanded) {\r\n                this.expanded = false;\r\n                if (activeItem) {\r\n                    activeItem.collapse();\r\n                    activeItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            else {\r\n                this.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuBarElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuBarElementBase.prototype, \"expanded\", void 0);\r\nHTMLEMenuBarElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menubar\"\r\n    })\r\n], HTMLEMenuBarElementBase);\r\nvar HTMLEMenuBarElement = HTMLEMenuBarElementBase;\r\n//# sourceMappingURL=MenuBar.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEMenuButtonElementBase_instances, _HTMLEMenuButtonElementBase_positionMenu, _HTMLEMenuButtonElementBase_handleClickEvent, _HTMLEMenuButtonElementBase_handleFocusOutEvent, _HTMLEMenuButtonElementBase_handleKeyDownEvent;\r\nimport { CustomElement, AttributeProperty, element, QueryProperty } from \"../../Element\";\r\nexport { HTMLEMenuButtonElement };\r\nexport { EMenuButton };\r\nlet HTMLEMenuButtonElementBase = class HTMLEMenuButtonElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEMenuButtonElementBase_instances.add(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(element(\"slot\", {\r\n            attributes: {\r\n                name: \"menu\"\r\n            }\r\n        }));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEMenuButtonElementBase_instances, \"m\", _HTMLEMenuButtonElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEMenuButtonElementBase_instances, \"m\", _HTMLEMenuButtonElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLEMenuButtonElementBase_instances, \"m\", _HTMLEMenuButtonElementBase_handleFocusOutEvent).bind(this));\r\n    }\r\n    connectedCallback() {\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : -1;\r\n    }\r\n    toggle(force) {\r\n        const { expanded } = this;\r\n        const expand = force ?? !expanded;\r\n        expand ? this.expand() : this.collapse();\r\n    }\r\n    expand() {\r\n        const { expanded } = this;\r\n        if (!expanded) {\r\n            this.expanded = true;\r\n            __classPrivateFieldGet(this, _HTMLEMenuButtonElementBase_instances, \"m\", _HTMLEMenuButtonElementBase_positionMenu).call(this);\r\n        }\r\n    }\r\n    collapse() {\r\n        const { expanded } = this;\r\n        if (expanded) {\r\n            this.expanded = false;\r\n        }\r\n    }\r\n};\r\n_HTMLEMenuButtonElementBase_instances = new WeakSet(), _HTMLEMenuButtonElementBase_positionMenu = function _HTMLEMenuButtonElementBase_positionMenu() {\r\n    const { menu } = this;\r\n    if (menu !== null) {\r\n        const { style: menuStyle } = menu;\r\n        const { top: itemTop, bottom: itemBottom, left: itemLeft, right: itemRight } = this.getBoundingClientRect();\r\n        const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n        const { scrollY, scrollX } = window;\r\n        const { clientWidth, clientHeight } = document.body;\r\n        const overflowX = itemRight + menuWidth - clientWidth;\r\n        const overflowY = itemTop + menuHeight - clientHeight;\r\n        menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n            scrollX + itemRight - menuWidth :\r\n            scrollX + itemLeft}px`);\r\n        menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n            scrollY + itemTop - menuHeight :\r\n            scrollY + itemBottom}px`);\r\n    }\r\n}, _HTMLEMenuButtonElementBase_handleClickEvent = function _HTMLEMenuButtonElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const { menu } = this;\r\n    if (menu && !menu.contains(target)) {\r\n        this.toggle();\r\n        const { expanded } = this;\r\n        if (expanded) {\r\n            menu?.focus({ preventScroll: true });\r\n        }\r\n    }\r\n}, _HTMLEMenuButtonElementBase_handleFocusOutEvent = function _HTMLEMenuButtonElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        this.collapse();\r\n    }\r\n}, _HTMLEMenuButtonElementBase_handleKeyDownEvent = function _HTMLEMenuButtonElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { expanded } = this;\r\n    switch (key) {\r\n        case \"ArrowDown\":\r\n        case \"Enter\":\r\n            if (!expanded) {\r\n                this.expand();\r\n                this.firstItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n            }\r\n            break;\r\n        case \"Escape\":\r\n            if (expanded) {\r\n                this.collapse();\r\n            }\r\n            this.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n    }\r\n};\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu]\" })\r\n], HTMLEMenuButtonElementBase.prototype, \"menu\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menu[slot=menu] e-menuitem\" })\r\n], HTMLEMenuButtonElementBase.prototype, \"firstItem\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEMenuButtonElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuButtonElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEMenuButtonElementBase.prototype, \"expanded\", void 0);\r\nHTMLEMenuButtonElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-menubutton\"\r\n    })\r\n], HTMLEMenuButtonElementBase);\r\nvar HTMLEMenuButtonElement = HTMLEMenuButtonElementBase;\r\nvar EMenuButton = Object.assign(function (init) {\r\n    const { menu } = init;\r\n    menu.slot = \"menu\";\r\n    return element(\"e-menubutton\", {\r\n        attributes: {\r\n            tabindex: -1\r\n        },\r\n        children: [menu]\r\n    });\r\n}, {\r\n    prototype: HTMLEMenuButtonElement.prototype,\r\n});\r\n//# sourceMappingURL=MenuButton.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element, QueryProperty } from \"../../Element\";\r\nexport { HTMLEToolBarItemElement };\r\nexport { EToolBarItem };\r\nvar shadowTemplate;\r\nvar iconPart;\r\nlet HTMLEToolBarItemElementBase = class HTMLEToolBarItemElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                //...\r\n                break;\r\n            }\r\n            case \"iconed\": {\r\n                const { shadowRoot } = this;\r\n                if (newValue !== null) {\r\n                    shadowRoot.prepend(iconPart.cloneNode(true));\r\n                }\r\n                else {\r\n                    const iconPart = shadowRoot.querySelector(\"[part=icon]\");\r\n                    if (iconPart) {\r\n                        iconPart.remove();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"), element(\"slot\", {\r\n        attributes: {\r\n            name: \"select\"\r\n        }\r\n    }), element(\"slot\", {\r\n        attributes: {\r\n            name: \"menubutton\"\r\n        }\r\n    }));\r\n    iconPart = element(\"span\", {\r\n        attributes: {\r\n            part: \"icon\"\r\n        }\r\n    });\r\n})();\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-menubutton[slot=menubutton]\" })\r\n], HTMLEToolBarItemElementBase.prototype, \"menubutton\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-select[slot=select]\" })\r\n], HTMLEToolBarItemElementBase.prototype, \"select\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"pressed\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolBarItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"iconed\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemElementBase.prototype, \"type\", void 0);\r\nHTMLEToolBarItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbaritem\"\r\n    })\r\n], HTMLEToolBarItemElementBase);\r\nvar HTMLEToolBarItemElement = HTMLEToolBarItemElementBase;\r\nvar EToolBarItem = Object.assign(function (init) {\r\n    const { label, name, type, value, trigger, menubutton, select } = init;\r\n    if (menubutton) {\r\n        menubutton.slot = \"menubutton\";\r\n    }\r\n    if (select) {\r\n        select.slot = \"select\";\r\n    }\r\n    return element(\"e-toolbaritem\", {\r\n        attributes: {\r\n            tabindex: -1,\r\n            title: label,\r\n            name: name,\r\n            value: value,\r\n            type: type\r\n        },\r\n        children: menubutton ? [menubutton] : select ? [select] : undefined,\r\n        listeners: {\r\n            click: trigger\r\n        }\r\n    });\r\n}, {\r\n    prototype: HTMLEToolBarItemElement.prototype,\r\n    button(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"button\"\r\n        });\r\n    },\r\n    checkbox(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"checkbox\"\r\n        });\r\n    },\r\n    radio(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"radio\"\r\n        });\r\n    },\r\n    menubutton(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"menubutton\"\r\n        });\r\n    },\r\n    select(init) {\r\n        return new EToolBarItem({\r\n            ...init, type: \"select\"\r\n        });\r\n    },\r\n});\r\n//# sourceMappingURL=ToolBarItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { element, CustomElement, AttributeProperty } from \"../../Element\";\r\nexport { HTMLEToolBarItemGroupElement };\r\nvar shadowTemplate;\r\nlet HTMLEToolBarItemGroupElementBase = class HTMLEToolBarItemGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                const label = this.shadowRoot.querySelector(\"[part='label']\");\r\n                if (label) {\r\n                    label.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: flex;\r\n                            width: max-content;\r\n                            flex-direction: row;\r\n                        }\r\n\r\n                        /*:host([orientation=\"vertical\"]) {\r\n                            flex-direction: column;\r\n                        }\r\n\r\n                        :host([orientation=\"horizontal\"]) {\r\n                            flex-direction: row;\r\n                        }*/\r\n                    `\r\n        ]\r\n    }), element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarItemGroupElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEToolBarItemGroupElementBase.prototype, \"label\", void 0);\r\nHTMLEToolBarItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbaritemgroup\"\r\n    })\r\n], HTMLEToolBarItemGroupElementBase);\r\nvar HTMLEToolBarItemGroupElement = HTMLEToolBarItemGroupElementBase;\r\n//# sourceMappingURL=ToolBarItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEToolBarElementBase_instances, _HTMLEToolBarElementBase_walker, _HTMLEToolBarElementBase_nodeFilter, _HTMLEToolBarElementBase_lastItem, _HTMLEToolBarElementBase_previousItem, _HTMLEToolBarElementBase_nextItem, _HTMLEToolBarElementBase_setActiveItem, _HTMLEToolBarElementBase_handleClickEvent, _HTMLEToolBarElementBase_handleContextMenuEvent, _HTMLEToolBarElementBase_handleDblClickEvent, _HTMLEToolBarElementBase_handleFocusEvent, _HTMLEToolBarElementBase_handleFocusInEvent, _HTMLEToolBarElementBase_handleFocusOutEvent, _HTMLEToolBarElementBase_handleMouseDownEvent, _HTMLEToolBarElementBase_handleKeyDownEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEToolBarItemElement } from \"./ToolBarItem\";\r\nimport { HTMLEToolBarItemGroupElement } from \"./ToolBarItemGroup\";\r\nexport { HTMLEToolBarElement };\r\nvar shadowTemplate;\r\nvar wasExpandedOnMouseDown;\r\nlet HTMLEToolBarElementBase = class HTMLEToolBarElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEToolBarElementBase_instances.add(this);\r\n        _HTMLEToolBarElementBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEToolBarElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_nodeFilter).bind(this)), \"f\");\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"contextmenu\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleContextMenuEvent).bind(this));\r\n        this.addEventListener(\"dblclick\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleDblClickEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleMouseDownEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_handleKeyDownEvent).bind(this));\r\n    }\r\n    get activeItem() {\r\n        return this.querySelector(\"e-toolbaritem[active]\");\r\n    }\r\n    items() {\r\n        return Array.from(this.querySelectorAll(\":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem\"));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    firstItem() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n};\r\n_HTMLEToolBarElementBase_walker = new WeakMap(), _HTMLEToolBarElementBase_instances = new WeakSet(), _HTMLEToolBarElementBase_nodeFilter = function _HTMLEToolBarElementBase_nodeFilter(node) {\r\n    if (node instanceof HTMLEToolBarItemElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEToolBarItemGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEToolBarElementBase_lastItem = function _HTMLEToolBarElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.lastChild();\r\n}, _HTMLEToolBarElementBase_previousItem = function _HTMLEToolBarElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    const previousItem = walker.previousSibling();\r\n    return previousItem;\r\n}, _HTMLEToolBarElementBase_nextItem = function _HTMLEToolBarElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.nextSibling();\r\n}, _HTMLEToolBarElementBase_setActiveItem = function _HTMLEToolBarElementBase_setActiveItem(item) {\r\n    const { activeItem } = this;\r\n    if (activeItem !== null && activeItem !== item) {\r\n        activeItem.active = false;\r\n    }\r\n    if (item !== null) {\r\n        item.active = true;\r\n    }\r\n}, _HTMLEToolBarElementBase_handleClickEvent = function _HTMLEToolBarElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-toolbaritem\");\r\n    if (targetItem) {\r\n        const { type, pressed } = targetItem;\r\n        switch (type) {\r\n            case \"checkbox\": {\r\n                targetItem.pressed = !pressed;\r\n                break;\r\n            }\r\n            case \"radio\": {\r\n                targetItem.pressed = true;\r\n                break;\r\n            }\r\n            case \"menubutton\": {\r\n                const { menubutton } = targetItem;\r\n                if (menubutton && !menubutton.contains(target)) {\r\n                    const force = !wasExpandedOnMouseDown.get(targetItem) ?? true;\r\n                    menubutton.toggle(force);\r\n                    if (force) {\r\n                        menubutton.firstItem?.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"select\": {\r\n                const { select } = targetItem;\r\n                if (select && !select.contains(target)) {\r\n                    const force = !wasExpandedOnMouseDown.get(targetItem) ?? true;\r\n                    select.toggle(force);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    event.stopPropagation();\r\n}, _HTMLEToolBarElementBase_handleContextMenuEvent = function _HTMLEToolBarElementBase_handleContextMenuEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLEToolBarElementBase_handleDblClickEvent = function _HTMLEToolBarElementBase_handleDblClickEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLEToolBarElementBase_handleFocusEvent = function _HTMLEToolBarElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { activeItem } = this;\r\n    if (!this.contains(relatedTarget)) {\r\n        (activeItem ?? this.firstItem())?.focus();\r\n    }\r\n}, _HTMLEToolBarElementBase_handleFocusInEvent = function _HTMLEToolBarElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-toolbaritem\");\r\n    if (targetItem) {\r\n        __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_setActiveItem).call(this, targetItem);\r\n        this.tabIndex = -1;\r\n    }\r\n}, _HTMLEToolBarElementBase_handleFocusOutEvent = function _HTMLEToolBarElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        this.tabIndex = 0;\r\n    }\r\n}, _HTMLEToolBarElementBase_handleMouseDownEvent = function _HTMLEToolBarElementBase_handleMouseDownEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-toolbaritem\");\r\n    if (targetItem) {\r\n        const { type } = targetItem;\r\n        switch (type) {\r\n            case \"menubutton\": {\r\n                const { menubutton } = targetItem;\r\n                if (menubutton && !menubutton.contains(target)) {\r\n                    wasExpandedOnMouseDown.set(targetItem, menubutton.expanded);\r\n                }\r\n                break;\r\n            }\r\n            case \"select\": {\r\n                const { select } = targetItem;\r\n                if (select && !select.contains(target)) {\r\n                    wasExpandedOnMouseDown.set(targetItem, select.expanded);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEToolBarElementBase_handleKeyDownEvent = function _HTMLEToolBarElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { activeItem } = this;\r\n    switch (key) {\r\n        case \"Enter\": {\r\n            if (activeItem) {\r\n                const { type } = activeItem;\r\n                switch (type) {\r\n                    case \"menubutton\": {\r\n                        const { menubutton } = activeItem;\r\n                        if (menubutton) {\r\n                            menubutton.expand();\r\n                            menubutton.firstItem?.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"select\": {\r\n                        const { select } = activeItem;\r\n                        if (select) {\r\n                            select.expand();\r\n                        }\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        activeItem.click();\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowLeft\": {\r\n            if (activeItem) {\r\n                const previousItem = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_previousItem).call(this, activeItem);\r\n                if (previousItem) {\r\n                    previousItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            else {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            if (activeItem) {\r\n                const nextItem = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_nextItem).call(this, activeItem);\r\n                if (nextItem) {\r\n                    nextItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            else {\r\n                const lastItem = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_lastItem).call(this);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            if (activeItem) {\r\n                const { type } = activeItem;\r\n                switch (type) {\r\n                    case \"select\": {\r\n                        activeItem.select?.expand();\r\n                        event.stopPropagation();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstItem = this.firstItem();\r\n            if (firstItem) {\r\n                firstItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastItem = __classPrivateFieldGet(this, _HTMLEToolBarElementBase_instances, \"m\", _HTMLEToolBarElementBase_lastItem).call(this);\r\n            if (lastItem) {\r\n                lastItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n    wasExpandedOnMouseDown = new WeakMap();\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEToolBarElementBase.prototype, \"orientation\", void 0);\r\nHTMLEToolBarElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-toolbar\"\r\n    })\r\n], HTMLEToolBarElementBase);\r\nvar HTMLEToolBarElement = HTMLEToolBarElementBase;\r\n//# sourceMappingURL=ToolBar.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty } from \"../../Element\";\r\nexport { HTMLETabElement };\r\nlet HTMLETabElementBase = class HTMLETabElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n    }\r\n    get panel() {\r\n        const { controls } = this;\r\n        return this.getRootNode().querySelector(`e-tabpanel[id='${controls}']`);\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    select() {\r\n        this.selected = true;\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETabElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETabElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLETabElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETabElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETabElementBase.prototype, \"selected\", void 0);\r\nHTMLETabElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tab\"\r\n    })\r\n], HTMLETabElementBase);\r\nvar HTMLETabElement = HTMLETabElementBase;\r\n//# sourceMappingURL=Tab.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLETabListElementBase_instances, _HTMLETabListElementBase_walker, _HTMLETabListElementBase_walkerNodeFilter, _HTMLETabListElementBase_lastItem, _HTMLETabListElementBase_previousItem, _HTMLETabListElementBase_nextItem, _HTMLETabListElementBase_setActiveTab, _HTMLETabListElementBase_selectTab, _HTMLETabListElementBase_handleClickEvent, _HTMLETabListElementBase_handleFocusEvent, _HTMLETabListElementBase_handleFocusInEvent, _HTMLETabListElementBase_handleFocusOutEvent, _HTMLETabListElementBase_handleKeyDownEvent, _HTMLETabListElementBase_handleSelectEvent;\r\nimport { CustomElement } from \"../../Element\";\r\nimport { HTMLETabElement } from \"./Tab\";\r\nexport { HTMLETabListElement };\r\nlet HTMLETabListElementBase = class HTMLETabListElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLETabListElementBase_instances.add(this);\r\n        _HTMLETabListElementBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLETabListElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_walkerNodeFilter).bind(this)), \"f\");\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleSelectEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_handleSelectEvent).bind(this));\r\n    }\r\n    get tabs() {\r\n        return Array.from(this.querySelectorAll(\"e-tab\"));\r\n    }\r\n    get activeTab() {\r\n        return this.querySelector(\"e-tab[active]\");\r\n    }\r\n    get selectedTab() {\r\n        return this.querySelector(\"e-tab[selected]\");\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex, selectedTab } = this;\r\n        this.tabIndex = tabIndex;\r\n        customElements.upgrade(this);\r\n        const tabToSelect = selectedTab ?? this.firstItem();\r\n        if (tabToSelect) {\r\n            __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_selectTab).call(this, tabToSelect);\r\n        }\r\n    }\r\n    firstItem() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLETabListElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        return walker.firstChild();\r\n    }\r\n};\r\n_HTMLETabListElementBase_walker = new WeakMap(), _HTMLETabListElementBase_instances = new WeakSet(), _HTMLETabListElementBase_walkerNodeFilter = function _HTMLETabListElementBase_walkerNodeFilter(node) {\r\n    if (node instanceof HTMLETabElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLETabListElementBase_lastItem = function _HTMLETabListElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETabListElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.lastChild();\r\n}, _HTMLETabListElementBase_previousItem = function _HTMLETabListElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETabListElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.previousNode();\r\n}, _HTMLETabListElementBase_nextItem = function _HTMLETabListElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETabListElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    return walker.nextNode();\r\n}, _HTMLETabListElementBase_setActiveTab = function _HTMLETabListElementBase_setActiveTab(item) {\r\n    const { activeTab } = this;\r\n    if (activeTab !== null && activeTab !== item) {\r\n        activeTab.active = false;\r\n    }\r\n    if (item !== null) {\r\n        item.active = true;\r\n    }\r\n}, _HTMLETabListElementBase_selectTab = function _HTMLETabListElementBase_selectTab(tab) {\r\n    const { selectedTab } = this;\r\n    if (tab !== selectedTab) {\r\n        tab.selected = true;\r\n    }\r\n}, _HTMLETabListElementBase_handleClickEvent = function _HTMLETabListElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const targetTab = target.closest(\"e-tab\");\r\n    if (targetTab) {\r\n        targetTab.select();\r\n    }\r\n}, _HTMLETabListElementBase_handleFocusEvent = function _HTMLETabListElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { selectedTab } = this;\r\n    if (!this.contains(relatedTarget)) {\r\n        (selectedTab ?? this.firstItem())?.focus();\r\n    }\r\n}, _HTMLETabListElementBase_handleFocusInEvent = function _HTMLETabListElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    const targetTab = target.closest(\"e-tab\");\r\n    if (targetTab) {\r\n        __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_setActiveTab).call(this, targetTab);\r\n        this.tabIndex = -1;\r\n    }\r\n}, _HTMLETabListElementBase_handleFocusOutEvent = function _HTMLETabListElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        this.tabIndex = 0;\r\n    }\r\n}, _HTMLETabListElementBase_handleKeyDownEvent = function _HTMLETabListElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { activeTab } = this;\r\n    switch (key) {\r\n        case \"ArrowLeft\": {\r\n            const previousTab = activeTab ?\r\n                __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_previousItem).call(this, activeTab) ?? __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_lastItem).call(this) :\r\n                this.firstItem();\r\n            previousTab?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            const nextTab = activeTab ?\r\n                __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_nextItem).call(this, activeTab) ?? this.firstItem() :\r\n                __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_lastItem).call(this);\r\n            nextTab?.focus({ preventScroll: true });\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstItem = this.firstItem();\r\n            if (firstItem) {\r\n                firstItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastItem = __classPrivateFieldGet(this, _HTMLETabListElementBase_instances, \"m\", _HTMLETabListElementBase_lastItem).call(this);\r\n            if (lastItem) {\r\n                lastItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\": {\r\n            activeTab?.click();\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLETabListElementBase_handleSelectEvent = function _HTMLETabListElementBase_handleSelectEvent(event) {\r\n    const { target } = event;\r\n    const targetTab = target;\r\n    if (targetTab.selected) {\r\n        const { tabs } = this;\r\n        tabs.forEach((tab_i) => {\r\n            if (tab_i !== targetTab) {\r\n                //const {selected} = tab_i;\r\n                //if (selected) {\r\n                tab_i.selected = false;\r\n                //}\r\n                const { panel } = tab_i;\r\n                if (panel) {\r\n                    panel.hidden = true;\r\n                }\r\n            }\r\n        });\r\n        const { panel } = targetTab;\r\n        if (panel) {\r\n            panel.hidden = false;\r\n        }\r\n    }\r\n};\r\nHTMLETabListElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tablist\"\r\n    })\r\n], HTMLETabListElementBase);\r\nvar HTMLETabListElement = HTMLETabListElementBase;\r\n//# sourceMappingURL=TabList.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement } from \"../../Element\";\r\nexport { HTMLETabPanelElement };\r\nlet HTMLETabPanelElementBase = class HTMLETabPanelElementBase extends HTMLElement {\r\n    get tab() {\r\n        const { id } = this;\r\n        return this.getRootNode().querySelector(`e-tab[controls=${id}]`);\r\n    }\r\n    constructor() {\r\n        super();\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n        const { tab } = this;\r\n        if (tab) {\r\n            customElements.upgrade(tab);\r\n            const { selected } = tab;\r\n            this.hidden = !selected;\r\n        }\r\n    }\r\n};\r\nHTMLETabPanelElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tabpanel\"\r\n    })\r\n], HTMLETabPanelElementBase);\r\nvar HTMLETabPanelElement = HTMLETabPanelElementBase;\r\n//# sourceMappingURL=TabPanel.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element, AttributeProperty, QueryProperty } from \"../../Element\";\r\nexport { HTMLETreeItemElement };\r\nvar shadowTemplate;\r\nlet HTMLETreeItemElementBase = class HTMLETreeItemElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"expanded\": {\r\n                this.dispatchEvent(new Event(\"toggle\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                const labelPart = this.shadowRoot.querySelector(\"[part=label]\");\r\n                if (labelPart) {\r\n                    labelPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n            case \"level\": {\r\n                this.style.setProperty(\"--level\", `${this.level}`);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    toggle(force) {\r\n        const { expanded } = this;\r\n        this.expanded = force ?? !expanded;\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"div\", {\r\n        attributes: {\r\n            part: \"content\"\r\n        },\r\n        children: [\r\n            element(\"span\", {\r\n                attributes: {\r\n                    part: \"arrow\"\r\n                }\r\n            }),\r\n            element(\"slot\")\r\n        ]\r\n    }), element(\"slot\", {\r\n        attributes: {\r\n            name: \"group\"\r\n        }\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETreeItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLETreeItemElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"expanded\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeItemElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"selected\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number, observed: true })\r\n], HTMLETreeItemElementBase.prototype, \"level\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"leaf\" })\r\n], HTMLETreeItemElementBase.prototype, \"type\", void 0);\r\n__decorate([\r\n    QueryProperty({ selector: \":scope > e-treeitemgroup[slot=group]\" })\r\n], HTMLETreeItemElementBase.prototype, \"group\", void 0);\r\nHTMLETreeItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-treeitem\"\r\n    })\r\n], HTMLETreeItemElementBase);\r\nvar HTMLETreeItemElement = HTMLETreeItemElementBase;\r\n//# sourceMappingURL=TreeItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement } from \"../../Element\";\r\nexport { HTMLETreeItemGroupElement };\r\nlet HTMLETreeItemGroupElementBase = class HTMLETreeItemGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n    }\r\n};\r\nHTMLETreeItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-treeitemgroup\"\r\n    })\r\n], HTMLETreeItemGroupElementBase);\r\nvar HTMLETreeItemGroupElement = HTMLETreeItemGroupElementBase;\r\n//# sourceMappingURL=TreeItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLETreeElementBase_instances, _HTMLETreeElementBase_onSelection, _HTMLETreeElementBase_hasSelectionChanged, _HTMLETreeElementBase_walker, _HTMLETreeElementBase_nodeFilter, _HTMLETreeElementBase_getItemsRange, _HTMLETreeElementBase_setSelection, _HTMLETreeElementBase_addToSelection, _HTMLETreeElementBase_removeFromSelection, _HTMLETreeElementBase_clearSelection, _HTMLETreeElementBase_setActiveItem, _HTMLETreeElementBase_setDropTargetItem, _HTMLETreeElementBase_lastItem, _HTMLETreeElementBase_previousItem, _HTMLETreeElementBase_nextItem, _HTMLETreeElementBase_deepestItem, _HTMLETreeElementBase_handleClickEvent, _HTMLETreeElementBase_handleContextMenuEvent, _HTMLETreeElementBase_handleDblClickEvent, _HTMLETreeElementBase_handleDragEndEvent, _HTMLETreeElementBase_handleDragEnterEvent, _HTMLETreeElementBase_handleDragOverEvent, _HTMLETreeElementBase_handleDragLeaveEvent, _HTMLETreeElementBase_handleDropEvent, _HTMLETreeElementBase_handleKeyDownEvent, _HTMLETreeElementBase_handleFocusEvent, _HTMLETreeElementBase_handleFocusInEvent, _HTMLETreeElementBase_handleFocusOutEvent, _HTMLETreeElementBase_handleMouseDownEvent, _HTMLETreeElementBase_handleSelectEvent;\r\nimport { CustomElement, AttributeProperty } from \"../../Element\";\r\nimport { HTMLETreeItemElement } from \"./TreeItem\";\r\nimport { HTMLETreeItemGroupElement } from \"./TreeItemGroup\";\r\nexport { HTMLETreeElement };\r\nlet HTMLETreeElementBase = class HTMLETreeElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLETreeElementBase_instances.add(this);\r\n        _HTMLETreeElementBase_onSelection.set(this, void 0);\r\n        _HTMLETreeElementBase_hasSelectionChanged.set(this, void 0);\r\n        _HTMLETreeElementBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_nodeFilter).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_onSelection, false, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_hasSelectionChanged, false, \"f\");\r\n        this.items = this.getElementsByTagName(\"e-treeitem\");\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"contextmenu\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleContextMenuEvent).bind(this));\r\n        this.addEventListener(\"dblclick\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDblClickEvent).bind(this));\r\n        this.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleMouseDownEvent).bind(this));\r\n        this.addEventListener(\"dragend\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDragEndEvent).bind(this));\r\n        this.addEventListener(\"dragenter\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDragEnterEvent).bind(this));\r\n        this.addEventListener(\"dragleave\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDragLeaveEvent).bind(this));\r\n        this.addEventListener(\"dragover\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDragOverEvent).bind(this));\r\n        this.addEventListener(\"drop\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleDropEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_handleSelectEvent).bind(this));\r\n    }\r\n    get activeItem() {\r\n        return this.querySelector(\"e-treeitem[active]\");\r\n    }\r\n    get dropTargetItem() {\r\n        return this.querySelector(\"e-treeitem[droptarget]\");\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    selectedItems() {\r\n        const selectedItems = [];\r\n        const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let item = this.firstItem();\r\n        while (item !== null) {\r\n            if (item.selected) {\r\n                selectedItems.push(item);\r\n            }\r\n            item = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_nextItem).call(this, item);\r\n        }\r\n        return selectedItems;\r\n    }\r\n    beginSelection() {\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_onSelection, true, \"f\");\r\n    }\r\n    endSelection() {\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_onSelection, false, \"f\");\r\n        if (__classPrivateFieldGet(this, _HTMLETreeElementBase_hasSelectionChanged, \"f\")) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            __classPrivateFieldSet(this, _HTMLETreeElementBase_hasSelectionChanged, false, \"f\");\r\n        }\r\n    }\r\n    firstItem() {\r\n        const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n        const { root } = walker;\r\n        walker.currentNode = root;\r\n        return walker.firstChild();\r\n    }\r\n};\r\n_HTMLETreeElementBase_onSelection = new WeakMap(), _HTMLETreeElementBase_hasSelectionChanged = new WeakMap(), _HTMLETreeElementBase_walker = new WeakMap(), _HTMLETreeElementBase_instances = new WeakSet(), _HTMLETreeElementBase_nodeFilter = function _HTMLETreeElementBase_nodeFilter(node) {\r\n    if (node instanceof HTMLETreeItemElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLETreeItemGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLETreeElementBase_getItemsRange = function _HTMLETreeElementBase_getItemsRange(from, to) {\r\n    if (from == to) {\r\n        return [from];\r\n    }\r\n    const position = from.compareDocumentPosition(to);\r\n    if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n        const range = [from];\r\n        let nextVisibleItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_nextItem).call(this, from);\r\n        while (nextVisibleItem && nextVisibleItem !== to) {\r\n            range.push(nextVisibleItem);\r\n            nextVisibleItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_nextItem).call(this, nextVisibleItem);\r\n        }\r\n        range.push(to);\r\n        return range;\r\n    }\r\n    else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n        const range = [from];\r\n        let previousVisibleItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_previousItem).call(this, from);\r\n        while (previousVisibleItem && previousVisibleItem !== to) {\r\n            range.push(previousVisibleItem);\r\n            previousVisibleItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_previousItem).call(this, previousVisibleItem);\r\n        }\r\n        range.push(to);\r\n        return range;\r\n    }\r\n    return [];\r\n}, _HTMLETreeElementBase_setSelection = function _HTMLETreeElementBase_setSelection(...items) {\r\n    const selectedItems = this.selectedItems();\r\n    this.beginSelection();\r\n    selectedItems.forEach((selectedItem_i) => {\r\n        if (!items.includes(selectedItem_i)) {\r\n            selectedItem_i.selected = false;\r\n        }\r\n    });\r\n    items.forEach((item_i) => {\r\n        if (this.contains(item_i) && !item_i.selected) {\r\n            item_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLETreeElementBase_addToSelection = function _HTMLETreeElementBase_addToSelection(...items) {\r\n    this.beginSelection();\r\n    items.forEach((item_i) => {\r\n        if (!item_i.selected) {\r\n            item_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLETreeElementBase_removeFromSelection = function _HTMLETreeElementBase_removeFromSelection(...items) {\r\n    const selectedItems = this.selectedItems();\r\n    this.beginSelection();\r\n    items.forEach((item_i) => {\r\n        if (selectedItems.includes(item_i)) {\r\n            item_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLETreeElementBase_clearSelection = function _HTMLETreeElementBase_clearSelection() {\r\n    const selectedItems = this.selectedItems();\r\n    this.beginSelection();\r\n    selectedItems.forEach((item_i) => {\r\n        item_i.selected = false;\r\n    });\r\n    this.endSelection();\r\n}, _HTMLETreeElementBase_setActiveItem = function _HTMLETreeElementBase_setActiveItem(item) {\r\n    const { activeItem } = this;\r\n    if (activeItem !== null && activeItem !== item) {\r\n        activeItem.active = false;\r\n        activeItem.tabIndex = -1;\r\n    }\r\n    if (item !== null) {\r\n        const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        item.active = true;\r\n        item.tabIndex = 0;\r\n    }\r\n}, _HTMLETreeElementBase_setDropTargetItem = function _HTMLETreeElementBase_setDropTargetItem(item) {\r\n    const { dropTargetItem } = this;\r\n    if (dropTargetItem !== null && dropTargetItem !== item) {\r\n        dropTargetItem.droptarget = false;\r\n    }\r\n    if (item !== null) {\r\n        this.droptarget = true;\r\n        item.droptarget = true;\r\n    }\r\n    else {\r\n        this.droptarget = false;\r\n    }\r\n}, _HTMLETreeElementBase_lastItem = function _HTMLETreeElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n    const { root } = walker;\r\n    walker.currentNode = root;\r\n    return walker.lastChild();\r\n}, _HTMLETreeElementBase_previousItem = function _HTMLETreeElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    const previousSibling = walker.previousSibling();\r\n    return previousSibling ?\r\n        __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_deepestItem).call(this, previousSibling) :\r\n        walker.parentNode();\r\n}, _HTMLETreeElementBase_nextItem = function _HTMLETreeElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    const { type, expanded } = item;\r\n    return (type === \"leaf\" ?\r\n        walker.nextNode() :\r\n        expanded ?\r\n            walker.nextNode() :\r\n            walker.nextSibling() ??\r\n                (walker.parentNode(), walker.nextSibling()));\r\n}, _HTMLETreeElementBase_deepestItem = function _HTMLETreeElementBase_deepestItem(item) {\r\n    if (item.expanded) {\r\n        const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n        const lastItem = walker.lastChild();\r\n        if (lastItem) {\r\n            return __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_deepestItem).call(this, lastItem);\r\n        }\r\n    }\r\n    return item;\r\n}, _HTMLETreeElementBase_handleClickEvent = function _HTMLETreeElementBase_handleClickEvent(event) {\r\n    const { target, shiftKey, ctrlKey } = event;\r\n    const targetItem = target.closest(\"e-treeitem\");\r\n    if (targetItem) {\r\n        if (!shiftKey && !ctrlKey) {\r\n            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, targetItem);\r\n            const { type } = targetItem;\r\n            if (type == \"parent\") {\r\n                targetItem.toggle();\r\n            }\r\n        }\r\n    }\r\n    event.stopPropagation();\r\n}, _HTMLETreeElementBase_handleContextMenuEvent = function _HTMLETreeElementBase_handleContextMenuEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLETreeElementBase_handleDblClickEvent = function _HTMLETreeElementBase_handleDblClickEvent(event) {\r\n    event.stopPropagation();\r\n}, _HTMLETreeElementBase_handleDragEndEvent = function _HTMLETreeElementBase_handleDragEndEvent() {\r\n    __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setDropTargetItem).call(this, null);\r\n}, _HTMLETreeElementBase_handleDragEnterEvent = function _HTMLETreeElementBase_handleDragEnterEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-treeitem\");\r\n    if (targetItem) {\r\n        const { type } = targetItem;\r\n        if (type == \"parent\") {\r\n            targetItem.toggle(true);\r\n        }\r\n        __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setDropTargetItem).call(this, targetItem);\r\n    }\r\n    event.preventDefault();\r\n}, _HTMLETreeElementBase_handleDragOverEvent = function _HTMLETreeElementBase_handleDragOverEvent(event) {\r\n    event.preventDefault();\r\n}, _HTMLETreeElementBase_handleDragLeaveEvent = function _HTMLETreeElementBase_handleDragLeaveEvent(event) {\r\n    const { relatedTarget } = event;\r\n    if (relatedTarget) {\r\n        const relatedTargetRoot = relatedTarget.getRootNode();\r\n        const relatedTargetHost = relatedTargetRoot instanceof ShadowRoot ?\r\n            relatedTargetRoot.host :\r\n            relatedTarget;\r\n        if (!this.contains(relatedTargetHost)) {\r\n            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setDropTargetItem).call(this, null);\r\n        }\r\n    }\r\n}, _HTMLETreeElementBase_handleDropEvent = function _HTMLETreeElementBase_handleDropEvent() {\r\n    __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setDropTargetItem).call(this, null);\r\n}, _HTMLETreeElementBase_handleKeyDownEvent = function _HTMLETreeElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { activeItem } = this;\r\n    switch (key) {\r\n        case \"a\": {\r\n            const { ctrlKey } = event;\r\n            if (ctrlKey) {\r\n                if (activeItem) {\r\n                    const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n                    const { root } = walker;\r\n                    walker.currentNode = activeItem;\r\n                    const firstItem = (walker.currentNode = walker.parentNode() ?? root, walker.firstChild());\r\n                    const lastItem = (walker.currentNode = walker.parentNode() ?? root, walker.lastChild());\r\n                    if (firstItem && lastItem) {\r\n                        const range = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_getItemsRange).call(this, firstItem, __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_deepestItem).call(this, lastItem));\r\n                        if (range) {\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, ...range);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            event.preventDefault();\r\n            break;\r\n        }\r\n        case \"ArrowLeft\": {\r\n            if (activeItem) {\r\n                if (activeItem.expanded) {\r\n                    activeItem.toggle();\r\n                }\r\n                else {\r\n                    const walker = __classPrivateFieldGet(this, _HTMLETreeElementBase_walker, \"f\");\r\n                    const parentItem = walker.parentNode();\r\n                    if (parentItem) {\r\n                        parentItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            if (activeItem) {\r\n                if (!activeItem.expanded) {\r\n                    activeItem.toggle();\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowUp\": {\r\n            if (activeItem) {\r\n                const previousItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_previousItem).call(this, activeItem);\r\n                if (previousItem) {\r\n                    previousItem.focus({ preventScroll: true });\r\n                    const { shiftKey } = event;\r\n                    if (shiftKey) {\r\n                        previousItem.selected ?\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_removeFromSelection).call(this, previousItem) :\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_addToSelection).call(this, previousItem);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const firstItem = this.firstItem();\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            if (activeItem) {\r\n                const nextItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_nextItem).call(this, activeItem);\r\n                if (nextItem) {\r\n                    nextItem.focus({ preventScroll: true });\r\n                    const { shiftKey } = event;\r\n                    if (shiftKey) {\r\n                        nextItem.selected ?\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_removeFromSelection).call(this, nextItem) :\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_addToSelection).call(this, nextItem);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const lastItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_lastItem).call(this);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstItem = this.firstItem();\r\n            if (firstItem) {\r\n                firstItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastItem = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_lastItem).call(this);\r\n            if (lastItem) {\r\n                lastItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\": {\r\n            if (activeItem) {\r\n                __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, activeItem);\r\n                activeItem.click();\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_clearSelection).call(this);\r\n            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setActiveItem).call(this, null);\r\n            this.focus();\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLETreeElementBase_handleFocusEvent = function _HTMLETreeElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { activeItem } = this;\r\n    if (!this.contains(relatedTarget)) {\r\n        (activeItem ?? this.firstItem())?.focus();\r\n    }\r\n}, _HTMLETreeElementBase_handleFocusInEvent = function _HTMLETreeElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    const targetItem = target.closest(\"e-treeitem\");\r\n    if (targetItem) {\r\n        __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setActiveItem).call(this, targetItem);\r\n        this.tabIndex = -1;\r\n    }\r\n}, _HTMLETreeElementBase_handleFocusOutEvent = function _HTMLETreeElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin) {\r\n        this.tabIndex = 0;\r\n    }\r\n}, _HTMLETreeElementBase_handleMouseDownEvent = function _HTMLETreeElementBase_handleMouseDownEvent(event) {\r\n    const { target, ctrlKey, shiftKey, button } = event;\r\n    if (target instanceof HTMLETreeItemElement) {\r\n        const { selected } = target;\r\n        switch (button) {\r\n            case 0:\r\n                {\r\n                    if (!shiftKey && !ctrlKey && !selected) {\r\n                        __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, target);\r\n                    }\r\n                    else if (ctrlKey) {\r\n                        if (selected) {\r\n                            target.blur();\r\n                        }\r\n                        (!selected) ?\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_addToSelection).call(this, target) :\r\n                            __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_removeFromSelection).call(this, target);\r\n                        event.stopPropagation();\r\n                    }\r\n                    else if (shiftKey) {\r\n                        const { activeItem } = this;\r\n                        if (activeItem) {\r\n                            const range = __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_getItemsRange).call(this, activeItem, target);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, ...range);\r\n                            }\r\n                        }\r\n                        event.stopPropagation();\r\n                    }\r\n                }\r\n                break;\r\n            case 2: {\r\n                if (!selected) {\r\n                    __classPrivateFieldGet(this, _HTMLETreeElementBase_instances, \"m\", _HTMLETreeElementBase_setSelection).call(this, target);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}, _HTMLETreeElementBase_handleSelectEvent = function _HTMLETreeElementBase_handleSelectEvent() {\r\n    if (__classPrivateFieldGet(this, _HTMLETreeElementBase_onSelection, \"f\")) {\r\n        __classPrivateFieldSet(this, _HTMLETreeElementBase_hasSelectionChanged, true, \"f\");\r\n    }\r\n    else {\r\n        this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLETreeElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLETreeElementBase.prototype, \"name\", void 0);\r\nHTMLETreeElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tree\"\r\n    })\r\n], HTMLETreeElementBase);\r\nvar HTMLETreeElement = HTMLETreeElementBase;\r\n//# sourceMappingURL=Tree.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEListItemElementBase_instances, _HTMLEListItemElementBase_badge, _HTMLEListItemElementBase_toolbar, _HTMLEListItemElementBase_menu, _HTMLEListItemElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, element, AttributeProperty } from \"../../Element\";\r\nimport { HTMLEMenuElement } from \"../menus/Menu\";\r\nimport { HTMLEToolBarElement } from \"../toolbars/ToolBar\";\r\nexport { HTMLEListItemElement };\r\nvar shadowTemplate;\r\nlet HTMLEListItemElementBase = class HTMLEListItemElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEListItemElementBase_instances.add(this);\r\n        _HTMLEListItemElementBase_badge.set(this, void 0);\r\n        _HTMLEListItemElementBase_toolbar.set(this, void 0);\r\n        _HTMLEListItemElementBase_menu.set(this, void 0);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        __classPrivateFieldSet(this, _HTMLEListItemElementBase_badge, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListItemElementBase_menu, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListItemElementBase_toolbar, null, \"f\");\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEListItemElementBase_instances, \"m\", _HTMLEListItemElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n    get badge() {\r\n        return __classPrivateFieldGet(this, _HTMLEListItemElementBase_badge, \"f\");\r\n    }\r\n    get toolbar() {\r\n        return __classPrivateFieldGet(this, _HTMLEListItemElementBase_toolbar, \"f\");\r\n    }\r\n    get menu() {\r\n        return __classPrivateFieldGet(this, _HTMLEListItemElementBase_menu, \"f\");\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"selected\": {\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n            case \"label\": {\r\n                const { shadowRoot } = this;\r\n                const labelPart = shadowRoot.querySelector(\"[part=label]\");\r\n                if (labelPart) {\r\n                    labelPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n_HTMLEListItemElementBase_badge = new WeakMap(), _HTMLEListItemElementBase_toolbar = new WeakMap(), _HTMLEListItemElementBase_menu = new WeakMap(), _HTMLEListItemElementBase_instances = new WeakSet(), _HTMLEListItemElementBase_handleSlotChangeEvent = function _HTMLEListItemElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const { name: slotName } = target;\r\n    switch (slotName) {\r\n        case \"toolbar\": {\r\n            const element = target.assignedElements()[0];\r\n            __classPrivateFieldSet(this, _HTMLEListItemElementBase_toolbar, element instanceof HTMLEToolBarElement ? element : null, \"f\");\r\n            break;\r\n        }\r\n        case \"badge\": {\r\n            const element = target.assignedElements()[0];\r\n            __classPrivateFieldSet(this, _HTMLEListItemElementBase_badge, element instanceof HTMLSpanElement ? element : null, \"f\");\r\n            break;\r\n        }\r\n        case \"menu\": {\r\n            const element = target.assignedElements()[0];\r\n            __classPrivateFieldSet(this, _HTMLEListItemElementBase_menu, element instanceof HTMLEMenuElement ? element : null, \"f\");\r\n            break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEListItemElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Number })\r\n], HTMLEListItemElementBase.prototype, \"posinset\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEListItemElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListItemElementBase.prototype, \"droptarget\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListItemElementBase.prototype, \"active\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEListItemElementBase.prototype, \"selected\", void 0);\r\nHTMLEListItemElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-listitem\"\r\n    })\r\n], HTMLEListItemElementBase);\r\nvar HTMLEListItemElement = HTMLEListItemElementBase;\r\n//# sourceMappingURL=ListItem.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEListItemGroupElementBase_instances, _HTMLEListItemGroupElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, element } from \"../../Element\";\r\nimport { HTMLEListItemElement } from \"./ListItem\";\r\nexport { HTMLEListItemGroupElement };\r\nvar shadowTemplate;\r\nlet HTMLEListItemGroupElementBase = class HTMLEListItemGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEListItemGroupElementBase_instances.add(this);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEListItemGroupElementBase_instances, \"m\", _HTMLEListItemGroupElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n};\r\n_HTMLEListItemGroupElementBase_instances = new WeakSet(), _HTMLEListItemGroupElementBase_handleSlotChangeEvent = function _HTMLEListItemGroupElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedItems = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEListItemElement);\r\n    assignedItems.forEach((item_i, i) => {\r\n        item_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\nHTMLEListItemGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-listitemgroup\"\r\n    })\r\n], HTMLEListItemGroupElementBase);\r\nvar HTMLEListItemGroupElement = HTMLEListItemGroupElementBase;\r\n//# sourceMappingURL=ListItemGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLEListElementBase_instances, _HTMLEListElementBase_dropTargetIndex, _HTMLEListElementBase_activeIndex, _HTMLEListElementBase_onSelection, _HTMLEListElementBase_hasSelectionChanged, _HTMLEListElementBase_walker, _HTMLEListElementBase_walkerNodeFilter, _HTMLEListElementBase_getItemsRange, _HTMLEListElementBase_setSelection, _HTMLEListElementBase_addToSelection, _HTMLEListElementBase_removeFromSelection, _HTMLEListElementBase_clearSelection, _HTMLEListElementBase_setActiveItem, _HTMLEListElementBase_setDropTargetItem, _HTMLEListElementBase_firstItem, _HTMLEListElementBase_lastItem, _HTMLEListElementBase_previousItem, _HTMLEListElementBase_nextItem, _HTMLEListElementBase_handleContextMenuEvent, _HTMLEListElementBase_handleClickEvent, _HTMLEListElementBase_handleDragEndEvent, _HTMLEListElementBase_handleDragEnterEvent, _HTMLEListElementBase_handleDragOverEvent, _HTMLEListElementBase_handleDragLeaveEvent, _HTMLEListElementBase_handleDragStartEvent, _HTMLEListElementBase_handleDropEvent, _HTMLEListElementBase_handleKeyDownEvent, _HTMLEListElementBase_handleFocusEvent, _HTMLEListElementBase_handleFocusInEvent, _HTMLEListElementBase_handleSelectEvent, _HTMLEListElementBase_handleSlotChangeEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEListItemElement } from \"./ListItem\";\r\nimport { HTMLEListItemGroupElement } from \"./ListItemGroup\";\r\nexport { HTMLEListElement };\r\nvar shadowTemplate;\r\nlet HTMLEListElementBase = class HTMLEListElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEListElementBase_instances.add(this);\r\n        _HTMLEListElementBase_dropTargetIndex.set(this, void 0);\r\n        _HTMLEListElementBase_activeIndex.set(this, void 0);\r\n        _HTMLEListElementBase_onSelection.set(this, void 0);\r\n        _HTMLEListElementBase_hasSelectionChanged.set(this, void 0);\r\n        _HTMLEListElementBase_walker.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_walkerNodeFilter).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_activeIndex, -1, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_dropTargetIndex, -1, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_onSelection, false, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_hasSelectionChanged, false, \"f\");\r\n        this.items = this.getElementsByTagName(\"e-listitem\");\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        this.addEventListener(\"contextmenu\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleContextMenuEvent).bind(this));\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"dragend\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDragEndEvent).bind(this));\r\n        this.addEventListener(\"dragenter\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDragEnterEvent).bind(this));\r\n        this.addEventListener(\"dragover\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDragOverEvent).bind(this));\r\n        this.addEventListener(\"dragleave\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDragLeaveEvent).bind(this));\r\n        this.addEventListener(\"dragstart\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDragStartEvent).bind(this));\r\n        this.addEventListener(\"drop\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleDropEvent).bind(this));\r\n        this.addEventListener(\"focus\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleFocusEvent).bind(this));\r\n        this.addEventListener(\"focusin\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleFocusInEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleSelectEvent).bind(this));\r\n        shadowRoot.addEventListener(\"slotchange\", __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_handleSlotChangeEvent).bind(this));\r\n    }\r\n    get dropTargetItem() {\r\n        return this.items[__classPrivateFieldGet(this, _HTMLEListElementBase_dropTargetIndex, \"f\")] ?? null;\r\n    }\r\n    get activeIndex() {\r\n        return __classPrivateFieldGet(this, _HTMLEListElementBase_activeIndex, \"f\");\r\n    }\r\n    get activeItem() {\r\n        return this.items[this.activeIndex] ?? null;\r\n    }\r\n    beginSelection() {\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_onSelection, true, \"f\");\r\n    }\r\n    endSelection() {\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_onSelection, false, \"f\");\r\n        if (__classPrivateFieldGet(this, _HTMLEListElementBase_hasSelectionChanged, \"f\")) {\r\n            this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            __classPrivateFieldSet(this, _HTMLEListElementBase_hasSelectionChanged, false, \"f\");\r\n        }\r\n    }\r\n    selectedItems() {\r\n        const selectedItems = [];\r\n        const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n        walker.currentNode = walker.root;\r\n        let item = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_firstItem).call(this);\r\n        while (item !== null) {\r\n            if (item.selected) {\r\n                selectedItems.push(item);\r\n            }\r\n            item = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_nextItem).call(this, item);\r\n        }\r\n        return selectedItems;\r\n    }\r\n};\r\n_HTMLEListElementBase_dropTargetIndex = new WeakMap(), _HTMLEListElementBase_activeIndex = new WeakMap(), _HTMLEListElementBase_onSelection = new WeakMap(), _HTMLEListElementBase_hasSelectionChanged = new WeakMap(), _HTMLEListElementBase_walker = new WeakMap(), _HTMLEListElementBase_instances = new WeakSet(), _HTMLEListElementBase_walkerNodeFilter = function _HTMLEListElementBase_walkerNodeFilter(node) {\r\n    if (node instanceof HTMLEListItemElement) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    if (node instanceof HTMLEListItemGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLEListElementBase_getItemsRange = function _HTMLEListElementBase_getItemsRange(from, to) {\r\n    const items = Array.from(this.items);\r\n    const fromIndex = items.indexOf(from);\r\n    const toIndex = items.indexOf(to);\r\n    if (fromIndex > -1 && toIndex > -1) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        return items.slice(Math.min(fromIndex, toIndex), Math.max(fromIndex, toIndex) + 1);\r\n    }\r\n    return [];\r\n}, _HTMLEListElementBase_setSelection = function _HTMLEListElementBase_setSelection(...items) {\r\n    this.beginSelection();\r\n    const selectedItems = this.selectedItems();\r\n    selectedItems.forEach((selectedItem_i) => {\r\n        if (!items.includes(selectedItem_i)) {\r\n            selectedItem_i.selected = false;\r\n        }\r\n    });\r\n    items.forEach((item_i) => {\r\n        if (this.contains(item_i) && !item_i.selected) {\r\n            item_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEListElementBase_addToSelection = function _HTMLEListElementBase_addToSelection(...items) {\r\n    this.beginSelection();\r\n    items.forEach((item_i) => {\r\n        if (!item_i.selected) {\r\n            item_i.selected = true;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEListElementBase_removeFromSelection = function _HTMLEListElementBase_removeFromSelection(...items) {\r\n    this.beginSelection();\r\n    const selectedItems = this.selectedItems();\r\n    items.forEach((item_i) => {\r\n        if (selectedItems.includes(item_i)) {\r\n            item_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEListElementBase_clearSelection = function _HTMLEListElementBase_clearSelection() {\r\n    this.beginSelection();\r\n    const selectedItems = this.selectedItems();\r\n    selectedItems.forEach((item_i) => {\r\n        if (item_i.selected) {\r\n            item_i.selected = false;\r\n        }\r\n    });\r\n    this.endSelection();\r\n}, _HTMLEListElementBase_setActiveItem = function _HTMLEListElementBase_setActiveItem(item) {\r\n    const { activeItem, items } = this;\r\n    if (activeItem !== null && activeItem !== item) {\r\n        activeItem.active = false;\r\n        activeItem.tabIndex = -1;\r\n    }\r\n    if (item !== null) {\r\n        item.active = true;\r\n        item.tabIndex = 0;\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_activeIndex, Array.from(items).indexOf(item), \"f\");\r\n    }\r\n}, _HTMLEListElementBase_setDropTargetItem = function _HTMLEListElementBase_setDropTargetItem(item) {\r\n    const { dropTargetItem, items } = this;\r\n    if (dropTargetItem !== null && dropTargetItem !== item) {\r\n        dropTargetItem.droptarget = false;\r\n    }\r\n    if (item !== null) {\r\n        this.droptarget = true;\r\n        item.droptarget = true;\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_dropTargetIndex, Array.from(items).indexOf(item), \"f\");\r\n    }\r\n    else {\r\n        this.droptarget = false;\r\n        __classPrivateFieldSet(this, _HTMLEListElementBase_dropTargetIndex, -1, \"f\");\r\n    }\r\n}, _HTMLEListElementBase_firstItem = function _HTMLEListElementBase_firstItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n    const { root } = walker;\r\n    walker.currentNode = root;\r\n    return walker.firstChild();\r\n}, _HTMLEListElementBase_lastItem = function _HTMLEListElementBase_lastItem() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n    const { root } = walker;\r\n    walker.currentNode = root;\r\n    return walker.lastChild();\r\n}, _HTMLEListElementBase_previousItem = function _HTMLEListElementBase_previousItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    const previousItem = walker.previousNode();\r\n    return previousItem;\r\n}, _HTMLEListElementBase_nextItem = function _HTMLEListElementBase_nextItem(item) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n    walker.currentNode = item;\r\n    const nextItem = walker.nextNode();\r\n    return nextItem;\r\n}, _HTMLEListElementBase_handleContextMenuEvent = function _HTMLEListElementBase_handleContextMenuEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEListItemElement) {\r\n        const selectedItems = this.selectedItems();\r\n        if (!selectedItems.includes(target)) {\r\n            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, target);\r\n        }\r\n        target.focus({ preventScroll: true });\r\n        event.preventDefault();\r\n    }\r\n}, _HTMLEListElementBase_handleClickEvent = function _HTMLEListElementBase_handleClickEvent(event) {\r\n    const { target, ctrlKey, shiftKey } = event;\r\n    const selectedItems = this.selectedItems();\r\n    if (target instanceof HTMLEListItemElement) {\r\n        if (!shiftKey && !ctrlKey) {\r\n            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, target);\r\n        }\r\n        else if (ctrlKey) {\r\n            (!target.selected) ?\r\n                __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_addToSelection).call(this, target) :\r\n                __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_removeFromSelection).call(this, target);\r\n            event.stopPropagation();\r\n        }\r\n        else if (shiftKey) {\r\n            const lastSelectedItem = selectedItems[selectedItems.length - 1];\r\n            if (lastSelectedItem) {\r\n                const range = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_getItemsRange).call(this, lastSelectedItem, target);\r\n                if (range) {\r\n                    if (selectedItems.includes(target)) {\r\n                        __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_removeFromSelection).call(this, ...range);\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_addToSelection).call(this, ...range);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, target);\r\n            }\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n}, _HTMLEListElementBase_handleDragEndEvent = function _HTMLEListElementBase_handleDragEndEvent() {\r\n    __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setDropTargetItem).call(this, null);\r\n}, _HTMLEListElementBase_handleDragEnterEvent = function _HTMLEListElementBase_handleDragEnterEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEListItemElement) {\r\n        __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setDropTargetItem).call(this, target);\r\n    }\r\n    event.preventDefault();\r\n}, _HTMLEListElementBase_handleDragOverEvent = function _HTMLEListElementBase_handleDragOverEvent(event) {\r\n    event.preventDefault();\r\n}, _HTMLEListElementBase_handleDragLeaveEvent = function _HTMLEListElementBase_handleDragLeaveEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const relatedTargetRoot = relatedTarget.getRootNode();\r\n    const relatedTargetHost = relatedTargetRoot instanceof ShadowRoot ?\r\n        relatedTargetRoot.host :\r\n        relatedTarget;\r\n    if (!this.contains(relatedTargetHost)) {\r\n        __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setDropTargetItem).call(this, null);\r\n    }\r\n}, _HTMLEListElementBase_handleDragStartEvent = function _HTMLEListElementBase_handleDragStartEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEListItemElement) {\r\n        const selectedItems = this.selectedItems();\r\n        if (!selectedItems.includes(target)) {\r\n            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, target);\r\n        }\r\n    }\r\n}, _HTMLEListElementBase_handleDropEvent = function _HTMLEListElementBase_handleDropEvent() {\r\n    __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setDropTargetItem).call(this, null);\r\n}, _HTMLEListElementBase_handleKeyDownEvent = function _HTMLEListElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { activeItem } = this;\r\n    switch (key) {\r\n        case \"a\": {\r\n            const { ctrlKey } = event;\r\n            if (ctrlKey) {\r\n                const walker = __classPrivateFieldGet(this, _HTMLEListElementBase_walker, \"f\");\r\n                const { root } = walker;\r\n                const firstItem = (walker.currentNode = walker.parentNode() ?? root, walker.firstChild());\r\n                const lastItem = (walker.currentNode = walker.parentNode() ?? root, walker.lastChild());\r\n                const range = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_getItemsRange).call(this, firstItem, lastItem);\r\n                if (range) {\r\n                    __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, ...range);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n            break;\r\n        }\r\n        case \"ArrowUp\": {\r\n            if (activeItem) {\r\n                const previousItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_previousItem).call(this, activeItem);\r\n                if (previousItem) {\r\n                    previousItem.focus({ preventScroll: true });\r\n                    const { shiftKey } = event;\r\n                    if (shiftKey) {\r\n                        previousItem.selected ?\r\n                            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_removeFromSelection).call(this, previousItem) :\r\n                            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_addToSelection).call(this, previousItem);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const firstItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_firstItem).call(this);\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            if (activeItem) {\r\n                const nextItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_nextItem).call(this, activeItem);\r\n                if (nextItem) {\r\n                    nextItem.focus({ preventScroll: true });\r\n                    const { shiftKey } = event;\r\n                    if (shiftKey) {\r\n                        nextItem.selected ?\r\n                            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_removeFromSelection).call(this, nextItem) :\r\n                            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_addToSelection).call(this, nextItem);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const lastItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_lastItem).call(this);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_firstItem).call(this);\r\n            if (firstItem) {\r\n                firstItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastItem = __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_lastItem).call(this);\r\n            if (lastItem) {\r\n                lastItem.focus({ preventScroll: true });\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\": {\r\n            const { activeItem } = this;\r\n            if (activeItem) {\r\n                __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setSelection).call(this, activeItem);\r\n                activeItem.click();\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_clearSelection).call(this);\r\n            __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setActiveItem).call(this, null);\r\n            this.focus();\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLEListElementBase_handleFocusEvent = function _HTMLEListElementBase_handleFocusEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const { activeItem } = this;\r\n    if (activeItem && relatedTarget !== activeItem) {\r\n        activeItem.focus();\r\n    }\r\n}, _HTMLEListElementBase_handleFocusInEvent = function _HTMLEListElementBase_handleFocusInEvent(event) {\r\n    const { target } = event;\r\n    if (target instanceof HTMLEListItemElement) {\r\n        __classPrivateFieldGet(this, _HTMLEListElementBase_instances, \"m\", _HTMLEListElementBase_setActiveItem).call(this, target);\r\n    }\r\n}, _HTMLEListElementBase_handleSelectEvent = function _HTMLEListElementBase_handleSelectEvent() {\r\n    if (!__classPrivateFieldGet(this, _HTMLEListElementBase_onSelection, \"f\")) {\r\n        this.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n    }\r\n}, _HTMLEListElementBase_handleSlotChangeEvent = function _HTMLEListElementBase_handleSlotChangeEvent(event) {\r\n    const { target } = event;\r\n    const assignedItems = target\r\n        .assignedElements()\r\n        .filter(element_i => element_i instanceof HTMLEListItemElement);\r\n    assignedItems.forEach((item_i, i) => {\r\n        item_i.posinset = i;\r\n    });\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n\r\n                    `\r\n        ]\r\n    }), element(\"slot\", {\r\n        children: [\r\n            element(\"slot\")\r\n        ]\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEListElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEListElementBase.prototype, \"droptarget\", void 0);\r\nHTMLEListElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-list\"\r\n    })\r\n], HTMLEListElementBase);\r\nvar HTMLEListElement = HTMLEListElementBase;\r\n//# sourceMappingURL=List.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEDraggableElementBase_referee;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nexport { HTMLEDraggableElement };\r\nlet HTMLEDraggableElementBase = class HTMLEDraggableElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEDraggableElementBase_referee.set(this, void 0);\r\n        this.attachShadow({ mode: \"open\" }).append(element(\"style\", {\r\n            children: [\r\n                /*css*/ `\r\n                        :host {\r\n                            display: inline-block;\r\n                            padding: 3px 4px;\r\n                            cursor: pointer;\r\n                            white-space: nowrap;\r\n                            border-radius: 4px;\r\n                            border: 1px solid black;\r\n                            user-select: none;\r\n                        }\r\n        \r\n                        :host([disabled]) {\r\n                            pointer-events: none;\r\n                            color: lightgray;\r\n                            border-color: lightgray;\r\n                        }\r\n        \r\n                        :host([selected]:active) {\r\n                            cursor: grabbing;\r\n                        }\r\n                        \r\n                        :host([selected]) {\r\n                            cursor: grab;\r\n                            font-weight: bold;\r\n                            outline: 1px auto black;\r\n                        }\r\n        \r\n                        :host([dragovered]) {\r\n                            border-style: dotted;\r\n                        }\r\n                        \r\n                        [part=\"container\"] {\r\n                            display: flex;\r\n                            align-items: center;\r\n                        }\r\n                    `\r\n            ]\r\n        }), element(\"div\", {\r\n            attributes: {\r\n                part: \"container\"\r\n            },\r\n            children: [\r\n                element(\"slot\", {\r\n                    children: [\r\n                        \"&nbsp;\"\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n        this.references = [];\r\n        __classPrivateFieldSet(this, _HTMLEDraggableElementBase_referee, null, \"f\");\r\n    }\r\n    get referee() {\r\n        return __classPrivateFieldGet(this, _HTMLEDraggableElementBase_referee, \"f\");\r\n    }\r\n    connectedCallback() {\r\n        this.tabIndex = this.tabIndex;\r\n        this.draggable = true;\r\n    }\r\n    disconnectedCallback() {\r\n        if (this.referee) {\r\n            const thisRefIndex = this.referee.references.indexOf(this);\r\n            if (thisRefIndex > -1) {\r\n                this.referee.references.splice(thisRefIndex, 1);\r\n            }\r\n        }\r\n    }\r\n    getReference() {\r\n        const reference = this.cloneNode(true);\r\n        __classPrivateFieldSet(reference, _HTMLEDraggableElementBase_referee, this, \"f\");\r\n        return reference;\r\n    }\r\n};\r\n_HTMLEDraggableElementBase_referee = new WeakMap();\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDraggableElementBase.prototype, \"selected\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDraggableElementBase.prototype, \"dragovered\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDraggableElementBase.prototype, \"dragged\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDraggableElementBase.prototype, \"disabled\", void 0);\r\nHTMLEDraggableElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-draggable\"\r\n    })\r\n], HTMLEDraggableElementBase);\r\nvar HTMLEDraggableElement = HTMLEDraggableElementBase;\r\n//# sourceMappingURL=Draggable.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEDragzoneElementBase_draggables, _HTMLEDragzoneElementBase_selectedDraggables;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEDraggableElement } from \"./Draggable\";\r\nexport { HTMLEDragzoneElement };\r\nlet HTMLEDragzoneElementBase = class HTMLEDragzoneElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEDragzoneElementBase_draggables.set(this, void 0);\r\n        _HTMLEDragzoneElementBase_selectedDraggables.set(this, void 0);\r\n        this.attachShadow({ mode: \"open\" }).append(element(\"style\", {\r\n            children: [\r\n                /*css*/ `\r\n                        :host {\r\n                            display: block;\r\n                        }\r\n        \r\n                        :host([disabled]) {\r\n                            pointer-events: none;\r\n                        }\r\n        \r\n                        [part=\"container\"] {\r\n                            position: relative;\r\n                            display: flex;\r\n                            flex-direction: column;\r\n                            padding-left: 2px;\r\n                            padding-right: 2px;\r\n                        }\r\n        \r\n                        ::slotted(*) {\r\n                            margin-top: 2px;\r\n                            margin-bottom: 2px;\r\n                        }\r\n                    `\r\n            ]\r\n        }), element(\"div\", {\r\n            attributes: {\r\n                part: \"container\"\r\n            },\r\n            children: [\r\n                element(\"slot\")\r\n            ]\r\n        }));\r\n        __classPrivateFieldSet(this, _HTMLEDragzoneElementBase_draggables, [], \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEDragzoneElementBase_selectedDraggables, [], \"f\");\r\n    }\r\n    get draggables() {\r\n        return __classPrivateFieldGet(this, _HTMLEDragzoneElementBase_draggables, \"f\");\r\n    }\r\n    get selectedDraggables() {\r\n        return __classPrivateFieldGet(this, _HTMLEDragzoneElementBase_selectedDraggables, \"f\");\r\n    }\r\n    selectDraggable(draggable) {\r\n        if (!this.selectedDraggables.includes(draggable)) {\r\n            this.selectedDraggables.push(draggable);\r\n        }\r\n        if (!draggable.selected) {\r\n            draggable.selected = true;\r\n        }\r\n    }\r\n    unselectDraggable(draggable) {\r\n        const index = this.selectedDraggables.indexOf(draggable);\r\n        if (index > -1) {\r\n            if (draggable.selected) {\r\n                draggable.selected = false;\r\n            }\r\n            this.selectedDraggables.splice(index, 1);\r\n        }\r\n    }\r\n    clearSelection() {\r\n        this.selectedDraggables.forEach((draggable) => {\r\n            draggable.selected = false;\r\n        });\r\n        __classPrivateFieldSet(this, _HTMLEDragzoneElementBase_selectedDraggables, [], \"f\");\r\n    }\r\n    connectedCallback() {\r\n        this.tabIndex = this.tabIndex;\r\n        const slot = this.shadowRoot?.querySelector(\"slot\");\r\n        if (slot) {\r\n            slot.addEventListener(\"slotchange\", () => {\r\n                const draggables = slot.assignedElements().filter(elem => elem instanceof HTMLEDraggableElement);\r\n                __classPrivateFieldSet(this, _HTMLEDragzoneElementBase_draggables, draggables, \"f\");\r\n                this.draggables.forEach((draggable) => {\r\n                    draggable.draggable = true;\r\n                });\r\n            });\r\n        }\r\n        this.addEventListener(\"keydown\", (event) => {\r\n            switch (event.key) {\r\n                case \"Escape\":\r\n                    this.clearSelection();\r\n                    this.focus();\r\n                    break;\r\n            }\r\n        });\r\n        this.addEventListener(\"dragstart\", (event) => {\r\n            const target = event.target;\r\n            if (this.draggables.includes(target)) {\r\n                this.selectedDraggables.forEach((thisSelectedDraggable) => {\r\n                    thisSelectedDraggable.dragged = true;\r\n                });\r\n                const dataTransfer = event.dataTransfer;\r\n                if (dataTransfer) {\r\n                    dataTransfer.dropEffect = \"move\";\r\n                    dataTransfer.setData(\"text/plain\", this.id);\r\n                }\r\n            }\r\n        });\r\n        this.addEventListener(\"dragleave\", (event) => {\r\n            const dataTransfer = event.dataTransfer;\r\n            if (dataTransfer) {\r\n                dataTransfer.dropEffect = \"none\";\r\n            }\r\n        });\r\n        this.addEventListener(\"dragend\", (event) => {\r\n            const target = event.target;\r\n            if (this.draggables.includes(target)) {\r\n                const thisDraggedDraggables = this.draggables.filter(draggable => draggable.dragged);\r\n                thisDraggedDraggables.forEach((thisDraggedDraggable) => {\r\n                    thisDraggedDraggable.dragged = false;\r\n                });\r\n            }\r\n        });\r\n        this.addEventListener(\"focusout\", (event) => {\r\n            const relatedTarget = event.relatedTarget;\r\n            if (!this.contains(relatedTarget)) {\r\n                this.clearSelection();\r\n            }\r\n        });\r\n        this.addEventListener(\"mousedown\", (event) => {\r\n            const target = event.target;\r\n            if (event.button == 0) {\r\n                if (this.draggables.includes(target)) {\r\n                    if (!event.shiftKey && !event.ctrlKey) {\r\n                        if (!target.selected) {\r\n                            this.clearSelection();\r\n                            this.selectDraggable(target);\r\n                        }\r\n                    }\r\n                    else if (event.ctrlKey) {\r\n                        (!target.selected) ?\r\n                            this.selectDraggable(target) :\r\n                            this.unselectDraggable(target);\r\n                    }\r\n                    else if (event.shiftKey) {\r\n                        if (this.selectedDraggables.length > 0) {\r\n                            const targetIndex = this.draggables.indexOf(target);\r\n                            const firstIndex = this.draggables.indexOf(this.selectedDraggables[0]);\r\n                            const direction = Math.sign(targetIndex - firstIndex);\r\n                            const fromIndex = (direction > 0) ? 0 : this.draggables.length - 1;\r\n                            const toIndex = (direction > 0) ? this.draggables.length - 1 : 0;\r\n                            const startRangeIndex = (direction > 0) ? firstIndex : targetIndex;\r\n                            const endRangeIndex = (direction > 0) ? targetIndex : firstIndex;\r\n                            for (let index = fromIndex; index !== (toIndex + direction); index += direction) {\r\n                                (index >= startRangeIndex && index <= endRangeIndex) ?\r\n                                    this.selectDraggable(this.draggables[index]) :\r\n                                    this.unselectDraggable(this.draggables[index]);\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.selectDraggable(target);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.clearSelection();\r\n                }\r\n            }\r\n        });\r\n        this.addEventListener(\"mouseup\", (event) => {\r\n            const target = event.target;\r\n            if (event.button == 0) {\r\n                if (this.draggables.includes(target)) {\r\n                    if (!event.shiftKey && !event.ctrlKey) {\r\n                        this.draggables.forEach((thisDraggable) => {\r\n                            if (thisDraggable !== target) {\r\n                                this.unselectDraggable(thisDraggable);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n_HTMLEDragzoneElementBase_draggables = new WeakMap(), _HTMLEDragzoneElementBase_selectedDraggables = new WeakMap();\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDragzoneElementBase.prototype, \"disabled\", void 0);\r\nHTMLEDragzoneElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-dragzone\"\r\n    })\r\n], HTMLEDragzoneElementBase);\r\nvar HTMLEDragzoneElement = HTMLEDragzoneElementBase;\r\n//# sourceMappingURL=Dragzone.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEDragzoneElement } from \"./Dragzone\";\r\nexport { HTMLEDropzoneElement };\r\nlet HTMLEDropzoneElementBase = class HTMLEDropzoneElementBase extends HTMLEDragzoneElement {\r\n    constructor() {\r\n        super();\r\n        this.shadowRoot.querySelector(\"style\").append(/*css*/ `\r\n            :host {\r\n                border: 1px dashed gray;\r\n            }\r\n\r\n            :host(:not([multiple]):not(:empty)) [part=\"appendarea\"],\r\n            :host(:not(:empty):not([dragovered])) [part=\"appendarea\"] {\r\n                display: none !important;\r\n            }\r\n\r\n            [part=\"appendarea\"] {\r\n                display: block;\r\n                margin: 2px;\r\n                border-radius: 4px;\r\n                border: 1px dotted black;\r\n            }\r\n\r\n            :host(:not([dragovered=\"appendarea\"])) [part=\"appendarea\"] {\r\n                border-color: transparent;\r\n            }\r\n            \r\n            [part=\"placeholder\"] {\r\n                display: inline-block;\r\n                color: grey;\r\n                pointer-events: none;\r\n                user-select: none;\r\n            }\r\n        `);\r\n        this.shadowRoot.append(element(\"div\", {\r\n            attributes: {\r\n                part: \"appendarea\"\r\n            },\r\n            children: [\r\n                element(\"span\", {\r\n                    attributes: {\r\n                        part: \"placeholder\"\r\n                    },\r\n                    children: [\r\n                        \"&nbsp;\"\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n        this.droptest = null;\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        const appendAreaPart = this.shadowRoot.querySelector(\"[part='appendarea']\");\r\n        this.addEventListener(\"keydown\", (event) => {\r\n            switch (event.key) {\r\n                case \"Delete\":\r\n                    if (this == event.target) {\r\n                        this.removeDraggables();\r\n                    }\r\n                    else {\r\n                        this.removeDraggables(draggable => draggable.selected);\r\n                    }\r\n                    event.stopPropagation();\r\n                    break;\r\n            }\r\n        });\r\n        this.addEventListener(\"dragover\", (event) => {\r\n            event.preventDefault();\r\n        });\r\n        this.shadowRoot.addEventListener(\"dragover\", (event) => {\r\n            event.preventDefault();\r\n        });\r\n        this.addEventListener(\"dragenter\", (event) => {\r\n            const target = event.target;\r\n            if (this.draggables.includes(target)) {\r\n                target.dragovered = true;\r\n                this.dragovered = \"draggable\";\r\n            }\r\n            else {\r\n                this.dragovered = \"self\";\r\n            }\r\n            event.preventDefault();\r\n        });\r\n        this.shadowRoot.addEventListener(\"dragenter\", (event) => {\r\n            const target = event.target;\r\n            if (target == appendAreaPart) {\r\n                this.dragovered = \"appendarea\";\r\n            }\r\n            event.preventDefault();\r\n        });\r\n        this.addEventListener(\"dragleave\", (event) => {\r\n            const relatedTarget = event.relatedTarget;\r\n            const target = event.target;\r\n            if (target == this || this.draggables.includes(target)) {\r\n                if (target == this) {\r\n                    if (appendAreaPart) {\r\n                        this.dragovered = \"self\";\r\n                    }\r\n                    if (!this.draggables.includes(relatedTarget)) {\r\n                        this.dragovered = null;\r\n                    }\r\n                }\r\n                else {\r\n                    target.dragovered = false;\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        });\r\n        this.shadowRoot.addEventListener(\"dragleave\", (event) => {\r\n            const target = event.target;\r\n            if (target == appendAreaPart) {\r\n                this.dragovered = \"self\";\r\n            }\r\n            event.preventDefault();\r\n        });\r\n        this.addEventListener(\"drop\", (event) => {\r\n            const target = event.target;\r\n            if (target == this || this.draggables.includes(target)) {\r\n                let dropIndex = this.draggables.length;\r\n                if (target == this) {\r\n                    this.dragovered = null;\r\n                }\r\n                else {\r\n                    target.dragovered = false;\r\n                    dropIndex = this.draggables.indexOf(target);\r\n                }\r\n                const dataTransfer = event.dataTransfer;\r\n                if (dataTransfer) {\r\n                    const dragzoneId = dataTransfer.getData(\"text/plain\");\r\n                    const dragzone = document.getElementById(dragzoneId);\r\n                    if (dragzone instanceof HTMLEDragzoneElement) {\r\n                        const selectedDraggables = dragzone.selectedDraggables;\r\n                        if (selectedDraggables) {\r\n                            selectedDraggables.forEach((selectedDraggable) => {\r\n                                selectedDraggable.dragged = false;\r\n                            });\r\n                            if (dragzone instanceof HTMLEDropzoneElement) {\r\n                                dragzone.removeDraggables((draggable) => selectedDraggables.includes(draggable));\r\n                            }\r\n                            dragzone.clearSelection();\r\n                            this.addDraggables(selectedDraggables, dropIndex);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.dragovered = null;\r\n            event.preventDefault();\r\n        });\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"placeholder\": {\r\n                const placeholderPart = this.shadowRoot.querySelector(\"[part='placeholder']\");\r\n                if (placeholderPart) {\r\n                    placeholderPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    addDraggables(draggables, position) {\r\n        if (draggables.length > 0) {\r\n            let dataTransferSuccess = true;\r\n            if (this.droptest) {\r\n                dataTransferSuccess = this.droptest(this, draggables);\r\n            }\r\n            let newDraggables = [];\r\n            let insertionPosition = -1;\r\n            if (dataTransferSuccess) {\r\n                if (this.multiple) {\r\n                    draggables.forEach((draggable) => {\r\n                        let newDraggable = draggable.getReference();\r\n                        if (position > -1 && position < this.draggables.length) {\r\n                            this.draggables[position].insertAdjacentElement(\"beforebegin\", newDraggable);\r\n                            insertionPosition = (insertionPosition < 0) ? position : insertionPosition;\r\n                        }\r\n                        else {\r\n                            this.appendChild(newDraggable);\r\n                            insertionPosition = (insertionPosition < 0) ? this.draggables.length - 1 : insertionPosition;\r\n                        }\r\n                        newDraggables.push(newDraggable);\r\n                    });\r\n                }\r\n                else {\r\n                    let newDraggable = draggables[0].getReference();\r\n                    if (this.draggables.length > 0) {\r\n                        this.replaceChild(newDraggable, this.draggables[0]);\r\n                    }\r\n                    else {\r\n                        this.appendChild(newDraggable);\r\n                    }\r\n                    newDraggables.push(newDraggable);\r\n                    insertionPosition = 0;\r\n                }\r\n            }\r\n            const slot = this.shadowRoot?.querySelector(\"slot\");\r\n            if (slot) {\r\n                slot.addEventListener(\"slotchange\", () => {\r\n                    this.dispatchEvent(new CustomEvent(\"e_datachange\", {\r\n                        bubbles: true,\r\n                        detail: {\r\n                            action: \"insert\",\r\n                            draggables: newDraggables,\r\n                            position: insertionPosition\r\n                        }\r\n                    }));\r\n                }, { once: true });\r\n            }\r\n            return newDraggables;\r\n        }\r\n        return null;\r\n    }\r\n    removeDraggables(predicate = () => true) {\r\n        let toRemove = this.draggables.filter((value, index) => {\r\n            return predicate(value, index);\r\n        });\r\n        let atPosition = this.draggables.indexOf(toRemove[0]);\r\n        toRemove.forEach((draggable) => {\r\n            draggable.remove();\r\n        });\r\n        const slot = this.shadowRoot?.querySelector(\"slot\");\r\n        if (slot) {\r\n            slot.addEventListener(\"slotchange\", () => {\r\n                this.dispatchEvent(new CustomEvent(\"e_datachange\", {\r\n                    bubbles: true,\r\n                    detail: {\r\n                        action: \"remove\",\r\n                        draggables: toRemove,\r\n                        position: atPosition\r\n                    }\r\n                }));\r\n            }, { once: true });\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEDropzoneElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEDropzoneElementBase.prototype, \"dragovered\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEDropzoneElementBase.prototype, \"placeholder\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEDropzoneElementBase.prototype, \"multiple\", void 0);\r\nHTMLEDropzoneElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-dropzone\"\r\n    })\r\n], HTMLEDropzoneElementBase);\r\nvar HTMLEDropzoneElement = HTMLEDropzoneElementBase;\r\n//# sourceMappingURL=Dropzone.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nexport { HTMLEDialogElement };\r\nlet HTMLEDialogElementBase = class HTMLEDialogElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        this.attachShadow({ mode: \"open\" }).append(element(\"style\", {\r\n            children: [\r\n                /*css*/ `\r\n                        :host {\r\n                            display: inline-block;\r\n                            \r\n                            padding: 6px;\r\n                            background-color: white;\r\n        \r\n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\r\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\r\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\r\n                        }\r\n        \r\n                        button {\r\n                            cursor: pointer;\r\n                        }\r\n        \r\n                        [part=\"actions\"] {\r\n                            display: flex;\r\n                            flex-direction: row;\r\n                            justify-content: flex-end;\r\n                        }\r\n        \r\n                        [part=\"header\"] {\r\n                            display: flex;\r\n                            flex-direction: row;\r\n                            justify-content: flex-end;\r\n                        }\r\n        \r\n                        [part=\"button\"]:not(:first-child) {\r\n                            margin-left: 4px;\r\n                        }\r\n        \r\n                        :host([type=\"confirm\"]) [part=\"ok-button\"] {\r\n                            display: none !important;\r\n                        }\r\n        \r\n                        :host([type=\"alert\"]) [part=\"cancel-button\"],\r\n                        :host([type=\"alert\"]) [part=\"confirm-button\"] {\r\n                            display: none !important;\r\n                        }\r\n                    `\r\n            ]\r\n        }), element(\"div\", {\r\n            attributes: {\r\n                part: \"header\"\r\n            },\r\n            children: [\r\n                element(\"button\", {\r\n                    attributes: {\r\n                        part: \"button close-button\",\r\n                        type: \"button\",\r\n                        tabindex: 0\r\n                    },\r\n                    children: [\r\n                        \"x\"\r\n                    ]\r\n                })\r\n            ]\r\n        }), element(\"hr\", {\r\n            attributes: {\r\n                part: \"separator\"\r\n            }\r\n        }), element(\"div\", {\r\n            attributes: {\r\n                part: \"body\"\r\n            },\r\n            children: [\r\n                element(\"slot\")\r\n            ]\r\n        }), element(\"hr\", {\r\n            attributes: {\r\n                part: \"separator\"\r\n            }\r\n        }), element(\"div\", {\r\n            attributes: {\r\n                part: \"actions\",\r\n            },\r\n            children: [\r\n                element(\"button\", {\r\n                    attributes: {\r\n                        part: \"button cancel-button\",\r\n                        type: \"button\",\r\n                        tabindex: 0\r\n                    },\r\n                    children: [\r\n                        \"Cancel\"\r\n                    ]\r\n                }),\r\n                element(\"button\", {\r\n                    attributes: {\r\n                        part: \"button confirm-button\",\r\n                        type: \"button\",\r\n                        tabindex: 0\r\n                    },\r\n                    children: [\r\n                        \"Confirm\"\r\n                    ]\r\n                }),\r\n                element(\"button\", {\r\n                    attributes: {\r\n                        part: \"button ok-button\",\r\n                        type: \"button\",\r\n                        tabindex: 0\r\n                    },\r\n                    children: [\r\n                        \"OK\"\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    connectedCallback() {\r\n        this.shadowRoot.addEventListener(\"click\", this);\r\n    }\r\n    handleEvent(event) {\r\n        const { type, target } = event;\r\n        switch (type) {\r\n            case \"click\":\r\n                const { part } = target;\r\n                if (part.contains(\"close-button\") || part.contains(\"cancel-button\")) {\r\n                    this.cancel();\r\n                }\r\n                else if (part.contains(\"confirm-button\") || part.contains(\"ok-button\")) {\r\n                    this.confirm();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    open() {\r\n        this.dispatchEvent(new CustomEvent(\"open\", { bubbles: true }));\r\n    }\r\n    close() {\r\n        this.dispatchEvent(new CustomEvent(\"close\", { bubbles: true }));\r\n    }\r\n    cancel() {\r\n        this.dispatchEvent(new CustomEvent(\"cancel\", { bubbles: true }));\r\n        this.close();\r\n    }\r\n    confirm() {\r\n        this.dispatchEvent(new CustomEvent(\"confirm\", { bubbles: true }));\r\n        this.close();\r\n    }\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEDialogElementBase.prototype, \"type\", void 0);\r\nHTMLEDialogElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-dialog\"\r\n    })\r\n], HTMLEDialogElementBase);\r\nvar HTMLEDialogElement = HTMLEDialogElementBase;\r\n//# sourceMappingURL=Dialog.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nexport { HTMLEOptionElement };\r\nvar shadowTemplate;\r\nlet HTMLEOptionElementBase = class HTMLEOptionElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const internals = this.attachInternals();\r\n        internals.role = \"option\";\r\n        this.internals = internals;\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n    connectedCallback() {\r\n        const { tabIndex } = this;\r\n        this.tabIndex = tabIndex;\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"label\": {\r\n                const { shadowRoot } = this;\r\n                const labelPart = shadowRoot.querySelector(\"[part=label]\");\r\n                if (labelPart) {\r\n                    labelPart.textContent = newValue;\r\n                }\r\n                break;\r\n            }\r\n            case \"selected\": {\r\n                const { internals, selected } = this;\r\n                internals.ariaSelected = String(selected);\r\n                this.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"span\", {\r\n        attributes: {\r\n            part: \"label\"\r\n        }\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEOptionElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEOptionElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEOptionElementBase.prototype, \"label\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEOptionElementBase.prototype, \"disabled\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean, observed: true })\r\n], HTMLEOptionElementBase.prototype, \"selected\", void 0);\r\nHTMLEOptionElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-option\"\r\n    })\r\n], HTMLEOptionElementBase);\r\nvar HTMLEOptionElement = HTMLEOptionElementBase;\r\n//# sourceMappingURL=Option.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { CustomElement, element } from \"../../Element\";\r\nexport { HTMLEOptionGroupElement };\r\nvar shadowTemplate;\r\nlet HTMLEOptionGroupElementBase = class HTMLEOptionGroupElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"slot\"));\r\n})();\r\nHTMLEOptionGroupElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-optiongroup\"\r\n    })\r\n], HTMLEOptionGroupElementBase);\r\nvar HTMLEOptionGroupElement = HTMLEOptionGroupElementBase;\r\n//# sourceMappingURL=OptionGroup.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLESelectElementBase_instances, _HTMLESelectElementBase_walker, _HTMLESelectElementBase_wasExpandedOnMouseDown, _HTMLESelectElementBase_value, _HTMLESelectElementBase_box, _HTMLESelectElementBase_walkerNodeFilter, _HTMLESelectElementBase_firstOption, _HTMLESelectElementBase_lastOption, _HTMLESelectElementBase_previousOption, _HTMLESelectElementBase_nextOption, _HTMLESelectElementBase_selectOption, _HTMLESelectElementBase_setSelectedOption, _HTMLESelectElementBase_positionBox, _HTMLESelectElementBase_handleClickEvent, _HTMLESelectElementBase_handleFocusOutEvent, _HTMLESelectElementBase_handleMouseDownEvent, _HTMLESelectElementBase_handleMouseOverEvent, _HTMLESelectElementBase_handleKeyDownEvent, _HTMLESelectElementBase_handleSelectEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../../Element\";\r\nimport { HTMLEOptionElement } from \"./Option\";\r\nimport { HTMLEOptionGroupElement } from \"./OptionGroup\";\r\nexport { HTMLESelectElement };\r\nvar shadowTemplate;\r\nvar mutationObserver;\r\nlet HTMLESelectElementBase = class HTMLESelectElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLESelectElementBase_instances.add(this);\r\n        _HTMLESelectElementBase_walker.set(this, void 0);\r\n        _HTMLESelectElementBase_wasExpandedOnMouseDown.set(this, void 0);\r\n        const internals = this.attachInternals();\r\n        internals.role = \"combobox\";\r\n        this.internals = internals;\r\n        __classPrivateFieldSet(this, _HTMLESelectElementBase_wasExpandedOnMouseDown, false, \"f\");\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        __classPrivateFieldSet(this, _HTMLESelectElementBase_walker, document.createTreeWalker(this, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_walkerNodeFilter).bind(this)), \"f\");\r\n        this.addEventListener(\"click\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleClickEvent).bind(this));\r\n        this.addEventListener(\"focusout\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleFocusOutEvent).bind(this));\r\n        this.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleMouseDownEvent).bind(this));\r\n        this.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleMouseOverEvent).bind(this));\r\n        this.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleKeyDownEvent).bind(this));\r\n        this.addEventListener(\"select\", __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_handleSelectEvent).bind(this));\r\n        mutationObserver.observe(this, {\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n    }\r\n    static get formAssociated() {\r\n        return true;\r\n    }\r\n    get options() {\r\n        return Array.from(this.querySelectorAll(\"e-option\"));\r\n    }\r\n    get activeOption() {\r\n        return this.querySelector(\"e-option:focus-within\") ?? null;\r\n    }\r\n    get selectedOption() {\r\n        return this.querySelector(\"e-option[selected]\") ?? null;\r\n    }\r\n    connectedCallback() {\r\n        const { options, selectedOption, value } = this;\r\n        const tabindex = this.getAttribute(\"tabindex\");\r\n        this.tabIndex = tabindex !== null ? parseInt(tabindex) : 0;\r\n        customElements.upgrade(this);\r\n        const optionToSelect = selectedOption ?? (value ? options.find(option_i => option_i.value === value) : null) ?? __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this);\r\n        if (optionToSelect) {\r\n            if (optionToSelect === selectedOption) {\r\n                __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_setSelectedOption).call(this, selectedOption);\r\n            }\r\n            else {\r\n                __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, optionToSelect);\r\n            }\r\n        }\r\n    }\r\n    expand() {\r\n        const { expanded } = this;\r\n        if (!expanded) {\r\n            this.expanded = true;\r\n            __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_positionBox).call(this);\r\n            const { selectedOption } = this;\r\n            if (selectedOption) {\r\n                selectedOption.focus({ preventScroll: true });\r\n            }\r\n        }\r\n    }\r\n    collapse() {\r\n        const { expanded } = this;\r\n        if (expanded) {\r\n            this.expanded = false;\r\n            this.focus();\r\n        }\r\n    }\r\n    toggle(force) {\r\n        const { expanded } = this;\r\n        const expand = force ?? !expanded;\r\n        expand ? this.expand() : this.collapse();\r\n    }\r\n};\r\n_HTMLESelectElementBase_walker = new WeakMap(), _HTMLESelectElementBase_wasExpandedOnMouseDown = new WeakMap(), _HTMLESelectElementBase_instances = new WeakSet(), _HTMLESelectElementBase_value = function _HTMLESelectElementBase_value() {\r\n    return this.shadowRoot.querySelector(\"[part=value]\");\r\n}, _HTMLESelectElementBase_box = function _HTMLESelectElementBase_box() {\r\n    return this.shadowRoot.querySelector(\"[part=box]\");\r\n}, _HTMLESelectElementBase_walkerNodeFilter = function _HTMLESelectElementBase_walkerNodeFilter(node) {\r\n    if (node instanceof HTMLEOptionElement && !node.disabled && !node.hidden) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n    }\r\n    else if (node instanceof HTMLEOptionGroupElement) {\r\n        return NodeFilter.FILTER_SKIP;\r\n    }\r\n    return NodeFilter.FILTER_REJECT;\r\n}, _HTMLESelectElementBase_firstOption = function _HTMLESelectElementBase_firstOption() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLESelectElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.firstChild();\r\n}, _HTMLESelectElementBase_lastOption = function _HTMLESelectElementBase_lastOption() {\r\n    const walker = __classPrivateFieldGet(this, _HTMLESelectElementBase_walker, \"f\");\r\n    walker.currentNode = walker.root;\r\n    return walker.lastChild();\r\n}, _HTMLESelectElementBase_previousOption = function _HTMLESelectElementBase_previousOption(option) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLESelectElementBase_walker, \"f\");\r\n    walker.currentNode = option;\r\n    return walker.previousNode();\r\n}, _HTMLESelectElementBase_nextOption = function _HTMLESelectElementBase_nextOption(option) {\r\n    const walker = __classPrivateFieldGet(this, _HTMLESelectElementBase_walker, \"f\");\r\n    walker.currentNode = option;\r\n    return walker.nextNode();\r\n}, _HTMLESelectElementBase_selectOption = function _HTMLESelectElementBase_selectOption(option) {\r\n    const { selectedOption } = this;\r\n    if (option !== selectedOption) {\r\n        option.selected = true;\r\n    }\r\n}, _HTMLESelectElementBase_setSelectedOption = function _HTMLESelectElementBase_setSelectedOption(option) {\r\n    const { label, value } = option ?? {\r\n        label: \"\",\r\n        value: \"\"\r\n    };\r\n    const { internals } = this;\r\n    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_value).call(this).textContent = label;\r\n    internals.setFormValue(value);\r\n}, _HTMLESelectElementBase_positionBox = function _HTMLESelectElementBase_positionBox() {\r\n    const box = __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_box).call(this);\r\n    const { style: optionsStyle } = box;\r\n    const { bottom, left } = this.getBoundingClientRect();\r\n    const { scrollX, scrollY } = window;\r\n    optionsStyle.setProperty(\"top\", `${bottom + scrollY}px`);\r\n    optionsStyle.setProperty(\"left\", `${left + scrollX}px`);\r\n}, _HTMLESelectElementBase_handleClickEvent = function _HTMLESelectElementBase_handleClickEvent(event) {\r\n    const { target } = event;\r\n    const wasExpandedOnMouseDown = __classPrivateFieldGet(this, _HTMLESelectElementBase_wasExpandedOnMouseDown, \"f\");\r\n    if (!wasExpandedOnMouseDown) {\r\n        const { selectedOption } = this;\r\n        this.expand();\r\n        (selectedOption ?? __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this) ?? this).focus({ preventScroll: true });\r\n    }\r\n    else {\r\n        this.collapse();\r\n        const targetOption = target.closest(\"e-option\");\r\n        if (targetOption) {\r\n            __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, targetOption);\r\n        }\r\n    }\r\n}, _HTMLESelectElementBase_handleFocusOutEvent = function _HTMLESelectElementBase_handleFocusOutEvent(event) {\r\n    const { relatedTarget } = event;\r\n    const lostFocusWithin = !this.contains(relatedTarget);\r\n    if (lostFocusWithin || this === relatedTarget) {\r\n        this.collapse();\r\n    }\r\n}, _HTMLESelectElementBase_handleMouseDownEvent = function _HTMLESelectElementBase_handleMouseDownEvent() {\r\n    const { expanded } = this;\r\n    __classPrivateFieldSet(this, _HTMLESelectElementBase_wasExpandedOnMouseDown, expanded, \"f\");\r\n}, _HTMLESelectElementBase_handleMouseOverEvent = function _HTMLESelectElementBase_handleMouseOverEvent(event) {\r\n    const { target } = event;\r\n    const targetOption = target.closest(\"e-option\");\r\n    if (targetOption) {\r\n        targetOption.focus({ preventScroll: true });\r\n    }\r\n}, _HTMLESelectElementBase_handleKeyDownEvent = function _HTMLESelectElementBase_handleKeyDownEvent(event) {\r\n    const { key } = event;\r\n    const { expanded, activeOption, selectedOption } = this;\r\n    switch (key) {\r\n        case \"ArrowUp\": {\r\n            if (expanded) {\r\n                const previousOption = activeOption ?\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_previousOption).call(this, activeOption) :\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this);\r\n                if (previousOption) {\r\n                    previousOption.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            else {\r\n                const previousOption = selectedOption ?\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_previousOption).call(this, selectedOption) :\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this);\r\n                if (previousOption) {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, previousOption);\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            if (expanded) {\r\n                const nextOption = activeOption ?\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_nextOption).call(this, activeOption) :\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_lastOption).call(this);\r\n                if (nextOption) {\r\n                    nextOption.focus({ preventScroll: true });\r\n                }\r\n            }\r\n            else {\r\n                const nextOption = selectedOption ?\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_nextOption).call(this, selectedOption) :\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_lastOption).call(this);\r\n                if (nextOption) {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, nextOption);\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Home\": {\r\n            const firstOption = __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this);\r\n            if (firstOption) {\r\n                if (expanded) {\r\n                    firstOption.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, firstOption);\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"End\": {\r\n            const lastOption = __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_lastOption).call(this);\r\n            if (lastOption) {\r\n                if (expanded) {\r\n                    lastOption.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, lastOption);\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Enter\": {\r\n            this.toggle();\r\n            const { expanded } = this;\r\n            if (expanded) {\r\n                const { selectedOption } = this;\r\n                (selectedOption ?? __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this))?.focus({ preventScroll: true });\r\n            }\r\n            else {\r\n                if (activeOption) {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_selectOption).call(this, activeOption);\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n            break;\r\n        }\r\n        case \"Escape\": {\r\n            if (expanded) {\r\n                this.collapse();\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n            break;\r\n        }\r\n        default: {\r\n            const { length: keyLength } = key;\r\n            if (keyLength == 1) {\r\n                const keyCode = key.charCodeAt(0);\r\n                const { options } = this;\r\n                const activeIndex = activeOption ? options.indexOf(activeOption) : -1;\r\n                const matchingOption = options.find((option_i, i) => option_i.label.toLowerCase().charCodeAt(0) == keyCode && i > activeIndex) ?? options.find((option_i) => option_i.label.toLowerCase().charCodeAt(0) == keyCode);\r\n                if (matchingOption) {\r\n                    matchingOption.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}, _HTMLESelectElementBase_handleSelectEvent = function _HTMLESelectElementBase_handleSelectEvent(event) {\r\n    const { target } = event;\r\n    const targetOption = target.closest(\"e-option\");\r\n    if (targetOption) {\r\n        const { selected } = targetOption;\r\n        if (selected) {\r\n            const { options } = this;\r\n            options.forEach((option_i) => {\r\n                if (option_i !== targetOption && option_i.selected) {\r\n                    option_i.selected = false;\r\n                }\r\n            });\r\n            __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_setSelectedOption).call(this, targetOption);\r\n        }\r\n        else {\r\n            const { selectedOption } = this;\r\n            if (selectedOption === null) {\r\n                const firstOption = __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(this);\r\n                if (firstOption !== null) {\r\n                    __classPrivateFieldGet(this, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_setSelectedOption).call(this, firstOption);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"div\", {\r\n        attributes: {\r\n            part: \"content\"\r\n        },\r\n        children: [\r\n            element(\"output\", {\r\n                attributes: {\r\n                    part: \"value\"\r\n                }\r\n            })\r\n        ]\r\n    }), element(\"div\", {\r\n        attributes: {\r\n            part: \"box\"\r\n        },\r\n        children: element(\"slot\")\r\n    }));\r\n    mutationObserver = new MutationObserver((mutationsList) => {\r\n        mutationsList.forEach((mutation) => {\r\n            const { target } = mutation;\r\n            const select = target;\r\n            const { selectedOption, value, options } = select;\r\n            if (!selectedOption) {\r\n                const optionToSelect = value ? options.find(option_i => option_i.value === value) : __classPrivateFieldGet(select, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_firstOption).call(select);\r\n                if (optionToSelect) {\r\n                    optionToSelect.selected = true;\r\n                }\r\n                else {\r\n                    __classPrivateFieldGet(select, _HTMLESelectElementBase_instances, \"m\", _HTMLESelectElementBase_setSelectedOption).call(select, null);\r\n                }\r\n            }\r\n        });\r\n    });\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLESelectElementBase.prototype, \"name\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLESelectElementBase.prototype, \"value\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"select\", observed: true })\r\n], HTMLESelectElementBase.prototype, \"type\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLESelectElementBase.prototype, \"expanded\", void 0);\r\nHTMLESelectElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-select\"\r\n    })\r\n], HTMLESelectElementBase);\r\nvar HTMLESelectElement = HTMLESelectElementBase;\r\n//# sourceMappingURL=Select.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLESeparatorElementBase_internals;\r\nimport { CustomElement } from \"../Element\";\r\nexport { HTMLESeparatorElement };\r\nlet HTMLESeparatorElementBase = class HTMLESeparatorElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLESeparatorElementBase_internals.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLESeparatorElementBase_internals, this.attachInternals(), \"f\");\r\n        __classPrivateFieldGet(this, _HTMLESeparatorElementBase_internals, \"f\").role = \"separator\";\r\n    }\r\n};\r\n_HTMLESeparatorElementBase_internals = new WeakMap();\r\nHTMLESeparatorElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-separator\"\r\n    })\r\n], HTMLESeparatorElementBase);\r\nvar HTMLESeparatorElement = HTMLESeparatorElementBase;\r\n//# sourceMappingURL=Separator.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEToolTipElementBase_instances, _HTMLEToolTipElementBase_target, _HTMLEToolTipElementBase_targetListenerObject, _HTMLEToolTipElementBase_documentListenerObject, _HTMLEToolTipElementBase_toggleAnimation, _HTMLEToolTipElementBase_arrow, _HTMLEToolTipElementBase_setTarget, _HTMLEToolTipElementBase_position, _HTMLEToolTipElementBase_handleTargetMouseEnterEvent, _HTMLEToolTipElementBase_handleTargetMouseLeaveEvent, _HTMLEToolTipElementBase_handleDocumentKeyDownEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../Element\";\r\nexport { HTMLEToolTipElement };\r\nvar shadowTemplate;\r\nvar HIDE_DELAY_MS = 200;\r\nvar SHOW_DELAY_MS = 200;\r\nlet HTMLEToolTipElementBase = class HTMLEToolTipElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEToolTipElementBase_instances.add(this);\r\n        _HTMLEToolTipElementBase_target.set(this, void 0);\r\n        _HTMLEToolTipElementBase_targetListenerObject.set(this, void 0);\r\n        _HTMLEToolTipElementBase_documentListenerObject.set(this, void 0);\r\n        _HTMLEToolTipElementBase_toggleAnimation.set(this, void 0);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_target, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_toggleAnimation, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_targetListenerObject, (function (tooltip) {\r\n            return {\r\n                handleEvent(event) {\r\n                    const { type } = event;\r\n                    switch (type) {\r\n                        case \"mouseenter\": {\r\n                            __classPrivateFieldGet(tooltip, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_handleTargetMouseEnterEvent).call(tooltip);\r\n                            break;\r\n                        }\r\n                        case \"mouseleave\": {\r\n                            __classPrivateFieldGet(tooltip, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_handleTargetMouseLeaveEvent).call(tooltip);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        })(this), \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_documentListenerObject, (function (tooltip) {\r\n            return {\r\n                handleEvent(event) {\r\n                    const { type } = event;\r\n                    switch (type) {\r\n                        case \"keydown\": {\r\n                            __classPrivateFieldGet(tooltip, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_handleDocumentKeyDownEvent).call(tooltip, event);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        })(this), \"f\");\r\n    }\r\n    get target() {\r\n        return __classPrivateFieldGet(this, _HTMLEToolTipElementBase_target, \"f\");\r\n    }\r\n    connectedCallback() {\r\n        const { htmlFor } = this;\r\n        __classPrivateFieldGet(this, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_setTarget).call(this, htmlFor);\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"for\": {\r\n                __classPrivateFieldGet(this, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_setTarget).call(this, newValue);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    show() {\r\n        this.visible = true;\r\n        let toggleAnimation = __classPrivateFieldGet(this, _HTMLEToolTipElementBase_toggleAnimation, \"f\");\r\n        if (toggleAnimation !== null) {\r\n            const { id } = toggleAnimation;\r\n            if (id === \"hide\") {\r\n                toggleAnimation.cancel();\r\n            }\r\n        }\r\n        toggleAnimation = this.animate([\r\n            { opacity: 0 },\r\n            { opacity: 1 }\r\n        ], {\r\n            id: \"show\",\r\n            duration: SHOW_DELAY_MS\r\n        });\r\n        const { finished } = toggleAnimation;\r\n        finished.then(() => {\r\n            __classPrivateFieldSet(this, _HTMLEToolTipElementBase_toggleAnimation, null, \"f\");\r\n        }, () => {\r\n            this.visible = false;\r\n        });\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_toggleAnimation, toggleAnimation, \"f\");\r\n        __classPrivateFieldGet(this, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_position).call(this);\r\n    }\r\n    hide() {\r\n        let toggleAnimation = __classPrivateFieldGet(this, _HTMLEToolTipElementBase_toggleAnimation, \"f\");\r\n        if (toggleAnimation !== null) {\r\n            const { id } = toggleAnimation;\r\n            if (id === \"show\") {\r\n                toggleAnimation.cancel();\r\n            }\r\n        }\r\n        toggleAnimation = this.animate([\r\n            { opacity: 1 },\r\n            { opacity: 0 }\r\n        ], {\r\n            id: \"hide\",\r\n            duration: HIDE_DELAY_MS\r\n        });\r\n        const { finished } = toggleAnimation;\r\n        finished.then(() => {\r\n            this.visible = false;\r\n        }, () => {\r\n            this.visible = true;\r\n        });\r\n        __classPrivateFieldSet(this, _HTMLEToolTipElementBase_toggleAnimation, toggleAnimation, \"f\");\r\n    }\r\n};\r\n_HTMLEToolTipElementBase_target = new WeakMap(), _HTMLEToolTipElementBase_targetListenerObject = new WeakMap(), _HTMLEToolTipElementBase_documentListenerObject = new WeakMap(), _HTMLEToolTipElementBase_toggleAnimation = new WeakMap(), _HTMLEToolTipElementBase_instances = new WeakSet(), _HTMLEToolTipElementBase_arrow = function _HTMLEToolTipElementBase_arrow() {\r\n    return this.shadowRoot.querySelector(\"[part=arrow]\");\r\n}, _HTMLEToolTipElementBase_setTarget = function _HTMLEToolTipElementBase_setTarget(id) {\r\n    const target = id ? document.getElementById(id) : null;\r\n    if (target !== null) {\r\n        const oldTarget = __classPrivateFieldGet(this, _HTMLEToolTipElementBase_target, \"f\");\r\n        if (oldTarget) {\r\n            oldTarget.removeEventListener(\"mouseenter\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_targetListenerObject, \"f\"));\r\n            oldTarget.removeEventListener(\"mouseleave\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_targetListenerObject, \"f\"));\r\n        }\r\n        target.addEventListener(\"mouseenter\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_targetListenerObject, \"f\"));\r\n        target.addEventListener(\"mouseleave\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_targetListenerObject, \"f\"));\r\n    }\r\n    __classPrivateFieldSet(this, _HTMLEToolTipElementBase_target, target, \"f\");\r\n}, _HTMLEToolTipElementBase_position = function _HTMLEToolTipElementBase_position() {\r\n    const target = __classPrivateFieldGet(this, _HTMLEToolTipElementBase_target, \"f\");\r\n    if (target !== null) {\r\n        const { top: targetTop, bottom: targetBottom, left: targetLeft, right: targetRight } = target.getBoundingClientRect();\r\n        const { width: tooltipWidth, height: tooltipHeight } = this.getBoundingClientRect();\r\n        const tooltipHalfWidth = tooltipWidth / 2;\r\n        const tooltipHalfHeight = tooltipHeight / 2;\r\n        const targetCenter = (targetRight + targetLeft) / 2;\r\n        const targetMiddle = (targetBottom + targetTop) / 2;\r\n        const { position, style: tooltipStyle } = this;\r\n        const arrow = __classPrivateFieldGet(this, _HTMLEToolTipElementBase_instances, \"m\", _HTMLEToolTipElementBase_arrow).call(this);\r\n        const { style: arrowStyle } = arrow;\r\n        const { width: arrowWidth, height: arrowHeight } = arrow.getBoundingClientRect();\r\n        const arrowHalfWidth = arrowWidth / 2;\r\n        const arrowHalfHeight = arrowHeight / 2;\r\n        const { clientWidth } = document.body;\r\n        switch (position) {\r\n            case \"top\": {\r\n                tooltipStyle.setProperty(\"top\", `${targetTop - tooltipHeight - arrowHalfHeight}px`);\r\n                tooltipStyle.setProperty(\"left\", `${Math.max(0, Math.min(targetCenter - tooltipHalfWidth, clientWidth - tooltipWidth))}px`);\r\n                arrowStyle.setProperty(\"top\", `${targetTop - arrowHalfHeight}px`);\r\n                arrowStyle.setProperty(\"left\", `${targetCenter}px`);\r\n                break;\r\n            }\r\n            case \"bottom\": {\r\n                tooltipStyle.setProperty(\"top\", `${targetBottom + arrowHalfHeight}px`);\r\n                tooltipStyle.setProperty(\"left\", `${Math.max(0, Math.min(targetCenter - tooltipHalfWidth, clientWidth - tooltipWidth))}px`);\r\n                arrowStyle.setProperty(\"top\", `${targetBottom + arrowHalfHeight}px`);\r\n                arrowStyle.setProperty(\"left\", `${targetCenter}px`);\r\n                break;\r\n            }\r\n            case \"left\": {\r\n                tooltipStyle.setProperty(\"top\", `${targetMiddle - tooltipHalfHeight}px`);\r\n                tooltipStyle.setProperty(\"left\", `${targetLeft - tooltipWidth - arrowHalfWidth}px`);\r\n                arrowStyle.setProperty(\"top\", `${targetMiddle}px`);\r\n                arrowStyle.setProperty(\"left\", `${targetLeft - arrowHalfWidth}px`);\r\n                break;\r\n            }\r\n            case \"right\": {\r\n                tooltipStyle.setProperty(\"top\", `${targetMiddle - tooltipHalfHeight}px`);\r\n                tooltipStyle.setProperty(\"left\", `${targetRight + arrowHalfWidth}px`);\r\n                arrowStyle.setProperty(\"top\", `${targetMiddle}px`);\r\n                arrowStyle.setProperty(\"left\", `${targetRight + arrowHalfWidth}px`);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}, _HTMLEToolTipElementBase_handleTargetMouseEnterEvent = function _HTMLEToolTipElementBase_handleTargetMouseEnterEvent() {\r\n    this.show();\r\n    document.addEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_documentListenerObject, \"f\"));\r\n}, _HTMLEToolTipElementBase_handleTargetMouseLeaveEvent = function _HTMLEToolTipElementBase_handleTargetMouseLeaveEvent() {\r\n    this.hide();\r\n    document.removeEventListener(\"keydown\", __classPrivateFieldGet(this, _HTMLEToolTipElementBase_documentListenerObject, \"f\"));\r\n}, _HTMLEToolTipElementBase_handleDocumentKeyDownEvent = function _HTMLEToolTipElementBase_handleDocumentKeyDownEvent(event) {\r\n    const { key } = event;\r\n    switch (key) {\r\n        case \"Escape\": {\r\n            this.hide();\r\n            break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"div\", {\r\n        attributes: {\r\n            part: \"container\"\r\n        },\r\n        children: [\r\n            element(\"span\", {\r\n                attributes: {\r\n                    part: \"arrow\"\r\n                }\r\n            }),\r\n            element(\"slot\")\r\n        ]\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true, name: \"for\" })\r\n], HTMLEToolTipElementBase.prototype, \"htmlFor\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"top\" })\r\n], HTMLEToolTipElementBase.prototype, \"position\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEToolTipElementBase.prototype, \"visible\", void 0);\r\nHTMLEToolTipElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-tooltip\"\r\n    })\r\n], HTMLEToolTipElementBase);\r\nvar HTMLEToolTipElement = HTMLEToolTipElementBase;\r\n//# sourceMappingURL=ToolTip.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEHandleElementBase_instances, _HTMLEHandleElementBase_target, _HTMLEHandleElementBase_onCapture, _HTMLEHandleElementBase_handlePointerUpEvent, _HTMLEHandleElementBase_handlePointerDownEvent, _HTMLEHandleElementBase_handlePointerMoveEvent;\r\nimport { CustomElement, AttributeProperty, element } from \"../Element\";\r\nexport { HTMLEHandleElement };\r\nvar shadowTemplate;\r\nlet HTMLEHandleElementBase = class HTMLEHandleElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEHandleElementBase_instances.add(this);\r\n        _HTMLEHandleElementBase_target.set(this, void 0);\r\n        _HTMLEHandleElementBase_onCapture.set(this, void 0);\r\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\r\n        shadowRoot.append(shadowTemplate.content.cloneNode(true));\r\n        __classPrivateFieldSet(this, _HTMLEHandleElementBase_target, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEHandleElementBase_onCapture, false, \"f\");\r\n        this.addEventListener(\"pointerdown\", __classPrivateFieldGet(this, _HTMLEHandleElementBase_instances, \"m\", _HTMLEHandleElementBase_handlePointerDownEvent).bind(this));\r\n        this.addEventListener(\"pointermove\", __classPrivateFieldGet(this, _HTMLEHandleElementBase_instances, \"m\", _HTMLEHandleElementBase_handlePointerMoveEvent).bind(this));\r\n        this.addEventListener(\"pointerup\", __classPrivateFieldGet(this, _HTMLEHandleElementBase_instances, \"m\", _HTMLEHandleElementBase_handlePointerUpEvent).bind(this));\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"controls\": {\r\n                const { controls } = this;\r\n                __classPrivateFieldSet(this, _HTMLEHandleElementBase_target, document.getElementById(controls), \"f\");\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n_HTMLEHandleElementBase_target = new WeakMap(), _HTMLEHandleElementBase_onCapture = new WeakMap(), _HTMLEHandleElementBase_instances = new WeakSet(), _HTMLEHandleElementBase_handlePointerUpEvent = function _HTMLEHandleElementBase_handlePointerUpEvent(event) {\r\n    const { pointerId } = event;\r\n    this.releasePointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEHandleElementBase_onCapture, false, \"f\");\r\n}, _HTMLEHandleElementBase_handlePointerDownEvent = function _HTMLEHandleElementBase_handlePointerDownEvent(event) {\r\n    const { pointerId } = event;\r\n    const { controls } = this;\r\n    __classPrivateFieldSet(this, _HTMLEHandleElementBase_target, document.getElementById(controls), \"f\");\r\n    this.setPointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEHandleElementBase_onCapture, true, \"f\");\r\n}, _HTMLEHandleElementBase_handlePointerMoveEvent = function _HTMLEHandleElementBase_handlePointerMoveEvent(event) {\r\n    if (__classPrivateFieldGet(this, _HTMLEHandleElementBase_onCapture, \"f\")) {\r\n        const target = __classPrivateFieldGet(this, _HTMLEHandleElementBase_target, \"f\");\r\n        if (target !== null) {\r\n            const targetComputedStyle = window.getComputedStyle(target);\r\n            const { movementX, movementY } = event;\r\n            const { width: rectWidth, height: rectHeight } = target.getBoundingClientRect();\r\n            const outerElement = target.parentElement ?? document.body;\r\n            const { left: outerRectLeft, right: outerRectRight, top: outerRectTop, bottom: outerRectBottom } = outerElement.getBoundingClientRect();\r\n            const left = parseFloat(targetComputedStyle.getPropertyValue(\"left\"));\r\n            const newLeft = Math.max(outerRectLeft, Math.min(Math.trunc(left + movementX), outerRectRight - rectWidth));\r\n            const top = parseFloat(targetComputedStyle.getPropertyValue(\"top\"));\r\n            const newTop = Math.max(outerRectTop, Math.min(Math.trunc(top + movementY), outerRectBottom - rectHeight));\r\n            target.style.setProperty(\"left\", `${newLeft}px`);\r\n            target.style.setProperty(\"top\", `${newTop}px`);\r\n            this.dispatchEvent(new CustomEvent(\"move\"));\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    shadowTemplate = element(\"template\");\r\n    shadowTemplate.content.append(element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                        :host {\r\n                            display: block;\r\n                            \r\n                            width: 24px;\r\n                            height: 12px;\r\n                            \r\n                            background-color: rgb(0, 128, 255);\r\n\r\n                            -webkit-mask-image: url(\"/assets/dots.png\");\r\n                            mask-image: url(\"/assets/dots.png\");\r\n\r\n                            -webkit-mask-repeat: repeat;\r\n                            mask-repeat: repeat;\r\n                            cursor: move;\r\n                        }\r\n                    `\r\n        ]\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEHandleElementBase.prototype, \"controls\", void 0);\r\nHTMLEHandleElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-handle\"\r\n    })\r\n], HTMLEHandleElementBase);\r\nvar HTMLEHandleElement = HTMLEHandleElementBase;\r\n//# sourceMappingURL=Handle.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEHeightSashElementBase_instances, _HTMLEHeightSashElementBase_target, _HTMLEHeightSashElementBase_onCapture, _HTMLEHeightSashElementBase_queuedPointerCallback, _HTMLEHeightSashElementBase_pointerMovement, _HTMLEHeightSashElementBase_pointerMoveCallback, _HTMLEHeightSashElementBase_handlePointerDownEvent, _HTMLEHeightSashElementBase_handlePointerMoveEvent, _HTMLEHeightSashElementBase_handlePointerUpEvent;\r\nimport { CustomElement, AttributeProperty } from \"../Element\";\r\nexport { HTMLEHeightSashElement };\r\nlet HTMLEHeightSashElementBase = class HTMLEHeightSashElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEHeightSashElementBase_instances.add(this);\r\n        _HTMLEHeightSashElementBase_target.set(this, void 0);\r\n        _HTMLEHeightSashElementBase_onCapture.set(this, void 0);\r\n        _HTMLEHeightSashElementBase_queuedPointerCallback.set(this, void 0);\r\n        _HTMLEHeightSashElementBase_pointerMovement.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_target, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_queuedPointerCallback, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_pointerMovement, 0, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_onCapture, false, \"f\");\r\n        this.addEventListener(\"pointerdown\", __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_instances, \"m\", _HTMLEHeightSashElementBase_handlePointerDownEvent).bind(this));\r\n        this.addEventListener(\"pointermove\", __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_instances, \"m\", _HTMLEHeightSashElementBase_handlePointerMoveEvent).bind(this));\r\n        this.addEventListener(\"pointerup\", __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_instances, \"m\", _HTMLEHeightSashElementBase_handlePointerUpEvent).bind(this));\r\n    }\r\n    get target() {\r\n        return __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_target, \"f\");\r\n    }\r\n};\r\n_HTMLEHeightSashElementBase_target = new WeakMap(), _HTMLEHeightSashElementBase_onCapture = new WeakMap(), _HTMLEHeightSashElementBase_queuedPointerCallback = new WeakMap(), _HTMLEHeightSashElementBase_pointerMovement = new WeakMap(), _HTMLEHeightSashElementBase_instances = new WeakSet(), _HTMLEHeightSashElementBase_pointerMoveCallback = function _HTMLEHeightSashElementBase_pointerMoveCallback() {\r\n    const target = __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_target, \"f\");\r\n    if (target !== null) {\r\n        const targetComputedStyle = window.getComputedStyle(target);\r\n        const { style } = target;\r\n        const { growdir } = this;\r\n        const movementY = __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_pointerMovement, \"f\");\r\n        const height = parseFloat(targetComputedStyle.getPropertyValue(\"height\"));\r\n        const newHeight = Math.trunc(height + (growdir == \"top\" ? -1 : 1) * movementY);\r\n        style.setProperty(\"height\", `${newHeight}px`);\r\n        const computedNewHeight = parseFloat(targetComputedStyle.getPropertyValue(\"height\"));\r\n        style.setProperty(\"height\", `${computedNewHeight}px`);\r\n        this.dispatchEvent(new Event(\"resize\"));\r\n    }\r\n    __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_queuedPointerCallback, null, \"f\");\r\n}, _HTMLEHeightSashElementBase_handlePointerDownEvent = function _HTMLEHeightSashElementBase_handlePointerDownEvent(event) {\r\n    const { pointerId } = event;\r\n    const { controls } = this;\r\n    const rootNode = this.getRootNode();\r\n    __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_target, rootNode.getElementById(controls), \"f\");\r\n    this.setPointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_onCapture, true, \"f\");\r\n}, _HTMLEHeightSashElementBase_handlePointerMoveEvent = function _HTMLEHeightSashElementBase_handlePointerMoveEvent(event) {\r\n    if (__classPrivateFieldGet(this, _HTMLEHeightSashElementBase_onCapture, \"f\")) {\r\n        if (__classPrivateFieldGet(this, _HTMLEHeightSashElementBase_queuedPointerCallback, \"f\") == null) {\r\n            __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_pointerMovement, event.movementY, \"f\");\r\n            __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_queuedPointerCallback, __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_instances, \"m\", _HTMLEHeightSashElementBase_pointerMoveCallback).bind(this), \"f\");\r\n            requestAnimationFrame(__classPrivateFieldGet(this, _HTMLEHeightSashElementBase_queuedPointerCallback, \"f\"));\r\n        }\r\n        else {\r\n            __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_pointerMovement, __classPrivateFieldGet(this, _HTMLEHeightSashElementBase_pointerMovement, \"f\") + event.movementY, \"f\");\r\n        }\r\n    }\r\n}, _HTMLEHeightSashElementBase_handlePointerUpEvent = function _HTMLEHeightSashElementBase_handlePointerUpEvent(event) {\r\n    const { pointerId } = event;\r\n    this.releasePointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEHeightSashElementBase_onCapture, false, \"f\");\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEHeightSashElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"top\" })\r\n], HTMLEHeightSashElementBase.prototype, \"growdir\", void 0);\r\nHTMLEHeightSashElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-hsash\"\r\n    })\r\n], HTMLEHeightSashElementBase);\r\nvar HTMLEHeightSashElement = HTMLEHeightSashElementBase;\r\n//# sourceMappingURL=HeightSash.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEImportElementBase_instances, _HTMLEImportElementBase_importRequest;\r\nimport { CustomElement, AttributeProperty } from \"../Element\";\r\nexport { HTMLEImportElement };\r\nlet HTMLEImportElementBase = class HTMLEImportElementBase extends HTMLElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        _HTMLEImportElementBase_instances.add(this);\r\n    }\r\n    connectedCallback() {\r\n        const { src } = this;\r\n        if (src) {\r\n            __classPrivateFieldGet(this, _HTMLEImportElementBase_instances, \"m\", _HTMLEImportElementBase_importRequest).call(this, src);\r\n        }\r\n    }\r\n};\r\n_HTMLEImportElementBase_instances = new WeakSet(), _HTMLEImportElementBase_importRequest = async function _HTMLEImportElementBase_importRequest(src) {\r\n    this.outerHTML = await fetch(src).then((response) => {\r\n        if (response.ok) {\r\n            return response.text();\r\n        }\r\n        else {\r\n            throw new Error(response.statusText);\r\n        }\r\n    });\r\n    this.dispatchEvent(new Event(\"load\", { bubbles: true }));\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String })\r\n], HTMLEImportElementBase.prototype, \"src\", void 0);\r\nHTMLEImportElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-import\"\r\n    })\r\n], HTMLEImportElementBase);\r\nvar HTMLEImportElement = HTMLEImportElementBase;\r\n//# sourceMappingURL=Import.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _HTMLELoaderElementBase_instances, _HTMLELoaderElementBase_promise, _HTMLELoaderElementBase_updateTemplate;\r\nimport { CustomElement, AttributeProperty, element } from \"../Element\";\r\nexport { HTMLELoaderElement };\r\nvar barShadowTemplate;\r\nvar circleShadowTemplate;\r\nlet HTMLELoaderElementBase = class HTMLELoaderElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLELoaderElementBase_instances.add(this);\r\n        _HTMLELoaderElementBase_promise.set(this, void 0);\r\n        this.attachShadow({ mode: \"open\" });\r\n        __classPrivateFieldGet(this, _HTMLELoaderElementBase_instances, \"m\", _HTMLELoaderElementBase_updateTemplate).call(this);\r\n        __classPrivateFieldSet(this, _HTMLELoaderElementBase_promise, null, \"f\");\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        switch (name) {\r\n            case \"type\": {\r\n                __classPrivateFieldGet(this, _HTMLELoaderElementBase_instances, \"m\", _HTMLELoaderElementBase_updateTemplate).call(this);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    set promise(promise) {\r\n        if (promise) {\r\n            promise.finally(() => {\r\n                this.remove();\r\n            });\r\n        }\r\n        __classPrivateFieldSet(this, _HTMLELoaderElementBase_promise, promise, \"f\");\r\n    }\r\n    get promise() {\r\n        return __classPrivateFieldGet(this, _HTMLELoaderElementBase_promise, \"f\");\r\n    }\r\n};\r\n_HTMLELoaderElementBase_promise = new WeakMap(), _HTMLELoaderElementBase_instances = new WeakSet(), _HTMLELoaderElementBase_updateTemplate = function _HTMLELoaderElementBase_updateTemplate() {\r\n    const { type, shadowRoot } = this;\r\n    switch (type) {\r\n        case \"circle\": {\r\n            shadowRoot.replaceChildren(circleShadowTemplate.content.cloneNode(true));\r\n            break;\r\n        }\r\n        case \"bar\": {\r\n            shadowRoot.replaceChildren(barShadowTemplate.content.cloneNode(true));\r\n            break;\r\n        }\r\n    }\r\n};\r\n(() => {\r\n    const commonStyle = element(\"style\", {\r\n        children: [\r\n            /*css*/ `\r\n                    :host {\r\n                        display: inline-block;\r\n                        --default-loader-color: rgb(0, 128, 255);\r\n                        --default-animation-duration: 2s;\r\n                    }\r\n                `\r\n        ]\r\n    });\r\n    const barStyle = commonStyle.cloneNode(true);\r\n    const circleStyle = commonStyle.cloneNode(true);\r\n    barStyle.textContent += /*css*/ `\r\n            :host {\r\n                display: block;\r\n            }\r\n\r\n            [part=\"bar\"] {\r\n                position: relative;\r\n                display: block;\r\n                overflow: hidden;\r\n                height: 6px;\r\n                width: 100%;\r\n            }\r\n\r\n            [part=\"slider\"] {\r\n                display: flex;\r\n                position: absolute;\r\n                width: 100%;\r\n                height: 100%;\r\n                animation-name: slider;\r\n            }\r\n\r\n            [part=\"slider\"],\r\n            [part=\"cursor\"] {\r\n                border-radius: 4px;\r\n                will-change: transform;\r\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\r\n                animation-timing-function: linear;\r\n                animation-iteration-count: infinite;\r\n            }\r\n\r\n            [part=\"cursor\"] {\r\n                display: block;\r\n                width: 128px;\r\n                background-color: var(--loader-color, var(--default-loader-color));\r\n                animation-name: cursor;\r\n            }\r\n\r\n            [part=\"bar\"]:after {\r\n                animation-name: shine;\r\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\r\n                animation-iteration-count: infinite;\r\n                animation-fill-mode: forwards;  \r\n                content: \"\";\r\n                position: absolute;\r\n                left: -100%;\r\n                width: 100%;\r\n                height: 100%;\r\n                top: 0;\r\n                opacity: 0;\r\n                \r\n                background: rgba(255, 255, 255, 0.13);\r\n                background: linear-gradient(\r\n                    to right, \r\n                    rgba(255, 255, 255, 0) 0%,\r\n                    rgba(255, 255, 255, 0.1) 10%,\r\n                    rgba(255, 255, 255, 0.9) 80%,\r\n                    rgba(255, 255, 255, 0) 100%\r\n                );\r\n            }\r\n\r\n            @keyframes shine {\r\n                25% {\r\n                    opacity: 1;\r\n                    left: -100%;\r\n                }\r\n                100% {\r\n                    opacity: 0;\r\n                    left: 100%;\r\n                }\r\n            }\r\n\r\n            @keyframes slider {\r\n                0% {\r\n                    transform: translateX(0%);\r\n                }\r\n                100% {\r\n                    transform: translateX(100%);\r\n                }\r\n            }\r\n\r\n            @keyframes cursor {\r\n                0% {\r\n                    transform: translateX(-100%);\r\n                }\r\n                100% {\r\n                    transform: translateX(100%);\r\n                }\r\n            }\r\n        `;\r\n    circleStyle.textContent += /*css*/ `\r\n            :host {\r\n                display: inline-block;\r\n            }\r\n\r\n            [part=\"circle\"] {\r\n                width: 12px;\r\n                height: 12px;\r\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\r\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\r\n                border-left: 4px solid transparent;\r\n                border-bottom: 4px solid transparent;\r\n                border-radius: 50%;\r\n                animation-duration: 1s;\r\n                animation-name: circle;\r\n                animation-timing-function: linear;\r\n                animation-iteration-count: infinite;\r\n            }\r\n\r\n            @keyframes circle {\r\n                0% {\r\n                    transform: rotate(0);\r\n                }\r\n                100% {\r\n                    transform: rotate(360deg);\r\n                }\r\n            }\r\n        `;\r\n    barShadowTemplate = element(\"template\");\r\n    barShadowTemplate.content.append(barStyle, element(\"div\", {\r\n        attributes: {\r\n            part: \"bar\"\r\n        },\r\n        children: [\r\n            element(\"div\", {\r\n                attributes: {\r\n                    part: \"slider\"\r\n                },\r\n                children: [\r\n                    element(\"div\", {\r\n                        attributes: {\r\n                            part: \"cursor\"\r\n                        }\r\n                    })\r\n                ]\r\n            })\r\n        ]\r\n    }));\r\n    circleShadowTemplate = element(\"template\");\r\n    circleShadowTemplate.content.append(circleStyle, element(\"div\", {\r\n        attributes: {\r\n            part: \"circle\"\r\n        }\r\n    }));\r\n})();\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"bar\", observed: true })\r\n], HTMLELoaderElementBase.prototype, \"type\", void 0);\r\nHTMLELoaderElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-loader\"\r\n    })\r\n], HTMLELoaderElementBase);\r\nvar HTMLELoaderElement = HTMLELoaderElementBase;\r\n//# sourceMappingURL=Loader.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HTMLEWidthSashElementBase_instances, _HTMLEWidthSashElementBase_target, _HTMLEWidthSashElementBase_onCapture, _HTMLEWidthSashElementBase_queuedPointerCallback, _HTMLEWidthSashElementBase_pointerMovement, _HTMLEWidthSashElementBase_pointerMoveCallback, _HTMLEWidthSashElementBase_handlePointerDownEvent, _HTMLEWidthSashElementBase_handlePointerMoveEvent, _HTMLEWidthSashElementBase_handlePointerUpEvent;\r\nimport { CustomElement, AttributeProperty } from \"../Element\";\r\nexport { HTMLEWidthSashElement };\r\nlet HTMLEWidthSashElementBase = class HTMLEWidthSashElementBase extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n        _HTMLEWidthSashElementBase_instances.add(this);\r\n        _HTMLEWidthSashElementBase_target.set(this, void 0);\r\n        _HTMLEWidthSashElementBase_onCapture.set(this, void 0);\r\n        _HTMLEWidthSashElementBase_queuedPointerCallback.set(this, void 0);\r\n        _HTMLEWidthSashElementBase_pointerMovement.set(this, void 0);\r\n        __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_target, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_queuedPointerCallback, null, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_pointerMovement, 0, \"f\");\r\n        __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_onCapture, false, \"f\");\r\n        this.addEventListener(\"pointerdown\", __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_instances, \"m\", _HTMLEWidthSashElementBase_handlePointerDownEvent).bind(this));\r\n        this.addEventListener(\"pointermove\", __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_instances, \"m\", _HTMLEWidthSashElementBase_handlePointerMoveEvent).bind(this));\r\n        this.addEventListener(\"pointerup\", __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_instances, \"m\", _HTMLEWidthSashElementBase_handlePointerUpEvent).bind(this));\r\n    }\r\n    get target() {\r\n        return __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_target, \"f\");\r\n    }\r\n    setWidth(width) {\r\n        const target = __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_target, \"f\");\r\n        if (target !== null) {\r\n            const { max } = this;\r\n            const { style } = target;\r\n            style.setProperty(\"width\", `${width}px`);\r\n            if (max) {\r\n                style.setProperty(\"max-width\", `${width}px`);\r\n            }\r\n        }\r\n    }\r\n};\r\n_HTMLEWidthSashElementBase_target = new WeakMap(), _HTMLEWidthSashElementBase_onCapture = new WeakMap(), _HTMLEWidthSashElementBase_queuedPointerCallback = new WeakMap(), _HTMLEWidthSashElementBase_pointerMovement = new WeakMap(), _HTMLEWidthSashElementBase_instances = new WeakSet(), _HTMLEWidthSashElementBase_pointerMoveCallback = function _HTMLEWidthSashElementBase_pointerMoveCallback() {\r\n    const target = __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_target, \"f\");\r\n    if (target !== null) {\r\n        const targetComputedStyle = window.getComputedStyle(target);\r\n        const { growdir } = this;\r\n        const movementX = __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_pointerMovement, \"f\");\r\n        const width = parseFloat(targetComputedStyle.getPropertyValue(\"width\"));\r\n        const newWidth = width + (growdir == \"right\" ? 1 : -1) * movementX;\r\n        this.setWidth(newWidth);\r\n        this.dispatchEvent(new Event(\"resize\"));\r\n    }\r\n    __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_pointerMovement, 0, \"f\");\r\n    __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_queuedPointerCallback, null, \"f\");\r\n}, _HTMLEWidthSashElementBase_handlePointerDownEvent = function _HTMLEWidthSashElementBase_handlePointerDownEvent(event) {\r\n    const { pointerId } = event;\r\n    const { controls } = this;\r\n    const rootNode = this.getRootNode();\r\n    __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_target, rootNode.getElementById(controls), \"f\");\r\n    this.setPointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_onCapture, true, \"f\");\r\n}, _HTMLEWidthSashElementBase_handlePointerMoveEvent = function _HTMLEWidthSashElementBase_handlePointerMoveEvent(event) {\r\n    if (__classPrivateFieldGet(this, _HTMLEWidthSashElementBase_onCapture, \"f\")) {\r\n        if (__classPrivateFieldGet(this, _HTMLEWidthSashElementBase_queuedPointerCallback, \"f\") == null) {\r\n            __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_queuedPointerCallback, __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_instances, \"m\", _HTMLEWidthSashElementBase_pointerMoveCallback).bind(this), \"f\");\r\n            requestAnimationFrame(__classPrivateFieldGet(this, _HTMLEWidthSashElementBase_queuedPointerCallback, \"f\"));\r\n        }\r\n        __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_pointerMovement, __classPrivateFieldGet(this, _HTMLEWidthSashElementBase_pointerMovement, \"f\") + event.movementX, \"f\");\r\n    }\r\n}, _HTMLEWidthSashElementBase_handlePointerUpEvent = function _HTMLEWidthSashElementBase_handlePointerUpEvent(event) {\r\n    const { pointerId } = event;\r\n    this.releasePointerCapture(pointerId);\r\n    __classPrivateFieldSet(this, _HTMLEWidthSashElementBase_onCapture, false, \"f\");\r\n};\r\n__decorate([\r\n    AttributeProperty({ type: String, observed: true })\r\n], HTMLEWidthSashElementBase.prototype, \"controls\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: String, defaultValue: \"right\" })\r\n], HTMLEWidthSashElementBase.prototype, \"growdir\", void 0);\r\n__decorate([\r\n    AttributeProperty({ type: Boolean })\r\n], HTMLEWidthSashElementBase.prototype, \"max\", void 0);\r\nHTMLEWidthSashElementBase = __decorate([\r\n    CustomElement({\r\n        name: \"e-wsash\"\r\n    })\r\n], HTMLEWidthSashElementBase);\r\nvar HTMLEWidthSashElement = HTMLEWidthSashElementBase;\r\n//# sourceMappingURL=WidthSash.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _AttributeMixinsObserverBase_instances, _AttributeMixinsObserverBase_observer, _AttributeMixinsObserverBase_mixins, _AttributeMixinsObserverBase_callback, _AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree, _AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree;\r\nimport { areAttributesMatching } from \"../elements/Element\";\r\nexport { AttributeMixinsObserver };\r\nclass AttributeMixinsObserverBase {\r\n    constructor(mixins) {\r\n        _AttributeMixinsObserverBase_instances.add(this);\r\n        _AttributeMixinsObserverBase_observer.set(this, void 0);\r\n        _AttributeMixinsObserverBase_mixins.set(this, void 0);\r\n        __classPrivateFieldSet(this, _AttributeMixinsObserverBase_observer, new MutationObserver(__classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_callback).bind(this)), \"f\");\r\n        __classPrivateFieldSet(this, _AttributeMixinsObserverBase_mixins, mixins.slice(), \"f\");\r\n    }\r\n    trigger() {\r\n        __classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_callback).call(this, __classPrivateFieldGet(this, _AttributeMixinsObserverBase_observer, \"f\").takeRecords());\r\n    }\r\n    observe(target) {\r\n        __classPrivateFieldGet(this, _AttributeMixinsObserverBase_observer, \"f\").observe(target, {\r\n            childList: true,\r\n            subtree: true,\r\n            attributeFilter: __classPrivateFieldGet(this, _AttributeMixinsObserverBase_mixins, \"f\").map((mixin => mixin.attributeName))\r\n        });\r\n    }\r\n    disconnect() {\r\n        __classPrivateFieldGet(this, _AttributeMixinsObserverBase_observer, \"f\").disconnect();\r\n    }\r\n}\r\n_AttributeMixinsObserverBase_observer = new WeakMap(), _AttributeMixinsObserverBase_mixins = new WeakMap(), _AttributeMixinsObserverBase_instances = new WeakSet(), _AttributeMixinsObserverBase_callback = function _AttributeMixinsObserverBase_callback(mutationsList) {\r\n    mutationsList.forEach((mutation) => {\r\n        mutation.addedNodes.forEach((node) => {\r\n            if (node instanceof Element) {\r\n                __classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree).call(this, node);\r\n            }\r\n        });\r\n        mutation.removedNodes.forEach((node) => {\r\n            if (node instanceof Element) {\r\n                __classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree).call(this, node);\r\n            }\r\n        });\r\n        if (mutation.target instanceof Element) {\r\n            const targetElement = mutation.target;\r\n            const attributeName = mutation.attributeName;\r\n            if (attributeName) {\r\n                const relatedMixins = __classPrivateFieldGet(this, _AttributeMixinsObserverBase_mixins, \"f\").filter(mixin => mixin.attributeName == attributeName);\r\n                relatedMixins.forEach((mixin) => {\r\n                    if (areAttributesMatching(mixin.attributeType, mixin.attributeName, mixin.attributeValue, attributeName, targetElement.getAttribute(attributeName))) {\r\n                        mixin.attach(targetElement);\r\n                    }\r\n                    else {\r\n                        mixin.detach(targetElement);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n}, _AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree = function _AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree(element) {\r\n    Array.from(element.attributes).forEach((attr) => {\r\n        let matchingMixins = __classPrivateFieldGet(this, _AttributeMixinsObserverBase_mixins, \"f\").filter(mixin => areAttributesMatching(mixin.attributeType, mixin.attributeName, mixin.attributeValue, attr.name, attr.value));\r\n        matchingMixins.forEach((mixin) => {\r\n            mixin.attach(element);\r\n        });\r\n    });\r\n    let childIndex = 0;\r\n    const { children } = element;\r\n    while (childIndex < children.length) {\r\n        const child = children.item(childIndex);\r\n        if (child !== null) {\r\n            __classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree).call(this, child);\r\n        }\r\n        childIndex++;\r\n    }\r\n}, _AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree = function _AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree(element) {\r\n    Array.from(element.attributes).forEach((attr) => {\r\n        let matchingMixins = __classPrivateFieldGet(this, _AttributeMixinsObserverBase_mixins, \"f\").filter(mixin => areAttributesMatching(mixin.attributeType, mixin.attributeName, mixin.attributeValue, attr.name, attr.value));\r\n        matchingMixins.forEach((mixin) => {\r\n            mixin.detach(element);\r\n        });\r\n    });\r\n    let childIndex = 0;\r\n    const { children } = element;\r\n    while (childIndex < children.length) {\r\n        const child = children.item(childIndex);\r\n        if (child !== null) {\r\n            __classPrivateFieldGet(this, _AttributeMixinsObserverBase_instances, \"m\", _AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree).call(this, child);\r\n        }\r\n        childIndex++;\r\n    }\r\n};\r\nvar AttributeMixinsObserver = AttributeMixinsObserverBase;\r\n//# sourceMappingURL=AttributeMixinsObserver.js.map","import { camelToTrain } from \"../../elements/Snippets\";\r\nexport { widget };\r\nexport { Widget };\r\nexport { WidgetFactory };\r\nexport { widgets };\r\nvar slotsMap = new WeakMap();\r\nvar slotsObserver = new MutationObserver((mutationsList) => {\r\n    mutationsList.forEach((mutation) => {\r\n        const { target, type } = mutation;\r\n        if (target instanceof HTMLElement) {\r\n            switch (type) {\r\n                case \"childList\": {\r\n                    const slotReferences = slotsMap.get(target);\r\n                    if (slotReferences) {\r\n                        slotReferences.forEach(slotRef_i => {\r\n                            const { widget, element, slot } = slotRef_i;\r\n                            const slottedCallback = widget[\"slottedCallback\"];\r\n                            if (typeof slottedCallback == \"function\") {\r\n                                slottedCallback(element.deref(), target, slot);\r\n                            }\r\n                        });\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\nvar widgetsMap = new WeakMap();\r\nvar attributesObserver = new MutationObserver((mutationsList) => {\r\n    mutationsList.forEach((mutation) => {\r\n        const { target, type } = mutation;\r\n        if (target instanceof HTMLElement) {\r\n            switch (type) {\r\n                case \"attributes\": {\r\n                    const { attributeName, oldValue } = mutation;\r\n                    const widget = widgetsMap.get(target);\r\n                    if (widget) {\r\n                        const attributeChangedCallback = widget[\"attributeChangedCallback\"];\r\n                        if (typeof attributeChangedCallback == \"function\") {\r\n                            attributeChangedCallback(target, attributeName, oldValue, target.getAttribute(attributeName));\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\nclass WidgetFactoryBase {\r\n    constructor() {\r\n        const widget = this;\r\n        this.create = new Proxy(this.create, {\r\n            apply: (target, thisArg, argumentsList) => {\r\n                const element = Reflect.apply(target, thisArg, argumentsList);\r\n                const observedSlots = widget[\"observedSlots\"];\r\n                if (Array.isArray(observedSlots)) {\r\n                    const slots = observedSlots\r\n                        .map(slotName_i => {\r\n                        return {\r\n                            slotName: slotName_i,\r\n                            slotElement: widget.slot(element, slotName_i)\r\n                        };\r\n                    });\r\n                    slots.forEach(slot_i => {\r\n                        const { slotElement, slotName } = slot_i;\r\n                        if (slotElement) {\r\n                            slotsObserver.observe(slotElement, {\r\n                                childList: true\r\n                            });\r\n                            const slotReferences = slotsMap.get(slotElement);\r\n                            const slotReference = { widget, element: new WeakRef(element), slot: slotName };\r\n                            if (Array.isArray(slotReferences)) {\r\n                                slotReferences.push(slotReference);\r\n                            }\r\n                            else {\r\n                                slotsMap.set(slotElement, new Array(slotReference));\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                const observedAttributes = widget[\"observedAttributes\"];\r\n                if (Array.isArray(observedAttributes)) {\r\n                    widgetsMap.set(element, widget);\r\n                    attributesObserver.observe(element, {\r\n                        attributes: true,\r\n                        attributeFilter: observedAttributes,\r\n                        attributeOldValue: true\r\n                    });\r\n                }\r\n                return element;\r\n            }\r\n        });\r\n    }\r\n    create() {\r\n        throw new Error(`create method is not implemented`);\r\n    }\r\n    slot() {\r\n        return null;\r\n    }\r\n    get observedSlots() {\r\n        return [\"\"];\r\n    }\r\n}\r\nvar WidgetFactory = WidgetFactoryBase;\r\nvar widgets = new Map();\r\nfunction widget(name, init) {\r\n    const widget = widgets.get(name);\r\n    if (widget) {\r\n        if (init !== undefined) {\r\n            const { properties, attributes, dataset, slotted, listeners } = init;\r\n            const element = widget.create(properties);\r\n            if (attributes) {\r\n                Object.entries(attributes).forEach(([attributeName, attributeValue]) => {\r\n                    if (attributeValue !== undefined) {\r\n                        if (typeof attributeValue === \"boolean\") {\r\n                            element.toggleAttribute(camelToTrain(attributeName), attributeValue);\r\n                        }\r\n                        else {\r\n                            element.setAttribute(camelToTrain(attributeName), String(attributeValue));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (dataset) {\r\n                const { dataset: elementDataset } = element;\r\n                Object.keys(dataset).forEach((datasetEntry_i) => {\r\n                    elementDataset[datasetEntry_i] = String(dataset[datasetEntry_i]);\r\n                });\r\n            }\r\n            if (slotted) {\r\n                if (typeof slotted === \"function\" || Array.isArray(slotted) || slotted instanceof NodeList || typeof slotted === \"string\" || slotted instanceof Node) {\r\n                    const slot = widget.slot(element, null);\r\n                    if (slot) {\r\n                        if (typeof slotted === \"function\") {\r\n                            slot.append(...slotted(slot));\r\n                        }\r\n                        else if (typeof slotted === \"object\" && \"length\" in slotted) {\r\n                            slot.append(...Array.from(slotted));\r\n                        }\r\n                        else {\r\n                            slot.append(slotted);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    Object.entries(slotted).forEach(([slot_i, slotted]) => {\r\n                        const slot = widget.slot(element, slot_i);\r\n                        if (slot) {\r\n                            if (typeof slotted === \"function\") {\r\n                                slot.append(...slotted(slot));\r\n                            }\r\n                            else if (typeof slotted === \"object\" && \"length\" in slotted) {\r\n                                slot.append(...Array.from(slotted));\r\n                            }\r\n                            else {\r\n                                slot.append(slotted);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (listeners) {\r\n                Object.entries(listeners).forEach(([name_i, listener_i]) => {\r\n                    if (Array.isArray(listener_i)) {\r\n                        element.addEventListener(name_i, listener_i[0], listener_i[1]);\r\n                    }\r\n                    else {\r\n                        element.addEventListener(name_i, listener_i);\r\n                    }\r\n                });\r\n            }\r\n            return element;\r\n        }\r\n        else {\r\n            return widget.create();\r\n        }\r\n    }\r\n    throw new Error(`Unknown widget ${name}. The corresponding module might not be imported.`);\r\n}\r\nconst Widget = function (init) {\r\n    return (widget) => {\r\n        const { name } = init;\r\n        widgets.set(name, new widget());\r\n        return widget;\r\n    };\r\n};\r\n//# sourceMappingURL=Widget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _SeparatorWidgetFactory_template, _a;\r\nimport { element } from \"../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"./Widget\";\r\nexport { separatorWidget };\r\nvar separatorWidget = new (Widget({\r\n    name: \"separator\"\r\n})((_a = class SeparatorWidgetFactory extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _SeparatorWidgetFactory_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _SeparatorWidgetFactory_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"separator\",\r\n                    role: \"separator\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _SeparatorWidgetFactory_template, \"f\").cloneNode(true);\r\n        }\r\n    },\r\n    _SeparatorWidgetFactory_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=SeparatorWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _MenuItemWidgetFactoryBase_instances, _MenuItemWidgetFactoryBase_iconPartTemplate, _MenuItemWidgetFactoryBase_arrowPartTemplate, _MenuItemWidgetFactoryBase_keyshortcutsPartTemplate, _MenuItemWidgetFactoryBase_template, _MenuItemWidgetFactoryBase_types, _MenuItemWidgetFactoryBase_typesFeatures, _MenuItemWidgetFactoryBase_label, _MenuItemWidgetFactoryBase_handleClickEvent, _MenuItemWidgetFactoryBase_positionMenu, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { menuItemWidget };\r\nvar menuItemWidget = new (Widget({\r\n    name: \"menuitem\"\r\n})((_a = class MenuItemWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _MenuItemWidgetFactoryBase_instances.add(this);\r\n            _MenuItemWidgetFactoryBase_iconPartTemplate.set(this, void 0);\r\n            _MenuItemWidgetFactoryBase_arrowPartTemplate.set(this, void 0);\r\n            _MenuItemWidgetFactoryBase_keyshortcutsPartTemplate.set(this, void 0);\r\n            _MenuItemWidgetFactoryBase_template.set(this, void 0);\r\n            _MenuItemWidgetFactoryBase_types.set(this, void 0);\r\n            _MenuItemWidgetFactoryBase_typesFeatures.set(this, void 0);\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_iconPartTemplate, element(\"span\", {\r\n                attributes: {\r\n                    class: \"icon\"\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_arrowPartTemplate, element(\"span\", {\r\n                attributes: {\r\n                    class: \"arrow\"\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_keyshortcutsPartTemplate, element(\"span\", {\r\n                attributes: {\r\n                    class: \"keyshortcuts\"\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_template, element(\"button\", {\r\n                attributes: {\r\n                    class: \"menuitem\",\r\n                    role: \"menuitem\",\r\n                    type: \"button\",\r\n                    tabindex: -1\r\n                },\r\n                children: [\r\n                    __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_iconPartTemplate, \"f\").cloneNode(true),\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"label\"\r\n                        }\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_types, [\"checkbox\", \"radio\", \"menu\", \"submenu\", \"button\"], \"f\");\r\n            __classPrivateFieldSet(this, _MenuItemWidgetFactoryBase_typesFeatures, {\r\n                button: {\r\n                    role: \"menuitem\",\r\n                    hasIcon: true,\r\n                    hasArrow: false\r\n                },\r\n                checkbox: {\r\n                    role: \"menuitemcheckbox\",\r\n                    hasIcon: true,\r\n                    hasArrow: false\r\n                },\r\n                radio: {\r\n                    role: \"menuitemradio\",\r\n                    hasIcon: true,\r\n                    hasArrow: false\r\n                },\r\n                menu: {\r\n                    role: \"menuitem\",\r\n                    hasIcon: false,\r\n                    hasArrow: false\r\n                },\r\n                submenu: {\r\n                    role: \"menuitem\",\r\n                    hasIcon: true,\r\n                    hasArrow: true\r\n                }\r\n            }, \"f\");\r\n        }\r\n        create(init) {\r\n            const item = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            item.addEventListener(\"click\", __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_handleClickEvent).bind(this));\r\n            if (init !== undefined) {\r\n                const { id, classList, tabIndex, keyshortcut, checked, type, label, name, value, disabled } = init;\r\n                if (id !== undefined) {\r\n                    item.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    item.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    item.tabIndex = tabIndex;\r\n                }\r\n                if (keyshortcut !== undefined) {\r\n                    this.setKeyShortcut(item, keyshortcut);\r\n                }\r\n                if (checked !== undefined) {\r\n                    this.setChecked(item, checked);\r\n                }\r\n                if (type !== undefined) {\r\n                    if (type == \"menu\" || type == \"submenu\") {\r\n                        this.setExpanded(item, false);\r\n                    }\r\n                    this.setType(item, type);\r\n                }\r\n                if (label !== undefined) {\r\n                    this.setLabel(item, label);\r\n                }\r\n                if (name !== undefined) {\r\n                    this.setName(item, name);\r\n                }\r\n                if (value !== undefined) {\r\n                    this.setValue(item, value);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(item, disabled);\r\n                }\r\n            }\r\n            return item;\r\n        }\r\n        slot(item) {\r\n            return item;\r\n        }\r\n        slottedCallback(item, slot) {\r\n            const hasChildMenu = Array.from(slot.childNodes).some(childNode_i => childNode_i instanceof HTMLElement && childNode_i.classList.contains(\"menu\"));\r\n            item.setAttribute(\"aria-haspopup\", String(hasChildMenu));\r\n        }\r\n        getMenu(item) {\r\n            return item.querySelector(\":scope > .menu\");\r\n        }\r\n        getKeyShortcut(item) {\r\n            return item.getAttribute(\"aria-keyshortcuts\");\r\n        }\r\n        setKeyShortcut(item, value) {\r\n            let keyshortcutsPart = item.querySelector(\":scope > .keyshortcuts\");\r\n            if (value !== null) {\r\n                item.setAttribute(\"aria-keyshortcuts\", value);\r\n                if (!keyshortcutsPart) {\r\n                    const labelPart = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_label).call(this, item);\r\n                    const keyshortcutsPartTemplate = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_keyshortcutsPartTemplate, \"f\");\r\n                    keyshortcutsPart = keyshortcutsPartTemplate.cloneNode(true);\r\n                    labelPart.after(keyshortcutsPart);\r\n                }\r\n                keyshortcutsPart.textContent = value;\r\n            }\r\n            else {\r\n                item.removeAttribute(\"aria-keyshortcuts\");\r\n                if (keyshortcutsPart) {\r\n                    keyshortcutsPart.remove();\r\n                }\r\n            }\r\n        }\r\n        getLabel(item) {\r\n            return __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_label).call(this, item).textContent ?? \"\";\r\n        }\r\n        setLabel(item, value) {\r\n            __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_label).call(this, item).textContent = value;\r\n        }\r\n        getType(item) {\r\n            const types = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_types, \"f\");\r\n            const { classList } = item;\r\n            for (let type_i of types) {\r\n                if (classList.contains(`menuitem-${type_i}`)) {\r\n                    return type_i;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        setType(item, type) {\r\n            const typesFeatures = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_typesFeatures, \"f\");\r\n            const iconPartTemplate = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_iconPartTemplate, \"f\");\r\n            const arrowPartTemplate = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_arrowPartTemplate, \"f\");\r\n            const { role, hasIcon, hasArrow } = typesFeatures[type];\r\n            const oldType = this.getType(item);\r\n            const { classList } = item;\r\n            if (oldType) {\r\n                classList.remove(`menuitem-${oldType}`);\r\n            }\r\n            classList.add(`menuitem-${type}`);\r\n            item.setAttribute(\"role\", role);\r\n            const labelPart = __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_label).call(this, item);\r\n            const iconPart = item.querySelector(\":scope > .icon\");\r\n            const arrowPart = item.querySelector(\":scope > .arrow\");\r\n            if (hasIcon) {\r\n                if (!iconPart && labelPart) {\r\n                    labelPart.before(iconPartTemplate.cloneNode(true));\r\n                }\r\n            }\r\n            else {\r\n                if (iconPart) {\r\n                    iconPart.remove();\r\n                }\r\n            }\r\n            if (hasArrow) {\r\n                if (!arrowPart && labelPart) {\r\n                    labelPart.after(arrowPartTemplate.cloneNode(true));\r\n                }\r\n            }\r\n            else {\r\n                if (arrowPart) {\r\n                    arrowPart.remove();\r\n                }\r\n            }\r\n        }\r\n        getValue(item) {\r\n            return item.getAttribute(\"value\") ?? \"\";\r\n        }\r\n        setValue(item, value) {\r\n            item.setAttribute(\"value\", value);\r\n        }\r\n        getName(item) {\r\n            return item.getAttribute(\"name\") ?? \"\";\r\n        }\r\n        setName(item, value) {\r\n            item.setAttribute(\"name\", value);\r\n        }\r\n        getChecked(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-checked\") ?? String(false));\r\n        }\r\n        setChecked(item, value) {\r\n            item.setAttribute(\"aria-checked\", String(value));\r\n        }\r\n        getDisabled(item) {\r\n            return item.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setDisabled(item, value) {\r\n            item.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        setExpanded(item, value) {\r\n            item.setAttribute(\"aria-expanded\", String(value));\r\n        }\r\n        getExpanded(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-expanded\") ?? String(false));\r\n        }\r\n        toggle(item, force) {\r\n            const expand = force ?? !this.getExpanded(item);\r\n            this.setExpanded(item, expand);\r\n            if (expand) {\r\n                __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_positionMenu).call(this, item);\r\n            }\r\n        }\r\n        expand(item) {\r\n            const expanded = this.getExpanded(item);\r\n            if (!expanded) {\r\n                this.setExpanded(item, true);\r\n                __classPrivateFieldGet(this, _MenuItemWidgetFactoryBase_instances, \"m\", _MenuItemWidgetFactoryBase_positionMenu).call(this, item);\r\n            }\r\n        }\r\n        collapse(item) {\r\n            const expanded = this.getExpanded(item);\r\n            if (expanded) {\r\n                this.setExpanded(item, false);\r\n            }\r\n        }\r\n    },\r\n    _MenuItemWidgetFactoryBase_iconPartTemplate = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_arrowPartTemplate = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_keyshortcutsPartTemplate = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_template = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_types = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_typesFeatures = new WeakMap(),\r\n    _MenuItemWidgetFactoryBase_instances = new WeakSet(),\r\n    _MenuItemWidgetFactoryBase_label = function _MenuItemWidgetFactoryBase_label(item) {\r\n        return item.querySelector(\":scope > .label\");\r\n    },\r\n    _MenuItemWidgetFactoryBase_handleClickEvent = function _MenuItemWidgetFactoryBase_handleClickEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const targetItem = target.closest(\".menuitem\");\r\n        if (targetItem == currentTarget) {\r\n            const type = this.getType(targetItem);\r\n            switch (type) {\r\n                case \"checkbox\": {\r\n                    this.setChecked(targetItem, !this.getChecked(targetItem));\r\n                    break;\r\n                }\r\n                case \"radio\": {\r\n                    this.setChecked(targetItem, true);\r\n                    break;\r\n                }\r\n                case \"menu\":\r\n                case \"submenu\": {\r\n                    this.toggle(targetItem);\r\n                    if (this.getExpanded(targetItem)) {\r\n                        this.getMenu(targetItem)?.focus({ preventScroll: true });\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _MenuItemWidgetFactoryBase_positionMenu = function _MenuItemWidgetFactoryBase_positionMenu(item) {\r\n        const menu = this.getMenu(item);\r\n        if (menu !== null) {\r\n            const { style: menuStyle } = menu;\r\n            const { top: itemTop, bottom: itemBottom, left: itemLeft, right: itemRight } = item.getBoundingClientRect();\r\n            const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n            const { scrollY, scrollX } = window;\r\n            const { clientWidth, clientHeight } = document.body;\r\n            const type = this.getType(item);\r\n            if (type == \"menu\") {\r\n                const overflowX = itemRight + menuWidth - clientWidth;\r\n                const overflowY = itemTop + menuHeight - clientHeight;\r\n                menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                    scrollX + itemLeft - menuWidth :\r\n                    scrollX + itemLeft}px`);\r\n                menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                    scrollY + itemTop - menuHeight :\r\n                    scrollY + itemBottom}px`);\r\n            }\r\n            else {\r\n                const closestMenu = item.closest(\".menu\");\r\n                if (closestMenu !== null) {\r\n                    const { top: closestMenuTop, left: closestMenuLeft } = closestMenu.getBoundingClientRect();\r\n                    const overflowX = itemRight + menuWidth - clientWidth;\r\n                    const overflowY = itemTop + menuHeight - clientHeight;\r\n                    menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                        itemLeft - menuWidth - closestMenuLeft :\r\n                        itemRight - closestMenuLeft}px`);\r\n                    const menuComputedStyle = window.getComputedStyle(menu);\r\n                    const { paddingTop, paddingBottom } = menuComputedStyle;\r\n                    const menuPaddingTop = parseFloat(paddingTop);\r\n                    const menuPaddingBottom = parseFloat(paddingBottom);\r\n                    menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                        itemBottom - menuHeight - closestMenuTop + menuPaddingBottom :\r\n                        itemTop - closestMenuTop - menuPaddingTop}px`);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=MenuItemWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _MenubarWidgetFactoryBase_instances, _MenubarWidgetFactoryBase_template, _MenubarWidgetFactoryBase_walker, _MenubarWidgetFactoryBase_walkerNodeFilter, _MenubarWidgetFactoryBase_getActiveItem, _MenubarWidgetFactoryBase_firstItem, _MenubarWidgetFactoryBase_lastItem, _MenubarWidgetFactoryBase_previousItem, _MenubarWidgetFactoryBase_nextItem, _MenubarWidgetFactoryBase_firstChildItem, _MenubarWidgetFactoryBase_isClosestMenu, _MenubarWidgetFactoryBase_nearestItem, _MenubarWidgetFactoryBase_handleClickEvent, _MenubarWidgetFactoryBase_handleFocusInEvent, _MenubarWidgetFactoryBase_handleFocusOutEvent, _MenubarWidgetFactoryBase_handleMouseOverEvent, _MenubarWidgetFactoryBase_handleKeyDownEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { menuItemWidget } from \"./MenuItemWidget\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { menuBarWidget };\r\nvar menuBarWidget = new (Widget({\r\n    name: \"menubar\"\r\n})((_a = class MenubarWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _MenubarWidgetFactoryBase_instances.add(this);\r\n            _MenubarWidgetFactoryBase_template.set(this, void 0);\r\n            _MenubarWidgetFactoryBase_walker.set(this, void 0);\r\n            __classPrivateFieldSet(this, _MenubarWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"menubar\",\r\n                    role: \"menubar\",\r\n                    tabindex: 0\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenubarWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_walkerNodeFilter).bind(this)), \"f\");\r\n        }\r\n        create() {\r\n            const menubar = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            menubar.addEventListener(\"click\", __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_handleClickEvent).bind(this));\r\n            menubar.addEventListener(\"focusin\", __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_handleFocusInEvent).bind(this));\r\n            menubar.addEventListener(\"focusout\", __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            menubar.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_handleMouseOverEvent).bind(this));\r\n            menubar.addEventListener(\"keydown\", __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            return menubar;\r\n        }\r\n        slot(menubar) {\r\n            return menubar;\r\n        }\r\n        setExpanded(menubar, value) {\r\n            menubar.toggleAttribute(\"aria-expanded\", value);\r\n        }\r\n        getExpanded(menubar) {\r\n            return menubar.hasAttribute(\"aria-expanded\");\r\n        }\r\n    },\r\n    _MenubarWidgetFactoryBase_template = new WeakMap(),\r\n    _MenubarWidgetFactoryBase_walker = new WeakMap(),\r\n    _MenubarWidgetFactoryBase_instances = new WeakSet(),\r\n    _MenubarWidgetFactoryBase_walkerNodeFilter = function _MenubarWidgetFactoryBase_walkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"menuitem\") && !menuItemWidget.getDisabled(node)) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"menuitemgroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _MenubarWidgetFactoryBase_getActiveItem = function _MenubarWidgetFactoryBase_getActiveItem(menubar) {\r\n        return menubar.querySelector(\":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within\");\r\n    },\r\n    _MenubarWidgetFactoryBase_firstItem = function _MenubarWidgetFactoryBase_firstItem(menubar) {\r\n        const walker = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = menubar;\r\n        return walker.firstChild();\r\n    },\r\n    _MenubarWidgetFactoryBase_lastItem = function _MenubarWidgetFactoryBase_lastItem(menubar) {\r\n        const walker = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = menubar;\r\n        return walker.lastChild();\r\n    },\r\n    _MenubarWidgetFactoryBase_previousItem = function _MenubarWidgetFactoryBase_previousItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        return walker.previousSibling();\r\n    },\r\n    _MenubarWidgetFactoryBase_nextItem = function _MenubarWidgetFactoryBase_nextItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    },\r\n    _MenubarWidgetFactoryBase_firstChildItem = function _MenubarWidgetFactoryBase_firstChildItem(item) {\r\n        const menu = menuItemWidget.getMenu(item);\r\n        if (menu) {\r\n            const walker = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_walker, \"f\");\r\n            walker.currentNode = menu;\r\n            return walker.firstChild();\r\n        }\r\n        return null;\r\n    },\r\n    _MenubarWidgetFactoryBase_isClosestMenu = function _MenubarWidgetFactoryBase_isClosestMenu(menubar, target) {\r\n        return target.closest(\":is(.menubar, .menu)\") == menubar;\r\n    },\r\n    _MenubarWidgetFactoryBase_nearestItem = function _MenubarWidgetFactoryBase_nearestItem(menubar, target) {\r\n        return Array.from(menubar.querySelectorAll(\":is(:scope, :scope > .menuitemgroup) > .menuitem\")).find(item_i => item_i.contains(target)) ?? null;\r\n    },\r\n    _MenubarWidgetFactoryBase_handleClickEvent = function _MenubarWidgetFactoryBase_handleClickEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const menubar = currentTarget;\r\n        const targetItem = target.closest(\".menuitem\");\r\n        if (targetItem) {\r\n            const expanded = this.getExpanded(menubar);\r\n            const isClosestMenu = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_isClosestMenu).call(this, menubar, targetItem);\r\n            if (isClosestMenu) {\r\n                const isExpanded = !expanded;\r\n                this.setExpanded(menubar, isExpanded);\r\n                if (isExpanded) {\r\n                    if (targetItem !== null && !menuItemWidget.getExpanded(targetItem)) {\r\n                        menuItemWidget.expand(targetItem);\r\n                    }\r\n                    const menu = menuItemWidget.getMenu(targetItem);\r\n                    menu?.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    menubar.focus({ preventScroll: true });\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _MenubarWidgetFactoryBase_handleFocusInEvent = function _MenubarWidgetFactoryBase_handleFocusInEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const menubar = currentTarget;\r\n        if (target instanceof HTMLElement && this.getExpanded(menubar)) {\r\n            const nearestItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_nearestItem).call(this, menubar, target);\r\n            if (nearestItem) {\r\n                menuItemWidget.expand(nearestItem);\r\n            }\r\n        }\r\n    },\r\n    _MenubarWidgetFactoryBase_handleFocusOutEvent = function _MenubarWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { target, currentTarget, relatedTarget } = event;\r\n        const menubar = currentTarget;\r\n        if (target instanceof HTMLElement && !target.contains(relatedTarget)) {\r\n            const nearestItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_nearestItem).call(this, menubar, target);\r\n            if (nearestItem) {\r\n                menuItemWidget.collapse(nearestItem);\r\n            }\r\n        }\r\n        const lostFocusWithin = !menubar.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.setExpanded(menubar, false);\r\n        }\r\n    },\r\n    _MenubarWidgetFactoryBase_handleMouseOverEvent = function _MenubarWidgetFactoryBase_handleMouseOverEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const menubar = currentTarget;\r\n        if (target instanceof HTMLElement && target.classList.contains(\"menuitem\")) {\r\n            const activeItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_getActiveItem).call(this, menubar);\r\n            const expanded = this.getExpanded(menubar);\r\n            const isClosestMenu = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_isClosestMenu).call(this, menubar, target);\r\n            if (isClosestMenu && target !== activeItem && expanded) {\r\n                const menu = menuItemWidget.getMenu(target);\r\n                if (menu) {\r\n                    menu.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    target.focus({ preventScroll: true });\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _MenubarWidgetFactoryBase_handleKeyDownEvent = function _MenubarWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { key, currentTarget } = event;\r\n        const menubar = currentTarget;\r\n        let activeItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_getActiveItem).call(this, menubar);\r\n        const expanded = this.getExpanded(menubar);\r\n        switch (key) {\r\n            case \"ArrowLeft\": {\r\n                const previousItem = activeItem ?\r\n                    __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_previousItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_lastItem).call(this, menubar) :\r\n                    __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_firstItem).call(this, menubar);\r\n                previousItem?.focus({ preventScroll: true });\r\n                activeItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_getActiveItem).call(this, menubar);\r\n                if (expanded && activeItem) {\r\n                    const firstChildItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                const nextItem = activeItem ?\r\n                    __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_nextItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_firstItem).call(this, menubar) :\r\n                    __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_lastItem).call(this, menubar);\r\n                nextItem?.focus({ preventScroll: true });\r\n                activeItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_getActiveItem).call(this, menubar);\r\n                if (expanded && activeItem) {\r\n                    const firstChildItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                }\r\n                break;\r\n            }\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    this.setExpanded(menubar, !expanded);\r\n                    const firstChildItem = __classPrivateFieldGet(this, _MenubarWidgetFactoryBase_instances, \"m\", _MenubarWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                    firstChildItem?.focus({ preventScroll: true });\r\n                    event.preventDefault();\r\n                }\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (expanded) {\r\n                    this.setExpanded(menubar, false);\r\n                    if (activeItem) {\r\n                        menuItemWidget.collapse(activeItem);\r\n                        activeItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    menubar.focus({ preventScroll: true });\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=MenuBarWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _MenuWidgetFactoryBase_instances, _MenuWidgetFactoryBase_template, _MenuWidgetFactoryBase_walker, _MenuWidgetFactoryBase_toggleTimeouts, _MenuWidgetFactoryBase_walkerNodeFilter, _MenuWidgetFactoryBase_collapseSubmenus, _MenuWidgetFactoryBase_isClosestMenu, _MenuWidgetFactoryBase_nearestItem, _MenuWidgetFactoryBase_firstItem, _MenuWidgetFactoryBase_lastItem, _MenuWidgetFactoryBase_previousItem, _MenuWidgetFactoryBase_nextItem, _MenuWidgetFactoryBase_firstChildItem, _MenuWidgetFactoryBase_getActiveItem, _MenuWidgetFactoryBase_setItemTimeout, _MenuWidgetFactoryBase_clearItemTimeout, _MenuWidgetFactoryBase_handleClickEvent, _MenuWidgetFactoryBase_handleFocusOutEvent, _MenuWidgetFactoryBase_handleKeyDownEvent, _MenuWidgetFactoryBase_handleMouseOutEvent, _MenuWidgetFactoryBase_handleMouseOverEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { menuItemWidget } from \"./MenuItemWidget\";\r\nexport { menuWidget };\r\nvar mouseOverExpandDelay = 200;\r\nvar mouseOutCollapseDelay = 400;\r\nvar menuWidget = new (Widget({\r\n    name: \"menu\"\r\n})((_a = class MenuWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _MenuWidgetFactoryBase_instances.add(this);\r\n            _MenuWidgetFactoryBase_template.set(this, void 0);\r\n            _MenuWidgetFactoryBase_walker.set(this, void 0);\r\n            _MenuWidgetFactoryBase_toggleTimeouts.set(this, void 0);\r\n            __classPrivateFieldSet(this, _MenuWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"menu\",\r\n                    role: \"menu\",\r\n                    tabindex: -1\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _MenuWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_walkerNodeFilter).bind(this)), \"f\");\r\n            __classPrivateFieldSet(this, _MenuWidgetFactoryBase_toggleTimeouts, new WeakMap(), \"f\");\r\n        }\r\n        create(properties) {\r\n            const menu = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            menu.addEventListener(\"click\", __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_handleClickEvent).bind(this));\r\n            menu.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_handleMouseOverEvent).bind(this));\r\n            menu.addEventListener(\"mouseout\", __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_handleMouseOutEvent).bind(this));\r\n            menu.addEventListener(\"focusout\", __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            menu.addEventListener(\"keydown\", __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, contextual, position } = properties;\r\n                if (id !== undefined) {\r\n                    menu.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    menu.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    menu.tabIndex = tabIndex;\r\n                }\r\n                if (contextual !== undefined) {\r\n                    this.setContextual(menu, contextual);\r\n                }\r\n                if (position !== undefined) {\r\n                    const { x, y } = position;\r\n                    this.setPosition(menu, x, y);\r\n                }\r\n            }\r\n            return menu;\r\n        }\r\n        slot(menu) {\r\n            return menu;\r\n        }\r\n        setPosition(menu, x, y) {\r\n            const { style } = menu;\r\n            const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n            const { scrollX, scrollY } = window;\r\n            const left = x + scrollX;\r\n            const top = y + scrollY;\r\n            const { clientWidth, clientHeight } = document.body;\r\n            const overflowX = left + menuWidth - clientWidth;\r\n            const overflowY = top + menuHeight - clientHeight;\r\n            style.setProperty(\"left\", `${overflowX > 0 ? left - menuWidth : left}px`);\r\n            style.setProperty(\"top\", `${overflowY > 0 ? top - menuHeight : top}px`);\r\n        }\r\n        getContextual(menu) {\r\n            const { classList } = menu;\r\n            return classList.contains(\"menu-contextual\");\r\n        }\r\n        setContextual(menu, value) {\r\n            const { classList } = menu;\r\n            if (value) {\r\n                classList.add(\"menu-contextual\");\r\n            }\r\n            else {\r\n                classList.remove(\"menu-contextual\");\r\n            }\r\n        }\r\n        items(menu) {\r\n            return Array.from(menu.querySelectorAll(\":is(:scope, :scope > .menuitemgroup) > .menuitem\"));\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_template = new WeakMap(),\r\n    _MenuWidgetFactoryBase_walker = new WeakMap(),\r\n    _MenuWidgetFactoryBase_toggleTimeouts = new WeakMap(),\r\n    _MenuWidgetFactoryBase_instances = new WeakSet(),\r\n    _MenuWidgetFactoryBase_walkerNodeFilter = function _MenuWidgetFactoryBase_walkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"menuitem\") && !menuItemWidget.getDisabled(node)) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"menuitemgroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _MenuWidgetFactoryBase_collapseSubmenus = function _MenuWidgetFactoryBase_collapseSubmenus(menu) {\r\n        menu.querySelectorAll(\":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]\")\r\n            .forEach(menuitem_i => menuItemWidget.collapse(menuitem_i));\r\n    },\r\n    _MenuWidgetFactoryBase_isClosestMenu = function _MenuWidgetFactoryBase_isClosestMenu(menu, target) {\r\n        return target.closest(\".menu\") == menu;\r\n    },\r\n    _MenuWidgetFactoryBase_nearestItem = function _MenuWidgetFactoryBase_nearestItem(menu, target) {\r\n        return Array.from(menu.querySelectorAll(\":is(:scope, :scope > .menuitemgroup) > .menuitem\")).find(item_i => item_i.contains(target)) ?? null;\r\n    },\r\n    _MenuWidgetFactoryBase_firstItem = function _MenuWidgetFactoryBase_firstItem(menu) {\r\n        const walker = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = menu;\r\n        return walker.firstChild();\r\n    },\r\n    _MenuWidgetFactoryBase_lastItem = function _MenuWidgetFactoryBase_lastItem(menu) {\r\n        const walker = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = menu;\r\n        return walker.lastChild();\r\n    },\r\n    _MenuWidgetFactoryBase_previousItem = function _MenuWidgetFactoryBase_previousItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        return walker.previousSibling();\r\n    },\r\n    _MenuWidgetFactoryBase_nextItem = function _MenuWidgetFactoryBase_nextItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    },\r\n    _MenuWidgetFactoryBase_firstChildItem = function _MenuWidgetFactoryBase_firstChildItem(item) {\r\n        const menu = menuItemWidget.getMenu(item);\r\n        if (menu) {\r\n            const walker = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_walker, \"f\");\r\n            walker.currentNode = menu;\r\n            return walker.firstChild();\r\n        }\r\n        return null;\r\n    },\r\n    _MenuWidgetFactoryBase_getActiveItem = function _MenuWidgetFactoryBase_getActiveItem(menu) {\r\n        return menu.querySelector(\":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within\");\r\n    },\r\n    _MenuWidgetFactoryBase_setItemTimeout = async function _MenuWidgetFactoryBase_setItemTimeout(item, delay) {\r\n        return new Promise((resolve, reject) => {\r\n            const timeout = setTimeout(() => {\r\n                resolve(undefined);\r\n            }, delay ?? 0);\r\n            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_toggleTimeouts, \"f\").set(item, {\r\n                clear: () => {\r\n                    clearTimeout(timeout);\r\n                    reject();\r\n                }\r\n            });\r\n        }).then(() => {\r\n            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_toggleTimeouts, \"f\").delete(item);\r\n        });\r\n    },\r\n    _MenuWidgetFactoryBase_clearItemTimeout = function _MenuWidgetFactoryBase_clearItemTimeout(item) {\r\n        const timeout = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_toggleTimeouts, \"f\").get(item);\r\n        if (typeof timeout !== \"undefined\") {\r\n            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_toggleTimeouts, \"f\").delete(item);\r\n            timeout.clear();\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_handleClickEvent = function _MenuWidgetFactoryBase_handleClickEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const targetMenu = currentTarget;\r\n        const targetItem = target.closest(\".menuitem\");\r\n        if (targetItem) {\r\n            const contextual = this.getContextual(targetMenu);\r\n            if (contextual) {\r\n                try {\r\n                    targetMenu.remove();\r\n                }\r\n                catch (error) { }\r\n                ;\r\n            }\r\n            else {\r\n                const isClosestMenu = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_isClosestMenu).call(this, targetMenu, targetItem);\r\n                if (isClosestMenu) {\r\n                    const type = menuItemWidget.getType(targetItem);\r\n                    const name = menuItemWidget.getName(targetItem);\r\n                    const value = menuItemWidget.getValue(targetItem);\r\n                    if (type == \"radio\") {\r\n                        targetMenu.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${name}]`)\r\n                            .forEach((radio_i) => {\r\n                            menuItemWidget.setChecked(radio_i, menuItemWidget.getValue(radio_i) == value);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            event.stopPropagation();\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_handleFocusOutEvent = function _MenuWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { target, currentTarget, relatedTarget } = event;\r\n        const targetMenu = currentTarget;\r\n        const lostFocusWithin = !targetMenu.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            const contextual = this.getContextual(targetMenu);\r\n            if (contextual) {\r\n                try {\r\n                    targetMenu.remove();\r\n                }\r\n                catch (error) {\r\n                    undefined;\r\n                }\r\n            }\r\n            else {\r\n                const nearestItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_nearestItem).call(this, targetMenu, target);\r\n                if (nearestItem) {\r\n                    menuItemWidget.collapse(nearestItem);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_handleKeyDownEvent = function _MenuWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetMenu = currentTarget;\r\n        const activeItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_getActiveItem).call(this, targetMenu);\r\n        switch (key) {\r\n            case \"ArrowUp\": {\r\n                const previousItem = activeItem ?\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_previousItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_lastItem).call(this, targetMenu) :\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstItem).call(this, targetMenu);\r\n                previousItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                const nextItem = activeItem ?\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_nextItem).call(this, activeItem) ?? __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstItem).call(this, targetMenu) :\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstItem).call(this, targetMenu);\r\n                nextItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstItem).call(this, targetMenu);\r\n                firstItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_lastItem).call(this, targetMenu);\r\n                lastItem?.focus({ preventScroll: true });\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    const type = menuItemWidget.getType(activeItem);\r\n                    switch (type) {\r\n                        case \"submenu\": {\r\n                            menuItemWidget.expand(activeItem);\r\n                            const firstChildItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                            firstChildItem?.focus({ preventScroll: true });\r\n                            event.preventDefault();\r\n                            break;\r\n                        }\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (activeItem) {\r\n                    const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLElement && target_i.classList.contains(\"menu\")) == targetMenu;\r\n                    if (!isTargetClosestMenu) {\r\n                        menuItemWidget.collapse(activeItem);\r\n                        activeItem.focus({ preventScroll: true });\r\n                        event.stopPropagation();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLElement && target_i.classList.contains(\"menu\")) == targetMenu;\r\n                    if (!isTargetClosestMenu) {\r\n                        menuItemWidget.collapse(activeItem);\r\n                        activeItem.focus({ preventScroll: true });\r\n                        event.stopPropagation();\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const type = menuItemWidget.getType(activeItem);\r\n                    switch (type) {\r\n                        case \"submenu\": {\r\n                            const expanded = menuItemWidget.getExpanded(activeItem);\r\n                            if (!expanded) {\r\n                                menuItemWidget.expand(activeItem);\r\n                                const firstChildItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                                firstChildItem?.focus({ preventScroll: true });\r\n                                event.stopPropagation();\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_handleMouseOutEvent = function _MenuWidgetFactoryBase_handleMouseOutEvent(event) {\r\n        const { target, currentTarget, relatedTarget } = event;\r\n        const targetMenu = currentTarget;\r\n        if (target instanceof HTMLElement && target.classList.contains(\"menuitem\")) {\r\n            const nearestItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_nearestItem).call(this, targetMenu, target);\r\n            if (nearestItem !== null) {\r\n                if (menuItemWidget.getType(nearestItem) == \"submenu\" &&\r\n                    !menuItemWidget.getExpanded(nearestItem)) {\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, nearestItem);\r\n                }\r\n                const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLElement && target_i.classList.contains(\"menu\")) == targetMenu;\r\n                if (isTargetClosestMenu) {\r\n                    const activeItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_getActiveItem).call(this, targetMenu);\r\n                    if (activeItem !== null &&\r\n                        menuItemWidget.getType(activeItem) == \"submenu\" &&\r\n                        menuItemWidget.getExpanded(activeItem)) {\r\n                        __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, activeItem);\r\n                        __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_setItemTimeout).call(this, activeItem, mouseOutCollapseDelay)\r\n                            .then(() => {\r\n                            menuItemWidget.collapse(activeItem);\r\n                        })\r\n                            .catch(() => undefined);\r\n                    }\r\n                    const { clientX, clientY } = event;\r\n                    const { left, right, top, bottom } = targetMenu.getBoundingClientRect();\r\n                    const intersectsWithMouse = !(left > clientX || right < clientX || top > clientY || bottom < clientY);\r\n                    const containsRelatedTarget = targetMenu.contains(relatedTarget);\r\n                    if (intersectsWithMouse && containsRelatedTarget) {\r\n                        if (relatedTarget instanceof HTMLElement && relatedTarget.classList.contains(\"menu\") && relatedTarget !== targetMenu) {\r\n                            relatedTarget.focus({ preventScroll: true });\r\n                        }\r\n                        else {\r\n                            targetMenu.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                    if (!intersectsWithMouse) {\r\n                        targetMenu.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _MenuWidgetFactoryBase_handleMouseOverEvent = function _MenuWidgetFactoryBase_handleMouseOverEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const targetMenu = currentTarget;\r\n        if (target instanceof HTMLElement && target.classList.contains(\"menuitem\")) {\r\n            const nearestItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_nearestItem).call(this, targetMenu, target);\r\n            if (nearestItem !== null) {\r\n                if (menuItemWidget.getType(nearestItem) == \"submenu\" &&\r\n                    menuItemWidget.getExpanded(nearestItem)) {\r\n                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, nearestItem);\r\n                }\r\n                const isTargetClosestMenu = event.composedPath().find(target_i => target_i instanceof HTMLElement && target_i.classList.contains(\"menu\")) == targetMenu;\r\n                if (isTargetClosestMenu) {\r\n                    const activeItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_getActiveItem).call(this, targetMenu);\r\n                    if (activeItem !== null) {\r\n                        if (menuItemWidget.getType(activeItem) == \"submenu\" &&\r\n                            menuItemWidget.getExpanded(activeItem) &&\r\n                            !activeItem.contains(target)) {\r\n                            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, activeItem);\r\n                            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_setItemTimeout).call(this, activeItem, mouseOutCollapseDelay)\r\n                                .then(() => {\r\n                                menuItemWidget.collapse(activeItem);\r\n                            })\r\n                                .catch(() => undefined);\r\n                        }\r\n                    }\r\n                    nearestItem.focus({ preventScroll: true });\r\n                    if (menuItemWidget.getType(nearestItem) == \"submenu\") {\r\n                        if (!menuItemWidget.getExpanded(nearestItem)) {\r\n                            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, nearestItem);\r\n                            __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_setItemTimeout).call(this, nearestItem, mouseOverExpandDelay)\r\n                                .then(() => {\r\n                                const activeItem = __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_getActiveItem).call(this, targetMenu);\r\n                                __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_collapseSubmenus).call(this, targetMenu);\r\n                                if (activeItem) {\r\n                                    __classPrivateFieldGet(this, _MenuWidgetFactoryBase_instances, \"m\", _MenuWidgetFactoryBase_clearItemTimeout).call(this, activeItem);\r\n                                    menuItemWidget.expand(activeItem);\r\n                                    menuItemWidget.getMenu(activeItem)?.focus({ preventScroll: true });\r\n                                }\r\n                            })\r\n                                .catch(() => undefined);\r\n                        }\r\n                        else {\r\n                            menuItemWidget.getMenu(nearestItem)?.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=MenuWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _MenuItemGroupWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { menuItemGroupWidget };\r\nvar menuItemGroupWidget = new (Widget({\r\n    name: \"menuitemgroup\"\r\n})((_a = class MenuItemGroupWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _MenuItemGroupWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _MenuItemGroupWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"menuitemgroup\",\r\n                    role: \"group\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _MenuItemGroupWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(group) {\r\n            return group;\r\n        }\r\n    },\r\n    _MenuItemGroupWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=MenuItemGroupWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _TreeItemWidgetFactoryBase_instances, _TreeItemWidgetFactoryBase_template, _TreeItemWidgetFactoryBase_types, _TreeItemWidgetFactoryBase_content, _TreeItemWidgetFactoryBase_handleClickEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { treeItemWidget };\r\nvar treeItemWidget = new (Widget({\r\n    name: \"treeitem\"\r\n})((_a = class TreeItemWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _TreeItemWidgetFactoryBase_instances.add(this);\r\n            _TreeItemWidgetFactoryBase_template.set(this, void 0);\r\n            _TreeItemWidgetFactoryBase_types.set(this, void 0);\r\n            __classPrivateFieldSet(this, _TreeItemWidgetFactoryBase_types, [\"parent\", \"leaf\"], \"f\");\r\n            __classPrivateFieldSet(this, _TreeItemWidgetFactoryBase_template, element(\"li\", {\r\n                attributes: {\r\n                    class: \"treeitem\",\r\n                    role: \"treeitem\",\r\n                    tabindex: -1\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"content\"\r\n                        },\r\n                        children: [\r\n                            element(\"span\", {\r\n                                attributes: {\r\n                                    class: \"arrow\"\r\n                                }\r\n                            })\r\n                        ]\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n        }\r\n        group(item) {\r\n            return item.querySelector(\":scope > .treeitemgroup\");\r\n        }\r\n        create(properties) {\r\n            const item = __classPrivateFieldGet(this, _TreeItemWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            item.addEventListener(\"click\", __classPrivateFieldGet(this, _TreeItemWidgetFactoryBase_instances, \"m\", _TreeItemWidgetFactoryBase_handleClickEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, label, title, type = \"leaf\", disabled, draggable } = properties;\r\n                if (id !== undefined) {\r\n                    item.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    item.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    item.tabIndex = tabIndex;\r\n                }\r\n                if (label !== undefined) {\r\n                    this.setLabel(item, label);\r\n                }\r\n                if (title !== undefined) {\r\n                    this.setTitle(item, title);\r\n                }\r\n                this.setType(item, type);\r\n                if (type === \"parent\") {\r\n                    this.setExpanded(item, false);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(item, disabled);\r\n                }\r\n                if (draggable !== undefined) {\r\n                    this.setDraggable(item, draggable);\r\n                }\r\n                this.setSelected(item, false);\r\n            }\r\n            return item;\r\n        }\r\n        get observedSlots() {\r\n            return [\"content\", \"group\"];\r\n        }\r\n        slot(item, name) {\r\n            switch (name) {\r\n                case \"content\":\r\n                    return __classPrivateFieldGet(this, _TreeItemWidgetFactoryBase_instances, \"m\", _TreeItemWidgetFactoryBase_content).call(this, item);\r\n                case \"group\":\r\n                    return item;\r\n            }\r\n            return null;\r\n        }\r\n        getLabel(item) {\r\n            return item.getAttribute(\"aria-label\") ?? \"\";\r\n        }\r\n        setLabel(item, value) {\r\n            item.setAttribute(\"aria-label\", value);\r\n        }\r\n        getTitle(item) {\r\n            return item.title;\r\n        }\r\n        setTitle(item, value) {\r\n            item.title = value;\r\n        }\r\n        setPosInSet(item, value) {\r\n            item.setAttribute(\"aria-posinset\", String(value));\r\n        }\r\n        getPosInSet(item) {\r\n            const posInSet = item.getAttribute(\"aria-posinset\");\r\n            return posInSet ? Number(posInSet) : -1;\r\n        }\r\n        getType(item) {\r\n            const types = __classPrivateFieldGet(this, _TreeItemWidgetFactoryBase_types, \"f\");\r\n            const { classList } = item;\r\n            for (let type_i of types) {\r\n                if (classList.contains(`treeitem-${type_i}`)) {\r\n                    return type_i;\r\n                }\r\n            }\r\n            throw new Error(\"Missing type.\");\r\n        }\r\n        setType(item, type) {\r\n            const { classList } = item;\r\n            try {\r\n                const oldType = this.getType(item);\r\n                classList.remove(`treeitem-${oldType}`);\r\n            }\r\n            catch (e) { }\r\n            ;\r\n            classList.add(`treeitem-${type}`);\r\n        }\r\n        setExpanded(item, value) {\r\n            item.setAttribute(\"aria-expanded\", String(value));\r\n        }\r\n        getExpanded(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-expanded\") ?? String(false));\r\n        }\r\n        setActive(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                if (!classList.contains(\"active\")) {\r\n                    classList.add(\"active\");\r\n                }\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"active\");\r\n        }\r\n        setDropTarget(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"droptarget\");\r\n            }\r\n            else {\r\n                classList.remove(\"droptarget\");\r\n            }\r\n        }\r\n        getDropTarget(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"droptarget\");\r\n        }\r\n        setDisabled(item, value) {\r\n            item.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        getDisabled(item) {\r\n            return item.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setDraggable(item, value) {\r\n            item.setAttribute(\"draggable\", String(value));\r\n        }\r\n        getDraggable(item) {\r\n            return JSON.parse(item.getAttribute(\"draggable\") ?? String(false));\r\n        }\r\n        setSelected(item, value) {\r\n            item.setAttribute(\"aria-selected\", String(value));\r\n            item.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n        }\r\n        getSelected(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-selected\") ?? String(false));\r\n        }\r\n        setLevel(item, value) {\r\n            item.style.setProperty(\"--level\", String(value));\r\n        }\r\n        getLevel(item) {\r\n            return parseInt(item.style.getPropertyValue(\"--level\"));\r\n        }\r\n        toggle(item, force) {\r\n            this.setExpanded(item, force ?? !this.getExpanded(item));\r\n        }\r\n    },\r\n    _TreeItemWidgetFactoryBase_template = new WeakMap(),\r\n    _TreeItemWidgetFactoryBase_types = new WeakMap(),\r\n    _TreeItemWidgetFactoryBase_instances = new WeakSet(),\r\n    _TreeItemWidgetFactoryBase_content = function _TreeItemWidgetFactoryBase_content(item) {\r\n        const content = item.querySelector(\":scope > .content\");\r\n        if (!content)\r\n            throw new Error(\"Missing .content slot.\");\r\n        return content;\r\n    },\r\n    _TreeItemWidgetFactoryBase_handleClickEvent = function _TreeItemWidgetFactoryBase_handleClickEvent(event) {\r\n        const { target, currentTarget, shiftKey, ctrlKey } = event;\r\n        const targetItem = target.closest(\".treeitem\");\r\n        if (targetItem == currentTarget) {\r\n            const type = this.getType(targetItem);\r\n            if (type == \"parent\" && !(shiftKey || ctrlKey)) {\r\n                this.toggle(targetItem);\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=TreeItemWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _TreeWidgetFactoryBase_instances, _TreeWidgetFactoryBase_template, _TreeWidgetFactoryBase_walker, _TreeWidgetFactoryBase_onSelection, _TreeWidgetFactoryBase_hasSelectionChanged, _TreeWidgetFactoryBase_getActiveItem, _TreeWidgetFactoryBase_getDropTargetItem, _TreeWidgetFactoryBase_setDropTargetItem, _TreeWidgetFactoryBase_nodeFilter, _TreeWidgetFactoryBase_getItemsRange, _TreeWidgetFactoryBase_setSelection, _TreeWidgetFactoryBase_addToSelection, _TreeWidgetFactoryBase_removeFromSelection, _TreeWidgetFactoryBase_clearSelection, _TreeWidgetFactoryBase_setActiveItem, _TreeWidgetFactoryBase_firstItem, _TreeWidgetFactoryBase_lastItem, _TreeWidgetFactoryBase_previousItem, _TreeWidgetFactoryBase_nextItem, _TreeWidgetFactoryBase_deepestItem, _TreeWidgetFactoryBase_handleMouseDownEvent, _TreeWidgetFactoryBase_handleDragEndEvent, _TreeWidgetFactoryBase_handleDragEnterEvent, _TreeWidgetFactoryBase_handleDragOverEvent, _TreeWidgetFactoryBase_handleDragLeaveEvent, _TreeWidgetFactoryBase_handleDropEvent, _TreeWidgetFactoryBase_handleFocusEvent, _TreeWidgetFactoryBase_handleFocusInEvent, _TreeWidgetFactoryBase_handleFocusOutEvent, _TreeWidgetFactoryBase_handleKeyDownEvent, _TreeWidgetFactoryBase_handleSelectEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { treeItemWidget } from \"./TreeItemWidget\";\r\nexport { treeWidget };\r\nvar treeWidget = new (Widget({\r\n    name: \"tree\"\r\n})((_a = class TreeWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _TreeWidgetFactoryBase_instances.add(this);\r\n            _TreeWidgetFactoryBase_template.set(this, void 0);\r\n            _TreeWidgetFactoryBase_walker.set(this, void 0);\r\n            _TreeWidgetFactoryBase_onSelection.set(this, void 0);\r\n            _TreeWidgetFactoryBase_hasSelectionChanged.set(this, void 0);\r\n            __classPrivateFieldSet(this, _TreeWidgetFactoryBase_template, element(\"ul\", {\r\n                attributes: {\r\n                    class: \"tree\",\r\n                    role: \"tree\",\r\n                    tabindex: 0\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _TreeWidgetFactoryBase_onSelection, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _TreeWidgetFactoryBase_hasSelectionChanged, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _TreeWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_nodeFilter).bind(this)), \"f\");\r\n        }\r\n        create(properties) {\r\n            const tree = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            tree.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleMouseDownEvent).bind(this));\r\n            tree.addEventListener(\"dragend\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleDragEndEvent).bind(this));\r\n            tree.addEventListener(\"dragenter\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleDragEnterEvent).bind(this));\r\n            tree.addEventListener(\"dragleave\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleDragLeaveEvent).bind(this));\r\n            tree.addEventListener(\"dragover\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleDragOverEvent).bind(this));\r\n            tree.addEventListener(\"drop\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleDropEvent).bind(this));\r\n            tree.addEventListener(\"focus\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleFocusEvent).bind(this));\r\n            tree.addEventListener(\"focusin\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleFocusInEvent).bind(this));\r\n            tree.addEventListener(\"focusout\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            tree.addEventListener(\"keydown\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            tree.addEventListener(\"select\", __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_handleSelectEvent).bind(this));\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_onSelection, \"f\").set(tree, false);\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_hasSelectionChanged, \"f\").set(tree, false);\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, multisectable } = properties;\r\n                if (id !== undefined) {\r\n                    tree.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    tree.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    tree.tabIndex = tabIndex;\r\n                }\r\n                if (multisectable !== undefined) {\r\n                    this.setMultiSelectable(tree, multisectable);\r\n                }\r\n            }\r\n            return tree;\r\n        }\r\n        slot(tree) {\r\n            return tree;\r\n        }\r\n        slottedCallback(tree, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement && child_i.classList.contains(\"treeitem\")) {\r\n                    treeItemWidget.setPosInSet(child_i, i);\r\n                    treeItemWidget.setLevel(child_i, 0);\r\n                }\r\n            });\r\n        }\r\n        items(tree) {\r\n            return Array.from(tree.querySelectorAll(\":is(:scope, :scope > .treeitemgroup) > .treeitem\"));\r\n        }\r\n        selectedItems(tree) {\r\n            const selectedItems = [];\r\n            const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n            walker.currentNode = tree;\r\n            let item = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_firstItem).call(this, tree);\r\n            while (item !== null) {\r\n                const selected = treeItemWidget.getSelected(item);\r\n                if (selected) {\r\n                    selectedItems.push(item);\r\n                }\r\n                item = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_nextItem).call(this, item);\r\n            }\r\n            return selectedItems;\r\n        }\r\n        beginSelection(tree) {\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_onSelection, \"f\").set(tree, true);\r\n        }\r\n        endSelection(tree) {\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_onSelection, \"f\").set(tree, false);\r\n            if (__classPrivateFieldGet(this, _TreeWidgetFactoryBase_hasSelectionChanged, \"f\").get(tree)) {\r\n                tree.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_hasSelectionChanged, \"f\").set(tree, false);\r\n            }\r\n        }\r\n        setMultiSelectable(tree, value) {\r\n            tree.setAttribute(\"aria-multiselectable\", String(value));\r\n        }\r\n        getMultiSelectable(tree) {\r\n            return JSON.parse(tree.getAttribute(\"aria-multiselectable\") ?? String(false));\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_template = new WeakMap(),\r\n    _TreeWidgetFactoryBase_walker = new WeakMap(),\r\n    _TreeWidgetFactoryBase_onSelection = new WeakMap(),\r\n    _TreeWidgetFactoryBase_hasSelectionChanged = new WeakMap(),\r\n    _TreeWidgetFactoryBase_instances = new WeakSet(),\r\n    _TreeWidgetFactoryBase_getActiveItem = function _TreeWidgetFactoryBase_getActiveItem(tree) {\r\n        return tree.querySelector(\".treeitem.active\");\r\n    },\r\n    _TreeWidgetFactoryBase_getDropTargetItem = function _TreeWidgetFactoryBase_getDropTargetItem(tree) {\r\n        return tree.querySelector(\".treeitem.droptarget\");\r\n    },\r\n    _TreeWidgetFactoryBase_setDropTargetItem = function _TreeWidgetFactoryBase_setDropTargetItem(tree, item) {\r\n        const { classList } = tree;\r\n        const dropTargetItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getDropTargetItem).call(this, tree);\r\n        if (dropTargetItem !== null && dropTargetItem !== item) {\r\n            treeItemWidget.setDropTarget(dropTargetItem, false);\r\n        }\r\n        if (item !== null) {\r\n            treeItemWidget.setDropTarget(item, true);\r\n            classList.add(\"droptarget\");\r\n        }\r\n        else {\r\n            classList.remove(\"droptarget\");\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_nodeFilter = function _TreeWidgetFactoryBase_nodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"treeitem\") && !treeItemWidget.getDisabled(node)) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"treeitemgroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _TreeWidgetFactoryBase_getItemsRange = function _TreeWidgetFactoryBase_getItemsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_nextItem).call(this, from);\r\n            while (nextItem && nextItem !== to) {\r\n                range.push(nextItem);\r\n                nextItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_nextItem).call(this, nextItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_previousItem).call(this, from);\r\n            while (previousItem && previousItem !== to) {\r\n                range.push(previousItem);\r\n                previousItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_previousItem).call(this, previousItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    },\r\n    _TreeWidgetFactoryBase_setSelection = function _TreeWidgetFactoryBase_setSelection(tree, ...items) {\r\n        const selectedItems = this.selectedItems(tree);\r\n        this.beginSelection(tree);\r\n        selectedItems.forEach((item_i) => {\r\n            if (!items.includes(item_i)) {\r\n                treeItemWidget.setSelected(item_i, false);\r\n            }\r\n        });\r\n        items.forEach((item_i) => {\r\n            const selected = treeItemWidget.getSelected(item_i);\r\n            if (tree.contains(item_i) && !selected) {\r\n                treeItemWidget.setSelected(item_i, true);\r\n            }\r\n        });\r\n        this.endSelection(tree);\r\n    },\r\n    _TreeWidgetFactoryBase_addToSelection = function _TreeWidgetFactoryBase_addToSelection(tree, ...items) {\r\n        this.beginSelection(tree);\r\n        items.forEach((item_i) => {\r\n            if (!treeItemWidget.getSelected(item_i)) {\r\n                treeItemWidget.setSelected(item_i, true);\r\n            }\r\n        });\r\n        this.endSelection(tree);\r\n    },\r\n    _TreeWidgetFactoryBase_removeFromSelection = function _TreeWidgetFactoryBase_removeFromSelection(tree, ...items) {\r\n        const selectedItems = this.selectedItems(tree);\r\n        this.beginSelection(tree);\r\n        items.forEach((item_i) => {\r\n            if (selectedItems.includes(item_i)) {\r\n                treeItemWidget.setSelected(item_i, false);\r\n            }\r\n        });\r\n        this.endSelection(tree);\r\n    },\r\n    _TreeWidgetFactoryBase_clearSelection = function _TreeWidgetFactoryBase_clearSelection(tree) {\r\n        const selectedItems = this.selectedItems(tree);\r\n        this.beginSelection(tree);\r\n        selectedItems.forEach((item_i) => {\r\n            treeItemWidget.setSelected(item_i, false);\r\n        });\r\n        this.endSelection(tree);\r\n    },\r\n    _TreeWidgetFactoryBase_setActiveItem = function _TreeWidgetFactoryBase_setActiveItem(tree, item) {\r\n        const activeItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getActiveItem).call(this, tree);\r\n        if (activeItem !== null && activeItem !== item) {\r\n            treeItemWidget.setActive(activeItem, false);\r\n            activeItem.tabIndex = -1;\r\n        }\r\n        if (item !== null) {\r\n            treeItemWidget.setActive(item, true);\r\n            item.tabIndex = 0;\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_firstItem = function _TreeWidgetFactoryBase_firstItem(tree) {\r\n        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = tree;\r\n        return walker.firstChild();\r\n    },\r\n    _TreeWidgetFactoryBase_lastItem = function _TreeWidgetFactoryBase_lastItem(tree) {\r\n        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = tree;\r\n        return walker.lastChild();\r\n    },\r\n    _TreeWidgetFactoryBase_previousItem = function _TreeWidgetFactoryBase_previousItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        const previousSibling = walker.previousSibling();\r\n        return previousSibling ?\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_deepestItem).call(this, previousSibling) :\r\n            walker.parentNode();\r\n    },\r\n    _TreeWidgetFactoryBase_nextItem = function _TreeWidgetFactoryBase_nextItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        const type = treeItemWidget.getType(item);\r\n        const expanded = treeItemWidget.getExpanded(item);\r\n        return (type === \"leaf\" ?\r\n            walker.nextNode() :\r\n            expanded ?\r\n                walker.nextNode() :\r\n                walker.nextSibling() ??\r\n                    (walker.parentNode(), walker.nextSibling()));\r\n    },\r\n    _TreeWidgetFactoryBase_deepestItem = function _TreeWidgetFactoryBase_deepestItem(item) {\r\n        const expanded = treeItemWidget.getExpanded(item);\r\n        if (expanded) {\r\n            const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n            const lastItem = walker.lastChild();\r\n            if (lastItem) {\r\n                return __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_deepestItem).call(this, lastItem);\r\n            }\r\n        }\r\n        return item;\r\n    },\r\n    _TreeWidgetFactoryBase_handleMouseDownEvent = function _TreeWidgetFactoryBase_handleMouseDownEvent(event) {\r\n        const { currentTarget, target, ctrlKey, shiftKey, button } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\".treeitem\");\r\n        if (targetItem) {\r\n            const selected = treeItemWidget.getSelected(targetItem);\r\n            switch (button) {\r\n                case 0: {\r\n                    if (!shiftKey && !ctrlKey) {\r\n                        __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setSelection).call(this, targetTree, targetItem);\r\n                    }\r\n                    else if (ctrlKey) {\r\n                        if (selected) {\r\n                            targetItem.blur();\r\n                            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_removeFromSelection).call(this, targetTree, targetItem);\r\n                        }\r\n                        else {\r\n                            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_addToSelection).call(this, targetTree, targetItem);\r\n                        }\r\n                        event.stopPropagation();\r\n                    }\r\n                    else if (shiftKey) {\r\n                        const activeItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getActiveItem).call(this, targetTree);\r\n                        if (activeItem) {\r\n                            const range = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getItemsRange).call(this, activeItem, targetItem);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setSelection).call(this, targetTree, ...range);\r\n                            }\r\n                        }\r\n                        event.stopPropagation();\r\n                    }\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    if (!selected) {\r\n                        __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setSelection).call(this, targetTree, targetItem);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleDragEndEvent = function _TreeWidgetFactoryBase_handleDragEndEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetTree = currentTarget;\r\n        __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setDropTargetItem).call(this, targetTree, null);\r\n    },\r\n    _TreeWidgetFactoryBase_handleDragEnterEvent = function _TreeWidgetFactoryBase_handleDragEnterEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetItem = target.closest(\".treeitem\");\r\n        const targetTree = currentTarget;\r\n        if (targetItem) {\r\n            const type = treeItemWidget.getType(targetItem);\r\n            if (type == \"parent\") {\r\n                treeItemWidget.toggle(targetItem, true);\r\n            }\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setDropTargetItem).call(this, targetTree, targetItem);\r\n        }\r\n        event.preventDefault();\r\n    },\r\n    _TreeWidgetFactoryBase_handleDragOverEvent = function _TreeWidgetFactoryBase_handleDragOverEvent(event) {\r\n        event.preventDefault();\r\n    },\r\n    _TreeWidgetFactoryBase_handleDragLeaveEvent = function _TreeWidgetFactoryBase_handleDragLeaveEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetTree = currentTarget;\r\n        if (!targetTree.contains(relatedTarget)) {\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setDropTargetItem).call(this, targetTree, null);\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleDropEvent = function _TreeWidgetFactoryBase_handleDropEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetTree = currentTarget;\r\n        __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setDropTargetItem).call(this, targetTree, null);\r\n    },\r\n    _TreeWidgetFactoryBase_handleFocusEvent = function _TreeWidgetFactoryBase_handleFocusEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetTree = currentTarget;\r\n        const focusWithin = targetTree.contains(relatedTarget);\r\n        if (!focusWithin) {\r\n            const activeItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getActiveItem).call(this, targetTree);\r\n            if (activeItem) {\r\n                activeItem.focus();\r\n            }\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleFocusInEvent = function _TreeWidgetFactoryBase_handleFocusInEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetItem = target.closest(\".treeitem\");\r\n        const targetTree = currentTarget;\r\n        if (targetItem) {\r\n            __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setActiveItem).call(this, targetTree, targetItem);\r\n            targetTree.tabIndex = -1;\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleFocusOutEvent = function _TreeWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetTree = currentTarget;\r\n        const lostFocusWithin = !targetTree.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            targetTree.tabIndex = 0;\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleKeyDownEvent = function _TreeWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetTree = currentTarget;\r\n        const activeItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getActiveItem).call(this, targetTree);\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey) {\r\n                    if (activeItem) {\r\n                        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n                        walker.currentNode = activeItem;\r\n                        const firstItem = (walker.currentNode = walker.parentNode() ?? targetTree, walker.firstChild());\r\n                        const lastItem = (walker.currentNode = walker.parentNode() ?? targetTree, walker.lastChild());\r\n                        if (firstItem && lastItem) {\r\n                            const range = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_getItemsRange).call(this, firstItem, __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_deepestItem).call(this, lastItem));\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setSelection).call(this, targetTree, ...range);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const expanded = treeItemWidget.getExpanded(activeItem);\r\n                    if (expanded) {\r\n                        treeItemWidget.toggle(activeItem);\r\n                    }\r\n                    else {\r\n                        const walker = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_walker, \"f\");\r\n                        const parentItem = walker.parentNode();\r\n                        if (parentItem) {\r\n                            parentItem.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const expanded = treeItemWidget.getExpanded(activeItem);\r\n                    if (!expanded) {\r\n                        treeItemWidget.toggle(activeItem);\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                if (activeItem) {\r\n                    const previousItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_previousItem).call(this, activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            const selected = treeItemWidget.getSelected(previousItem);\r\n                            selected ?\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_removeFromSelection).call(this, targetTree, previousItem) :\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_addToSelection).call(this, targetTree, previousItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_firstItem).call(this, targetTree);\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (activeItem) {\r\n                    const nextItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_nextItem).call(this, activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            const selected = treeItemWidget.getSelected(nextItem);\r\n                            selected ?\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_removeFromSelection).call(this, targetTree, nextItem) :\r\n                                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_addToSelection).call(this, targetTree, nextItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_lastItem).call(this, targetTree);\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_firstItem).call(this, targetTree);\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_lastItem).call(this, targetTree);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                if (activeItem) {\r\n                    __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setSelection).call(this, targetTree, activeItem);\r\n                    activeItem.click();\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_clearSelection).call(this, targetTree);\r\n                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_instances, \"m\", _TreeWidgetFactoryBase_setActiveItem).call(this, targetTree, null);\r\n                targetTree.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _TreeWidgetFactoryBase_handleSelectEvent = function _TreeWidgetFactoryBase_handleSelectEvent(event) {\r\n        const { target } = event;\r\n        const targetTree = target;\r\n        if (target instanceof HTMLElement && target.classList.contains(\"treeitem\")) {\r\n            if (__classPrivateFieldGet(this, _TreeWidgetFactoryBase_onSelection, \"f\").get(targetTree)) {\r\n                __classPrivateFieldGet(this, _TreeWidgetFactoryBase_hasSelectionChanged, \"f\").set(target, true);\r\n            }\r\n            else {\r\n                targetTree.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=TreeWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _TreeItemGroupWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { treeItemWidget } from \"./TreeItemWidget\";\r\nexport { treeItemGroupWidget };\r\nvar treeItemGroupWidget = new (Widget({\r\n    name: \"treeitemgroup\"\r\n})((_a = class TreeItemGroupWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _TreeItemGroupWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _TreeItemGroupWidgetFactoryBase_template, element(\"ul\", {\r\n                attributes: {\r\n                    class: \"treeitemgroup\",\r\n                    role: \"group\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _TreeItemGroupWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(group) {\r\n            return group;\r\n        }\r\n        slottedCallback(group, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement && child_i.classList.contains(\"treeitem\")) {\r\n                    treeItemWidget.setPosInSet(child_i, i);\r\n                    treeItemWidget.setLevel(child_i, (() => {\r\n                        let level = -1;\r\n                        let closestItem = child_i;\r\n                        while (closestItem !== null && closestItem.matches(\".tree :scope\")) {\r\n                            closestItem = closestItem.parentElement?.closest(\".treeitem\") ?? null;\r\n                            level++;\r\n                        }\r\n                        return level;\r\n                    })());\r\n                }\r\n            });\r\n        }\r\n    },\r\n    _TreeItemGroupWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=TreeItemGroupWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ListItemWidgetFactoryBase_instances, _ListItemWidgetFactoryBase_template, _ListItemWidgetFactoryBase_label, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { listItemWidget };\r\nvar listItemWidget = new (Widget({\r\n    name: \"listitem\"\r\n})((_a = class ListItemWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ListItemWidgetFactoryBase_instances.add(this);\r\n            _ListItemWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ListItemWidgetFactoryBase_template, element(\"li\", {\r\n                attributes: {\r\n                    class: \"listitem\",\r\n                    role: \"listitem\",\r\n                    tabindex: -1\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"label\"\r\n                        }\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n        }\r\n        create(init) {\r\n            const item = __classPrivateFieldGet(this, _ListItemWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            if (init !== undefined) {\r\n                const { label, disabled } = init;\r\n                if (label !== undefined) {\r\n                    this.setLabel(item, label);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(item, disabled);\r\n                }\r\n                this.setSelected(item, false);\r\n            }\r\n            return item;\r\n        }\r\n        slot(root) {\r\n            return root;\r\n        }\r\n        group(item) {\r\n            return item.querySelector(\":scope > .listitemgroup\");\r\n        }\r\n        getLabel(item) {\r\n            return __classPrivateFieldGet(this, _ListItemWidgetFactoryBase_instances, \"m\", _ListItemWidgetFactoryBase_label).call(this, item).textContent ?? \"\";\r\n        }\r\n        setLabel(item, value) {\r\n            __classPrivateFieldGet(this, _ListItemWidgetFactoryBase_instances, \"m\", _ListItemWidgetFactoryBase_label).call(this, item).textContent = value;\r\n        }\r\n        setPosInSet(item, value) {\r\n            item.setAttribute(\"aria-posinset\", String(value));\r\n        }\r\n        getPosInSet(item) {\r\n            const posInSet = item.getAttribute(\"aria-posinset\");\r\n            return posInSet ? parseInt(posInSet) : -1;\r\n        }\r\n        setActive(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"active\");\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"active\");\r\n        }\r\n        setDropTarget(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"droptarget\");\r\n            }\r\n            else {\r\n                classList.remove(\"droptarget\");\r\n            }\r\n        }\r\n        getDropTarget(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"droptarget\");\r\n        }\r\n        setDisabled(item, value) {\r\n            item.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        getDisabled(item) {\r\n            return item.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setSelected(row, value) {\r\n            row.setAttribute(\"aria-selected\", String(value));\r\n            row.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n        }\r\n        getSelected(row) {\r\n            return JSON.parse(row.getAttribute(\"aria-selected\") ?? String(false));\r\n        }\r\n    },\r\n    _ListItemWidgetFactoryBase_template = new WeakMap(),\r\n    _ListItemWidgetFactoryBase_instances = new WeakSet(),\r\n    _ListItemWidgetFactoryBase_label = function _ListItemWidgetFactoryBase_label(item) {\r\n        return item.querySelector(\":scope > .label\");\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=ListItemWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ListWidgetFactoryBase_instances, _ListWidgetFactoryBase_template, _ListWidgetFactoryBase_walker, _ListWidgetFactoryBase_onSelection, _ListWidgetFactoryBase_hasSelectionChanged, _ListWidgetFactoryBase_getActiveItem, _ListWidgetFactoryBase_getDropTargetItem, _ListWidgetFactoryBase_nodeFilter, _ListWidgetFactoryBase_getItemsRange, _ListWidgetFactoryBase_setSelection, _ListWidgetFactoryBase_addToSelection, _ListWidgetFactoryBase_removeFromSelection, _ListWidgetFactoryBase_clearSelection, _ListWidgetFactoryBase_setActiveItem, _ListWidgetFactoryBase_setDropTargetItem, _ListWidgetFactoryBase_firstItem, _ListWidgetFactoryBase_lastItem, _ListWidgetFactoryBase_previousItem, _ListWidgetFactoryBase_nextItem, _ListWidgetFactoryBase_handleDragEndEvent, _ListWidgetFactoryBase_handleDragEnterEvent, _ListWidgetFactoryBase_handleDragOverEvent, _ListWidgetFactoryBase_handleDragLeaveEvent, _ListWidgetFactoryBase_handleDragStartEvent, _ListWidgetFactoryBase_handleDropEvent, _ListWidgetFactoryBase_handleFocusEvent, _ListWidgetFactoryBase_handleFocusInEvent, _ListWidgetFactoryBase_handleKeyDownEvent, _ListWidgetFactoryBase_handleMouseDownEvent, _ListWidgetFactoryBase_handleFocusOutEvent, _ListWidgetFactoryBase_handleSelectEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { listItemWidget } from \"./ListItemWidget\";\r\nexport { listWidget };\r\nvar listWidget = new (Widget({\r\n    name: \"list\"\r\n})((_a = class ListWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ListWidgetFactoryBase_instances.add(this);\r\n            _ListWidgetFactoryBase_template.set(this, void 0);\r\n            _ListWidgetFactoryBase_walker.set(this, void 0);\r\n            _ListWidgetFactoryBase_onSelection.set(this, void 0);\r\n            _ListWidgetFactoryBase_hasSelectionChanged.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ListWidgetFactoryBase_template, element(\"ul\", {\r\n                attributes: {\r\n                    class: \"list\",\r\n                    role: \"list\",\r\n                    tabindex: 0\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _ListWidgetFactoryBase_onSelection, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _ListWidgetFactoryBase_hasSelectionChanged, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _ListWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_nodeFilter).bind(this)), \"f\");\r\n        }\r\n        create(properties) {\r\n            const list = __classPrivateFieldGet(this, _ListWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            list.addEventListener(\"dragend\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDragEndEvent).bind(this));\r\n            list.addEventListener(\"dragenter\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDragEnterEvent).bind(this));\r\n            list.addEventListener(\"dragleave\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDragLeaveEvent).bind(this));\r\n            list.addEventListener(\"dragover\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDragOverEvent).bind(this));\r\n            list.addEventListener(\"dragstart\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDragStartEvent).bind(this));\r\n            list.addEventListener(\"drop\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleDropEvent).bind(this));\r\n            list.addEventListener(\"focus\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleFocusEvent).bind(this));\r\n            list.addEventListener(\"focusin\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleFocusInEvent).bind(this));\r\n            list.addEventListener(\"focusout\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            list.addEventListener(\"keydown\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            list.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleMouseDownEvent).bind(this));\r\n            list.addEventListener(\"select\", __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_handleSelectEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, multisectable } = properties;\r\n                if (id !== undefined) {\r\n                    list.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    list.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    list.tabIndex = tabIndex;\r\n                }\r\n                if (multisectable !== undefined) {\r\n                    this.setMultiSelectable(list, multisectable);\r\n                }\r\n            }\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_onSelection, \"f\").set(list, false);\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_hasSelectionChanged, \"f\").set(list, false);\r\n            return list;\r\n        }\r\n        slot(list) {\r\n            return list;\r\n        }\r\n        slottedCallback(list, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement && child_i.classList.contains(\"listitem\")) {\r\n                    listItemWidget.setPosInSet(child_i, i);\r\n                }\r\n            });\r\n        }\r\n        setMultiSelectable(tree, value) {\r\n            tree.setAttribute(\"aria-multiselectable\", String(value));\r\n        }\r\n        getMultiSelectable(tree) {\r\n            return JSON.parse(tree.getAttribute(\"aria-multiselectable\") ?? String(false));\r\n        }\r\n        items(list) {\r\n            return Array.from(list.querySelectorAll(\":is(:scope, :scope > .listitemgroup) > .listitem\"));\r\n        }\r\n        selectedItems(list) {\r\n            const selectedItems = [];\r\n            const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n            walker.currentNode = list;\r\n            let item = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_firstItem).call(this, list);\r\n            while (item !== null) {\r\n                const selected = listItemWidget.getSelected(item);\r\n                if (selected) {\r\n                    selectedItems.push(item);\r\n                }\r\n                item = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_nextItem).call(this, item);\r\n            }\r\n            return selectedItems;\r\n        }\r\n        beginSelection(list) {\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_onSelection, \"f\").set(list, true);\r\n        }\r\n        endSelection(list) {\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_onSelection, \"f\").set(list, false);\r\n            if (__classPrivateFieldGet(this, _ListWidgetFactoryBase_hasSelectionChanged, \"f\").get(list)) {\r\n                list.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_hasSelectionChanged, \"f\").set(list, false);\r\n            }\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_template = new WeakMap(),\r\n    _ListWidgetFactoryBase_walker = new WeakMap(),\r\n    _ListWidgetFactoryBase_onSelection = new WeakMap(),\r\n    _ListWidgetFactoryBase_hasSelectionChanged = new WeakMap(),\r\n    _ListWidgetFactoryBase_instances = new WeakSet(),\r\n    _ListWidgetFactoryBase_getActiveItem = function _ListWidgetFactoryBase_getActiveItem(tree) {\r\n        return tree.querySelector(\".listitem.active\");\r\n    },\r\n    _ListWidgetFactoryBase_getDropTargetItem = function _ListWidgetFactoryBase_getDropTargetItem(tree) {\r\n        return tree.querySelector(\".listitem.droptarget\");\r\n    },\r\n    _ListWidgetFactoryBase_nodeFilter = function _ListWidgetFactoryBase_nodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"listitem\") && !listItemWidget.getDisabled(node) && !node.hidden) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"listitemgroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _ListWidgetFactoryBase_getItemsRange = function _ListWidgetFactoryBase_getItemsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_nextItem).call(this, from);\r\n            while (nextItem && nextItem !== to) {\r\n                range.push(nextItem);\r\n                nextItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_nextItem).call(this, nextItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_previousItem).call(this, from);\r\n            while (previousItem && previousItem !== to) {\r\n                range.push(previousItem);\r\n                previousItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_previousItem).call(this, previousItem);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    },\r\n    _ListWidgetFactoryBase_setSelection = function _ListWidgetFactoryBase_setSelection(list, ...items) {\r\n        const selectedItems = this.selectedItems(list);\r\n        this.beginSelection(list);\r\n        selectedItems.forEach((item_i) => {\r\n            if (!items.includes(item_i)) {\r\n                listItemWidget.setSelected(item_i, false);\r\n            }\r\n        });\r\n        items.forEach((item_i) => {\r\n            const selected = listItemWidget.getSelected(item_i);\r\n            if (list.contains(item_i) && !selected) {\r\n                listItemWidget.setSelected(item_i, true);\r\n            }\r\n        });\r\n        this.endSelection(list);\r\n    },\r\n    _ListWidgetFactoryBase_addToSelection = function _ListWidgetFactoryBase_addToSelection(list, ...items) {\r\n        this.beginSelection(list);\r\n        items.forEach((item_i) => {\r\n            if (!listItemWidget.getSelected(item_i)) {\r\n                listItemWidget.setSelected(item_i, true);\r\n            }\r\n        });\r\n        this.endSelection(list);\r\n    },\r\n    _ListWidgetFactoryBase_removeFromSelection = function _ListWidgetFactoryBase_removeFromSelection(list, ...items) {\r\n        const selectedItems = this.selectedItems(list);\r\n        this.beginSelection(list);\r\n        items.forEach((item_i) => {\r\n            if (selectedItems.includes(item_i)) {\r\n                listItemWidget.setSelected(item_i, false);\r\n            }\r\n        });\r\n        this.endSelection(list);\r\n    },\r\n    _ListWidgetFactoryBase_clearSelection = function _ListWidgetFactoryBase_clearSelection(list) {\r\n        const selectedItems = this.selectedItems(list);\r\n        this.beginSelection(list);\r\n        selectedItems.forEach((item_i) => {\r\n            listItemWidget.setSelected(item_i, false);\r\n        });\r\n        this.endSelection(list);\r\n    },\r\n    _ListWidgetFactoryBase_setActiveItem = function _ListWidgetFactoryBase_setActiveItem(list, item) {\r\n        const activeItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getActiveItem).call(this, list);\r\n        if (activeItem !== null && activeItem !== item) {\r\n            listItemWidget.setActive(activeItem, false);\r\n            activeItem.tabIndex = -1;\r\n        }\r\n        if (item !== null) {\r\n            listItemWidget.setActive(item, true);\r\n            item.tabIndex = 0;\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_setDropTargetItem = function _ListWidgetFactoryBase_setDropTargetItem(list, item) {\r\n        const { classList } = list;\r\n        const dropTargetItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getDropTargetItem).call(this, list);\r\n        if (dropTargetItem !== null && dropTargetItem !== item) {\r\n            listItemWidget.setDropTarget(dropTargetItem, false);\r\n        }\r\n        if (item !== null) {\r\n            listItemWidget.setDropTarget(item, false);\r\n            classList.add(\"droptarget\");\r\n        }\r\n        else {\r\n            classList.remove(\"droptarget\");\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_firstItem = function _ListWidgetFactoryBase_firstItem(list) {\r\n        const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = list;\r\n        return walker.firstChild();\r\n    },\r\n    _ListWidgetFactoryBase_lastItem = function _ListWidgetFactoryBase_lastItem(list) {\r\n        const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = list;\r\n        return walker.lastChild();\r\n    },\r\n    _ListWidgetFactoryBase_previousItem = function _ListWidgetFactoryBase_previousItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        const previousItem = walker.previousNode();\r\n        return previousItem;\r\n    },\r\n    _ListWidgetFactoryBase_nextItem = function _ListWidgetFactoryBase_nextItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        const nextItem = walker.nextNode();\r\n        return nextItem;\r\n    },\r\n    _ListWidgetFactoryBase_handleDragEndEvent = function _ListWidgetFactoryBase_handleDragEndEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetList = currentTarget;\r\n        __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setDropTargetItem).call(this, targetList, null);\r\n    },\r\n    _ListWidgetFactoryBase_handleDragEnterEvent = function _ListWidgetFactoryBase_handleDragEnterEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetItem = target.closest(\".listitem\");\r\n        const targetList = currentTarget;\r\n        if (targetItem) {\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setDropTargetItem).call(this, targetList, targetItem);\r\n        }\r\n        event.preventDefault();\r\n    },\r\n    _ListWidgetFactoryBase_handleDragOverEvent = function _ListWidgetFactoryBase_handleDragOverEvent(event) {\r\n        event.preventDefault();\r\n    },\r\n    _ListWidgetFactoryBase_handleDragLeaveEvent = function _ListWidgetFactoryBase_handleDragLeaveEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetList = currentTarget;\r\n        if (relatedTarget) {\r\n            const relatedTargetRoot = relatedTarget.getRootNode();\r\n            const relatedTargetHost = relatedTargetRoot instanceof ShadowRoot ?\r\n                relatedTargetRoot.host :\r\n                relatedTarget;\r\n            if (!targetList.contains(relatedTargetHost)) {\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setDropTargetItem).call(this, targetList, null);\r\n            }\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleDragStartEvent = function _ListWidgetFactoryBase_handleDragStartEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\".listitem\");\r\n        if (targetItem) {\r\n            const selectedItems = this.selectedItems(targetTree);\r\n            if (!selectedItems.includes(targetItem)) {\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetTree, targetItem);\r\n            }\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleDropEvent = function _ListWidgetFactoryBase_handleDropEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetTree = currentTarget;\r\n        __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setDropTargetItem).call(this, targetTree, null);\r\n    },\r\n    _ListWidgetFactoryBase_handleFocusEvent = function _ListWidgetFactoryBase_handleFocusEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetTree = currentTarget;\r\n        const activeItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getActiveItem).call(this, targetTree);\r\n        if (activeItem && relatedTarget !== activeItem) {\r\n            activeItem.focus();\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleFocusInEvent = function _ListWidgetFactoryBase_handleFocusInEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetTree = currentTarget;\r\n        const targetItem = target.closest(\".listitem\");\r\n        if (targetItem) {\r\n            __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setActiveItem).call(this, targetTree, targetItem);\r\n            targetTree.tabIndex = -1;\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleKeyDownEvent = function _ListWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetList = currentTarget;\r\n        const activeItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getActiveItem).call(this, targetList);\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey) {\r\n                    if (activeItem) {\r\n                        const walker = __classPrivateFieldGet(this, _ListWidgetFactoryBase_walker, \"f\");\r\n                        walker.currentNode = activeItem;\r\n                        const firstItem = (walker.currentNode = walker.parentNode() ?? targetList, walker.firstChild());\r\n                        const lastItem = (walker.currentNode = walker.parentNode() ?? targetList, walker.lastChild());\r\n                        if (firstItem && lastItem) {\r\n                            const range = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getItemsRange).call(this, firstItem, lastItem);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetList, ...range);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                if (activeItem) {\r\n                    const previousItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_previousItem).call(this, activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            const selected = listItemWidget.getSelected(previousItem);\r\n                            selected ?\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_removeFromSelection).call(this, targetList, previousItem) :\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_addToSelection).call(this, targetList, previousItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_firstItem).call(this, targetList);\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (activeItem) {\r\n                    const nextItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_nextItem).call(this, activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                        const { shiftKey } = event;\r\n                        if (shiftKey) {\r\n                            const selected = listItemWidget.getSelected(nextItem);\r\n                            selected ?\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_removeFromSelection).call(this, targetList, nextItem) :\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_addToSelection).call(this, targetList, nextItem);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_lastItem).call(this, targetList);\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_firstItem).call(this, targetList);\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_lastItem).call(this, targetList);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                if (activeItem) {\r\n                    __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetList, activeItem);\r\n                    activeItem.click();\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_clearSelection).call(this, targetList);\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setActiveItem).call(this, targetList, null);\r\n                targetList.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleMouseDownEvent = function _ListWidgetFactoryBase_handleMouseDownEvent(event) {\r\n        const { currentTarget, target, ctrlKey, shiftKey, button } = event;\r\n        const targetList = currentTarget;\r\n        const targetItem = target.closest(\".listitem\");\r\n        if (targetItem) {\r\n            const selected = listItemWidget.getSelected(targetItem);\r\n            switch (button) {\r\n                case 0: {\r\n                    if (!shiftKey && !ctrlKey) {\r\n                        __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetList, targetItem);\r\n                    }\r\n                    else if (ctrlKey) {\r\n                        if (selected) {\r\n                            targetItem.blur();\r\n                            __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_removeFromSelection).call(this, targetList, targetItem);\r\n                        }\r\n                        else {\r\n                            __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_addToSelection).call(this, targetList, targetItem);\r\n                        }\r\n                        event.stopPropagation();\r\n                    }\r\n                    else if (shiftKey) {\r\n                        const activeItem = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getActiveItem).call(this, targetList);\r\n                        if (activeItem) {\r\n                            const range = __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_getItemsRange).call(this, activeItem, targetItem);\r\n                            if (range) {\r\n                                __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetList, ...range);\r\n                            }\r\n                        }\r\n                        event.stopPropagation();\r\n                    }\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    if (!selected) {\r\n                        __classPrivateFieldGet(this, _ListWidgetFactoryBase_instances, \"m\", _ListWidgetFactoryBase_setSelection).call(this, targetList, targetItem);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleFocusOutEvent = function _ListWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetList = currentTarget;\r\n        const lostFocusWithin = !targetList.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            targetList.tabIndex = 0;\r\n        }\r\n    },\r\n    _ListWidgetFactoryBase_handleSelectEvent = function _ListWidgetFactoryBase_handleSelectEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetList = currentTarget;\r\n        if (targetList) {\r\n            if (__classPrivateFieldGet(this, _ListWidgetFactoryBase_onSelection, \"f\").get(targetList)) {\r\n                __classPrivateFieldGet(this, _ListWidgetFactoryBase_hasSelectionChanged, \"f\").set(targetList, true);\r\n            }\r\n            else {\r\n                targetList.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=ListWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ListItemGroupWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { listItemWidget } from \"./ListItemWidget\";\r\nexport { listItemGroupWidget };\r\nvar listItemGroupWidget = new (Widget({\r\n    name: \"listitemgroup\"\r\n})((_a = class ListItemGroupWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ListItemGroupWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ListItemGroupWidgetFactoryBase_template, element(\"ul\", {\r\n                attributes: {\r\n                    class: \"listitemgroup\",\r\n                    role: \"group\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _ListItemGroupWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(group) {\r\n            return group;\r\n        }\r\n        slottedCallback(group, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement && child_i.classList.contains(\"listitem\")) {\r\n                    listItemWidget.setPosInSet(child_i, i);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    _ListItemGroupWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=ListItemGroupWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ToolBarItemWidgetFactoryBase_instances, _ToolBarItemWidgetFactoryBase_template, _ToolBarItemWidgetFactoryBase_types, _ToolBarItemWidgetFactoryBase_handleFocusOutEvent, _ToolBarItemWidgetFactoryBase_handleClickEvent, _ToolBarItemWidgetFactoryBase_positionMenu, _ToolBarItemWidgetFactoryBase_label, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { toolbarItemWidget };\r\nvar toolbarItemWidget = new (Widget({\r\n    name: \"toolbaritem\"\r\n})((_a = class ToolBarItemWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ToolBarItemWidgetFactoryBase_instances.add(this);\r\n            _ToolBarItemWidgetFactoryBase_template.set(this, void 0);\r\n            _ToolBarItemWidgetFactoryBase_types.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ToolBarItemWidgetFactoryBase_types, [\"button\", \"checkbox\", \"radio\", \"menubutton\"], \"f\");\r\n            __classPrivateFieldSet(this, _ToolBarItemWidgetFactoryBase_template, element(\"button\", {\r\n                attributes: {\r\n                    class: \"toolbaritem\",\r\n                    role: \"button\",\r\n                    type: \"button\",\r\n                    tabindex: -1\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"label\"\r\n                        }\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n        }\r\n        create(init) {\r\n            const item = __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            item.addEventListener(\"focusout\", __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            item.addEventListener(\"click\", __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_handleClickEvent).bind(this));\r\n            if (init !== void 0) {\r\n                const { id, keyshortcut, pressed, type, label, name, value, disabled } = init;\r\n                if (id !== undefined) {\r\n                    item.id = id;\r\n                }\r\n                if (keyshortcut !== undefined) {\r\n                    this.setKeyShortcut(item, keyshortcut);\r\n                }\r\n                if (pressed !== undefined) {\r\n                    this.setPressed(item, pressed);\r\n                }\r\n                if (type !== undefined) {\r\n                    this.setType(item, type);\r\n                }\r\n                if (label !== undefined) {\r\n                    this.setLabel(item, label);\r\n                }\r\n                if (name !== undefined) {\r\n                    this.setName(item, name);\r\n                }\r\n                if (value !== undefined) {\r\n                    this.setValue(item, value);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(item, disabled);\r\n                }\r\n            }\r\n            return item;\r\n        }\r\n        slot(item) {\r\n            return item;\r\n        }\r\n        slottedCallback(item, slot) {\r\n            const hasChildMenu = Array.from(slot.childNodes).some(childNode_i => childNode_i instanceof HTMLElement && childNode_i.classList.contains(\"menu\"));\r\n            item.setAttribute(\"aria-haspopup\", String(hasChildMenu));\r\n        }\r\n        menu(item) {\r\n            return item.querySelector(\":scope > .menu\");\r\n        }\r\n        setExpanded(item, value) {\r\n            item.toggleAttribute(\"aria-expanded\", value);\r\n        }\r\n        getExpanded(item) {\r\n            return item.hasAttribute(\"aria-expanded\");\r\n        }\r\n        getLabel(item) {\r\n            return __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_label).call(this, item).textContent ?? \"\";\r\n        }\r\n        setLabel(item, value) {\r\n            __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_label).call(this, item).textContent = value;\r\n        }\r\n        getKeyShortcut(item) {\r\n            return item.getAttribute(\"aria-keyshortcuts\");\r\n        }\r\n        setKeyShortcut(item, value) {\r\n            if (value !== null) {\r\n                item.setAttribute(\"aria-keyshortcuts\", value);\r\n            }\r\n            else {\r\n                item.removeAttribute(\"aria-keyshortcuts\");\r\n            }\r\n        }\r\n        toggle(item, force) {\r\n            const expand = force ?? !this.getExpanded(item);\r\n            this.setExpanded(item, expand);\r\n            if (expand) {\r\n                __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_positionMenu).call(this, item);\r\n            }\r\n        }\r\n        expand(item) {\r\n            const expanded = this.getExpanded(item);\r\n            if (!expanded) {\r\n                this.setExpanded(item, true);\r\n                __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_instances, \"m\", _ToolBarItemWidgetFactoryBase_positionMenu).call(this, item);\r\n            }\r\n        }\r\n        collapse(item) {\r\n            const expanded = this.getExpanded(item);\r\n            if (expanded) {\r\n                this.setExpanded(item, false);\r\n            }\r\n        }\r\n        getType(item) {\r\n            const types = __classPrivateFieldGet(this, _ToolBarItemWidgetFactoryBase_types, \"f\");\r\n            const { classList } = item;\r\n            for (let type_i of types) {\r\n                if (classList.contains(`toolbaritem-${type_i}`)) {\r\n                    return type_i;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        setType(item, type) {\r\n            const oldType = this.getType(item);\r\n            if (type !== oldType) {\r\n                const { classList } = item;\r\n                if (oldType) {\r\n                    classList.remove(`toolbaritem-${oldType}`);\r\n                }\r\n                classList.add(`toolbaritem-${type}`);\r\n            }\r\n        }\r\n        getValue(item) {\r\n            return item.getAttribute(\"value\") ?? \"\";\r\n        }\r\n        setValue(item, value) {\r\n            item.setAttribute(\"value\", value);\r\n        }\r\n        getTitle(item) {\r\n            return item.getAttribute(\"title\") ?? \"\";\r\n        }\r\n        setTitle(item, value) {\r\n            item.setAttribute(\"title\", value);\r\n        }\r\n        getName(item) {\r\n            return item.getAttribute(\"name\") ?? \"\";\r\n        }\r\n        setName(item, value) {\r\n            item.setAttribute(\"name\", value);\r\n        }\r\n        getPressed(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-pressed\") ?? String(false));\r\n        }\r\n        setPressed(item, value) {\r\n            item.setAttribute(\"aria-pressed\", String(value));\r\n        }\r\n        getDisabled(item) {\r\n            return item.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setDisabled(item, value) {\r\n            item.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        setActive(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"active\");\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"active\");\r\n        }\r\n    },\r\n    _ToolBarItemWidgetFactoryBase_template = new WeakMap(),\r\n    _ToolBarItemWidgetFactoryBase_types = new WeakMap(),\r\n    _ToolBarItemWidgetFactoryBase_instances = new WeakSet(),\r\n    _ToolBarItemWidgetFactoryBase_handleFocusOutEvent = function _ToolBarItemWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetItem = currentTarget;\r\n        const lostFocusWithin = !targetItem.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.collapse(targetItem);\r\n        }\r\n    },\r\n    _ToolBarItemWidgetFactoryBase_handleClickEvent = function _ToolBarItemWidgetFactoryBase_handleClickEvent(event) {\r\n        const { target, currentTarget } = event;\r\n        const targetItem = target.closest(\".toolbaritem\");\r\n        if (targetItem == currentTarget) {\r\n            const type = this.getType(targetItem);\r\n            switch (type) {\r\n                case \"checkbox\": {\r\n                    this.setPressed(targetItem, !this.getPressed(targetItem));\r\n                    break;\r\n                }\r\n                case \"radio\": {\r\n                    this.setPressed(targetItem, true);\r\n                    break;\r\n                }\r\n                case \"menubutton\": {\r\n                    const menu = this.menu(targetItem);\r\n                    if (menu && !menu.contains(target)) {\r\n                        this.toggle(targetItem);\r\n                        const expanded = this.getExpanded(targetItem);\r\n                        if (expanded) {\r\n                            menu?.focus({ preventScroll: true });\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _ToolBarItemWidgetFactoryBase_positionMenu = function _ToolBarItemWidgetFactoryBase_positionMenu(item) {\r\n        const type = this.getType(item);\r\n        if (type == \"menubutton\") {\r\n            const menu = this.menu(item);\r\n            if (menu !== null) {\r\n                const { style: menuStyle } = menu;\r\n                const { top: itemTop, bottom: itemBottom, left: itemLeft, right: itemRight } = item.getBoundingClientRect();\r\n                const { width: menuWidth, height: menuHeight } = menu.getBoundingClientRect();\r\n                const { scrollY, scrollX } = window;\r\n                const { clientWidth, clientHeight } = document.body;\r\n                const overflowX = itemRight + menuWidth - clientWidth;\r\n                const overflowY = itemTop + menuHeight - clientHeight;\r\n                menuStyle.setProperty(\"left\", `${overflowX > 0 ?\r\n                    scrollX + itemLeft - menuWidth :\r\n                    scrollX + itemLeft}px`);\r\n                menuStyle.setProperty(\"top\", `${overflowY > 0 ?\r\n                    scrollY + itemTop - menuHeight :\r\n                    scrollY + itemBottom}px`);\r\n            }\r\n        }\r\n    },\r\n    _ToolBarItemWidgetFactoryBase_label = function _ToolBarItemWidgetFactoryBase_label(item) {\r\n        return item.querySelector(\":scope > .label\");\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=ToolBarItemWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _ToolBarWidgetFactoryBase_instances, _ToolBarWidgetFactoryBase_template, _ToolBarWidgetFactoryBase_walker, _ToolBarWidgetFactoryBase_getActiveItem, _ToolBarWidgetFactoryBase_walkerNodeFilter, _ToolBarWidgetFactoryBase_firstItem, _ToolBarWidgetFactoryBase_lastItem, _ToolBarWidgetFactoryBase_previousItem, _ToolBarWidgetFactoryBase_nextItem, _ToolBarWidgetFactoryBase_firstChildItem, _ToolBarWidgetFactoryBase_setActiveItem, _ToolBarWidgetFactoryBase_handleClickEvent, _ToolBarWidgetFactoryBase_handleFocusEvent, _ToolBarWidgetFactoryBase_handleFocusInEvent, _ToolBarWidgetFactoryBase_handleFocusOutEvent, _ToolBarWidgetFactoryBase_handleKeyDownEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { toolbarItemWidget } from \"./ToolBarItemWidget\";\r\nexport { toolbarWidget };\r\nvar toolbarWidget = new (Widget({\r\n    name: \"toolbar\"\r\n})((_a = class ToolBarWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ToolBarWidgetFactoryBase_instances.add(this);\r\n            _ToolBarWidgetFactoryBase_template.set(this, void 0);\r\n            _ToolBarWidgetFactoryBase_walker.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ToolBarWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"toolbar\",\r\n                    role: \"toolbar\",\r\n                    tabindex: -1\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _ToolBarWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_walkerNodeFilter).bind(this)), \"f\");\r\n        }\r\n        create(properties) {\r\n            const toolbar = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            toolbar.addEventListener(\"focus\", __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_handleFocusEvent).bind(this));\r\n            toolbar.addEventListener(\"focusin\", __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_handleFocusInEvent).bind(this));\r\n            toolbar.addEventListener(\"focusout\", __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            toolbar.addEventListener(\"keydown\", __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            toolbar.addEventListener(\"click\", __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_handleClickEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex } = properties;\r\n                if (id !== undefined) {\r\n                    toolbar.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    toolbar.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    toolbar.tabIndex = tabIndex;\r\n                }\r\n            }\r\n            return toolbar;\r\n        }\r\n        slot(toolbar) {\r\n            return toolbar;\r\n        }\r\n        items(toolbar) {\r\n            return Array.from(toolbar.querySelectorAll(\":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem\"));\r\n        }\r\n        setOrientation(toolbar, value) {\r\n            toolbar.setAttribute(\"aria-orientation\", value);\r\n        }\r\n        getOrientation(toolbar) {\r\n            return toolbar.getAttribute(\"aria-orientation\") ?? \"horizontal\";\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_template = new WeakMap(),\r\n    _ToolBarWidgetFactoryBase_walker = new WeakMap(),\r\n    _ToolBarWidgetFactoryBase_instances = new WeakSet(),\r\n    _ToolBarWidgetFactoryBase_getActiveItem = function _ToolBarWidgetFactoryBase_getActiveItem(toolbar) {\r\n        return toolbar.querySelector(\":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active\");\r\n    },\r\n    _ToolBarWidgetFactoryBase_walkerNodeFilter = function _ToolBarWidgetFactoryBase_walkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"toolbaritem\") && !toolbarItemWidget.getDisabled(node)) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"toolbaritemgroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _ToolBarWidgetFactoryBase_firstItem = function _ToolBarWidgetFactoryBase_firstItem(toolbar) {\r\n        const walker = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = toolbar;\r\n        return walker.firstChild();\r\n    },\r\n    _ToolBarWidgetFactoryBase_lastItem = function _ToolBarWidgetFactoryBase_lastItem(toolbar) {\r\n        const walker = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = toolbar;\r\n        return walker.lastChild();\r\n    },\r\n    _ToolBarWidgetFactoryBase_previousItem = function _ToolBarWidgetFactoryBase_previousItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        const previousItem = walker.previousSibling();\r\n        return previousItem;\r\n    },\r\n    _ToolBarWidgetFactoryBase_nextItem = function _ToolBarWidgetFactoryBase_nextItem(item) {\r\n        const walker = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = item;\r\n        return walker.nextSibling();\r\n    },\r\n    _ToolBarWidgetFactoryBase_firstChildItem = function _ToolBarWidgetFactoryBase_firstChildItem(item) {\r\n        const menu = toolbarItemWidget.menu(item);\r\n        if (menu) {\r\n            const walker = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_walker, \"f\");\r\n            walker.currentNode = menu;\r\n            return walker.firstChild();\r\n        }\r\n        return null;\r\n    },\r\n    _ToolBarWidgetFactoryBase_setActiveItem = function _ToolBarWidgetFactoryBase_setActiveItem(tree, item) {\r\n        const activeItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_getActiveItem).call(this, tree);\r\n        if (activeItem !== null && activeItem !== item) {\r\n            toolbarItemWidget.setActive(activeItem, false);\r\n            activeItem.tabIndex = -1;\r\n        }\r\n        if (item !== null) {\r\n            toolbarItemWidget.setActive(item, true);\r\n            item.tabIndex = 0;\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_handleClickEvent = function _ToolBarWidgetFactoryBase_handleClickEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const toolbar = currentTarget;\r\n        const targetItem = target.closest(\".toolbaritem\");\r\n        if (targetItem) {\r\n            const type = toolbarItemWidget.getType(targetItem);\r\n            const name = toolbarItemWidget.getName(targetItem);\r\n            const value = toolbarItemWidget.getType(targetItem);\r\n            if (type == \"radio\") {\r\n                toolbar.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${name}]`).forEach((radio_i) => {\r\n                    toolbarItemWidget.setPressed(radio_i, toolbarItemWidget.getValue(radio_i) == value);\r\n                });\r\n            }\r\n            event.stopPropagation();\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_handleFocusEvent = function _ToolBarWidgetFactoryBase_handleFocusEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetToolbar = currentTarget;\r\n        const focusWithin = targetToolbar.contains(relatedTarget);\r\n        if (!focusWithin) {\r\n            const activeItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_getActiveItem).call(this, targetToolbar);\r\n            if (activeItem) {\r\n                activeItem.focus();\r\n            }\r\n            else {\r\n                const firstItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_firstItem).call(this, targetToolbar);\r\n                firstItem?.focus();\r\n            }\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_handleFocusInEvent = function _ToolBarWidgetFactoryBase_handleFocusInEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetToolbar = currentTarget;\r\n        const targetItem = target.closest(\".toolbaritem\");\r\n        if (targetItem) {\r\n            __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_setActiveItem).call(this, targetToolbar, targetItem);\r\n            targetToolbar.tabIndex = -1;\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_handleFocusOutEvent = function _ToolBarWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetToolbar = currentTarget;\r\n        const lostFocusWithin = !targetToolbar.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_setActiveItem).call(this, targetToolbar, null);\r\n            targetToolbar.tabIndex = 0;\r\n        }\r\n    },\r\n    _ToolBarWidgetFactoryBase_handleKeyDownEvent = function _ToolBarWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetToolbar = currentTarget;\r\n        const activeItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_getActiveItem).call(this, targetToolbar);\r\n        switch (key) {\r\n            case \"Enter\":\r\n            case \" \": {\r\n                if (activeItem) {\r\n                    const type = toolbarItemWidget.getType(activeItem);\r\n                    switch (type) {\r\n                        case \"menubutton\": {\r\n                            toolbarItemWidget.expand(activeItem);\r\n                            const firstChildItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_firstChildItem).call(this, activeItem);\r\n                            firstChildItem?.focus({ preventScroll: true });\r\n                            event.preventDefault();\r\n                            break;\r\n                        }\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (activeItem) {\r\n                    const previousItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_previousItem).call(this, activeItem);\r\n                    if (previousItem) {\r\n                        previousItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const firstItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_firstItem).call(this, targetToolbar);\r\n                    if (firstItem) {\r\n                        firstItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (activeItem) {\r\n                    const nextItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_nextItem).call(this, activeItem);\r\n                    if (nextItem) {\r\n                        nextItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const lastItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_lastItem).call(this, targetToolbar);\r\n                    if (lastItem) {\r\n                        lastItem.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_firstItem).call(this, targetToolbar);\r\n                if (firstItem) {\r\n                    firstItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastItem = __classPrivateFieldGet(this, _ToolBarWidgetFactoryBase_instances, \"m\", _ToolBarWidgetFactoryBase_lastItem).call(this, targetToolbar);\r\n                if (lastItem) {\r\n                    lastItem.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (activeItem) {\r\n                    activeItem.focus({ preventScroll: true });\r\n                }\r\n                else {\r\n                    targetToolbar.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=ToolBarWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _MenuItemGroupWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { toolbarItemGroupWidget };\r\nvar toolbarItemGroupWidget = new (Widget({\r\n    name: \"toolbaritemgroup\"\r\n})((_a = class MenuItemGroupWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _MenuItemGroupWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _MenuItemGroupWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"toolbaritemgroup\",\r\n                    role: \"group\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _MenuItemGroupWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(group) {\r\n            return group;\r\n        }\r\n    },\r\n    _MenuItemGroupWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=ToolBarItemGroupWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _WidthSashWidgetFactory_instances, _WidthSashWidgetFactory_template, _WidthSashWidgetFactory_targets, _WidthSashWidgetFactory_onCaptureFlags, _WidthSashWidgetFactory_queuedPointerCallbacks, _WidthSashWidgetFactory_pointerMovements, _WidthSashWidgetFactory_handlePointerUpEvent, _WidthSashWidgetFactory_handlePointerDownEvent, _WidthSashWidgetFactory_handlePointerMoveEvent, _WidthSashWidgetFactory_pointerMoveCallback, _a;\r\nimport { element } from \"../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"./Widget\";\r\nexport { widthSashWidget };\r\nvar widthSashWidget = new (Widget({\r\n    name: \"widthsash\"\r\n})((_a = class WidthSashWidgetFactory extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _WidthSashWidgetFactory_instances.add(this);\r\n            _WidthSashWidgetFactory_template.set(this, void 0);\r\n            _WidthSashWidgetFactory_targets.set(this, void 0);\r\n            _WidthSashWidgetFactory_onCaptureFlags.set(this, void 0);\r\n            _WidthSashWidgetFactory_queuedPointerCallbacks.set(this, void 0);\r\n            _WidthSashWidgetFactory_pointerMovements.set(this, void 0);\r\n            __classPrivateFieldSet(this, _WidthSashWidgetFactory_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"widthsash\"\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _WidthSashWidgetFactory_targets, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _WidthSashWidgetFactory_onCaptureFlags, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _WidthSashWidgetFactory_queuedPointerCallbacks, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _WidthSashWidgetFactory_pointerMovements, new WeakMap(), \"f\");\r\n        }\r\n        create(properties) {\r\n            const targets = __classPrivateFieldGet(this, _WidthSashWidgetFactory_targets, \"f\");\r\n            const pointerMovements = __classPrivateFieldGet(this, _WidthSashWidgetFactory_pointerMovements, \"f\");\r\n            const onCaptureFlags = __classPrivateFieldGet(this, _WidthSashWidgetFactory_onCaptureFlags, \"f\");\r\n            const queuedPointerCallbacks = __classPrivateFieldGet(this, _WidthSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n            const sash = __classPrivateFieldGet(this, _WidthSashWidgetFactory_template, \"f\").cloneNode(true);\r\n            sash.addEventListener(\"pointerdown\", __classPrivateFieldGet(this, _WidthSashWidgetFactory_instances, \"m\", _WidthSashWidgetFactory_handlePointerDownEvent).bind(this));\r\n            sash.addEventListener(\"pointermove\", __classPrivateFieldGet(this, _WidthSashWidgetFactory_instances, \"m\", _WidthSashWidgetFactory_handlePointerMoveEvent).bind(this));\r\n            sash.addEventListener(\"pointerup\", __classPrivateFieldGet(this, _WidthSashWidgetFactory_instances, \"m\", _WidthSashWidgetFactory_handlePointerUpEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, controls, growDir } = properties;\r\n                if (id !== undefined) {\r\n                    sash.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    sash.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    sash.tabIndex = tabIndex;\r\n                }\r\n                if (controls !== undefined) {\r\n                    this.setControls(sash, controls);\r\n                }\r\n                if (growDir !== undefined) {\r\n                    this.setGrowDir(sash, growDir);\r\n                }\r\n            }\r\n            targets.set(sash, null);\r\n            queuedPointerCallbacks.set(sash, null);\r\n            pointerMovements.set(sash, 0);\r\n            onCaptureFlags.set(sash, false);\r\n            return sash;\r\n        }\r\n        getGrowDir(sash) {\r\n            return sash.getAttribute(\"data-growdir\") ?? \"right\";\r\n        }\r\n        setGrowDir(sash, value) {\r\n            sash.setAttribute(\"data-growdir\", value);\r\n        }\r\n        getControls(sash) {\r\n            return sash.getAttribute(\"data-controls\");\r\n        }\r\n        setControls(sash, value) {\r\n            sash.setAttribute(\"data-controls\", value);\r\n        }\r\n        setWidth(sash, width) {\r\n            const targets = __classPrivateFieldGet(this, _WidthSashWidgetFactory_targets, \"f\");\r\n            const target = targets.get(sash);\r\n            if (target !== null) {\r\n                target.style.setProperty(\"width\", `${width}px`);\r\n            }\r\n        }\r\n    },\r\n    _WidthSashWidgetFactory_template = new WeakMap(),\r\n    _WidthSashWidgetFactory_targets = new WeakMap(),\r\n    _WidthSashWidgetFactory_onCaptureFlags = new WeakMap(),\r\n    _WidthSashWidgetFactory_queuedPointerCallbacks = new WeakMap(),\r\n    _WidthSashWidgetFactory_pointerMovements = new WeakMap(),\r\n    _WidthSashWidgetFactory_instances = new WeakSet(),\r\n    _WidthSashWidgetFactory_handlePointerUpEvent = function _WidthSashWidgetFactory_handlePointerUpEvent(event) {\r\n        const { pointerId, currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const onCaptureFlags = __classPrivateFieldGet(this, _WidthSashWidgetFactory_onCaptureFlags, \"f\");\r\n        sashTarget.releasePointerCapture(pointerId);\r\n        onCaptureFlags.set(sashTarget, false);\r\n    },\r\n    _WidthSashWidgetFactory_handlePointerDownEvent = function _WidthSashWidgetFactory_handlePointerDownEvent(event) {\r\n        const { pointerId, currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const controls = this.getControls(sashTarget);\r\n        if (controls) {\r\n            const targets = __classPrivateFieldGet(this, _WidthSashWidgetFactory_targets, \"f\");\r\n            const onCaptureFlags = __classPrivateFieldGet(this, _WidthSashWidgetFactory_onCaptureFlags, \"f\");\r\n            const rootNode = sashTarget.getRootNode();\r\n            targets.set(sashTarget, rootNode.getElementById(controls));\r\n            onCaptureFlags.set(sashTarget, true);\r\n            sashTarget.setPointerCapture(pointerId);\r\n        }\r\n    },\r\n    _WidthSashWidgetFactory_handlePointerMoveEvent = function _WidthSashWidgetFactory_handlePointerMoveEvent(event) {\r\n        const { currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const pointerMovements = __classPrivateFieldGet(this, _WidthSashWidgetFactory_pointerMovements, \"f\");\r\n        const onCaptureFlags = __classPrivateFieldGet(this, _WidthSashWidgetFactory_onCaptureFlags, \"f\");\r\n        const queuedPointerCallbacks = __classPrivateFieldGet(this, _WidthSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n        const pointerMoveCallback = __classPrivateFieldGet(this, _WidthSashWidgetFactory_instances, \"m\", _WidthSashWidgetFactory_pointerMoveCallback);\r\n        const onCaptureFlag = onCaptureFlags.get(sashTarget);\r\n        if (onCaptureFlag) {\r\n            let callback = queuedPointerCallbacks.get(sashTarget);\r\n            if (callback == null) {\r\n                callback = pointerMoveCallback.bind(this, sashTarget);\r\n                queuedPointerCallbacks.set(sashTarget, callback);\r\n                requestAnimationFrame(callback);\r\n            }\r\n            const pointerMovement = pointerMovements.get(sashTarget) + event.movementX;\r\n            pointerMovements.set(sashTarget, pointerMovement);\r\n        }\r\n    },\r\n    _WidthSashWidgetFactory_pointerMoveCallback = function _WidthSashWidgetFactory_pointerMoveCallback(sash) {\r\n        const targets = __classPrivateFieldGet(this, _WidthSashWidgetFactory_targets, \"f\");\r\n        const pointerMovements = __classPrivateFieldGet(this, _WidthSashWidgetFactory_pointerMovements, \"f\");\r\n        const queuedPointerCallbacks = __classPrivateFieldGet(this, _WidthSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n        const target = targets.get(sash);\r\n        if (target !== null) {\r\n            const targetComputedStyle = window.getComputedStyle(target);\r\n            const growdir = this.getGrowDir(sash);\r\n            const movementX = pointerMovements.get(sash);\r\n            const width = parseFloat(targetComputedStyle.getPropertyValue(\"width\"));\r\n            const newWidth = width + (growdir == \"right\" ? 1 : -1) * movementX;\r\n            this.setWidth(sash, newWidth);\r\n            sash.dispatchEvent(new Event(\"resize\"));\r\n        }\r\n        pointerMovements.set(sash, 0);\r\n        queuedPointerCallbacks.set(sash, null);\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=WidthSashWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _HeightSashWidgetFactory_instances, _HeightSashWidgetFactory_template, _HeightSashWidgetFactory_targets, _HeightSashWidgetFactory_onCaptureFlags, _HeightSashWidgetFactory_queuedPointerCallbacks, _HeightSashWidgetFactory_pointerMovements, _HeightSashWidgetFactory_handlePointerUpEvent, _HeightSashWidgetFactory_handlePointerDownEvent, _HeightSashWidgetFactory_handlePointerMoveEvent, _HeightSashWidgetFactory_pointerMoveCallback, _a;\r\nimport { element } from \"../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"./Widget\";\r\nexport { heightSashWidget };\r\nvar heightSashWidget = new (Widget({\r\n    name: \"heightsash\"\r\n})((_a = class HeightSashWidgetFactory extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _HeightSashWidgetFactory_instances.add(this);\r\n            _HeightSashWidgetFactory_template.set(this, void 0);\r\n            _HeightSashWidgetFactory_targets.set(this, void 0);\r\n            _HeightSashWidgetFactory_onCaptureFlags.set(this, void 0);\r\n            _HeightSashWidgetFactory_queuedPointerCallbacks.set(this, void 0);\r\n            _HeightSashWidgetFactory_pointerMovements.set(this, void 0);\r\n            __classPrivateFieldSet(this, _HeightSashWidgetFactory_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"heightsash\"\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _HeightSashWidgetFactory_targets, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _HeightSashWidgetFactory_onCaptureFlags, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _HeightSashWidgetFactory_queuedPointerCallbacks, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _HeightSashWidgetFactory_pointerMovements, new WeakMap(), \"f\");\r\n        }\r\n        create(properties) {\r\n            const targets = __classPrivateFieldGet(this, _HeightSashWidgetFactory_targets, \"f\");\r\n            const pointerMovements = __classPrivateFieldGet(this, _HeightSashWidgetFactory_pointerMovements, \"f\");\r\n            const onCaptureFlags = __classPrivateFieldGet(this, _HeightSashWidgetFactory_onCaptureFlags, \"f\");\r\n            const queuedPointerCallbacks = __classPrivateFieldGet(this, _HeightSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n            const sash = __classPrivateFieldGet(this, _HeightSashWidgetFactory_template, \"f\").cloneNode(true);\r\n            sash.addEventListener(\"pointerdown\", __classPrivateFieldGet(this, _HeightSashWidgetFactory_instances, \"m\", _HeightSashWidgetFactory_handlePointerDownEvent).bind(this));\r\n            sash.addEventListener(\"pointermove\", __classPrivateFieldGet(this, _HeightSashWidgetFactory_instances, \"m\", _HeightSashWidgetFactory_handlePointerMoveEvent).bind(this));\r\n            sash.addEventListener(\"pointerup\", __classPrivateFieldGet(this, _HeightSashWidgetFactory_instances, \"m\", _HeightSashWidgetFactory_handlePointerUpEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, controls, growDir } = properties;\r\n                if (id !== undefined) {\r\n                    sash.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    sash.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    sash.tabIndex = tabIndex;\r\n                }\r\n                if (controls !== undefined) {\r\n                    this.setControls(sash, controls);\r\n                }\r\n                if (growDir !== undefined) {\r\n                    this.setGrowDir(sash, growDir);\r\n                }\r\n            }\r\n            targets.set(sash, null);\r\n            queuedPointerCallbacks.set(sash, null);\r\n            pointerMovements.set(sash, 0);\r\n            onCaptureFlags.set(sash, false);\r\n            return sash;\r\n        }\r\n        getGrowDir(sash) {\r\n            return sash.getAttribute(\"data-growdir\") ?? \"top\";\r\n        }\r\n        setGrowDir(sash, value) {\r\n            sash.setAttribute(\"data-growdir\", value);\r\n        }\r\n        getControls(sash) {\r\n            return sash.getAttribute(\"data-controls\");\r\n        }\r\n        setControls(sash, value) {\r\n            sash.setAttribute(\"data-controls\", value);\r\n        }\r\n        setHeight(sash, height) {\r\n            const targets = __classPrivateFieldGet(this, _HeightSashWidgetFactory_targets, \"f\");\r\n            const target = targets.get(sash);\r\n            if (target !== null) {\r\n                target.style.setProperty(\"height\", `${height}px`);\r\n            }\r\n        }\r\n    },\r\n    _HeightSashWidgetFactory_template = new WeakMap(),\r\n    _HeightSashWidgetFactory_targets = new WeakMap(),\r\n    _HeightSashWidgetFactory_onCaptureFlags = new WeakMap(),\r\n    _HeightSashWidgetFactory_queuedPointerCallbacks = new WeakMap(),\r\n    _HeightSashWidgetFactory_pointerMovements = new WeakMap(),\r\n    _HeightSashWidgetFactory_instances = new WeakSet(),\r\n    _HeightSashWidgetFactory_handlePointerUpEvent = function _HeightSashWidgetFactory_handlePointerUpEvent(event) {\r\n        const { pointerId, currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const onCaptureFlags = __classPrivateFieldGet(this, _HeightSashWidgetFactory_onCaptureFlags, \"f\");\r\n        sashTarget.releasePointerCapture(pointerId);\r\n        onCaptureFlags.set(sashTarget, false);\r\n    },\r\n    _HeightSashWidgetFactory_handlePointerDownEvent = function _HeightSashWidgetFactory_handlePointerDownEvent(event) {\r\n        const { pointerId, currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const controls = this.getControls(sashTarget);\r\n        if (controls) {\r\n            const targets = __classPrivateFieldGet(this, _HeightSashWidgetFactory_targets, \"f\");\r\n            const onCaptureFlags = __classPrivateFieldGet(this, _HeightSashWidgetFactory_onCaptureFlags, \"f\");\r\n            const rootNode = sashTarget.getRootNode();\r\n            targets.set(sashTarget, rootNode.getElementById(controls));\r\n            onCaptureFlags.set(sashTarget, true);\r\n            sashTarget.setPointerCapture(pointerId);\r\n        }\r\n    },\r\n    _HeightSashWidgetFactory_handlePointerMoveEvent = function _HeightSashWidgetFactory_handlePointerMoveEvent(event) {\r\n        const { currentTarget } = event;\r\n        const sashTarget = currentTarget;\r\n        const pointerMovements = __classPrivateFieldGet(this, _HeightSashWidgetFactory_pointerMovements, \"f\");\r\n        const onCaptureFlags = __classPrivateFieldGet(this, _HeightSashWidgetFactory_onCaptureFlags, \"f\");\r\n        const queuedPointerCallbacks = __classPrivateFieldGet(this, _HeightSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n        const onCaptureFlag = onCaptureFlags.get(sashTarget);\r\n        if (onCaptureFlag) {\r\n            let callback = queuedPointerCallbacks.get(sashTarget);\r\n            if (callback == null) {\r\n                callback = __classPrivateFieldGet(this, _HeightSashWidgetFactory_instances, \"m\", _HeightSashWidgetFactory_pointerMoveCallback).bind(this, sashTarget);\r\n                queuedPointerCallbacks.set(sashTarget, callback);\r\n                requestAnimationFrame(callback);\r\n            }\r\n            const pointerMovement = pointerMovements.get(sashTarget) + event.movementX;\r\n            pointerMovements.set(sashTarget, pointerMovement);\r\n        }\r\n    },\r\n    _HeightSashWidgetFactory_pointerMoveCallback = function _HeightSashWidgetFactory_pointerMoveCallback(sash) {\r\n        const targets = __classPrivateFieldGet(this, _HeightSashWidgetFactory_targets, \"f\");\r\n        const pointerMovements = __classPrivateFieldGet(this, _HeightSashWidgetFactory_pointerMovements, \"f\");\r\n        const queuedPointerCallbacks = __classPrivateFieldGet(this, _HeightSashWidgetFactory_queuedPointerCallbacks, \"f\");\r\n        const target = targets.get(sash);\r\n        if (target !== null) {\r\n            const targetComputedStyle = window.getComputedStyle(target);\r\n            const growdir = this.getGrowDir(sash);\r\n            const movementX = pointerMovements.get(sash);\r\n            const height = parseFloat(targetComputedStyle.getPropertyValue(\"height\"));\r\n            const newHeight = height + (growdir == \"top\" ? -1 : 1) * movementX;\r\n            this.setHeight(sash, newHeight);\r\n            sash.dispatchEvent(new Event(\"resize\"));\r\n        }\r\n        pointerMovements.set(sash, 0);\r\n        queuedPointerCallbacks.set(sash, null);\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=HeightSashWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridCellWidgetFactoryBase_instances, _GridCellWidgetFactoryBase_template, _GridCellWidgetFactoryBase_label, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { gridCellWidget };\r\nvar gridCellWidget = new (Widget({\r\n    name: \"gridcell\"\r\n})((_a = class GridCellWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridCellWidgetFactoryBase_instances.add(this);\r\n            _GridCellWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridCellWidgetFactoryBase_template, element(\"td\", {\r\n                attributes: {\r\n                    class: \"gridcell\",\r\n                    role: \"gridcell\",\r\n                    tabindex: -1\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create(init) {\r\n            const cell = __classPrivateFieldGet(this, _GridCellWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            if (init !== undefined) {\r\n                const { id, classList, tabIndex, disabled, headers } = init;\r\n                if (id !== undefined) {\r\n                    cell.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    cell.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    cell.tabIndex = tabIndex;\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(cell, disabled);\r\n                }\r\n                if (headers !== undefined) {\r\n                    this.setHeaders(cell, headers);\r\n                }\r\n                this.setSelected(cell, false);\r\n            }\r\n            return cell;\r\n        }\r\n        slot(cell) {\r\n            return cell;\r\n        }\r\n        getHeaders(item) {\r\n            return item.getAttribute(\"headers\") ?? \"\";\r\n        }\r\n        setHeaders(item, value) {\r\n            item.setAttribute(\"headers\", value);\r\n        }\r\n        getLabel(item) {\r\n            return __classPrivateFieldGet(this, _GridCellWidgetFactoryBase_instances, \"m\", _GridCellWidgetFactoryBase_label).call(this, item).textContent ?? \"\";\r\n        }\r\n        setLabel(item, value) {\r\n            __classPrivateFieldGet(this, _GridCellWidgetFactoryBase_instances, \"m\", _GridCellWidgetFactoryBase_label).call(this, item).textContent = value;\r\n        }\r\n        setPosInSet(item, value) {\r\n            item.setAttribute(\"aria-posinset\", String(value));\r\n        }\r\n        getPosInSet(item) {\r\n            const posInSet = item.getAttribute(\"aria-posinset\");\r\n            return posInSet ? parseInt(posInSet) : -1;\r\n        }\r\n        setActive(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"active\");\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"active\");\r\n        }\r\n        setDropTarget(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"droptarget\");\r\n            }\r\n            else {\r\n                classList.remove(\"droptarget\");\r\n            }\r\n        }\r\n        getDropTarget(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"droptarget\");\r\n        }\r\n        setDisabled(item, value) {\r\n            item.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        getDisabled(item) {\r\n            return item.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setSelected(item, value) {\r\n            item.setAttribute(\"aria-selected\", String(value));\r\n            item.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n        }\r\n        getSelected(item) {\r\n            return JSON.parse(item.getAttribute(\"aria-selected\") ?? String(false));\r\n        }\r\n    },\r\n    _GridCellWidgetFactoryBase_template = new WeakMap(),\r\n    _GridCellWidgetFactoryBase_instances = new WeakSet(),\r\n    _GridCellWidgetFactoryBase_label = function _GridCellWidgetFactoryBase_label(item) {\r\n        return item.querySelector(\":scope > .content > .label\");\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=GridCellWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridRowWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { gridCellWidget } from \"./GridCellWidget\";\r\nexport { gridRowWidget };\r\nvar gridRowWidget = new (Widget({\r\n    name: \"gridrow\"\r\n})((_a = class GridRowWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridRowWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridRowWidgetFactoryBase_template, element(\"tr\", {\r\n                attributes: {\r\n                    class: \"gridrow\",\r\n                    role: \"row\",\r\n                    tabindex: -1\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create(init) {\r\n            const row = __classPrivateFieldGet(this, _GridRowWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            if (init !== undefined) {\r\n                const { disabled } = init;\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(row, disabled);\r\n                }\r\n                this.setSelected(row, false);\r\n            }\r\n            return row;\r\n        }\r\n        slot(row) {\r\n            return row;\r\n        }\r\n        cells(row) {\r\n            return Array.from(row.querySelectorAll(\":scope > .gridcell\"));\r\n        }\r\n        setPosInSet(row, value) {\r\n            row.setAttribute(\"aria-posinset\", String(value));\r\n        }\r\n        getPosInSet(row) {\r\n            const posInSet = row.getAttribute(\"aria-posinset\");\r\n            return posInSet ? parseInt(posInSet) : -1;\r\n        }\r\n        setActive(row, value) {\r\n            const { classList } = row;\r\n            if (value) {\r\n                classList.add(\"active\");\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(row) {\r\n            const { classList } = row;\r\n            return classList.contains(\"active\");\r\n        }\r\n        setDropTarget(row, value) {\r\n            const { classList } = row;\r\n            if (value) {\r\n                classList.add(\"droptarget\");\r\n            }\r\n            else {\r\n                classList.remove(\"droptarget\");\r\n            }\r\n        }\r\n        getDropTarget(row) {\r\n            const { classList } = row;\r\n            return classList.contains(\"droptarget\");\r\n        }\r\n        setDisabled(row, value) {\r\n            row.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        getDisabled(row) {\r\n            return row.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setSelected(row, value) {\r\n            row.setAttribute(\"aria-selected\", String(value));\r\n            row.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n        }\r\n        getSelected(row) {\r\n            return JSON.parse(row.getAttribute(\"aria-selected\") ?? String(false));\r\n        }\r\n        slottedCallback(item, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((item_i, i) => {\r\n                if (item_i instanceof HTMLElement) {\r\n                    gridCellWidget.setPosInSet(item_i, i);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    _GridRowWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=GridRowWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridWidgetFactoryBase_instances, _GridWidgetFactoryBase_getActiveRow, _GridWidgetFactoryBase_getActiveCell, _GridWidgetFactoryBase_template, _GridWidgetFactoryBase_rowsWalker, _GridWidgetFactoryBase_cellsWalker, _GridWidgetFactoryBase_onSelection, _GridWidgetFactoryBase_hasSelectionChanged, _GridWidgetFactoryBase_cellsWalkerNodeFilter, _GridWidgetFactoryBase_rowsWalkerNodeFilter, _GridWidgetFactoryBase_getCellsRange, _GridWidgetFactoryBase_getRowsRange, _GridWidgetFactoryBase_setCellsSelection, _GridWidgetFactoryBase_setRowsSelection, _GridWidgetFactoryBase_addCellsToSelection, _GridWidgetFactoryBase_addRowsToSelection, _GridWidgetFactoryBase_removeCellsFromSelection, _GridWidgetFactoryBase_removeRowsFromSelection, _GridWidgetFactoryBase_clearCellsSelection, _GridWidgetFactoryBase_clearRowsSelection, _GridWidgetFactoryBase_setActiveCell, _GridWidgetFactoryBase_setActiveRow, _GridWidgetFactoryBase_firstCell, _GridWidgetFactoryBase_lastCell, _GridWidgetFactoryBase_previousCell, _GridWidgetFactoryBase_nextCell, _GridWidgetFactoryBase_closestRow, _GridWidgetFactoryBase_firstRow, _GridWidgetFactoryBase_lastRow, _GridWidgetFactoryBase_previousRow, _GridWidgetFactoryBase_nextRow, _GridWidgetFactoryBase_topCell, _GridWidgetFactoryBase_bottomCell, _GridWidgetFactoryBase_handleFocusEvent, _GridWidgetFactoryBase_handleFocusInEvent, _GridWidgetFactoryBase_handleFocusOutEvent, _GridWidgetFactoryBase_handleKeyDownEvent, _GridWidgetFactoryBase_handleMouseDownEvent, _GridWidgetFactoryBase_handleSelectEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { gridCellWidget } from \"./GridCellWidget\";\r\nimport { gridRowWidget } from \"./GridRowWidget\";\r\nexport { gridWidget };\r\nvar gridWidget = new (Widget({\r\n    name: \"grid\"\r\n})((_a = class GridWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridWidgetFactoryBase_instances.add(this);\r\n            _GridWidgetFactoryBase_template.set(this, void 0);\r\n            _GridWidgetFactoryBase_rowsWalker.set(this, void 0);\r\n            _GridWidgetFactoryBase_cellsWalker.set(this, void 0);\r\n            _GridWidgetFactoryBase_onSelection.set(this, void 0);\r\n            _GridWidgetFactoryBase_hasSelectionChanged.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridWidgetFactoryBase_template, element(\"table\", {\r\n                attributes: {\r\n                    class: \"grid\",\r\n                    role: \"grid\",\r\n                    tabindex: 0\r\n                }\r\n            }), \"f\");\r\n            __classPrivateFieldSet(this, _GridWidgetFactoryBase_onSelection, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _GridWidgetFactoryBase_hasSelectionChanged, new WeakMap(), \"f\");\r\n            __classPrivateFieldSet(this, _GridWidgetFactoryBase_cellsWalker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_cellsWalkerNodeFilter).bind(this)), \"f\");\r\n            __classPrivateFieldSet(this, _GridWidgetFactoryBase_rowsWalker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_rowsWalkerNodeFilter).bind(this)), \"f\");\r\n        }\r\n        headers(grid) {\r\n            return Array.from(grid.querySelectorAll(\":scope > .gridhead > .gridheader\"));\r\n        }\r\n        rows(grid) {\r\n            return Array.from(grid.querySelectorAll(\":scope > .gridbody > .gridrow\"));\r\n        }\r\n        cells(grid) {\r\n            return Array.from(grid.querySelectorAll(\":scope > .gridbody > .gridrow > .gridcell\"));\r\n        }\r\n        create(properties) {\r\n            const grid = __classPrivateFieldGet(this, _GridWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            //grid.addEventListener(\"contextmenu\", this.#handleContextMenuEvent.bind(this));\r\n            grid.addEventListener(\"mousedown\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleMouseDownEvent).bind(this));\r\n            grid.addEventListener(\"focus\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleFocusEvent).bind(this));\r\n            grid.addEventListener(\"focusin\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleFocusInEvent).bind(this));\r\n            grid.addEventListener(\"focusout\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            grid.addEventListener(\"keydown\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            grid.addEventListener(\"select\", __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_handleSelectEvent).bind(this));\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, selectby, multisectable } = properties;\r\n                if (id !== undefined) {\r\n                    grid.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    grid.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    grid.tabIndex = tabIndex;\r\n                }\r\n                if (selectby !== undefined) {\r\n                    this.setSelectBy(grid, selectby);\r\n                }\r\n                if (multisectable !== undefined) {\r\n                    this.setMultiSelectable(grid, multisectable);\r\n                }\r\n            }\r\n            return grid;\r\n        }\r\n        slot(grid) {\r\n            return grid;\r\n        }\r\n        setMultiSelectable(grid, value) {\r\n            grid.setAttribute(\"aria-multiselectable\", String(value));\r\n        }\r\n        getMultiSelectable(grid) {\r\n            return JSON.parse(grid.getAttribute(\"aria-multiselectable\") ?? String(false));\r\n        }\r\n        setSelectBy(grid, value) {\r\n            grid.setAttribute(\"data-selectby\", value);\r\n        }\r\n        getSelectBy(grid) {\r\n            return grid.getAttribute(\"data-selectby\") ?? \"cell\";\r\n        }\r\n        beginSelection(grid) {\r\n            __classPrivateFieldGet(this, _GridWidgetFactoryBase_onSelection, \"f\").set(grid, true);\r\n        }\r\n        endSelection(grid) {\r\n            __classPrivateFieldGet(this, _GridWidgetFactoryBase_onSelection, \"f\").set(grid, false);\r\n            if (__classPrivateFieldGet(this, _GridWidgetFactoryBase_hasSelectionChanged, \"f\").get(grid)) {\r\n                grid.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n                __classPrivateFieldGet(this, _GridWidgetFactoryBase_hasSelectionChanged, \"f\").set(grid, false);\r\n            }\r\n        }\r\n        clearSelection(grid) {\r\n            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_clearCellsSelection).call(this, grid);\r\n            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_clearRowsSelection).call(this, grid);\r\n        }\r\n        selectedCells(grid) {\r\n            return Array.from(grid.querySelectorAll(\":scope > .gridbody > .gridrow > .gridcell[aria-selected=true]\"));\r\n        }\r\n        selectedRows(grid) {\r\n            return Array.from(grid.querySelectorAll(\":scope > .gridbody > .gridrow[aria-selected=true]\"));\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_template = new WeakMap(),\r\n    _GridWidgetFactoryBase_rowsWalker = new WeakMap(),\r\n    _GridWidgetFactoryBase_cellsWalker = new WeakMap(),\r\n    _GridWidgetFactoryBase_onSelection = new WeakMap(),\r\n    _GridWidgetFactoryBase_hasSelectionChanged = new WeakMap(),\r\n    _GridWidgetFactoryBase_instances = new WeakSet(),\r\n    _GridWidgetFactoryBase_getActiveRow = function _GridWidgetFactoryBase_getActiveRow(grid) {\r\n        return grid.querySelector(\".gridrow.active\");\r\n    },\r\n    _GridWidgetFactoryBase_getActiveCell = function _GridWidgetFactoryBase_getActiveCell(grid) {\r\n        return grid.querySelector(\".gridcell.active\");\r\n    },\r\n    _GridWidgetFactoryBase_cellsWalkerNodeFilter = function _GridWidgetFactoryBase_cellsWalkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"gridcell\") && !gridCellWidget.getDisabled(node) && !node.hidden) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"gridrow\") || classList.contains(\"gridbody\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _GridWidgetFactoryBase_rowsWalkerNodeFilter = function _GridWidgetFactoryBase_rowsWalkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"gridrow\") && !gridRowWidget.getDisabled(node) && !node.hidden) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"gridbody\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _GridWidgetFactoryBase_getCellsRange = function _GridWidgetFactoryBase_getCellsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextCell).call(this, from);\r\n            while (nextCell && nextCell !== to) {\r\n                range.push(nextCell);\r\n                nextCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextCell).call(this, nextCell);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousCell).call(this, from);\r\n            while (previousCell && previousCell !== to) {\r\n                range.push(previousCell);\r\n                previousCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousRow).call(this, previousCell);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    },\r\n    _GridWidgetFactoryBase_getRowsRange = function _GridWidgetFactoryBase_getRowsRange(from, to) {\r\n        if (from == to) {\r\n            return [from];\r\n        }\r\n        const position = from.compareDocumentPosition(to);\r\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n            const range = [from];\r\n            let nextRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextRow).call(this, from);\r\n            while (nextRow && nextRow !== to) {\r\n                range.push(nextRow);\r\n                nextRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextRow).call(this, nextRow);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\r\n            const range = [from];\r\n            let previousRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousRow).call(this, from);\r\n            while (previousRow && previousRow !== to) {\r\n                range.push(previousRow);\r\n                previousRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousRow).call(this, previousRow);\r\n            }\r\n            range.push(to);\r\n            return range;\r\n        }\r\n        return [];\r\n    },\r\n    _GridWidgetFactoryBase_setCellsSelection = function _GridWidgetFactoryBase_setCellsSelection(grid, ...cells) {\r\n        this.beginSelection(grid);\r\n        const selectedCells = this.selectedCells(grid);\r\n        selectedCells.forEach((selectedCell_i) => {\r\n            if (!cells.includes(selectedCell_i)) {\r\n                gridCellWidget.setSelected(selectedCell_i, false);\r\n            }\r\n        });\r\n        cells.forEach((cell_i) => {\r\n            const selected = gridCellWidget.getSelected(cell_i);\r\n            if (!selected) {\r\n                gridCellWidget.setSelected(cell_i, true);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_setRowsSelection = function _GridWidgetFactoryBase_setRowsSelection(grid, ...rows) {\r\n        this.beginSelection(grid);\r\n        const selectedRows = this.selectedRows(grid);\r\n        selectedRows.forEach((selectedRow_i) => {\r\n            if (!rows.includes(selectedRow_i)) {\r\n                gridRowWidget.setSelected(selectedRow_i, false);\r\n            }\r\n        });\r\n        rows.forEach((row_i) => {\r\n            const selected = gridRowWidget.getSelected(row_i);\r\n            if (!selected) {\r\n                gridRowWidget.setSelected(row_i, true);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_addCellsToSelection = function _GridWidgetFactoryBase_addCellsToSelection(grid, ...cells) {\r\n        this.beginSelection(grid);\r\n        cells.forEach((cell_i) => {\r\n            const selected = gridCellWidget.getSelected(cell_i);\r\n            if (!selected) {\r\n                gridCellWidget.setSelected(cell_i, true);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_addRowsToSelection = function _GridWidgetFactoryBase_addRowsToSelection(grid, ...rows) {\r\n        this.beginSelection(grid);\r\n        rows.forEach((row_i) => {\r\n            const selected = gridRowWidget.getSelected(row_i);\r\n            if (!selected) {\r\n                gridRowWidget.setSelected(row_i, true);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_removeCellsFromSelection = function _GridWidgetFactoryBase_removeCellsFromSelection(grid, ...cells) {\r\n        this.beginSelection(grid);\r\n        const selectedCells = this.selectedCells(grid);\r\n        cells.forEach((cell_i) => {\r\n            if (selectedCells.includes(cell_i)) {\r\n                gridCellWidget.setSelected(cell_i, false);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_removeRowsFromSelection = function _GridWidgetFactoryBase_removeRowsFromSelection(grid, ...rows) {\r\n        this.beginSelection(grid);\r\n        const selectedRows = this.selectedRows(grid);\r\n        rows.forEach((row_i) => {\r\n            if (selectedRows.includes(row_i)) {\r\n                gridRowWidget.setSelected(row_i, false);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_clearCellsSelection = function _GridWidgetFactoryBase_clearCellsSelection(grid) {\r\n        this.beginSelection(grid);\r\n        const selectedCells = this.selectedCells(grid);\r\n        selectedCells.forEach((cell_i) => {\r\n            const selected = gridCellWidget.getSelected(cell_i);\r\n            if (selected) {\r\n                gridCellWidget.setSelected(cell_i, false);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_clearRowsSelection = function _GridWidgetFactoryBase_clearRowsSelection(grid) {\r\n        this.beginSelection(grid);\r\n        const selectedRows = this.selectedRows(grid);\r\n        selectedRows.forEach((row_i) => {\r\n            const selected = gridRowWidget.getSelected(row_i);\r\n            if (selected) {\r\n                gridRowWidget.setSelected(row_i, false);\r\n            }\r\n        });\r\n        this.endSelection(grid);\r\n    },\r\n    _GridWidgetFactoryBase_setActiveCell = function _GridWidgetFactoryBase_setActiveCell(grid, cell) {\r\n        const activeCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveCell).call(this, grid);\r\n        if (activeCell !== null && activeCell !== cell) {\r\n            gridCellWidget.setActive(activeCell, false);\r\n            activeCell.tabIndex = -1;\r\n        }\r\n        if (cell !== null) {\r\n            gridCellWidget.setActive(cell, true);\r\n            cell.tabIndex = 0;\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_setActiveRow = function _GridWidgetFactoryBase_setActiveRow(grid, row) {\r\n        const activeRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveRow).call(this, grid);\r\n        if (activeRow !== null && activeRow !== row) {\r\n            gridRowWidget.setActive(activeRow, false);\r\n            activeRow.tabIndex = -1;\r\n        }\r\n        if (row !== null) {\r\n            gridCellWidget.setActive(row, true);\r\n            row.tabIndex = 0;\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_firstCell = function _GridWidgetFactoryBase_firstCell(row) {\r\n        const cellsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_cellsWalker, \"f\");\r\n        cellsWalker.currentNode = row;\r\n        return cellsWalker.firstChild();\r\n    },\r\n    _GridWidgetFactoryBase_lastCell = function _GridWidgetFactoryBase_lastCell(row) {\r\n        const cellsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_cellsWalker, \"f\");\r\n        cellsWalker.currentNode = row;\r\n        return cellsWalker.lastChild();\r\n    },\r\n    _GridWidgetFactoryBase_previousCell = function _GridWidgetFactoryBase_previousCell(cell) {\r\n        const cellsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_cellsWalker, \"f\");\r\n        cellsWalker.currentNode = cell;\r\n        return cellsWalker.previousNode();\r\n    },\r\n    _GridWidgetFactoryBase_nextCell = function _GridWidgetFactoryBase_nextCell(cell) {\r\n        const cellsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_cellsWalker, \"f\");\r\n        cellsWalker.currentNode = cell;\r\n        return cellsWalker.nextNode();\r\n    },\r\n    _GridWidgetFactoryBase_closestRow = function _GridWidgetFactoryBase_closestRow(cell) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = cell;\r\n        return rowsWalker.parentNode();\r\n    },\r\n    _GridWidgetFactoryBase_firstRow = function _GridWidgetFactoryBase_firstRow(grid) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = grid;\r\n        return rowsWalker.firstChild();\r\n    },\r\n    _GridWidgetFactoryBase_lastRow = function _GridWidgetFactoryBase_lastRow(grid) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = grid;\r\n        return rowsWalker.lastChild();\r\n    },\r\n    _GridWidgetFactoryBase_previousRow = function _GridWidgetFactoryBase_previousRow(row) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = row;\r\n        return rowsWalker.previousNode();\r\n    },\r\n    _GridWidgetFactoryBase_nextRow = function _GridWidgetFactoryBase_nextRow(row) {\r\n        const rowsWalker = __classPrivateFieldGet(this, _GridWidgetFactoryBase_rowsWalker, \"f\");\r\n        rowsWalker.currentNode = row;\r\n        return rowsWalker.nextNode();\r\n    },\r\n    _GridWidgetFactoryBase_topCell = function _GridWidgetFactoryBase_topCell(cell) {\r\n        const closestRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_closestRow).call(this, cell);\r\n        if (closestRow) {\r\n            const closestRowCells = gridRowWidget.cells(closestRow);\r\n            const cellIndex = Array.from(closestRowCells.values()).indexOf(cell);\r\n            const previousRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousRow).call(this, closestRow);\r\n            if (previousRow) {\r\n                const previousRowCells = gridRowWidget.cells(previousRow);\r\n                return previousRowCells[Math.min(cellIndex, previousRowCells.length)];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    _GridWidgetFactoryBase_bottomCell = function _GridWidgetFactoryBase_bottomCell(cell) {\r\n        const closestRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_closestRow).call(this, cell);\r\n        if (closestRow) {\r\n            const closestRowCells = gridRowWidget.cells(closestRow);\r\n            const cellIndex = Array.from(closestRowCells.values()).indexOf(cell);\r\n            const nextRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextRow).call(this, closestRow);\r\n            if (nextRow) {\r\n                const nextRowCells = gridRowWidget.cells(nextRow);\r\n                return nextRowCells[Math.min(cellIndex, nextRowCells.length)];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n    _GridWidgetFactoryBase_handleFocusEvent = function _GridWidgetFactoryBase_handleFocusEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetGrid = currentTarget;\r\n        const selectby = this.getSelectBy(targetGrid);\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const activeCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveCell).call(this, targetGrid);\r\n                if (activeCell && relatedTarget !== activeCell) {\r\n                    activeCell.focus();\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const activeRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveRow).call(this, targetGrid);\r\n                if (activeRow && relatedTarget !== activeRow) {\r\n                    activeRow.focus();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_handleFocusInEvent = function _GridWidgetFactoryBase_handleFocusInEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetGrid = currentTarget;\r\n        const selectby = this.getSelectBy(targetGrid);\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const targetCell = target.closest(\".gridcell\");\r\n                if (targetCell) {\r\n                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setActiveCell).call(this, targetGrid, targetCell);\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const targetRow = target.closest(\".gridrow\");\r\n                if (targetRow) {\r\n                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setActiveRow).call(this, targetGrid, targetRow);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_handleFocusOutEvent = function _GridWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetGrid = currentTarget;\r\n        const lostFocusWithin = !targetGrid.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            targetGrid.tabIndex = 0;\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_handleKeyDownEvent = function _GridWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetGrid = currentTarget;\r\n        const activeCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveCell).call(this, targetGrid);\r\n        const activeRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveRow).call(this, targetGrid);\r\n        const selectby = this.getSelectBy(targetGrid);\r\n        const multiselectable = this.getMultiSelectable(targetGrid);\r\n        switch (key) {\r\n            case \"a\": {\r\n                const { ctrlKey } = event;\r\n                if (ctrlKey && multiselectable) {\r\n                    switch (selectby) {\r\n                        case \"cell\": {\r\n                            const firstRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstRow).call(this, targetGrid);\r\n                            const firstCell = firstRow ? __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstCell).call(this, firstRow) : null;\r\n                            const lastRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastRow).call(this, targetGrid);\r\n                            const lastCell = lastRow ? __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastCell).call(this, lastRow) : null;\r\n                            if (firstCell && lastCell) {\r\n                                const range = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getCellsRange).call(this, firstCell, lastCell);\r\n                                if (range) {\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setCellsSelection).call(this, targetGrid, ...range);\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                        case \"row\": {\r\n                            const firstRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstRow).call(this, targetGrid);\r\n                            const lastRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastRow).call(this, targetGrid);\r\n                            if (firstRow && lastRow) {\r\n                                const range = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getRowsRange).call(this, firstRow, lastRow);\r\n                                if (range) {\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setRowsSelection).call(this, targetGrid, ...range);\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                event.preventDefault();\r\n                break;\r\n            }\r\n            case \"ArrowLeft\": {\r\n                if (selectby == \"cell\") {\r\n                    if (activeCell) {\r\n                        const previousCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousCell).call(this, activeCell);\r\n                        if (previousCell) {\r\n                            previousCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey && multiselectable) {\r\n                                const selected = gridCellWidget.getSelected(previousCell);\r\n                                selected ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeCellsFromSelection).call(this, targetGrid, previousCell) :\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addCellsToSelection).call(this, targetGrid, previousCell);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowRight\": {\r\n                if (selectby == \"cell\") {\r\n                    if (activeCell) {\r\n                        const nextCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextCell).call(this, activeCell);\r\n                        if (nextCell) {\r\n                            nextCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey && multiselectable) {\r\n                                const selected = gridCellWidget.getSelected(nextCell);\r\n                                selected ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeCellsFromSelection).call(this, targetGrid, nextCell) :\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addCellsToSelection).call(this, targetGrid, nextCell);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowUp\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        const firstRow = activeRow ?? __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstRow).call(this, targetGrid);\r\n                        const topCell = activeCell ?\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_topCell).call(this, activeCell) :\r\n                            firstRow ?\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstCell).call(this, firstRow) :\r\n                                null;\r\n                        if (topCell) {\r\n                            topCell.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey && multiselectable) {\r\n                                const selected = gridCellWidget.getSelected(topCell);\r\n                                selected ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeCellsFromSelection).call(this, targetGrid, topCell) :\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addCellsToSelection).call(this, targetGrid, topCell);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const previousRow = activeRow ?\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_previousRow).call(this, activeRow) :\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstRow).call(this, targetGrid);\r\n                        if (previousRow) {\r\n                            previousRow.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey && multiselectable) {\r\n                                const selected = gridRowWidget.getSelected(previousRow);\r\n                                selected ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeRowsFromSelection).call(this, targetGrid, previousRow) :\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addRowsToSelection).call(this, targetGrid, previousRow);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                switch (selectby) {\r\n                    case \"cell\":\r\n                        {\r\n                            const lastRow = activeRow ?? __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastRow).call(this, targetGrid);\r\n                            const bottomCell = activeCell ?\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_bottomCell).call(this, activeCell) :\r\n                                lastRow ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastCell).call(this, lastRow) :\r\n                                    null;\r\n                            if (bottomCell) {\r\n                                bottomCell.focus({ preventScroll: true });\r\n                                const { shiftKey } = event;\r\n                                if (shiftKey && multiselectable) {\r\n                                    const selected = gridCellWidget.getSelected(bottomCell);\r\n                                    selected ?\r\n                                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeCellsFromSelection).call(this, targetGrid, bottomCell) :\r\n                                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addCellsToSelection).call(this, targetGrid, bottomCell);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"row\": {\r\n                        const nextRow = activeRow ?\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_nextRow).call(this, activeRow) :\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastRow).call(this, targetGrid);\r\n                        if (nextRow) {\r\n                            nextRow.focus({ preventScroll: true });\r\n                            const { shiftKey } = event;\r\n                            if (shiftKey && multiselectable) {\r\n                                const selected = gridRowWidget.getSelected(nextRow);\r\n                                selected ?\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeRowsFromSelection).call(this, targetGrid, nextRow) :\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addRowsToSelection).call(this, targetGrid, nextRow);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeRow) {\r\n                            const firstCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstCell).call(this, activeRow);\r\n                            if (firstCell) {\r\n                                firstCell.focus({ preventScroll: true });\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const firstRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_firstRow).call(this, targetGrid);\r\n                        if (firstRow) {\r\n                            firstRow.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeRow) {\r\n                            const lastCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastCell).call(this, activeRow);\r\n                            if (lastCell) {\r\n                                lastCell.focus({ preventScroll: true });\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        const lastRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_lastRow).call(this, targetGrid);\r\n                        if (lastRow) {\r\n                            lastRow.focus({ preventScroll: true });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        if (activeCell) {\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setCellsSelection).call(this, targetGrid, activeCell);\r\n                            activeCell.click();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        if (activeRow) {\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setRowsSelection).call(this, targetGrid, activeRow);\r\n                            activeRow.click();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                switch (selectby) {\r\n                    case \"cell\": {\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_clearCellsSelection).call(this, targetGrid);\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setActiveCell).call(this, targetGrid, null);\r\n                        break;\r\n                    }\r\n                    case \"row\": {\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_clearRowsSelection).call(this, targetGrid);\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setActiveRow).call(this, targetGrid, null);\r\n                        break;\r\n                    }\r\n                }\r\n                targetGrid.focus();\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_handleMouseDownEvent = function _GridWidgetFactoryBase_handleMouseDownEvent(event) {\r\n        const { currentTarget, target, ctrlKey, shiftKey } = event;\r\n        const targetGrid = currentTarget;\r\n        const selectby = this.getSelectBy(targetGrid);\r\n        const multiselectable = this.getMultiSelectable(targetGrid);\r\n        switch (selectby) {\r\n            case \"cell\": {\r\n                const targetCell = target.closest(\".gridcell\");\r\n                if (targetCell) {\r\n                    if (multiselectable) {\r\n                        if (!shiftKey && !ctrlKey) {\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setCellsSelection).call(this, targetGrid, targetCell);\r\n                        }\r\n                        else if (ctrlKey) {\r\n                            const selected = gridCellWidget.getSelected(targetCell);\r\n                            !selected ?\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addCellsToSelection).call(this, targetGrid, targetCell) :\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeCellsFromSelection).call(this, targetGrid, targetCell);\r\n                            event.stopPropagation();\r\n                        }\r\n                        else if (shiftKey) {\r\n                            const activeCell = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveCell).call(this, targetGrid);\r\n                            if (activeCell) {\r\n                                const range = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getCellsRange).call(this, activeCell, targetCell);\r\n                                if (range) {\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setCellsSelection).call(this, targetGrid, ...range);\r\n                                }\r\n                            }\r\n                            event.stopPropagation();\r\n                        }\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setCellsSelection).call(this, targetGrid, targetCell);\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n            case \"row\": {\r\n                const targetRow = target.closest(\".gridrow\");\r\n                if (targetRow) {\r\n                    if (multiselectable) {\r\n                        if (!shiftKey && !ctrlKey) {\r\n                            __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setRowsSelection).call(this, targetGrid, targetRow);\r\n                        }\r\n                        else if (ctrlKey) {\r\n                            const selected = gridRowWidget.getSelected(targetRow);\r\n                            !selected ?\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_addRowsToSelection).call(this, targetGrid, targetRow) :\r\n                                __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_removeRowsFromSelection).call(this, targetGrid, targetRow);\r\n                            event.stopPropagation();\r\n                        }\r\n                        else if (shiftKey) {\r\n                            const activeRow = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getActiveRow).call(this, targetGrid);\r\n                            if (activeRow) {\r\n                                const range = __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_getRowsRange).call(this, activeRow, targetRow);\r\n                                if (range) {\r\n                                    __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setRowsSelection).call(this, targetGrid, ...range);\r\n                                }\r\n                            }\r\n                            event.stopPropagation();\r\n                        }\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _GridWidgetFactoryBase_instances, \"m\", _GridWidgetFactoryBase_setRowsSelection).call(this, targetGrid, targetRow);\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _GridWidgetFactoryBase_handleSelectEvent = function _GridWidgetFactoryBase_handleSelectEvent(event) {\r\n        const { currentTarget } = event;\r\n        const targetList = currentTarget;\r\n        if (targetList) {\r\n            if (__classPrivateFieldGet(this, _GridWidgetFactoryBase_onSelection, \"f\").get(targetList)) {\r\n                __classPrivateFieldGet(this, _GridWidgetFactoryBase_hasSelectionChanged, \"f\").set(targetList, true);\r\n            }\r\n            else {\r\n                targetList.dispatchEvent(new Event(\"selectionchange\", { bubbles: true }));\r\n            }\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=GridWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridBodyWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { gridRowWidget } from \"./GridRowWidget\";\r\nexport { gridBodyWidget };\r\nvar gridBodyWidget = new (Widget({\r\n    name: \"gridbody\"\r\n})((_a = class GridBodyWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridBodyWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridBodyWidgetFactoryBase_template, element(\"tbody\", {\r\n                attributes: {\r\n                    class: \"gridbody\",\r\n                    role: \"rowgroup\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _GridBodyWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(body) {\r\n            return body;\r\n        }\r\n        slottedCallback(body, slot) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement && child_i.classList.contains(\"gridrow\")) {\r\n                    gridRowWidget.setPosInSet(child_i, i);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    _GridBodyWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=GridBodyWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridHeadWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { gridHeadWidget };\r\nvar gridHeadWidget = new (Widget({\r\n    name: \"gridhead\"\r\n})((_a = class GridHeadWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridHeadWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridHeadWidgetFactoryBase_template, element(\"thead\", {\r\n                attributes: {\r\n                    class: \"gridhead\",\r\n                    role: \"rowgroup\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _GridHeadWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(head) {\r\n            return head;\r\n        }\r\n    },\r\n    _GridHeadWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=GridHeadWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _GridHeaderWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { gridHeaderWidget };\r\nvar gridHeaderWidget = new (Widget({\r\n    name: \"gridheader\"\r\n})((_a = class GridHeaderWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _GridHeaderWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _GridHeaderWidgetFactoryBase_template, element(\"th\", {\r\n                attributes: {\r\n                    class: \"gridheader\",\r\n                    scope: \"column\",\r\n                    role: \"columnheader\",\r\n                    tabindex: -1\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create(init) {\r\n            const header = __classPrivateFieldGet(this, _GridHeaderWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            if (init !== undefined) {\r\n                const { id, classList, tabIndex } = init;\r\n                if (id !== undefined) {\r\n                    header.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    header.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    header.tabIndex = tabIndex;\r\n                }\r\n            }\r\n            return header;\r\n        }\r\n        slot(header) {\r\n            return header;\r\n        }\r\n        setActive(item, value) {\r\n            const { classList } = item;\r\n            if (value) {\r\n                classList.add(\"active\");\r\n            }\r\n            else {\r\n                classList.remove(\"active\");\r\n            }\r\n        }\r\n        getActive(item) {\r\n            const { classList } = item;\r\n            return classList.contains(\"active\");\r\n        }\r\n    },\r\n    _GridHeaderWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=GridHeaderWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _OptionWidgetFactoryBase_instances, _OptionWidgetFactoryBase_template, _OptionWidgetFactoryBase_label, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { optionWidget };\r\nvar optionWidget = new (Widget({\r\n    name: \"option\"\r\n})((_a = class OptionWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _OptionWidgetFactoryBase_instances.add(this);\r\n            _OptionWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _OptionWidgetFactoryBase_template, element(\"span\", {\r\n                attributes: {\r\n                    class: \"option\",\r\n                    role: \"option\",\r\n                    tabindex: -1\r\n                },\r\n                children: [\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"label\"\r\n                        }\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n        }\r\n        create(properties) {\r\n            const option = __classPrivateFieldGet(this, _OptionWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            if (properties !== undefined) {\r\n                const { label, name, value, disabled } = properties;\r\n                let { selected } = properties;\r\n                selected = selected ?? false;\r\n                if (selected !== undefined) {\r\n                    this.setSelected(option, selected);\r\n                }\r\n                if (label !== undefined) {\r\n                    this.setLabel(option, label);\r\n                }\r\n                if (name !== undefined) {\r\n                    this.setName(option, name);\r\n                }\r\n                if (value !== undefined) {\r\n                    this.setValue(option, value);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(option, disabled);\r\n                }\r\n            }\r\n            return option;\r\n        }\r\n        get observedAttributes() {\r\n            return [\"aria-selected\"];\r\n        }\r\n        attributeChangedCallback(option, name, oldValue, newValue) {\r\n            switch (name) {\r\n                case \"aria-selected\": {\r\n                    if (JSON.parse(newValue) === true) {\r\n                        option.dispatchEvent(new Event(\"select\", { bubbles: true }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        getLabel(option) {\r\n            return __classPrivateFieldGet(this, _OptionWidgetFactoryBase_instances, \"m\", _OptionWidgetFactoryBase_label).call(this, option).textContent ?? \"\";\r\n        }\r\n        setLabel(option, value) {\r\n            __classPrivateFieldGet(this, _OptionWidgetFactoryBase_instances, \"m\", _OptionWidgetFactoryBase_label).call(this, option).textContent = value;\r\n        }\r\n        getValue(option) {\r\n            return option.getAttribute(\"value\") ?? \"\";\r\n        }\r\n        setValue(option, value) {\r\n            option.setAttribute(\"value\", value);\r\n        }\r\n        getName(option) {\r\n            return option.getAttribute(\"name\") ?? \"\";\r\n        }\r\n        setName(option, value) {\r\n            option.setAttribute(\"name\", value);\r\n        }\r\n        getSelected(option) {\r\n            return JSON.parse(option.getAttribute(\"aria-selected\") ?? String(false));\r\n        }\r\n        setSelected(option, value) {\r\n            option.setAttribute(\"aria-selected\", String(value));\r\n        }\r\n        getDisabled(option) {\r\n            return option.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setDisabled(option, value) {\r\n            option.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n    },\r\n    _OptionWidgetFactoryBase_template = new WeakMap(),\r\n    _OptionWidgetFactoryBase_instances = new WeakSet(),\r\n    _OptionWidgetFactoryBase_label = function _OptionWidgetFactoryBase_label(option) {\r\n        return option.querySelector(\":scope > .label\");\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=OptionWidget.js.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar _ComboBoxWidgetFactoryBase_instances, _ComboBoxWidgetFactoryBase_template, _ComboBoxWidgetFactoryBase_walker, _ComboBoxWidgetFactoryBase_optionsObserver, _ComboBoxWidgetFactoryBase_box, _ComboBoxWidgetFactoryBase_getActiveOption, _ComboBoxWidgetFactoryBase_value, _ComboBoxWidgetFactoryBase_optionsMutationCallback, _ComboBoxWidgetFactoryBase_walkerNodeFilter, _ComboBoxWidgetFactoryBase_firstOption, _ComboBoxWidgetFactoryBase_lastOption, _ComboBoxWidgetFactoryBase_previousOption, _ComboBoxWidgetFactoryBase_nextOption, _ComboBoxWidgetFactoryBase_selectOption, _ComboBoxWidgetFactoryBase_setSelectedOption, _ComboBoxWidgetFactoryBase_positionBox, _ComboBoxWidgetFactoryBase_handleClickEvent, _ComboBoxWidgetFactoryBase_handleFocusOutEvent, _ComboBoxWidgetFactoryBase_handleKeyDownEvent, _ComboBoxWidgetFactoryBase_handleMouseOverEvent, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nimport { optionWidget } from \"./OptionWidget\";\r\nexport { comboBoxWidget };\r\nvar comboBoxWidget = new (Widget({\r\n    name: \"combobox\"\r\n})((_a = class ComboBoxWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _ComboBoxWidgetFactoryBase_instances.add(this);\r\n            _ComboBoxWidgetFactoryBase_template.set(this, void 0);\r\n            _ComboBoxWidgetFactoryBase_walker.set(this, void 0);\r\n            _ComboBoxWidgetFactoryBase_optionsObserver.set(this, void 0);\r\n            __classPrivateFieldSet(this, _ComboBoxWidgetFactoryBase_walker, document.createTreeWalker(document, NodeFilter.SHOW_ELEMENT, __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_walkerNodeFilter).bind(this)), \"f\");\r\n            __classPrivateFieldSet(this, _ComboBoxWidgetFactoryBase_optionsObserver, new MutationObserver(__classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_optionsMutationCallback).bind(this)), \"f\");\r\n            __classPrivateFieldSet(this, _ComboBoxWidgetFactoryBase_template, element(\"div\", {\r\n                attributes: {\r\n                    class: \"combobox\",\r\n                    role: \"combobox\",\r\n                    tabindex: 0,\r\n                },\r\n                children: [\r\n                    element(\"div\", {\r\n                        attributes: {\r\n                            class: \"content\"\r\n                        },\r\n                        children: [\r\n                            element(\"span\", {\r\n                                attributes: {\r\n                                    class: \"value\"\r\n                                }\r\n                            })\r\n                        ]\r\n                    }),\r\n                    element(\"div\", {\r\n                        attributes: {\r\n                            class: \"box\"\r\n                        }\r\n                    })\r\n                ]\r\n            }), \"f\");\r\n        }\r\n        create(properties) {\r\n            const combobox = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n            __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_optionsObserver, \"f\").observe(combobox, {\r\n                childList: true,\r\n                subtree: true\r\n            });\r\n            combobox.addEventListener(\"focusout\", __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_handleFocusOutEvent).bind(this));\r\n            combobox.addEventListener(\"keydown\", __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_handleKeyDownEvent).bind(this));\r\n            combobox.addEventListener(\"click\", __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_handleClickEvent).bind(this));\r\n            combobox.addEventListener(\"mouseover\", __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_handleMouseOverEvent).bind(this));\r\n            this.setExpanded(combobox, false);\r\n            if (properties !== undefined) {\r\n                const { id, classList, tabIndex, name, disabled, multiselectable } = properties;\r\n                if (id !== undefined) {\r\n                    combobox.id = id;\r\n                }\r\n                if (classList !== undefined) {\r\n                    combobox.classList.add(...classList);\r\n                }\r\n                if (tabIndex !== undefined) {\r\n                    combobox.tabIndex = tabIndex;\r\n                }\r\n                if (name !== undefined) {\r\n                    this.setName(combobox, name);\r\n                }\r\n                if (disabled !== undefined) {\r\n                    this.setDisabled(combobox, disabled);\r\n                }\r\n                if (multiselectable !== undefined) {\r\n                    this.setMultiSelectable(combobox, multiselectable);\r\n                }\r\n            }\r\n            return combobox;\r\n        }\r\n        slot(combobox) {\r\n            return __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_box).call(this, combobox);\r\n        }\r\n        slottedCallback(combobox, slot, name) {\r\n            const { childNodes } = slot;\r\n            Array.from(childNodes).forEach((child_i, i) => {\r\n                if (child_i instanceof HTMLElement) {\r\n                    //gridRowWidget.setPosInSet(child_i, i);\r\n                }\r\n            });\r\n        }\r\n        options(combobox) {\r\n            return Array.from(combobox.querySelectorAll(\":scope > :is(.box, .box > .optiongroup) > .option\"));\r\n        }\r\n        selectedOption(combobox) {\r\n            return combobox.querySelector(\":scope > :is(.box, .box > .optiongroup) > .option[aria-selected=true]\");\r\n        }\r\n        getName(combobox) {\r\n            return combobox.getAttribute(\"name\") ?? \"\";\r\n        }\r\n        setName(combobox, value) {\r\n            combobox.setAttribute(\"name\", value);\r\n        }\r\n        getDisabled(combobox) {\r\n            return combobox.hasAttribute(\"aria-disabled\");\r\n        }\r\n        setDisabled(combobox, value) {\r\n            combobox.toggleAttribute(\"aria-disabled\", value);\r\n        }\r\n        setExpanded(combobox, value) {\r\n            combobox.setAttribute(\"aria-expanded\", String(value));\r\n        }\r\n        getExpanded(combobox) {\r\n            return JSON.parse(combobox.getAttribute(\"aria-expanded\") ?? String(false));\r\n        }\r\n        setMultiSelectable(combobox, value) {\r\n            combobox.setAttribute(\"aria-multiselectable\", String(value));\r\n        }\r\n        getMultiSelectable(combobox) {\r\n            return JSON.parse(combobox.getAttribute(\"aria-multiselectable\") ?? String(false));\r\n        }\r\n        expand(combobox) {\r\n            const expanded = this.getExpanded(combobox);\r\n            if (!expanded) {\r\n                this.setExpanded(combobox, true);\r\n                __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_positionBox).call(this, combobox);\r\n                const selectedOption = this.selectedOption(combobox);\r\n                if (selectedOption) {\r\n                    selectedOption.focus({ preventScroll: true });\r\n                }\r\n            }\r\n        }\r\n        collapse(combobox) {\r\n            const expanded = this.getExpanded(combobox);\r\n            if (expanded) {\r\n                this.setExpanded(combobox, false);\r\n                combobox.focus();\r\n            }\r\n        }\r\n        toggle(combobox, force) {\r\n            const expanded = this.getExpanded(combobox);\r\n            const expand = force ?? !expanded;\r\n            expand ? this.expand(combobox) : this.collapse(combobox);\r\n        }\r\n    },\r\n    _ComboBoxWidgetFactoryBase_template = new WeakMap(),\r\n    _ComboBoxWidgetFactoryBase_walker = new WeakMap(),\r\n    _ComboBoxWidgetFactoryBase_optionsObserver = new WeakMap(),\r\n    _ComboBoxWidgetFactoryBase_instances = new WeakSet(),\r\n    _ComboBoxWidgetFactoryBase_box = function _ComboBoxWidgetFactoryBase_box(combobox) {\r\n        return combobox.querySelector(\":scope > .box\");\r\n    },\r\n    _ComboBoxWidgetFactoryBase_getActiveOption = function _ComboBoxWidgetFactoryBase_getActiveOption(combobox) {\r\n        return combobox.querySelector(\":scope > :is(.box, .box > .optiongroup) > .option:focus-within\");\r\n    },\r\n    _ComboBoxWidgetFactoryBase_value = function _ComboBoxWidgetFactoryBase_value(combobox) {\r\n        return combobox.querySelector(\":scope > .content > .value\");\r\n    },\r\n    _ComboBoxWidgetFactoryBase_optionsMutationCallback = function _ComboBoxWidgetFactoryBase_optionsMutationCallback(mutationsList) {\r\n        mutationsList.forEach((mutation) => {\r\n            const { target, type } = mutation;\r\n            const targetCombobox = target.closest(\".combobox\");\r\n            if (targetCombobox instanceof HTMLElement) {\r\n                switch (type) {\r\n                    case \"childList\": {\r\n                        const { addedNodes } = mutation;\r\n                        const selector = \".option[aria-selected=true]\";\r\n                        for (let node of addedNodes) {\r\n                            if (node instanceof HTMLElement) {\r\n                                const selectedOption = node.matches(selector) ? node :\r\n                                    node.querySelector(selector);\r\n                                if (selectedOption) {\r\n                                    __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_setSelectedOption).call(this, targetCombobox, selectedOption);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    },\r\n    _ComboBoxWidgetFactoryBase_walkerNodeFilter = function _ComboBoxWidgetFactoryBase_walkerNodeFilter(node) {\r\n        if (node instanceof HTMLElement) {\r\n            const { classList } = node;\r\n            if (classList.contains(\"option\") && !optionWidget.getDisabled(node) && !node.hidden) {\r\n                return NodeFilter.FILTER_ACCEPT;\r\n            }\r\n            else if (classList.contains(\"optiongroup\")) {\r\n                return NodeFilter.FILTER_SKIP;\r\n            }\r\n        }\r\n        return NodeFilter.FILTER_REJECT;\r\n    },\r\n    _ComboBoxWidgetFactoryBase_firstOption = function _ComboBoxWidgetFactoryBase_firstOption(combobox) {\r\n        const walker = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_box).call(this, combobox);\r\n        return walker.firstChild();\r\n    },\r\n    _ComboBoxWidgetFactoryBase_lastOption = function _ComboBoxWidgetFactoryBase_lastOption(combobox) {\r\n        const walker = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_box).call(this, combobox);\r\n        return walker.lastChild();\r\n    },\r\n    _ComboBoxWidgetFactoryBase_previousOption = function _ComboBoxWidgetFactoryBase_previousOption(option) {\r\n        const walker = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = option;\r\n        return walker.previousNode();\r\n    },\r\n    _ComboBoxWidgetFactoryBase_nextOption = function _ComboBoxWidgetFactoryBase_nextOption(option) {\r\n        const walker = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_walker, \"f\");\r\n        walker.currentNode = option;\r\n        return walker.nextNode();\r\n    },\r\n    _ComboBoxWidgetFactoryBase_selectOption = function _ComboBoxWidgetFactoryBase_selectOption(combobox, option) {\r\n        const selectedOption = this.selectedOption(combobox);\r\n        if (selectedOption) {\r\n            optionWidget.setSelected(selectedOption, false);\r\n        }\r\n        if (option !== selectedOption) {\r\n            optionWidget.setSelected(option, true);\r\n            __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_setSelectedOption).call(this, combobox, option);\r\n            combobox.dispatchEvent(new Event(\"change\", { bubbles: true }));\r\n        }\r\n    },\r\n    _ComboBoxWidgetFactoryBase_setSelectedOption = function _ComboBoxWidgetFactoryBase_setSelectedOption(combobox, option) {\r\n        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_value).call(this, combobox).textContent = optionWidget.getLabel(option);\r\n    },\r\n    _ComboBoxWidgetFactoryBase_positionBox = function _ComboBoxWidgetFactoryBase_positionBox(combobox) {\r\n        const box = combobox.querySelector(\":scope > .box\");\r\n        const { style: optionsStyle } = box;\r\n        const { bottom, left } = combobox.getBoundingClientRect();\r\n        const { scrollX, scrollY } = window;\r\n        optionsStyle.setProperty(\"top\", `${bottom + scrollY}px`);\r\n        optionsStyle.setProperty(\"left\", `${left + scrollX}px`);\r\n    },\r\n    _ComboBoxWidgetFactoryBase_handleClickEvent = function _ComboBoxWidgetFactoryBase_handleClickEvent(event) {\r\n        const { currentTarget, target } = event;\r\n        const targetCombobox = currentTarget;\r\n        this.toggle(targetCombobox);\r\n        const expanded = this.getExpanded(targetCombobox);\r\n        if (expanded) {\r\n            const selectedOption = this.selectedOption(targetCombobox);\r\n            (selectedOption ?? this.options(targetCombobox)[0])?.focus({ preventScroll: true });\r\n        }\r\n        else {\r\n            const targetOption = target.closest(\".option\");\r\n            if (targetOption) {\r\n                __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, targetOption);\r\n            }\r\n        }\r\n    },\r\n    _ComboBoxWidgetFactoryBase_handleFocusOutEvent = function _ComboBoxWidgetFactoryBase_handleFocusOutEvent(event) {\r\n        const { currentTarget, relatedTarget } = event;\r\n        const targetCombobox = currentTarget;\r\n        const lostFocusWithin = !targetCombobox.contains(relatedTarget);\r\n        if (lostFocusWithin) {\r\n            this.collapse(targetCombobox);\r\n        }\r\n    },\r\n    _ComboBoxWidgetFactoryBase_handleKeyDownEvent = function _ComboBoxWidgetFactoryBase_handleKeyDownEvent(event) {\r\n        const { currentTarget, key } = event;\r\n        const targetCombobox = currentTarget;\r\n        const expanded = this.getExpanded(targetCombobox);\r\n        const activeOption = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_getActiveOption).call(this, targetCombobox);\r\n        const selectedOption = this.selectedOption(targetCombobox);\r\n        switch (key) {\r\n            case \"ArrowUp\": {\r\n                if (expanded) {\r\n                    const previousOption = activeOption ?\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_previousOption).call(this, activeOption) :\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_firstOption).call(this, targetCombobox);\r\n                    if (previousOption) {\r\n                        previousOption.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const previousOption = selectedOption ?\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_previousOption).call(this, selectedOption) :\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_firstOption).call(this, targetCombobox);\r\n                    if (previousOption) {\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, previousOption);\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"ArrowDown\": {\r\n                if (expanded) {\r\n                    const nextOption = activeOption ?\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_nextOption).call(this, activeOption) :\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_lastOption).call(this, targetCombobox);\r\n                    if (nextOption) {\r\n                        nextOption.focus({ preventScroll: true });\r\n                    }\r\n                }\r\n                else {\r\n                    const nextOption = selectedOption ?\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_nextOption).call(this, selectedOption) :\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_lastOption).call(this, targetCombobox);\r\n                    if (nextOption) {\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, nextOption);\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Home\": {\r\n                const firstOption = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_firstOption).call(this, targetCombobox);\r\n                if (firstOption) {\r\n                    if (expanded) {\r\n                        firstOption.focus({ preventScroll: true });\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, firstOption);\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"End\": {\r\n                const lastOption = __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_lastOption).call(this, targetCombobox);\r\n                if (lastOption) {\r\n                    if (expanded) {\r\n                        lastOption.focus({ preventScroll: true });\r\n                    }\r\n                    else {\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, lastOption);\r\n                    }\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Enter\": {\r\n                if (expanded) {\r\n                    this.collapse(targetCombobox);\r\n                    if (activeOption) {\r\n                        __classPrivateFieldGet(this, _ComboBoxWidgetFactoryBase_instances, \"m\", _ComboBoxWidgetFactoryBase_selectOption).call(this, targetCombobox, activeOption);\r\n                    }\r\n                }\r\n                else {\r\n                    this.expand(targetCombobox);\r\n                    selectedOption?.focus({ preventScroll: true });\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            case \"Escape\": {\r\n                if (expanded) {\r\n                    this.collapse(targetCombobox);\r\n                }\r\n                event.stopPropagation();\r\n                break;\r\n            }\r\n            default: {\r\n                const { length: keyLength } = key;\r\n                if (keyLength == 1) {\r\n                    const keyCode = key.charCodeAt(0);\r\n                    const options = this.options(targetCombobox);\r\n                    const activeIndex = activeOption ? options.indexOf(activeOption) : -1;\r\n                    const matchingOption = options.find((option_i, i) => optionWidget.getLabel(option_i).toLowerCase().charCodeAt(0) == keyCode && i > activeIndex) ?? options.find((option_i) => optionWidget.getLabel(option_i).toLowerCase().charCodeAt(0) == keyCode);\r\n                    if (matchingOption) {\r\n                        matchingOption.focus({ preventScroll: true });\r\n                    }\r\n                    event.stopPropagation();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    _ComboBoxWidgetFactoryBase_handleMouseOverEvent = function _ComboBoxWidgetFactoryBase_handleMouseOverEvent(event) {\r\n        const { target } = event;\r\n        const targetItem = target.closest(\".option\");\r\n        if (targetItem) {\r\n            targetItem.focus({ preventScroll: true });\r\n        }\r\n    },\r\n    _a)));\r\n//# sourceMappingURL=ComboBoxWidget.js.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n};\r\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n};\r\nvar _OptionGroupWidgetFactoryBase_template, _a;\r\nimport { element } from \"../../../elements/Element\";\r\nimport { Widget, WidgetFactory } from \"../Widget\";\r\nexport { optionGroupWidget };\r\nvar optionGroupWidget = new (Widget({\r\n    name: \"optiongroup\"\r\n})((_a = class OptionGroupWidgetFactoryBase extends WidgetFactory {\r\n        constructor() {\r\n            super();\r\n            _OptionGroupWidgetFactoryBase_template.set(this, void 0);\r\n            __classPrivateFieldSet(this, _OptionGroupWidgetFactoryBase_template, element(\"ul\", {\r\n                attributes: {\r\n                    class: \"optiongroup\",\r\n                    role: \"group\"\r\n                }\r\n            }), \"f\");\r\n        }\r\n        create() {\r\n            return __classPrivateFieldGet(this, _OptionGroupWidgetFactoryBase_template, \"f\").cloneNode(true);\r\n        }\r\n        slot(group) {\r\n            return group;\r\n        }\r\n    },\r\n    _OptionGroupWidgetFactoryBase_template = new WeakMap(),\r\n    _a)));\r\n//# sourceMappingURL=OptionGroupWidget.js.map","import { HTMLEMenuElement } from \"../src/elements/containers/menus/Menu\";\r\nimport { EMenuItem } from \"../src/elements/containers/menus/MenuItem\";\r\nimport { HTMLEToolBarElement } from \"../src/elements/containers/toolbars/ToolBar\";\r\nimport { HTMLEToolBarItemElement } from \"../src/elements/containers/toolbars/ToolBarItem\";\r\nimport { HTMLETreeElement } from \"../src/elements/containers/trees/Tree\";\r\nimport { HTMLETreeItemElement } from \"../src/elements/containers/trees/TreeItem\";\r\nimport { CustomElement, element, fragment, reactiveElement } from \"../src/elements/Element\";\r\nimport { ModelEvent, ModelProperty } from \"../src/models/Model\";\r\nimport { GridColumnModel, GridModel, GridRowModel, GridView } from \"../src/views/GridView\";\r\nimport { TreeItemModelList, TreeItemModel, TreeModel, TreeView } from \"../src/views/TreeView\";\r\n\r\nimport * as editor from \"../lib/index\";\r\n\r\neditor;\r\n\r\nclass MyTreeItemModelList extends TreeItemModelList {\r\n    readonly items!: MyTreeItemModel[];\r\n\r\n    constructor(items: MyTreeItemModel[]) {\r\n        super(items);\r\n    }\r\n\r\n    get count(): number {\r\n        return this.items.length;\r\n    }\r\n\r\n    show(): void {\r\n        this.items.forEach(item_i => item_i.show());\r\n    }\r\n\r\n    hide(): void {\r\n        this.items.forEach(item_i => item_i.hide());\r\n    }\r\n    \r\n    display(): void {\r\n        const result = this.items.map(item_i => item_i.name).join(\" \");\r\n        console.log(result);\r\n    }\r\n}\r\n\r\nclass MyTreeItemModel extends TreeItemModel {\r\n    \r\n    @ModelProperty()\r\n    childCount: number;\r\n\r\n    @ModelProperty()\r\n    visibility: boolean;\r\n\r\n    constructor(init: {name: string, type: \"leaf\" | \"parent\", items?: TreeItemModel[]}) {\r\n        super(init);\r\n        this.childCount = this.childItems.length;\r\n        this.visibility = true;\r\n        this.addEventListener(\"modelchange\", this.#handleModelChangeEvent.bind(this));\r\n    }\r\n\r\n    show(): void {\r\n        this.visibility = true;\r\n    }\r\n\r\n    hide(): void {\r\n        this.visibility = false;\r\n    }\r\n\r\n    display(): void {\r\n        console.log(this.name);\r\n    }\r\n\r\n    #handleModelChangeEvent(event: ModelEvent): void {\r\n        const {target} = event;\r\n        const {childItems} = this;\r\n        if (target == childItems) {\r\n            this.childCount = childItems.length;\r\n        }\r\n    }\r\n}\r\n\r\nexport async function main() {\r\n    const gridView = new GridView();\r\n    gridView.resizable = true;\r\n    gridView.setModel(\r\n        new GridModel({\r\n            columns: [\r\n                new GridColumnModel({\r\n                    name: \"name\",\r\n                    type: String,\r\n                    label: \"Name\",\r\n                    extract: (row) => row.name\r\n                }),\r\n                new GridColumnModel({\r\n                    name: \"age\",\r\n                    type: Number,\r\n                    label: \"Age\",\r\n                    extract: (row) => String(row.age),\r\n                    filters: [{\r\n                        name: \"Minors\",\r\n                        filter: (row) => row.age < 18\r\n                    },{\r\n                        name: \"Majors\",\r\n                        filter: (row) => row.age >= 18\r\n                    }]\r\n                }),\r\n                new GridColumnModel({\r\n                    name: \"birthyear\",\r\n                    type: String,\r\n                    label: \"Brith Year\",\r\n                    extract: (row) => String(new Date().getFullYear() - row.age)\r\n                }),\r\n            ],\r\n            rows: [\r\n                new GridRowModel({\r\n                    id: 1,\r\n                    name: \"Denis\",\r\n                    age: 13\r\n                }),\r\n                new GridRowModel({\r\n                    id: 2,\r\n                    name: \"Jean-Charles\",\r\n                    age: 32\r\n                }),\r\n                new GridRowModel({\r\n                    id: 3,\r\n                    name: \"Charles\",\r\n                    age: 25\r\n                }),\r\n                new GridRowModel({\r\n                    id: 4,\r\n                    name: \"Mamagubida\",\r\n                    age: 128\r\n                })\r\n            ]\r\n        })\r\n    );\r\n    document.body.append(gridView);\r\n    gridView.render();\r\n\r\n    const treeModel = new TreeModel({\r\n        items: [\r\n            new MyTreeItemModel({\r\n                name: \"TI 0\",\r\n                type: \"parent\",\r\n                items: [\r\n                    new MyTreeItemModel({\r\n                        name: \"TI 1A\",\r\n                        type: \"parent\",\r\n                        items: [\r\n                            new MyTreeItemModel({\r\n                                type: \"leaf\",\r\n                                name: \"TI 1AX\"\r\n                            }),\r\n                        ]\r\n                    }),\r\n                    new MyTreeItemModel({\r\n                        type: \"parent\",\r\n                        name: \"TI 1B\"\r\n                    })\r\n                ]\r\n            }),\r\n            new MyTreeItemModel({\r\n                name: \"TI 1\",\r\n                type: \"parent\",\r\n                items: [\r\n                    new MyTreeItemModel({\r\n                        name: \"TI 1A\",\r\n                        type: \"parent\",\r\n                        items: [\r\n                            new MyTreeItemModel({\r\n                                type: \"leaf\",\r\n                                name: \"TI 1AX\"\r\n                            }),\r\n                        ]\r\n                    }),\r\n                    new MyTreeItemModel({\r\n                        type: \"parent\",\r\n                        name: \"TI 1B\"\r\n                    })\r\n                ]\r\n            }),\r\n            new MyTreeItemModel({\r\n                type: \"leaf\",\r\n                name: \"TI 2\"\r\n            }),\r\n            new MyTreeItemModel({\r\n                type: \"leaf\",\r\n                name: \"TI 3\"\r\n            })\r\n        ]\r\n    });\r\n    \r\n    @CustomElement({\r\n        name: \"e-mytreeview\"\r\n    })\r\n    class MyTreeView extends TreeView {\r\n\r\n        override render(): void {\r\n            super.render();\r\n            const {shadowRoot, treeElement} = this;\r\n            shadowRoot.prepend(\r\n                element(\"link\", {\r\n                    attributes: {\r\n                        rel: \"stylesheet\",\r\n                        href: \"/sample/css/mytreeview.css\"\r\n                    }\r\n                })\r\n            );\r\n            treeElement!.addEventListener(\"keydown\", this.#handleKeyDownEvent.bind(this));\r\n            treeElement!.addEventListener(\"dblclick\", this.#handleDoubleClickEvent.bind(this));\r\n        }\r\n\r\n        override itemContentDelegate(item: MyTreeItemModel) {\r\n            return fragment(\r\n                reactiveElement(\r\n                    item,\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"label\"\r\n                        }\r\n                    }),\r\n                    [\"name\"],\r\n                    (label, property, oldValue, newValue) => {\r\n                        label.textContent = newValue;\r\n                    }\r\n                ),\r\n                reactiveElement(\r\n                    item,\r\n                    element(\"span\", {\r\n                        attributes: {\r\n                            class: \"badge\"\r\n                        }\r\n                    }),\r\n                    [\"childCount\", \"type\"],\r\n                    (badge, property, oldValue, newValue) => {\r\n                        switch (property) {\r\n                            case \"type\": {\r\n                                if (newValue === \"leaf\") {\r\n                                    badge.textContent = null;\r\n                                }\r\n                                else {\r\n                                    badge.textContent = `(${item.childCount})`;\r\n                                }\r\n                                break;\r\n                            }\r\n                            case \"childCount\": {\r\n                                badge.textContent = `(${newValue})`;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                )\r\n            );\r\n        }\r\n\r\n        override itemToolbarDelegate(this: TreeView, item: MyTreeItemModel): HTMLEToolBarElement {\r\n            return reactiveElement(\r\n                item,\r\n                element(\"e-toolbar\", {\r\n                    children: [\r\n                        element(\"e-toolbaritem\", {\r\n                            attributes: {\r\n                                name: \"visibility\",\r\n                                type: \"checkbox\",\r\n                                label: \"Visibility\",\r\n                                iconed: true\r\n                            },\r\n                            listeners: {\r\n                                click: (event) => {\r\n                                    item.visibility ?\r\n                                        item.hide() :\r\n                                        item.show();\r\n                                    event.stopPropagation();\r\n                                }\r\n                            }\r\n                        })\r\n                    ]\r\n                }),\r\n                [\"visibility\"],\r\n                (toolbar, property, oldValue, newValue) => {\r\n                    switch (property) {\r\n                        case \"visibility\": {\r\n                            const visibilityItem = toolbar\r\n                                .querySelector<HTMLEToolBarItemElement>(\"e-toolbaritem[name=visibility]\");\r\n                            if (visibilityItem) {\r\n                                const label = newValue ? \"Hide\" : \"Show\";\r\n                                visibilityItem.label = label;\r\n                                visibilityItem.title = label;\r\n                                visibilityItem.pressed = newValue;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n        }\r\n\r\n        override itemMenuDelegate(this: TreeView): HTMLEMenuElement {\r\n            const {treeElement} = this;\r\n            const {activeItem: activeItemElement} = treeElement!;\r\n            const selectedItems = <MyTreeItemModel[]>this.selectedItems();\r\n            const activeItem = <MyTreeItemModel>this.activeItem();\r\n            return element(\"e-menu\", {\r\n                attributes: {\r\n                    contextual: true\r\n                },\r\n                children: [\r\n                    element(\"e-menuitemgroup\", {\r\n                        children: [\r\n                            element(\"e-menuitem\", {\r\n                                attributes: {\r\n                                    type: \"checkbox\",\r\n                                    label: activeItem.visibility ? \"Hide\" : \"Show\"\r\n                                },\r\n                                children: activeItem.visibility ? \"Hide\" : \"Show\",\r\n                                listeners: {\r\n                                    click: () => {\r\n                                        const selectedItemsList = selectedItems.includes(activeItem) ?\r\n                                            new MyTreeItemModelList(selectedItems) : new MyTreeItemModelList([activeItem]);\r\n                                        activeItem.visibility ?\r\n                                            selectedItemsList.hide() :\r\n                                            selectedItemsList.show();\r\n                                        activeItemElement!.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    }),\r\n                    element(\"e-separator\"),\r\n                    element(\"e-menuitemgroup\", {\r\n                        children: [\r\n                            element(\"e-menuitem\", {\r\n                                attributes: {\r\n                                    label: \"Delete\"\r\n                                },\r\n                                children: \"Delete\",\r\n                                listeners: {\r\n                                    click: () => {\r\n                                        const selectedItemsList = selectedItems.includes(activeItem) ?\r\n                                            new MyTreeItemModelList(selectedItems) : new MyTreeItemModelList([activeItem]);\r\n                                        const {count} = selectedItemsList;\r\n                                        const doRemove = confirm(`Remove ${count} items?`);\r\n                                        if (doRemove) {\r\n                                            selectedItemsList.remove();\r\n                                        }\r\n                                        treeElement!.focus();\r\n                                    }\r\n                                }\r\n                            })\r\n                        ]\r\n                    })\r\n                ]\r\n            });\r\n        }\r\n\r\n        #handleKeyDownEvent(event: KeyboardEvent) {\r\n            const {currentTarget, key} = event;\r\n            const targetTree = <HTMLETreeElement>currentTarget;\r\n            const {activeItem} = targetTree;\r\n            if (activeItem) {\r\n                const activeItemModel = <MyTreeItemModel>this.treeItem(activeItem!)!;\r\n                switch (key) {\r\n                    case \"Delete\": {\r\n                        const selectedItems = this.selectedItems();\r\n                        const selectedItemsList = selectedItems.includes(activeItemModel) ?\r\n                            new TreeItemModelList(selectedItems) : new TreeItemModelList([activeItemModel]);\r\n                        const {count} = selectedItemsList;\r\n                        const doRemove = confirm(`Remove ${count} items?`);\r\n                        if (doRemove) {\r\n                            selectedItemsList.remove();\r\n                        }\r\n                        targetTree.focus();\r\n                        event.preventDefault();\r\n                        break;\r\n                    }\r\n                    case \"Enter\": {\r\n                        this.showEditItemDialog(activeItemModel);\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        showEditItemDialog(item: MyTreeItemModel): void {\r\n            const {shadowRoot} = this;\r\n            const {visibility, name, type} = item;\r\n            const dialog = element(\"dialog\", {\r\n                children: [\r\n                    element(\"form\", {\r\n                        attributes: {\r\n                            method: \"dialog\"\r\n                        },\r\n                        children: [\r\n                            element(\"e-tablist\", {\r\n                                children: [\r\n                                    element(\"e-tab\", {\r\n                                        attributes: {\r\n                                            controls: \"properties\"\r\n                                        },\r\n                                        children: \"Properties\"\r\n                                    })\r\n                                ]\r\n                            }),\r\n                            element(\"e-tabpanel\", {\r\n                                attributes: {\r\n                                    id: \"properties\"\r\n                                },\r\n                                children: [\r\n                                    element(\"fieldset\", {\r\n                                        children: [\r\n                                            element(\"legend\", {\r\n                                                children: \"Item information\"\r\n                                            }),\r\n                                            element(\"div\", {\r\n                                                attributes: {\r\n                                                    class: \"form-content\"\r\n                                                },\r\n                                                children: [\r\n                                                    element(\"label\", {\r\n                                                        attributes: {\r\n                                                            for: \"visibility\"\r\n                                                        },\r\n                                                        children: \"Visibility\"\r\n                                                    }),\r\n                                                    element(\"input\", {\r\n                                                        attributes: {\r\n                                                            id: \"visibility\",\r\n                                                            type: \"checkbox\",\r\n                                                            name: \"visibility\",\r\n                                                            checked: visibility\r\n                                                        }\r\n                                                    }),\r\n                                                    element(\"label\", {\r\n                                                        attributes: {\r\n                                                            for: \"name\"\r\n                                                        },\r\n                                                        children: \"Name\"\r\n                                                    }),\r\n                                                    element(\"input\", {\r\n                                                        attributes: {\r\n                                                            id: \"name\",\r\n                                                            type: \"text\",\r\n                                                            name: \"name\",\r\n                                                            value: name\r\n                                                        }\r\n                                                    }),\r\n                                                    element(\"label\", {\r\n                                                        attributes: {\r\n                                                            for: \"type\"\r\n                                                        },\r\n                                                        children: \"Type\"\r\n                                                    }),\r\n                                                    element(\"e-select\", {\r\n                                                        attributes: {\r\n                                                            id: \"type\",\r\n                                                            name: \"type\"\r\n                                                        },\r\n                                                        children: [\"parent\", \"leaf\"].map(\r\n                                                            type_i => element(\"e-option\", {\r\n                                                                attributes: {\r\n                                                                    label: type_i,\r\n                                                                    value: type_i,\r\n                                                                    selected: type === type_i\r\n                                                                }\r\n                                                            })\r\n                                                        )\r\n                                                    })\r\n                                                ]\r\n                                            })\r\n                                        ]\r\n                                    })\r\n                                ]\r\n                            }),\r\n                            element(\"footer\", {\r\n                                attributes: {\r\n                                    class: \"dialog-footer\"\r\n                                },\r\n                                children: [\r\n                                    element(\"button\", {\r\n                                        attributes: {\r\n                                            type: \"submit\",\r\n                                            value: \"confirm\"\r\n                                        },\r\n                                        children: \"Confirm\"\r\n                                    }),\r\n                                    element(\"button\", {\r\n                                        attributes: {\r\n                                            value: \"cancel\"\r\n                                        },\r\n                                        children: \"Cancel\"\r\n                                    })\r\n                                ]\r\n                            })\r\n                        ]\r\n                    })\r\n                ],\r\n                listeners: {\r\n                    close: (event) => {\r\n                        const {currentTarget} = event;\r\n                        const targetDialog = <HTMLDialogElement>currentTarget;\r\n                        if (targetDialog.returnValue === \"confirm\") {\r\n                            const form = targetDialog.querySelector(\"form\")!;\r\n                            const formData = new FormData(form);\r\n                            item.visibility = Boolean(formData.get(\"visibility\"));\r\n                            item.type = <\"leaf\" | \"parent\">String(formData.get(\"type\"));\r\n                            item.name = String(formData.get(\"name\"));\r\n                        }\r\n                        targetDialog.remove();\r\n                    }\r\n                }\r\n            });\r\n            shadowRoot.append(dialog);\r\n            dialog.showModal();\r\n        }\r\n\r\n        #handleDoubleClickEvent(event: MouseEvent): void {\r\n            const {target} = event;\r\n            const targetItem = <HTMLETreeItemElement>(<Element>target).closest(\"e-treeitem\");\r\n            const targetItemModel = <MyTreeItemModel>this.treeItem(targetItem);\r\n            if (targetItemModel) {\r\n                this.showEditItemDialog(targetItemModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    const treeView = new MyTreeView();\r\n    treeView.draggable = true;\r\n    treeView.setModel(treeModel);\r\n    treeView.render();\r\n    document.body.append(treeView);\r\n\r\n    document.body.append(\r\n        element(\"e-menubar\", {\r\n            children: [\r\n                element(\"e-menuitem\", {\r\n                    attributes: {\r\n                        type: \"menu\",\r\n                        label: \"Menu 1\",\r\n                        disabled: true\r\n                    },\r\n                    children: [\r\n                        \"Menu 1\"\r\n                    ]\r\n                }),\r\n                element(\"e-menuitem\", {\r\n                    attributes: {\r\n                        type: \"menu\",\r\n                        label: \"Menu 1\"\r\n                    },\r\n                    children: [\r\n                        \"Menu 1\",\r\n                        element(\"e-menu\", {\r\n                            attributes: {\r\n                                slot: \"menu\"\r\n                            },\r\n                            children: [\r\n                                element(\"e-menuitem\", {\r\n                                    attributes: {\r\n                                        type: \"checkbox\"\r\n                                    },\r\n                                    children: \"Menuitem 1\"\r\n                                }),\r\n                                element(\"e-menuitem\", {\r\n                                    attributes: {\r\n                                        type: \"submenu\"\r\n                                    },\r\n                                    children: [\r\n                                        \"Submenu 1\",\r\n                                        element(\"e-menu\", {\r\n                                            attributes: {\r\n                                                slot: \"menu\"\r\n                                            },\r\n                                            children: [\r\n                                                EMenuItem.radio({\r\n                                                    label: \"SubmenuItem 1\",\r\n                                                    name: \"radio\",\r\n                                                    value: String(0)\r\n                                                }),\r\n                                                EMenuItem.radio({\r\n                                                    label: \"SubmenuItem 2\",\r\n                                                    name: \"radio\",\r\n                                                    value: String(1)\r\n                                                })\r\n                                            ]\r\n                                        })\r\n                                    ]\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                }),\r\n                element(\"e-menuitem\", {\r\n                    attributes: {\r\n                        type: \"menu\",\r\n                        label: \"Menu 1\"\r\n                    },\r\n                    children: [\r\n                        \"Menu 1\",\r\n                        element(\"e-menu\", {\r\n                            attributes: {\r\n                                slot: \"menu\"\r\n                            },\r\n                            children: [\r\n                                element(\"e-menuitem\", {\r\n                                    attributes: {\r\n                                        type: \"checkbox\"\r\n                                    },\r\n                                    children: \"Checkbox\"\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        })\r\n    );\r\n\r\n    document.body.append(\r\n        element(\"e-toolbar\", {\r\n            children: [\r\n                element(\"e-toolbaritem\", {\r\n                    attributes: {\r\n                        id: \"one\"\r\n                    },\r\n                    children: \"Item 1\"\r\n                }),\r\n                element(\"e-toolbaritem\", {\r\n                    attributes: {\r\n                        id: \"three\",\r\n                    },\r\n                    children: \"Item 3\"\r\n                }),\r\n                element(\"e-toolbaritem\", {\r\n                    attributes: {\r\n                        id: \"four\"\r\n                    },\r\n                    children: \"Item 4\"\r\n                }),\r\n                element(\"e-toolbaritem\", {\r\n                    children: \"Item 5\"\r\n                }),\r\n                element(\"e-toolbaritem\", {\r\n                    attributes: {\r\n                        id: \"two\"\r\n                    },\r\n                    children: \"Item 2\"\r\n                })\r\n            ]\r\n        }),\r\n        element(\"e-tooltip\", {\r\n            attributes: {\r\n                for: \"one\",\r\n                position: \"bottom\"\r\n            },\r\n            children: \"First tooltip\"\r\n        }),\r\n        element(\"e-tooltip\", {\r\n            attributes: {\r\n                for: \"two\",\r\n                position: \"top\"\r\n            },\r\n            children: \"Second tooltip!\"\r\n        }),\r\n        element(\"e-tooltip\", {\r\n            attributes: {\r\n                for: \"three\",\r\n                position: \"right\",\r\n            },\r\n            children: \"Third tooltip ?\"\r\n        }),\r\n        element(\"e-tooltip\", {\r\n            attributes: {\r\n                for: \"four\",\r\n                position: \"left\"\r\n            },\r\n            children: \"Fourth.\"\r\n        })\r\n    );\r\n}"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","ModelChangeRecordBase","constructor","init","this","target","changeType","propertyName","oldValue","undefined","newValue","removedIndex","removedItems","ModelNodesList","insertedIndex","insertedItems","sortedIndices","PROPERTY_CHANGE","LIST_REMOVE","LIST_INSERT","LIST_SORT","ModelChangeRecord","items","slice","length","item","index","values","ModelEventBase","type","currentTarget","ModelEventTargetAccessor","setCurrentTarget","event","setTarget","ModelEvent","ModelNodeBase","Map","receiveEvent","callbacks","forEach","callback_i","addEventListener","callback","push","set","removeEventListener","callbackIndex","findIndex","splice","delete","dispatchEvent","super","parentNode","setParent","isCyclicReference","ancestorNode","TypeError","beginChanges","endChanges","getRecords","property","records","record","ModelNodeRecordsAccessor","triggerChange","node","handleRecord","ModelNode","ModelProperty","ModelObjectPropertiesAccessor","getProperty","setProperty","ModelObjectBase","ModelObject","ModelList","item_i","indexOf","sort","compareFunction","indexedItems","map","i","indexedItem_a","indexedItem_b","indexedItem_i","prepend","_items","append","insert","Math","abs","remove","clear","removedItem_i","reference","options","properties","propertiesFilter","childList","subtree","filter","record_i","includes","ModelChangeObserver","WeakMap","observe","references","listener","bind","unobserve","disconnect","str","replace","toLowerCase","AttributeProperty","String","defaultValue","observed","name","observedAttributes","Reflect","Array","isArray","writable","Boolean","hasAttribute","setAttribute","removeAttribute","val","getAttribute","JSON","parse","stringify","Number","parseFloat","CustomElement","elementCtor","customElements","define","fragment","nodes","document","createDocumentFragment","tagName","attributes","dataset","children","listeners","element","createElement","entries","attributeName","attributeValue","toggleAttribute","elementDataset","keys","datasetEntry_i","from","name_i","listener_i","reactiveElementsMap","reactiveElementsFinalizationRegistry","FinalizationRegistry","heldValue","model","reactiveElement","reactiveElementsMapEntry","reactiveElementsArray","reactiveElementsPropertyObserver","reactiveElement_i","elementRef","react","deref","WeakRef","register","observerOptions","concat","property_i","reactiveChildElementsMap","reactiveChildElementsFinalizationRegistry","list","reactiveChildElement","reactiveChildrenElementsMapEntry","reactiveChildElementsArray","reactiveChildElementsObserver","range","listLength","reactiveChildElements_i","parentRef","mapping","placeholder","parent","firstChild","childrenCount","removeChild","insertedItemsArray","before","removedCount","createRange","removeEndIndex","setStartBefore","setEndAfter","deleteContents","childrenArray","index_i","reactiveChildElements","reactiveChildElementsMapEntry","shadowTemplate","HTMLEMenuItemElementBase","HTMLElement","shadowRoot","attachShadow","mode","internals","attachInternals","role","content","cloneNode","attributeChangedCallback","ariaChecked","ariaDisabled","ariaExpanded","ariaLabel","connectedCallback","tabIndex","toggle","force","expanded","expand","Event","bubbles","collapse","menu","style","menuStyle","top","itemTop","bottom","itemBottom","left","itemLeft","right","itemRight","getBoundingClientRect","width","menuWidth","height","menuHeight","scrollY","scrollX","window","clientWidth","clientHeight","body","overflowX","overflowY","closestMenu","closest","closestMenuTop","closestMenuLeft","part","selector","propertyKey","getter","withinShadowRoot","querySelector","HTMLEMenuItemElement","EMenuItem","assign","label","trigger","slot","tabindex","title","click","button","checkbox","radio","submenu","ViewBase","setModel","renderLight","renderShadow","render","shadow","replaceChildren","light","View","GridModel","rows","initRows","columns","initColumns","getColumnByName","find","column_i","sortByColumn","column","sortOrder","sortorder","sortTest","row_1","row_2","cell_1","extract","cell_2","localeCompare","sign","GridColumnModel","filters","GridRowModel","id","age","GridViewBase","row","gridElement","setColumnDelegate","delegate","setCellDelegate","getRowElement","getColumnHeaderElement","getColumnCellsElements","querySelectorAll","rel","href","input","selectby","multisectable","contextmenu","setSearchFilter","row_i","rowElement","hidden","clearSelection","addDisplayFilter","displayFilters","removeDisplayFilter","filterIndex","searchFilter","some","filter_i","class","resizable","controls","cell","toString","headers","clientX","clientY","targetHead","targetHeader","contextMenu","contextual","columnHeaderElement","maxWidth","cell_i","reduce","max","focus","removeProperty","checked","targetItem","positionContextual","preventScroll","preventDefault","HTMLInputElement","matches","targetColumn","GridView","TreeModel","sortFunction","childItems","subtreeItems","item_a","item_b","flatMap","treeItem_i","of","getItemByUri","uri","itemsCount","uriLength","itemUri","itemUriLength","startsWith","flattenedInsertedItems","insertedItem_i","flattenedRemovedItems","TreeItemModelList","count","removedItemsGroups","TreeItemModel","group","list_i","children_i","child_i","level","parentItem","TreeViewBase","treeElement","draggable","treeItemElement","treeItem","dragstart","drop","focusin","focusout","itemContentDelegate","textContent","itemToolbarDelegate","itemMenuDelegate","selectedItems","activeItem","closestItem","parentElement","toolbar","posinset","treeitem","dragImageElement","span","targetTree","dataTransfer","selectedElements","selectedCount","selectedUris","element_i","uri_i","_","uris","uri_j","selectedUrisString","join","lastUri","lastItem","dropEffect","setData","dragImage","setDragImage","targetUri","targetItemModel","transferedUris","getData","split","transferedItems","targetType","targetParentItem","targetList","sameLabelIndex","item_j","confirm","copyWithin","newElements","beginSelection","selected","endSelection","relatedTarget","contains","relatedPosition","compareDocumentPosition","Node","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","itemToolbar","_HotKey_instances","_HotKey_modifierString","_HotKey_testModifier","Key","KeyModifier","MouseButton","TreeView","receiver","state","kind","f","has","HotKey","mod1","mod2","add","toUpperCase","test","WeakSet","mod","Control","altKey","ctrlKey","shiftKey","charAt","substring","text","stylesheet","CSSStyleSheet","replaceSync","newlineIndex","indentMatch","match","indent","replaceAll","trimEnd","createTextNode","referenceAttributeType","referenceAttributeName","referenceAttributeValue","RegExp","attributeType","attach","detach","decorators","desc","d","c","arguments","r","getOwnPropertyDescriptor","decorate","HTMLEGridCellElementBase","_HTMLEGridRowGroupElementBase_instances","_HTMLEGridRowGroupElementBase_handleSlotChangeEvent","HTMLEGridCellElement","HTMLEGridRowGroupElementBase","assignedElements","HTMLEGridRowGroupElement","parseInt","HTMLEMenuItemGroupElementBase","_HTMLEMenuElementBase_instances","_HTMLEMenuElementBase_walker","_HTMLEMenuElementBase_activeIndex","_HTMLEMenuElementBase_collapseSubmenus","_HTMLEMenuElementBase_nearestItem","_HTMLEMenuElementBase_walkerNodeFilter","_HTMLEMenuElementBase_lastItem","_HTMLEMenuElementBase_previousItem","_HTMLEMenuElementBase_nextItem","_HTMLEMenuElementBase_firstChildItem","_HTMLEMenuElementBase_setActiveItem","_HTMLEMenuElementBase_handleClickEvent","_HTMLEMenuElementBase_handleFocusInEvent","_HTMLEMenuElementBase_handleFocusOutEvent","_HTMLEMenuElementBase_handleKeyDownEvent","_HTMLEMenuElementBase_handleMouseOutEvent","_HTMLEMenuElementBase_handleMouseOverEvent","HTMLEMenuElementBase_1","toggleAnimations","HTMLEMenuItemGroupElement","EMenuItemGroup","radios","HTMLEMenuElementBase","createTreeWalker","NodeFilter","SHOW_ELEMENT","activeIndex","x","y","firstItem","walker","currentNode","root","FILTER_ACCEPT","FILTER_SKIP","FILTER_REJECT","lastChild","previousNode","nextNode","radio_i","nearestItem","error","stopPropagation","composedPath","target_i","HTMLEMenuElement","blur","cancel","toggleAnimation","animate","duration","finished","then","catch","finally","intersectsWithMouse","containsRelatedTarget","_HTMLEGridRowElementBase_instances","_HTMLEGridRowElementBase_menu","_HTMLEGridRowElementBase_handleSlotChangeEvent","EMenu","HTMLEGridRowElementBase","cells","HTMLEGridCellCollection","slotName","_HTMLEGridCellCollectionBase_instances","_HTMLEGridCellCollectionBase_walker","_HTMLEGridCellCollectionBase_nodeFilter","HTMLEGridRowElement","HTMLEGridBodyElement","_HTMLEGridRowCollectionBase_instances","_HTMLEGridRowCollectionBase_walker","_HTMLEGridRowCollectionBase_nodeFilter","namedItem","_HTMLEGridBodyElementBase_instances","_HTMLEGridBodyElementBase_handleSlotChangeEvent","HTMLEGridRowCollection","HTMLEGridBodyElementBase","_HTMLEGridElementBase_instances","_HTMLEGridElementBase_onSelection","_HTMLEGridElementBase_hasSelectionChanged","_HTMLEGridElementBase_cellsWalker","_HTMLEGridElementBase_rowsWalker","_HTMLEGridElementBase_cellsWalkerNodeFilter","_HTMLEGridElementBase_rowsWalkerNodeFilter","_HTMLEGridElementBase_getCellsRange","_HTMLEGridElementBase_getRowsRange","_HTMLEGridElementBase_setCellsSelection","_HTMLEGridElementBase_setRowsSelection","_HTMLEGridElementBase_addCellsToSelection","_HTMLEGridElementBase_addRowsToSelection","_HTMLEGridElementBase_removeCellsFromSelection","_HTMLEGridElementBase_removeRowsFromSelection","_HTMLEGridElementBase_clearCellsSelection","_HTMLEGridElementBase_clearRowsSelection","_HTMLEGridElementBase_setActiveCell","_HTMLEGridElementBase_setActiveRow","_HTMLEGridElementBase_firstCell","_HTMLEGridElementBase_lastCell","_HTMLEGridElementBase_previousCell","_HTMLEGridElementBase_nextCell","_HTMLEGridElementBase_closestRow","_HTMLEGridElementBase_firstRow","_HTMLEGridElementBase_lastRow","_HTMLEGridElementBase_previousRow","_HTMLEGridElementBase_nextRow","_HTMLEGridElementBase_topCell","_HTMLEGridElementBase_bottomCell","_HTMLEGridElementBase_handleClickEvent","_HTMLEGridElementBase_handleContextMenuEvent","_HTMLEGridElementBase_handleDblClickEvent","_HTMLEGridElementBase_handleKeyDownEvent","_HTMLEGridElementBase_handleFocusEvent","_HTMLEGridElementBase_handleFocusInEvent","_HTMLEGridElementBase_handleSelectEvent","_HTMLEGridElementBase_handleSlotChangeEvent","HTMLEGridElementBase","activeCell","activeRow","head","selectedCells","selectedRows","to","fromIndex","toIndex","min","position","DOCUMENT_POSITION_FOLLOWING","nextVisibleRow","previousVisibleRow","selectedCell_i","selectedRow_i","active","cellsWalker","rowsWalker","closestRow","closestRowCells","cellIndex","previousRow","previousRowCells","nextRow","nextRowCells","targetCell","lastSelectedCell","targetRow","lastSelectedRow","firstRow","firstCell","lastRow","lastCell","previousCell","nextCell","topCell","bottomCell","_HTMLEGridHeadElementBase_instances","_HTMLEGridHeadElementBase_handleSlotChangeEvent","HTMLEGridElement","HTMLEGridHeadElementBase","_HTMLEMenuBarElementBase_instances","_HTMLEMenuBarElementBase_activeIndex","_HTMLEMenuBarElementBase_walker","_HTMLEMenuBarElementBase_walkerNodeFilter","_HTMLEMenuBarElementBase_lastItem","_HTMLEMenuBarElementBase_previousItem","_HTMLEMenuBarElementBase_nextItem","_HTMLEMenuBarElementBase_firstChildItem","_HTMLEMenuBarElementBase_setActiveItem","_HTMLEMenuBarElementBase_items_get","_HTMLEMenuBarElementBase_isClosestMenu","_HTMLEMenuBarElementBase_nearestItem","_HTMLEMenuBarElementBase_handleFocusEvent","_HTMLEMenuBarElementBase_handleFocusInEvent","_HTMLEMenuBarElementBase_handleFocusOutEvent","_HTMLEMenuBarElementBase_handleMouseOverEvent","_HTMLEMenuBarElementBase_handleClickEvent","_HTMLEMenuBarElementBase_handleKeyDownEvent","HTMLEGridHeadElement","HTMLEMenuBarElementBase","disabled","previousSibling","nextSibling","Element","isExpanded","_HTMLEMenuButtonElementBase_instances","_HTMLEMenuButtonElementBase_positionMenu","_HTMLEMenuButtonElementBase_handleClickEvent","_HTMLEMenuButtonElementBase_handleFocusOutEvent","_HTMLEMenuButtonElementBase_handleKeyDownEvent","HTMLEMenuBarElement","HTMLEMenuButtonElementBase","iconPart","HTMLEMenuButtonElement","EMenuButton","HTMLEToolBarItemElementBase","HTMLEToolBarItemElement","EToolBarItem","menubutton","select","HTMLEToolBarItemGroupElementBase","_HTMLEToolBarElementBase_instances","_HTMLEToolBarElementBase_walker","_HTMLEToolBarElementBase_nodeFilter","_HTMLEToolBarElementBase_lastItem","_HTMLEToolBarElementBase_previousItem","_HTMLEToolBarElementBase_nextItem","_HTMLEToolBarElementBase_setActiveItem","_HTMLEToolBarElementBase_handleClickEvent","_HTMLEToolBarElementBase_handleContextMenuEvent","_HTMLEToolBarElementBase_handleDblClickEvent","_HTMLEToolBarElementBase_handleFocusEvent","_HTMLEToolBarElementBase_handleFocusInEvent","_HTMLEToolBarElementBase_handleFocusOutEvent","_HTMLEToolBarElementBase_handleMouseDownEvent","_HTMLEToolBarElementBase_handleKeyDownEvent","wasExpandedOnMouseDown","HTMLEToolBarItemGroupElement","HTMLEToolBarElementBase","pressed","previousItem","nextItem","HTMLEToolBarElement","HTMLETabElementBase","panel","getRootNode","_HTMLETabListElementBase_instances","_HTMLETabListElementBase_walker","_HTMLETabListElementBase_walkerNodeFilter","_HTMLETabListElementBase_lastItem","_HTMLETabListElementBase_previousItem","_HTMLETabListElementBase_nextItem","_HTMLETabListElementBase_setActiveTab","_HTMLETabListElementBase_selectTab","_HTMLETabListElementBase_handleClickEvent","_HTMLETabListElementBase_handleFocusEvent","_HTMLETabListElementBase_handleFocusInEvent","_HTMLETabListElementBase_handleFocusOutEvent","_HTMLETabListElementBase_handleKeyDownEvent","_HTMLETabListElementBase_handleSelectEvent","HTMLETabElement","HTMLETabListElementBase","tabs","activeTab","selectedTab","upgrade","tabToSelect","tab","targetTab","tab_i","HTMLETabListElement","HTMLETabPanelElementBase","HTMLETabPanelElement","HTMLETreeItemElementBase","labelPart","HTMLETreeItemElement","HTMLETreeItemGroupElementBase","_HTMLETreeElementBase_instances","_HTMLETreeElementBase_onSelection","_HTMLETreeElementBase_hasSelectionChanged","_HTMLETreeElementBase_walker","_HTMLETreeElementBase_nodeFilter","_HTMLETreeElementBase_getItemsRange","_HTMLETreeElementBase_setSelection","_HTMLETreeElementBase_addToSelection","_HTMLETreeElementBase_removeFromSelection","_HTMLETreeElementBase_clearSelection","_HTMLETreeElementBase_setActiveItem","_HTMLETreeElementBase_setDropTargetItem","_HTMLETreeElementBase_lastItem","_HTMLETreeElementBase_previousItem","_HTMLETreeElementBase_nextItem","_HTMLETreeElementBase_deepestItem","_HTMLETreeElementBase_handleClickEvent","_HTMLETreeElementBase_handleContextMenuEvent","_HTMLETreeElementBase_handleDblClickEvent","_HTMLETreeElementBase_handleDragEndEvent","_HTMLETreeElementBase_handleDragEnterEvent","_HTMLETreeElementBase_handleDragOverEvent","_HTMLETreeElementBase_handleDragLeaveEvent","_HTMLETreeElementBase_handleDropEvent","_HTMLETreeElementBase_handleKeyDownEvent","_HTMLETreeElementBase_handleFocusEvent","_HTMLETreeElementBase_handleFocusInEvent","_HTMLETreeElementBase_handleFocusOutEvent","_HTMLETreeElementBase_handleMouseDownEvent","_HTMLETreeElementBase_handleSelectEvent","HTMLETreeItemGroupElement","HTMLETreeElementBase","getElementsByTagName","dropTargetItem","nextVisibleItem","previousVisibleItem","selectedItem_i","droptarget","relatedTargetRoot","relatedTargetHost","ShadowRoot","host","_HTMLEListItemElementBase_instances","_HTMLEListItemElementBase_badge","_HTMLEListItemElementBase_toolbar","_HTMLEListItemElementBase_menu","_HTMLEListItemElementBase_handleSlotChangeEvent","HTMLETreeElement","HTMLEListItemElementBase","badge","HTMLSpanElement","_HTMLEListItemGroupElementBase_instances","_HTMLEListItemGroupElementBase_handleSlotChangeEvent","HTMLEListItemElement","HTMLEListItemGroupElementBase","_HTMLEListElementBase_instances","_HTMLEListElementBase_dropTargetIndex","_HTMLEListElementBase_activeIndex","_HTMLEListElementBase_onSelection","_HTMLEListElementBase_hasSelectionChanged","_HTMLEListElementBase_walker","_HTMLEListElementBase_walkerNodeFilter","_HTMLEListElementBase_getItemsRange","_HTMLEListElementBase_setSelection","_HTMLEListElementBase_addToSelection","_HTMLEListElementBase_removeFromSelection","_HTMLEListElementBase_clearSelection","_HTMLEListElementBase_setActiveItem","_HTMLEListElementBase_setDropTargetItem","_HTMLEListElementBase_firstItem","_HTMLEListElementBase_lastItem","_HTMLEListElementBase_previousItem","_HTMLEListElementBase_nextItem","_HTMLEListElementBase_handleContextMenuEvent","_HTMLEListElementBase_handleClickEvent","_HTMLEListElementBase_handleDragEndEvent","_HTMLEListElementBase_handleDragEnterEvent","_HTMLEListElementBase_handleDragOverEvent","_HTMLEListElementBase_handleDragLeaveEvent","_HTMLEListElementBase_handleDragStartEvent","_HTMLEListElementBase_handleDropEvent","_HTMLEListElementBase_handleKeyDownEvent","_HTMLEListElementBase_handleFocusEvent","_HTMLEListElementBase_handleFocusInEvent","_HTMLEListElementBase_handleSelectEvent","_HTMLEListElementBase_handleSlotChangeEvent","HTMLEListItemGroupElement","HTMLEListElementBase","lastSelectedItem","_HTMLEDraggableElementBase_referee","HTMLEListElement","HTMLEDraggableElementBase","referee","disconnectedCallback","thisRefIndex","getReference","_HTMLEDragzoneElementBase_draggables","_HTMLEDragzoneElementBase_selectedDraggables","HTMLEDraggableElement","HTMLEDragzoneElementBase","draggables","selectedDraggables","selectDraggable","unselectDraggable","elem","thisSelectedDraggable","dragged","thisDraggedDraggable","targetIndex","firstIndex","direction","startRangeIndex","endRangeIndex","thisDraggable","HTMLEDragzoneElement","HTMLEDropzoneElementBase","droptest","appendAreaPart","removeDraggables","dragovered","dropIndex","dragzoneId","dragzone","getElementById","selectedDraggable","HTMLEDropzoneElement","addDraggables","placeholderPart","dataTransferSuccess","newDraggables","insertionPosition","multiple","newDraggable","insertAdjacentElement","appendChild","replaceChild","CustomEvent","detail","action","once","predicate","toRemove","atPosition","HTMLEDialogElementBase","handleEvent","open","close","HTMLEDialogElement","HTMLEOptionElementBase","ariaSelected","HTMLEOptionElement","HTMLEOptionGroupElementBase","_HTMLESelectElementBase_instances","_HTMLESelectElementBase_walker","_HTMLESelectElementBase_wasExpandedOnMouseDown","_HTMLESelectElementBase_value","_HTMLESelectElementBase_box","_HTMLESelectElementBase_walkerNodeFilter","_HTMLESelectElementBase_firstOption","_HTMLESelectElementBase_lastOption","_HTMLESelectElementBase_previousOption","_HTMLESelectElementBase_nextOption","_HTMLESelectElementBase_selectOption","_HTMLESelectElementBase_setSelectedOption","_HTMLESelectElementBase_positionBox","_HTMLESelectElementBase_handleClickEvent","_HTMLESelectElementBase_handleFocusOutEvent","_HTMLESelectElementBase_handleMouseDownEvent","_HTMLESelectElementBase_handleMouseOverEvent","_HTMLESelectElementBase_handleKeyDownEvent","_HTMLESelectElementBase_handleSelectEvent","mutationObserver","HTMLEOptionGroupElement","HTMLESelectElementBase","formAssociated","activeOption","selectedOption","optionToSelect","option_i","option","setFormValue","box","optionsStyle","targetOption","previousOption","nextOption","firstOption","lastOption","keyLength","keyCode","charCodeAt","matchingOption","MutationObserver","mutationsList","mutation","_HTMLESeparatorElementBase_internals","HTMLESelectElement","HTMLESeparatorElementBase","_HTMLEToolTipElementBase_instances","_HTMLEToolTipElementBase_target","_HTMLEToolTipElementBase_targetListenerObject","_HTMLEToolTipElementBase_documentListenerObject","_HTMLEToolTipElementBase_toggleAnimation","_HTMLEToolTipElementBase_arrow","_HTMLEToolTipElementBase_setTarget","_HTMLEToolTipElementBase_position","_HTMLEToolTipElementBase_handleTargetMouseEnterEvent","_HTMLEToolTipElementBase_handleTargetMouseLeaveEvent","_HTMLEToolTipElementBase_handleDocumentKeyDownEvent","HTMLESeparatorElement","HTMLEToolTipElementBase","tooltip","htmlFor","show","visible","opacity","hide","oldTarget","targetTop","targetBottom","targetLeft","targetRight","tooltipWidth","tooltipHeight","tooltipHalfWidth","tooltipHalfHeight","targetCenter","targetMiddle","tooltipStyle","arrow","arrowStyle","arrowWidth","arrowHeight","arrowHalfWidth","arrowHalfHeight","_HTMLEHandleElementBase_instances","_HTMLEHandleElementBase_target","_HTMLEHandleElementBase_onCapture","_HTMLEHandleElementBase_handlePointerUpEvent","_HTMLEHandleElementBase_handlePointerDownEvent","_HTMLEHandleElementBase_handlePointerMoveEvent","HTMLEToolTipElement","HTMLEHandleElementBase","pointerId","releasePointerCapture","setPointerCapture","targetComputedStyle","getComputedStyle","movementX","movementY","rectWidth","rectHeight","outerElement","outerRectLeft","outerRectRight","outerRectTop","outerRectBottom","getPropertyValue","newLeft","trunc","newTop","_HTMLEHeightSashElementBase_instances","_HTMLEHeightSashElementBase_target","_HTMLEHeightSashElementBase_onCapture","_HTMLEHeightSashElementBase_queuedPointerCallback","_HTMLEHeightSashElementBase_pointerMovement","_HTMLEHeightSashElementBase_pointerMoveCallback","_HTMLEHeightSashElementBase_handlePointerDownEvent","_HTMLEHeightSashElementBase_handlePointerMoveEvent","_HTMLEHeightSashElementBase_handlePointerUpEvent","HTMLEHandleElement","HTMLEHeightSashElementBase","growdir","newHeight","computedNewHeight","rootNode","requestAnimationFrame","_HTMLEImportElementBase_instances","_HTMLEImportElementBase_importRequest","HTMLEHeightSashElement","HTMLEImportElementBase","src","async","outerHTML","fetch","response","ok","Error","statusText","_HTMLELoaderElementBase_instances","_HTMLELoaderElementBase_promise","_HTMLELoaderElementBase_updateTemplate","barShadowTemplate","circleShadowTemplate","HTMLEImportElement","HTMLELoaderElementBase","promise","commonStyle","barStyle","circleStyle","_HTMLEWidthSashElementBase_instances","_HTMLEWidthSashElementBase_target","_HTMLEWidthSashElementBase_onCapture","_HTMLEWidthSashElementBase_queuedPointerCallback","_HTMLEWidthSashElementBase_pointerMovement","_HTMLEWidthSashElementBase_pointerMoveCallback","_HTMLEWidthSashElementBase_handlePointerDownEvent","_HTMLEWidthSashElementBase_handlePointerMoveEvent","_HTMLEWidthSashElementBase_handlePointerUpEvent","HTMLELoaderElement","HTMLEWidthSashElementBase","setWidth","newWidth","_AttributeMixinsObserverBase_instances","_AttributeMixinsObserverBase_observer","_AttributeMixinsObserverBase_mixins","_AttributeMixinsObserverBase_callback","_AttributeMixinsObserverBase_attachMatchingAttributeMixinsInSubtree","_AttributeMixinsObserverBase_detachMatchingAttributeMixinsInSubtree","HTMLEWidthSashElement","addedNodes","removedNodes","targetElement","mixin","attr","childIndex","child","AttributeMixinsObserver","mixins","takeRecords","attributeFilter","slotsMap","slotsObserver","slotReferences","slotRef_i","widget","slottedCallback","widgetsMap","attributesObserver","WidgetFactory","create","Proxy","apply","thisArg","argumentsList","observedSlots","slotName_i","slotElement","slot_i","slotReference","attributeOldValue","widgets","Widget","_SeparatorWidgetFactory_template","_a","_MenuItemWidgetFactoryBase_instances","_MenuItemWidgetFactoryBase_iconPartTemplate","_MenuItemWidgetFactoryBase_arrowPartTemplate","_MenuItemWidgetFactoryBase_keyshortcutsPartTemplate","_MenuItemWidgetFactoryBase_template","_MenuItemWidgetFactoryBase_types","_MenuItemWidgetFactoryBase_typesFeatures","_MenuItemWidgetFactoryBase_label","_MenuItemWidgetFactoryBase_handleClickEvent","_MenuItemWidgetFactoryBase_positionMenu","_MenubarWidgetFactoryBase_instances","_MenubarWidgetFactoryBase_template","_MenubarWidgetFactoryBase_walker","_MenubarWidgetFactoryBase_walkerNodeFilter","_MenubarWidgetFactoryBase_getActiveItem","_MenubarWidgetFactoryBase_firstItem","_MenubarWidgetFactoryBase_lastItem","_MenubarWidgetFactoryBase_previousItem","_MenubarWidgetFactoryBase_nextItem","_MenubarWidgetFactoryBase_firstChildItem","_MenubarWidgetFactoryBase_isClosestMenu","_MenubarWidgetFactoryBase_nearestItem","_MenubarWidgetFactoryBase_handleClickEvent","_MenubarWidgetFactoryBase_handleFocusInEvent","_MenubarWidgetFactoryBase_handleFocusOutEvent","_MenubarWidgetFactoryBase_handleMouseOverEvent","_MenubarWidgetFactoryBase_handleKeyDownEvent","_MenuWidgetFactoryBase_instances","_MenuWidgetFactoryBase_template","_MenuWidgetFactoryBase_walker","_MenuWidgetFactoryBase_toggleTimeouts","_MenuWidgetFactoryBase_walkerNodeFilter","_MenuWidgetFactoryBase_collapseSubmenus","_MenuWidgetFactoryBase_isClosestMenu","_MenuWidgetFactoryBase_nearestItem","_MenuWidgetFactoryBase_firstItem","_MenuWidgetFactoryBase_lastItem","_MenuWidgetFactoryBase_previousItem","_MenuWidgetFactoryBase_nextItem","_MenuWidgetFactoryBase_firstChildItem","_MenuWidgetFactoryBase_getActiveItem","_MenuWidgetFactoryBase_setItemTimeout","_MenuWidgetFactoryBase_clearItemTimeout","_MenuWidgetFactoryBase_handleClickEvent","_MenuWidgetFactoryBase_handleFocusOutEvent","_MenuWidgetFactoryBase_handleKeyDownEvent","_MenuWidgetFactoryBase_handleMouseOutEvent","_MenuWidgetFactoryBase_handleMouseOverEvent","_MenuItemGroupWidgetFactoryBase_template","_TreeItemWidgetFactoryBase_instances","_TreeItemWidgetFactoryBase_template","_TreeItemWidgetFactoryBase_types","_TreeItemWidgetFactoryBase_content","_TreeItemWidgetFactoryBase_handleClickEvent","_TreeWidgetFactoryBase_instances","_TreeWidgetFactoryBase_template","_TreeWidgetFactoryBase_walker","_TreeWidgetFactoryBase_onSelection","_TreeWidgetFactoryBase_hasSelectionChanged","_TreeWidgetFactoryBase_getActiveItem","_TreeWidgetFactoryBase_getDropTargetItem","_TreeWidgetFactoryBase_setDropTargetItem","_TreeWidgetFactoryBase_nodeFilter","_TreeWidgetFactoryBase_getItemsRange","_TreeWidgetFactoryBase_setSelection","_TreeWidgetFactoryBase_addToSelection","_TreeWidgetFactoryBase_removeFromSelection","_TreeWidgetFactoryBase_clearSelection","_TreeWidgetFactoryBase_setActiveItem","_TreeWidgetFactoryBase_firstItem","_TreeWidgetFactoryBase_lastItem","_TreeWidgetFactoryBase_previousItem","_TreeWidgetFactoryBase_nextItem","_TreeWidgetFactoryBase_deepestItem","_TreeWidgetFactoryBase_handleMouseDownEvent","_TreeWidgetFactoryBase_handleDragEndEvent","_TreeWidgetFactoryBase_handleDragEnterEvent","_TreeWidgetFactoryBase_handleDragOverEvent","_TreeWidgetFactoryBase_handleDragLeaveEvent","_TreeWidgetFactoryBase_handleDropEvent","_TreeWidgetFactoryBase_handleFocusEvent","_TreeWidgetFactoryBase_handleFocusInEvent","_TreeWidgetFactoryBase_handleFocusOutEvent","_TreeWidgetFactoryBase_handleKeyDownEvent","_TreeWidgetFactoryBase_handleSelectEvent","_TreeItemGroupWidgetFactoryBase_template","_ListItemWidgetFactoryBase_instances","_ListItemWidgetFactoryBase_template","_ListItemWidgetFactoryBase_label","_ListWidgetFactoryBase_instances","_ListWidgetFactoryBase_template","_ListWidgetFactoryBase_walker","_ListWidgetFactoryBase_onSelection","_ListWidgetFactoryBase_hasSelectionChanged","_ListWidgetFactoryBase_getActiveItem","_ListWidgetFactoryBase_getDropTargetItem","_ListWidgetFactoryBase_nodeFilter","_ListWidgetFactoryBase_getItemsRange","_ListWidgetFactoryBase_setSelection","_ListWidgetFactoryBase_addToSelection","_ListWidgetFactoryBase_removeFromSelection","_ListWidgetFactoryBase_clearSelection","_ListWidgetFactoryBase_setActiveItem","_ListWidgetFactoryBase_setDropTargetItem","_ListWidgetFactoryBase_firstItem","_ListWidgetFactoryBase_lastItem","_ListWidgetFactoryBase_previousItem","_ListWidgetFactoryBase_nextItem","_ListWidgetFactoryBase_handleDragEndEvent","_ListWidgetFactoryBase_handleDragEnterEvent","_ListWidgetFactoryBase_handleDragOverEvent","_ListWidgetFactoryBase_handleDragLeaveEvent","_ListWidgetFactoryBase_handleDragStartEvent","_ListWidgetFactoryBase_handleDropEvent","_ListWidgetFactoryBase_handleFocusEvent","_ListWidgetFactoryBase_handleFocusInEvent","_ListWidgetFactoryBase_handleKeyDownEvent","_ListWidgetFactoryBase_handleMouseDownEvent","_ListWidgetFactoryBase_handleFocusOutEvent","_ListWidgetFactoryBase_handleSelectEvent","_ListItemGroupWidgetFactoryBase_template","_ToolBarItemWidgetFactoryBase_instances","_ToolBarItemWidgetFactoryBase_template","_ToolBarItemWidgetFactoryBase_types","_ToolBarItemWidgetFactoryBase_handleFocusOutEvent","_ToolBarItemWidgetFactoryBase_handleClickEvent","_ToolBarItemWidgetFactoryBase_positionMenu","_ToolBarItemWidgetFactoryBase_label","_ToolBarWidgetFactoryBase_instances","_ToolBarWidgetFactoryBase_template","_ToolBarWidgetFactoryBase_walker","_ToolBarWidgetFactoryBase_getActiveItem","_ToolBarWidgetFactoryBase_walkerNodeFilter","_ToolBarWidgetFactoryBase_firstItem","_ToolBarWidgetFactoryBase_lastItem","_ToolBarWidgetFactoryBase_previousItem","_ToolBarWidgetFactoryBase_nextItem","_ToolBarWidgetFactoryBase_firstChildItem","_ToolBarWidgetFactoryBase_setActiveItem","_ToolBarWidgetFactoryBase_handleClickEvent","_ToolBarWidgetFactoryBase_handleFocusEvent","_ToolBarWidgetFactoryBase_handleFocusInEvent","_ToolBarWidgetFactoryBase_handleFocusOutEvent","_ToolBarWidgetFactoryBase_handleKeyDownEvent","_WidthSashWidgetFactory_instances","_WidthSashWidgetFactory_template","_WidthSashWidgetFactory_targets","_WidthSashWidgetFactory_onCaptureFlags","_WidthSashWidgetFactory_queuedPointerCallbacks","_WidthSashWidgetFactory_pointerMovements","_WidthSashWidgetFactory_handlePointerUpEvent","_WidthSashWidgetFactory_handlePointerDownEvent","_WidthSashWidgetFactory_handlePointerMoveEvent","_WidthSashWidgetFactory_pointerMoveCallback","_HeightSashWidgetFactory_instances","_HeightSashWidgetFactory_template","_HeightSashWidgetFactory_targets","_HeightSashWidgetFactory_onCaptureFlags","_HeightSashWidgetFactory_queuedPointerCallbacks","_HeightSashWidgetFactory_pointerMovements","_HeightSashWidgetFactory_handlePointerUpEvent","_HeightSashWidgetFactory_handlePointerDownEvent","_HeightSashWidgetFactory_handlePointerMoveEvent","_HeightSashWidgetFactory_pointerMoveCallback","_GridCellWidgetFactoryBase_instances","_GridCellWidgetFactoryBase_template","_GridCellWidgetFactoryBase_label","_GridRowWidgetFactoryBase_template","_GridWidgetFactoryBase_instances","_GridWidgetFactoryBase_getActiveRow","_GridWidgetFactoryBase_getActiveCell","_GridWidgetFactoryBase_template","_GridWidgetFactoryBase_rowsWalker","_GridWidgetFactoryBase_cellsWalker","_GridWidgetFactoryBase_onSelection","_GridWidgetFactoryBase_hasSelectionChanged","_GridWidgetFactoryBase_cellsWalkerNodeFilter","_GridWidgetFactoryBase_rowsWalkerNodeFilter","_GridWidgetFactoryBase_getCellsRange","_GridWidgetFactoryBase_getRowsRange","_GridWidgetFactoryBase_setCellsSelection","_GridWidgetFactoryBase_setRowsSelection","_GridWidgetFactoryBase_addCellsToSelection","_GridWidgetFactoryBase_addRowsToSelection","_GridWidgetFactoryBase_removeCellsFromSelection","_GridWidgetFactoryBase_removeRowsFromSelection","_GridWidgetFactoryBase_clearCellsSelection","_GridWidgetFactoryBase_clearRowsSelection","_GridWidgetFactoryBase_setActiveCell","_GridWidgetFactoryBase_setActiveRow","_GridWidgetFactoryBase_firstCell","_GridWidgetFactoryBase_lastCell","_GridWidgetFactoryBase_previousCell","_GridWidgetFactoryBase_nextCell","_GridWidgetFactoryBase_closestRow","_GridWidgetFactoryBase_firstRow","_GridWidgetFactoryBase_lastRow","_GridWidgetFactoryBase_previousRow","_GridWidgetFactoryBase_nextRow","_GridWidgetFactoryBase_topCell","_GridWidgetFactoryBase_bottomCell","_GridWidgetFactoryBase_handleFocusEvent","_GridWidgetFactoryBase_handleFocusInEvent","_GridWidgetFactoryBase_handleFocusOutEvent","_GridWidgetFactoryBase_handleKeyDownEvent","_GridWidgetFactoryBase_handleMouseDownEvent","_GridWidgetFactoryBase_handleSelectEvent","_GridBodyWidgetFactoryBase_template","_GridHeadWidgetFactoryBase_template","_GridHeaderWidgetFactoryBase_template","_OptionWidgetFactoryBase_instances","_OptionWidgetFactoryBase_template","_OptionWidgetFactoryBase_label","_ComboBoxWidgetFactoryBase_instances","_ComboBoxWidgetFactoryBase_template","_ComboBoxWidgetFactoryBase_walker","_ComboBoxWidgetFactoryBase_optionsObserver","_ComboBoxWidgetFactoryBase_box","_ComboBoxWidgetFactoryBase_getActiveOption","_ComboBoxWidgetFactoryBase_value","_ComboBoxWidgetFactoryBase_optionsMutationCallback","_ComboBoxWidgetFactoryBase_walkerNodeFilter","_ComboBoxWidgetFactoryBase_firstOption","_ComboBoxWidgetFactoryBase_lastOption","_ComboBoxWidgetFactoryBase_previousOption","_ComboBoxWidgetFactoryBase_nextOption","_ComboBoxWidgetFactoryBase_selectOption","_ComboBoxWidgetFactoryBase_setSelectedOption","_ComboBoxWidgetFactoryBase_positionBox","_ComboBoxWidgetFactoryBase_handleClickEvent","_ComboBoxWidgetFactoryBase_handleFocusOutEvent","_ComboBoxWidgetFactoryBase_handleKeyDownEvent","_ComboBoxWidgetFactoryBase_handleMouseOverEvent","_OptionGroupWidgetFactoryBase_template","separatorWidget","menuItemWidget","hasIcon","hasArrow","classList","keyshortcut","setKeyShortcut","setChecked","setExpanded","setType","setLabel","setName","setValue","setDisabled","hasChildMenu","childNodes","childNode_i","getMenu","getKeyShortcut","keyshortcutsPart","after","getLabel","getType","types","type_i","typesFeatures","iconPartTemplate","arrowPartTemplate","oldType","arrowPart","getValue","getName","getChecked","getDisabled","getExpanded","menuComputedStyle","paddingTop","paddingBottom","menuPaddingTop","menuPaddingBottom","menuBarWidget","menubar","menuWidget","setContextual","setPosition","getContextual","menuitem_i","delay","Promise","resolve","reject","timeout","setTimeout","clearTimeout","targetMenu","menuItemGroupWidget","treeItemWidget","setTitle","setDraggable","setSelected","getTitle","setPosInSet","getPosInSet","posInSet","e","setActive","getActive","setDropTarget","getDropTarget","getDraggable","getSelected","setLevel","getLevel","treeWidget","tree","setMultiSelectable","getMultiSelectable","treeItemGroupWidget","listItemWidget","listWidget","listItemGroupWidget","toolbarItemWidget","setPressed","getPressed","toolbarWidget","setOrientation","getOrientation","targetToolbar","toolbarItemGroupWidget","widthSashWidget","targets","pointerMovements","onCaptureFlags","queuedPointerCallbacks","sash","growDir","setControls","setGrowDir","getGrowDir","getControls","sashTarget","pointerMoveCallback","pointerMovement","heightSashWidget","setHeight","gridCellWidget","setHeaders","getHeaders","gridRowWidget","gridWidget","grid","setSelectBy","getSelectBy","targetGrid","multiselectable","gridBodyWidget","gridHeadWidget","gridHeaderWidget","scope","header","optionWidget","comboBoxWidget","combobox","targetCombobox","optionGroupWidget","MyTreeItemModelList","display","result","console","log","MyTreeItemModel","childCount","visibility","main","gridView","Date","getFullYear","treeModel","MyTreeView","iconed","visibilityItem","activeItemElement","selectedItemsList","showEditItemDialog","dialog","method","for","targetDialog","returnValue","form","formData","FormData","showModal","activeItemModel","treeView"],"sourceRoot":""}