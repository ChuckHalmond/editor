var main;(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{t.r(e),t.d(e,{main:()=>vp});var n,s,i,r,o,a,c,l,h,d,u,f,p,m,g,b,w,v,y,E=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},S=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};class T{constructor(t){this.target=t.target,this.changeType=t.changeType,this.propertyName=t.propertyName??null,this.oldValue=t.oldValue??void 0,this.newValue=t.newValue??void 0,this.removedIndex=t.removedIndex??0,this.removedItems=new k(t.removedItems??[]),this.insertedIndex=t.insertedIndex??0,this.insertedItems=new k(t.insertedItems??[]),this.sortedIndices=t.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return T.PROPERTY_CHANGE}get LIST_REMOVE(){return T.LIST_REMOVE}get LIST_INSERT(){return T.LIST_INSERT}get LIST_SORT(){return T.LIST_SORT}}var x=T;n=new WeakMap;var k=class{constructor(t){n.set(this,void 0),E(this,n,t.slice(),"f")}get length(){return S(this,n,"f").length}item(t){return S(this,n,"f")[t]??null}values(){return S(this,n,"f").values()}};class P{constructor(t){s.set(this,void 0),i.set(this,void 0),this.type=t,E(this,s,null,"f"),E(this,i,null,"f")}get currentTarget(){return S(this,s,"f")}get target(){return S(this,i,"f")}}s=new WeakMap,i=new WeakMap,P.ModelEventTargetAccessor=new class{setCurrentTarget(t,e){t instanceof P&&E(t,s,e,"f")}setTarget(t,e){t instanceof P&&E(t,i,e,"f")}};var L=P.ModelEventTargetAccessor;delete P.ModelEventTargetAccessor;var N=P;r=new WeakMap;class C extends class{constructor(){r.set(this,void 0),E(this,r,new Map,"f")}receiveEvent(t){const{type:e}=t,n=S(this,r,"f").get(e);L.setCurrentTarget(t,this),n&&n.forEach((e=>{e(t)}))}addEventListener(t,e){const n=S(this,r,"f").get(t);n?n.push(e):S(this,r,"f").set(t,[e])}removeEventListener(t,e){const n=S(this,r,"f").get(t);if(n){const s=n.findIndex((t=>t==e));s>-1&&n.splice(s,1),0==n.length&&S(this,r,"f").delete(t)}}dispatchEvent(t){L.setTarget(t,this),this.receiveEvent(t)}}{constructor(){super(),o.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),E(this,a,null,"f"),E(this,c,[],"f"),E(this,l,!1,"f")}get parentNode(){return S(this,a,"f")}setParent(t){if(null!==t){let e=t==this,{parentNode:n}=t;for(;!e&&null!==n;)({parentNode:n}=n),e=n==this;if(e)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");E(this,a,t,"f")}else E(this,a,null,"f")}beginChanges(){E(this,l,!0,"f")}endChanges(){this.dispatchEvent(new N("modelchange")),S(this,c,"f").splice(0),E(this,l,!1,"f")}getRecords(){return S(this,c,"f").slice()}receiveEvent(t){super.receiveEvent(t);const{parentNode:e}=this;e&&e.receiveEvent(t)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,o=new WeakSet,h=function(t,e,n){const s=S(this,c,"f"),i=new x({target:this,changeType:x.PROPERTY_CHANGE,propertyName:t,oldValue:e,newValue:n});s.push(i),this.dispatchEvent(new N("modelchange")),s.splice(0)},d=function(t){S(this,c,"f").push(t),S(this,l,"f")||(this.dispatchEvent(new N("modelchange")),S(this,c,"f").splice(0))},C.ModelNodeRecordsAccessor=new class{triggerChange(t,e,n,s){t instanceof C&&S(t,o,"m",h).call(t,e,n,s)}handleRecord(t,e){t instanceof C&&S(t,o,"m",d).call(t,e)}};var I=C.ModelNodeRecordsAccessor;delete C.ModelNodeRecordsAccessor;var A=C;const R=function(t){return(t,e)=>{const{constructor:n}=t,{prototype:s}=n;Object.defineProperty(s,e,{set:function(t){const n=O.getProperty(this,e);return O.setProperty(this,e,t),t!==n&&I.triggerChange(this,e,n,t),!0},get:function(){return O.getProperty(this,e)},enumerable:!0})}};class M extends C{constructor(){super(),u.set(this,void 0),E(this,u,new Map,"f")}}u=new WeakMap,M.ModelObjectPropertiesAccessor=new class{setProperty(t,e,n){t instanceof M&&S(t,u,"f").set(e,n)}getProperty(t,e){if(t instanceof M)return S(t,u,"f").get(e)}};var O=M.ModelObjectPropertiesAccessor;delete M.ModelObjectPropertiesAccessor;var W=M;f=new WeakMap;var j=class extends C{constructor(t){super(),f.set(this,void 0),E(this,f,t?.slice()??[],"f")}setParent(t){super.setParent(t),S(this,f,"f").forEach((e=>{e.setParent(t)}))}get length(){return S(this,f,"f").length}get(t){return S(this,f,"f")[t]??null}index(t,e){return S(this,f,"f").indexOf(t,e)}values(){return S(this,f,"f").values()}sort(t){const e=S(this,f,"f").map(((t,e)=>({item:t,index:e})));e.sort(((e,n)=>t(e.item,n.item))),E(this,f,e.map((t=>t.item)),"f");const n=new x({target:this,changeType:x.LIST_SORT,sortedIndices:e.map((t=>t.index))});I.handleRecord(this,n)}prepend(...t){const e=S(this,f,"f"),{parentNode:n}=this;n&&t.forEach((t=>{t.setParent(n)})),e.splice(0,0,...t);const s=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:0,insertedItems:t});I.handleRecord(this,s)}append(...t){const e=S(this,f,"f"),{length:n}=e,{parentNode:s}=this;s&&t.forEach((t=>{t.setParent(s)})),e.push(...t);const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:n,insertedItems:t});I.handleRecord(this,i)}insert(t,...e){const n=S(this,f,"f"),{length:s}=n;if(Math.abs(t)<=s){if(t>=0){const{parentNode:i}=this;e.forEach((t=>{t.setParent(i)})),t<s?n.splice(t,0,...e):n.push(...e)}else if(t<0){t=s-t;const{parentNode:i}=this;i&&e.forEach((t=>{t.setParent(i)})),n.splice(t,0,...e)}const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:t,insertedItems:e.slice()});I.handleRecord(this,i)}}remove(t){const e=S(this,f,"f"),n=e.indexOf(t);if(n>-1){const t=e.splice(n,1)[0],{parentNode:s}=this;s&&t.setParent(null);const i=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:n,removedItems:[t]});I.handleRecord(this,i)}}clear(){const t=S(this,f,"f"),{length:e}=t;if(e>0){const e=t.splice(0),{parentNode:n}=this;n&&e.forEach((t=>{t.setParent(null)}));const s=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:0,removedItems:e});I.handleRecord(this,s)}}};m=new WeakMap,g=new WeakMap,b=new WeakMap,w=new WeakMap,p=new WeakSet,v=function(){const t=S(this,g,"f").splice(0);t.length>0&&S(this,m,"f").call(this,t)},y=function(t){if(!S(this,b,"f")){const{target:e,currentTarget:n}=t,s=S(this,w,"f").get(n);if(s){const{options:t}=s,{properties:i,propertiesFilter:r,childList:o,subtree:a}=t;a?i&&e instanceof A?(r?S(this,g,"f").push(...e.getRecords().filter((t=>{const{propertyName:e}=t;return r.includes(e)}))):S(this,g,"f").push(...e.getRecords()),S(this,p,"m",v).call(this)):o&&e instanceof j&&(S(this,g,"f").push(...e.getRecords()),S(this,p,"m",v).call(this)):e==n&&(i&&e instanceof A?(r?S(this,g,"f").push(...e.getRecords().filter((t=>{const{propertyName:e}=t;return r.includes(e)}))):S(this,g,"f").push(...e.getRecords()),S(this,p,"m",v).call(this)):o&&e instanceof j&&(S(this,g,"f").push(...e.getRecords()),S(this,p,"m",v).call(this)))}}};var D=class{constructor(t){p.add(this),m.set(this,void 0),g.set(this,void 0),b.set(this,void 0),w.set(this,void 0),E(this,m,t,"f"),E(this,g,[],"f"),E(this,b,!1,"f"),E(this,w,new WeakMap,"f")}observe(t,e){E(this,b,!1,"f");const n=S(this,w,"f");let s=n.get(t);if(s)n.set(t,s);else{const i=S(this,p,"m",y).bind(this);t.addEventListener("modelchange",i),s={listener:i,options:e},n.set(t,s)}}unobserve(t){let e=S(this,w,"f").get(t);if(e){const{listener:n}=e;t.removeEventListener("modelchange",n)}}disconnect(){S(this,g,"f").splice(0),E(this,b,!0,"f")}};function F(t){return t.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const _=function(t){return(e,n)=>{const{constructor:s}=e,{prototype:i}=s,r=String(n),o=F(r),a=t.defaultValue??null;if(t.observed){const t=Reflect.get(s,"observedAttributes",s);Array.isArray(t)?t.push(o):Object.defineProperty(s,"observedAttributes",{value:[o],writable:!1})}const{type:c}=t;switch(c){case Boolean:Object.defineProperty(i,r,{get:function(){return this.hasAttribute(o)},set:function(t){t?this.setAttribute(o,""):this.removeAttribute(o)}});break;case Object:Object.defineProperty(i,r,{get:function(){const t=this.getAttribute(o);return null!==t?JSON.parse(t):a},set:function(t){null!==t?this.setAttribute(o,JSON.stringify(t)):this.removeAttribute(o)}});break;case Number:Object.defineProperty(i,r,{get:function(){const t=this.getAttribute(o);return null!==t?parseFloat(t):a},set:function(t){null!==t?this.setAttribute(o,t):this.removeAttribute(o)}});break;case String:default:Object.defineProperty(i,r,{get:function(){const t=this.getAttribute(o);return null!==t?t:a},set:function(t){null!==t?this.setAttribute(o,t):this.removeAttribute(o)}})}}},H=function(t){return e=>{const{name:n,options:s}=t;return customElements.get(n)||customElements.define(n,e,s),e}};function B(...t){const e=document.createDocumentFragment();return e.append(...t),e}function q(t,e){if(e){const{options:n,attributes:s,dataset:i,children:r,listeners:o}=e,a=document.createElement(t,n);if(s&&Object.entries(s).forEach((([t,e])=>{void 0!==e&&("boolean"==typeof e?a.toggleAttribute(F(t),e):a.setAttribute(F(t),String(e)))})),i){const{dataset:t}=a;Object.keys(i).forEach((e=>{t[e]=String(i[e])}))}return r&&("function"==typeof r?a.append(...r(a)):"object"==typeof r&&"length"in r?a.append(...Array.from(r)):a.append(r)),o&&Object.entries(o).forEach((([t,e])=>{Array.isArray(e)?a.addEventListener(t,e[0],e[1]):a.addEventListener(t,e)})),a}return document.createElement(t)}const K=new WeakMap,$=new FinalizationRegistry((t=>{const{model:e,reactiveElement:n}=t,s=K.get(e);if(void 0!==s){const{reactiveElementsArray:t}=s;t.splice(t.indexOf(n),1)}})),V=new D((t=>{t.forEach((t=>{const{target:e,propertyName:n,oldValue:s,newValue:i}=t,{reactiveElementsArray:r}=K.get(e);r.forEach((t=>{const{elementRef:e,react:r,properties:o}=t,a=e.deref();a&&o.includes(n)&&r(a,n,s,i)}))}))}));function J(t,e,n,s){const i={elementRef:new WeakRef(e),react:s,properties:n},r=K.get(t);if($.register(e,{model:t,reactiveElement:i}),r){const{reactiveElementsArray:t,observerOptions:e}=r,{propertiesFilter:s}=e;t.push(i),e.propertiesFilter=s?s.concat(n.filter((t=>!s.includes(t)))):Array.from(new Set(n))}else{const e={properties:!0,propertiesFilter:n},s=[i];K.set(t,{observerOptions:e,reactiveElementsArray:s}),V.observe(t,e)}return n.forEach((n=>{if(n in t){const i=Reflect.get(t,n,t);void 0!==i&&s(e,n,void 0,i)}})),e}const U=new WeakMap,G=new FinalizationRegistry((t=>{const{list:e,reactiveChildElement:n}=t,s=U.get(e);if(s){const{reactiveChildElementsArray:t}=s;t.splice(t.indexOf(n),1)}})),X=new D((t=>{let e=null;Array.from(t.values()).forEach((t=>{const{target:n}=t,s=n,{length:i}=s,{reactiveChildElementsArray:r}=U.get(s);r.forEach((n=>{const{parentRef:s,mapping:r,placeholder:o}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;o&&i>0&&n==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=t;switch(l){case h:{const{insertedIndex:e,insertedItems:n}=t,i=Array.from(n.values()).map(r),{length:o}=s;e<o?s[e].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=t,{length:r}=i;e=e??document.createRange();const o=n+(r-1);o<c&&(e.setStartBefore(s[n]),e.setEndAfter(s[o]),e.deleteContents());break}case u:{const{sortedIndices:e}=t,n=Array.from(s);a.append(...e.filter((t=>t<c)).map((t=>n[t])));break}}0==i&&o&&a.append(o)}}))}))}));function Y(t,e,n){return s=>{const i=new WeakRef(s),r=U.get(t),o={parentRef:i,mapping:e,placeholder:n};if(G.register(s,{list:t,reactiveChildElement:o}),r){const{reactiveChildElementsArray:t}=r;t.push(o)}else{const e=[o];U.set(t,{reactiveChildElementsArray:e}),X.observe(t,{childList:!0})}return 0==t.length&&n?[n]:Array.from(t.values()).map(e)}}function z(t,e,n,s,i){if(e==s)switch(t){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var Z=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};class Q extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}Z([_({type:String})],Q.prototype,"name",void 0),Z([_({type:String})],Q.prototype,"value",void 0),Z([_({type:String})],Q.prototype,"hotkey",void 0),Z([_({type:String,defaultValue:"button"})],Q.prototype,"type",void 0),Z([_({type:Boolean})],Q.prototype,"disabled",void 0),Z([_({type:Boolean})],Q.prototype,"checked",void 0);var tt,et,nt,st=Q;!function(t){t.A="a",t.B="b",t.C="c",t.D="d",t.E="e",t.F="f",t.G="g",t.H="h",t.I="i",t.J="j",t.K="k",t.L="l",t.M="m",t.O="o",t.P="p",t.Q="q",t.R="r",t.S="s",t.T="t",t.U="u",t.V="v",t.W="w",t.X="x",t.Y="y",t.Z="z",t.ENTER="Enter",t.BACKSPACE="Backspace",t.ARROW_DOWN="ArrowDown",t.ARROW_LEFT="ArrowLeft",t.ARROW_RIGHT="ArrowRight",t.ARROW_UP="ArrowUp",t.SHIFT="Shift"}(tt||(tt={})),function(t){t.Alt="Alt",t.Control="Control",t.Shift="Shift"}(et||(et={})),function(t){t[t.LEFT=1]="LEFT",t[t.WHEEL=2]="WHEEL",t[t.RIGHT=3]="RIGHT",t[t.FORWARD=4]="FORWARD",t[t.BACK=5]="BACK"}(nt||(nt={})),new WeakSet;var it,rt=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let ot=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(it.content.cloneNode(!0))}attributeChangedCallback(t,e,n){switch(t){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(it=q("template")).content.append(q("slot")),rt([_({type:String})],ot.prototype,"name",void 0),rt([_({type:String})],ot.prototype,"headers",void 0),rt([_({type:String})],ot.prototype,"type",void 0),rt([_({type:Number})],ot.prototype,"posinset",void 0),rt([_({type:Boolean})],ot.prototype,"droptarget",void 0),rt([_({type:Boolean})],ot.prototype,"active",void 0),rt([_({type:Boolean,observed:!0})],ot.prototype,"selected",void 0),ot=rt([H({name:"e-gridcell"})],ot);var at,ct,lt,ht=ot;let dt=class extends HTMLElement{constructor(){super(),at.add(this);const t=this.attachShadow({mode:"open"});t.append(lt.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,at,"m",ct).bind(this))}};at=new WeakSet,ct=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof ht)).forEach(((t,e)=>{t.posinset=e}))},(lt=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),q("slot")),dt=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-gridrowgroup"})],dt);var ut,ft,pt,mt,gt=dt,bt=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},wt=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let vt=class extends HTMLElement{constructor(){super(),ut.add(this),this.attachShadow({mode:"open"}).append(mt.content.cloneNode(!0)),this.addEventListener("click",wt(this,ut,"m",pt).bind(this))}toggle(t){const{type:e,expanded:n}=this;switch(e){case"menu":case"submenu":{const e=t??!n;this.expanded=e,e&&wt(this,ut,"m",ft).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:t}=this;switch(t){case"menu":case"submenu":this.expanded||(this.expanded=!0,wt(this,ut,"m",ft).call(this))}}collapse(){const{type:t}=this;switch(t){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var yt;ut=new WeakSet,ft=function(){const{menu:t}=this;if(null!==t){const{style:e}=t,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=t.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const t=r+o-h,u=n+a-d;e.setProperty("left",`${t>0?l+i-o:l+i}px`),e.setProperty("top",`${u>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),f=r+o-h,p=n+a-d;e.setProperty("left",(f>0?i-o-u:r-u)+"px");const m=window.getComputedStyle(t),{paddingTop:g,paddingBottom:b}=m,w=parseFloat(g),v=parseFloat(b);e.setProperty("top",`${p>0?s-a-l+v:n-l-w}px`)}}}},pt=function(t){const{target:e}=t;if(e==this){const{type:t}=this;switch(t){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}}},(mt=q("template")).content.append(q("span",{attributes:{part:"icon"}}),q("span",{attributes:{part:"label"},children:[q("slot")]}),q("span",{attributes:{part:"arrow"}}),q("slot",{attributes:{name:"menu"}})),bt([_({type:String})],vt.prototype,"name",void 0),bt([_({type:String})],vt.prototype,"value",void 0),bt([_({type:String})],vt.prototype,"hotkey",void 0),bt([_({type:Boolean})],vt.prototype,"disabled",void 0),bt([_({type:Boolean})],vt.prototype,"checked",void 0),bt([_({type:Boolean})],vt.prototype,"expanded",void 0),bt([_({type:String,defaultValue:"button",observed:!0})],vt.prototype,"type",void 0),bt([(yt={selector:":scope > e-menu[slot=menu]"},(t,e)=>{const{constructor:n}=t,{prototype:s}=n,i=String(e),{selector:r}=yt,o=yt.withinShadowRoot?function(){return this.shadowRoot.querySelector(r)}:function(){return this.querySelector(r)};Object.defineProperty(s,i,{get:o})})],vt.prototype,"menu",void 0),vt=bt([H({name:"e-menuitem"})],vt);var Et,St,Tt,xt=vt,kt=Object.assign((function(t){const{label:e,name:n,type:s,value:i,trigger:r,menu:o}=t;return o&&(o.slot="menu"),q("e-menuitem",{attributes:{tabindex:-1,title:e,name:n,value:i,type:s},children:o?[e,o]:[e],listeners:{trigger:r}})}),{prototype:xt.prototype,button:t=>new kt({...t,type:"button"}),checkbox:t=>new kt({...t,type:"checkbox"}),radio:t=>new kt({...t,type:"radio"}),menu:t=>new kt({...t,type:"menu"}),submenu:t=>new kt({...t,type:"submenu"})}),Pt=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Lt=class extends HTMLElement{constructor(){super(),Et.add(this);const t=this.attachShadow({mode:"open"});t.append(Tt.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Et,"m",St).bind(this))}attributeChangedCallback(t,e,n){switch(t){case"label":const t=this.shadowRoot.querySelector("[part=label]");t&&(t.textContent=n)}}};Et=new WeakSet,St=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof xt)).forEach(((t,e)=>{}))},(Tt=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),q("slot")),Pt([_({type:String})],Lt.prototype,"name",void 0),Pt([_({type:String,observed:!0})],Lt.prototype,"label",void 0),Lt=Pt([H({name:"e-menuitemgroup"})],Lt);var Nt,Ct,It,At,Rt,Mt,Ot,Wt,jt,Dt,Ft,_t,Ht,Bt,qt,Kt,$t,Vt,Jt,Ut,Gt,Xt,Yt,zt,Zt=Lt,Qt=(Object.assign((function(t){const{name:e,items:n}=t;return q("e-menuitemgroup",{attributes:{name:e},children:n})}),{prototype:Zt.prototype,radios:t=>{const{name:e,items:n}=t;return q("e-menuitemgroup",{attributes:{name:e},children:n.map((({label:t,value:n})=>new kt({name:e,label:t,type:"radio",value:n})))})}}),function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}),te=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},ee=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let ne=Xt=class extends HTMLElement{constructor(){super(),Nt.add(this),Ct.set(this,void 0),It.set(this,void 0);const t=this.attachShadow({mode:"open"});te(this,It,-1,"f"),t.append(Yt.content.cloneNode(!0)),te(this,Ct,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ee(this,Nt,"m",Ot).bind(this)),"f"),this.addEventListener("click",ee(this,Nt,"m",Kt).bind(this)),this.addEventListener("mouseover",ee(this,Nt,"m",Gt).bind(this)),this.addEventListener("mouseout",ee(this,Nt,"m",Ut).bind(this)),this.addEventListener("focusin",ee(this,Nt,"m",$t).bind(this)),this.addEventListener("focusout",ee(this,Nt,"m",Vt).bind(this)),this.addEventListener("keydown",ee(this,Nt,"m",Jt).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return ee(this,It,"f")}get activeItem(){const{activeIndex:t}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??t>-1?this.items()[t]??null:null}positionContextual(t,e){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window,a=t+r,c=e+o,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,u=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${u>0?c-i:c}px`)}};Ct=new WeakMap,It=new WeakMap,Nt=new WeakSet,At=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((t=>{t.collapse()}))},Rt=function(t){return t.closest(":is(e-menu)")==this},Mt=function(t){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((e=>e.contains(t)))??null},Ot=function(t){return t instanceof xt?NodeFilter.FILTER_ACCEPT:t instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Wt=function(){const t=ee(this,Ct,"f");return t.currentNode=t.root,t.firstChild()},jt=function(){const t=ee(this,Ct,"f");return t.currentNode=t.root,t.lastChild()},Dt=function(t){const e=ee(this,Ct,"f");return e.currentNode=t,e.previousNode()},Ft=function(t){const e=ee(this,Ct,"f");return e.currentNode=t,e.nextNode()},_t=function(t){const{menu:e}=t;return e instanceof Xt?ee(e,Nt,"m",Wt).call(e):null},Ht=function(t){null!==t&&te(this,It,this.items().indexOf(t),"f")},Bt=async function(t,e){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),e??0);zt.set(t,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{zt.delete(t)}))},qt=function(t){const e=zt.get(t);void 0!==e&&(zt.delete(t),e.clear())},Kt=function(t){const{target:e}=t;if(e instanceof xt){const{contextual:t}=this;if(t)try{this.remove()}catch(t){}else if(ee(this,Nt,"m",Rt).call(this,e)){const{type:t,name:n,value:s}=e;"radio"==t&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((t=>{t.checked=t.value==s}))}}},$t=function(t){const{target:e}=t;if(e instanceof xt){const t=ee(this,Nt,"m",Mt).call(this,e);t&&ee(this,Nt,"m",Ht).call(this,t)}},Vt=function(t){const{relatedTarget:e}=t;if(!this.contains(e)){const{contextual:t}=this;if(t)try{this.remove()}catch(t){}else{const{activeItem:t}=this;t?.expanded&&t.collapse(),ee(this,Nt,"m",Ht).call(this,null)}}},Jt=function(t){const{key:e}=t,{activeItem:n}=this;switch(e){case"ArrowUp":(n?ee(this,Nt,"m",Dt).call(this,n)??ee(this,Nt,"m",jt).call(this):ee(this,Nt,"m",Wt).call(this))?.focus({preventScroll:!0}),t.stopPropagation();break;case"ArrowDown":(n?ee(this,Nt,"m",Ft).call(this,n)??ee(this,Nt,"m",Wt).call(this):ee(this,Nt,"m",Wt).call(this))?.focus({preventScroll:!0}),t.stopPropagation();break;case"Home":ee(this,Nt,"m",Wt).call(this)?.focus({preventScroll:!0}),t.stopPropagation();break;case"End":ee(this,Nt,"m",jt).call(this)?.focus({preventScroll:!0}),t.stopPropagation();break;case"Enter":case" ":if(n){const{type:e}=n;switch(e){case"submenu":n.expand(),n.expanded&&ee(this,Nt,"m",_t).call(this,n)?.focus({preventScroll:!0})}t.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(t.composedPath().find((t=>t instanceof ae))==this||(n.collapse(),n.focus({preventScroll:!0}),t.stopPropagation()));break;case"ArrowRight":if(n){const{type:e}=n;switch(e){case"submenu":n.expanded||(n.expand(),ee(this,Nt,"m",_t).call(this,n)?.focus({preventScroll:!0}),t.stopPropagation())}}}},Ut=function(t){const{target:e,relatedTarget:n}=t;if(e instanceof xt){const s=ee(this,Nt,"m",Mt).call(this,e);if(null!==s&&("submenu"!=s.type||s.expanded||ee(this,Nt,"m",qt).call(this,s),t.composedPath().find((t=>t instanceof ae))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&(ee(this,Nt,"m",qt).call(this,e),ee(this,Nt,"m",Bt).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=t,{left:r,right:o,top:a,bottom:c}=this.getBoundingClientRect(),l=!(r>s||o<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof ae&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),ee(this,Nt,"m",Ht).call(this,null))),l||(this.focus({preventScroll:!0}),ee(this,Nt,"m",Ht).call(this,null))}}},Gt=function(t){const{target:e}=t;if(e instanceof xt){const n=ee(this,Nt,"m",Mt).call(this,e);if(null!==n&&("submenu"==n.type&&n.expanded&&ee(this,Nt,"m",qt).call(this,n),t.composedPath().find((t=>t instanceof ae))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&!t.contains(e)&&(ee(this,Nt,"m",qt).call(this,t),ee(this,Nt,"m",Bt).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{}))),ee(this,Nt,"m",Ht).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(ee(this,Nt,"m",qt).call(this,n),ee(this,Nt,"m",Bt).call(this,n,200).then((()=>{const{activeItem:t}=this;ee(this,Nt,"m",At).call(this),t&&(ee(this,Nt,"m",qt).call(this,t),t.expand(),t.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},(Yt=q("template")).content.append(q("slot")),zt=new WeakMap,Qt([_({type:String})],ne.prototype,"name",void 0),Qt([_({type:Boolean})],ne.prototype,"contextual",void 0),ne=Xt=Qt([H({name:"e-menu"})],ne);var se,ie,re,oe,ae=ne,ce=(Object.assign((function(t){const{name:e,children:n}=t;return q("e-menu",{attributes:{name:e,tabindex:-1},children:n})}),{prototype:ae.prototype}),function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}),le=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},he=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let de=class extends HTMLElement{constructor(){super(),se.add(this),ie.set(this,void 0),le(this,ie,null,"f"),this.cells=new ye(this);const t=this.attachShadow({mode:"open"});t.append(oe.content.cloneNode(!0)),t.addEventListener("slotchange",he(this,se,"m",re).bind(this))}get menu(){return he(this,ie,"f")}attributeChangedCallback(t,e,n){switch(t){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};ie=new WeakMap,se=new WeakSet,re=function(t){const{target:e}=t,{name:n}=e;switch(n){case"menu":{const t=e.assignedElements()[0];le(this,ie,t instanceof ae?t:null,"f");break}default:e.assignedElements().filter((t=>t instanceof ht)).forEach(((t,e)=>{t.posinset=e}))}},(oe=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),q("slot"),q("slot",{attributes:{name:"menu"}})),ce([_({type:String})],de.prototype,"name",void 0),ce([_({type:Boolean})],de.prototype,"active",void 0),ce([_({type:Boolean})],de.prototype,"selected",void 0),ce([_({type:Number})],de.prototype,"posinset",void 0),de=ce([H({name:"e-gridrow"})],de);var ue,fe,pe,me=de,ge=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};fe=new WeakMap,ue=new WeakSet,pe=function(t){return t instanceof ht?NodeFilter.FILTER_ACCEPT:t instanceof pn||t instanceof gt||t instanceof me?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var be,we,ve,ye=class{constructor(t){ue.add(this),fe.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,fe,document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,ge(this,ue,"m",pe).bind(this)),"f")}get length(){const t=ge(this,fe,"f");t.currentNode=t.root;let e=0;for(;null!==t.nextNode();)e++;return e}item(t){if(t<0)return null;const e=ge(this,fe,"f");e.currentNode=e.root;let n=e.nextNode(),s=0;for(;s<t&&null!==n;)n=e.nextNode(),s++;return n}namedItem(t){if(!t)return null;const e=ge(this,fe,"f");e.currentNode=e.root;let n=e.nextNode();for(;null!==n&&n.name!=t;)n=e.nextNode();return n}*values(){const t=ge(this,fe,"f");t.currentNode=t.root;let e=t.nextNode();for(;null!==e;)yield e,e=t.nextNode()}},Ee=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};we=new WeakMap,be=new WeakSet,ve=function(t){return t instanceof pn?NodeFilter.FILTER_SKIP:t instanceof me?NodeFilter.FILTER_ACCEPT:t instanceof gt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Se,Te,xe,ke=class{constructor(t){be.add(this),we.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,we,document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,Ee(this,be,"m",ve).bind(this)),"f")}get length(){const t=Ee(this,we,"f");t.currentNode=t.root;let e=0;for(;null!==t.nextNode();)e++;return e}item(t){if(t<0)return null;const e=Ee(this,we,"f");e.currentNode=e.root;let n=e.nextNode(),s=0;for(;s<t&&null!==n;)n=e.nextNode(),s++;return n}namedItem(t){if(!t)return null;const e=Ee(this,we,"f");e.currentNode=e.root;let n=e.nextNode();for(;null!==n&&n.name!=t;)n=e.nextNode();return n}*values(){const t=Ee(this,we,"f");t.currentNode=t.root;let e=t.nextNode();for(;null!==e;)yield e,e=t.nextNode()}};let Pe=class extends HTMLElement{constructor(){super(),Se.add(this),this.cells=new ye(this),this.rows=new ke(this);const t=this.attachShadow({mode:"open"});t.append(xe.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Se,"m",Te).bind(this))}};Se=new WeakSet,Te=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof ht)).forEach(((t,e)=>{t.posinset=e}))},(xe=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),q("slot")),Pe=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-gridbody"})],Pe);var Le,Ne,Ce,Ie,Ae,Re,Me,Oe,We,je,De,Fe,_e,He,Be,qe,Ke,$e,Ve,Je,Ue,Ge,Xe,Ye,ze,Ze,Qe,tn,en,nn,sn,rn,on,an,cn,ln,hn,dn,un,fn,pn=Pe,mn=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},gn=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},bn=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let wn=class extends HTMLElement{constructor(){super(),Le.add(this),Ne.set(this,void 0),Ce.set(this,void 0),Ie.set(this,void 0),Ae.set(this,void 0),Re.set(this,void 0),Me.set(this,void 0),bn(this,Re,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,gn(this,Le,"m",Oe).bind(this)),"f"),bn(this,Me,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,gn(this,Le,"m",We).bind(this)),"f"),bn(this,Ne,-1,"f"),bn(this,Ce,-1,"f"),bn(this,Ie,!1,"f"),bn(this,Ae,!1,"f"),this.cells=new ye(this),this.rows=new ke(this);const t=this.attachShadow({mode:"open"});t.append(fn.content.cloneNode(!0)),this.addEventListener("contextmenu",gn(this,Le,"m",on).bind(this)),this.addEventListener("click",gn(this,Le,"m",an).bind(this)),this.addEventListener("focus",gn(this,Le,"m",ln).bind(this)),this.addEventListener("focusin",gn(this,Le,"m",hn).bind(this)),this.addEventListener("keydown",gn(this,Le,"m",cn).bind(this)),this.addEventListener("select",gn(this,Le,"m",dn).bind(this)),t.addEventListener("slotchange",gn(this,Le,"m",un).bind(this))}get activeCellIndex(){return gn(this,Ne,"f")}get activeCell(){return this.cells.item(gn(this,Ne,"f"))??null}get activeRowIndex(){return gn(this,Ce,"f")}get activeRow(){return this.rows.item(gn(this,Ce,"f"))??null}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}beginSelection(){bn(this,Ie,!0,"f")}endSelection(){bn(this,Ie,!1,"f"),gn(this,Ae,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),bn(this,Ae,!1,"f"))}clearSelection(){gn(this,Le,"m",$e).call(this),gn(this,Le,"m",Ve).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};Ne=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ae=new WeakMap,Re=new WeakMap,Me=new WeakMap,Le=new WeakSet,Oe=function(t){return t instanceof ht&&!t.hidden?NodeFilter.FILTER_ACCEPT:t instanceof pn||t instanceof gt||t instanceof me?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},We=function(t){return t instanceof me&&!t.hidden?NodeFilter.FILTER_ACCEPT:t instanceof pn||t instanceof gt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},je=function(t,e){const n=Array.from(this.cells.values()),s=n.indexOf(t),i=n.indexOf(e);return s>-1&&i>-1?t==e?[t]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},De=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=gn(this,Le,"m",nn).call(this,t);for(;s&&s!==e;)n.push(s),s=gn(this,Le,"m",nn).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=gn(this,Le,"m",en).call(this,t);for(;s&&s!==e;)n.push(s),s=gn(this,Le,"m",en).call(this,s);return n.push(e),n}return[]},Fe=function(...t){this.beginSelection(),this.selectedCells().forEach((e=>{t.includes(e)||(e.selected=!1)})),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},_e=function(...t){this.beginSelection(),this.selectedRows().forEach((e=>{t.includes(e)||(e.selected=!1)})),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},He=function(...t){this.beginSelection(),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},Be=function(...t){this.beginSelection(),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},qe=function(...t){this.beginSelection();const e=this.selectedCells();t.forEach((t=>{e.includes(t)&&(t.selected=!1)})),this.endSelection()},Ke=function(...t){this.beginSelection();const e=this.selectedRows();t.forEach((t=>{e.includes(t)&&(t.selected=!1)})),this.endSelection()},$e=function(){this.beginSelection(),this.selectedCells().forEach((t=>{t.selected&&(t.selected=!1)})),this.endSelection()},Ve=function(){this.beginSelection(),this.selectedRows().forEach((t=>{t.selected&&(t.selected=!1)})),this.endSelection()},Je=function(t){const{activeCell:e,cells:n}=this;if(null!==e&&e!==t)e.active=!1,e.tabIndex=-1;else if(null!==t){gn(this,Re,"f").currentNode=t,t.active=!0,t.tabIndex=0;const e=gn(this,Le,"m",Ze).call(this,t);e&&gn(this,Le,"m",Ue).call(this,e),bn(this,Ne,Array.from(n.values()).indexOf(t),"f")}else bn(this,Ne,-1,"f")},Ue=function(t){const{activeRow:e,rows:n}=this;null!==e&&e!==t?(e.active=!1,e.tabIndex=-1):null!==t?(gn(this,Me,"f").currentNode=t,t.active=!0,t.tabIndex=0,bn(this,Ce,Array.from(n.values()).indexOf(t),"f")):bn(this,Ce,-1,"f")},Ge=function(t){const e=gn(this,Re,"f");return e.currentNode=t,e.firstChild()},Xe=function(t){const e=gn(this,Re,"f");return e.currentNode=t,e.lastChild()},Ye=function(t){const e=gn(this,Re,"f");return e.currentNode=t,e.previousNode()},ze=function(t){const e=gn(this,Re,"f");return e.currentNode=t,e.nextNode()},Ze=function(t){const e=gn(this,Me,"f");return e.currentNode=t,e.parentNode()},Qe=function(){const t=gn(this,Me,"f"),{root:e}=t;return t.currentNode=e,t.firstChild()},tn=function(){const t=gn(this,Me,"f"),{root:e}=t;return t.currentNode=e,t.lastChild()},en=function(t){const e=gn(this,Me,"f");return e.currentNode=t,e.previousNode()},nn=function(t){const e=gn(this,Me,"f");return e.currentNode=t,e.nextNode()},sn=function(t){const e=gn(this,Le,"m",Ze).call(this,t);if(e){const{cells:n}=e,s=Array.from(n.values()).indexOf(t),i=gn(this,Le,"m",en).call(this,e);if(i){const{cells:t}=i;return t.item(Math.min(s,t.length))}}return null},rn=function(t){const e=gn(this,Le,"m",Ze).call(this,t);if(e){const{cells:n}=e,s=Array.from(n.values()).indexOf(t),i=gn(this,Le,"m",nn).call(this,e);if(i){const{cells:t}=i;return t.item(Math.min(s,t.length))}}return null},on=function(t){const{selectby:e}=this;switch(e){case"cell":{const e=t.composedPath(),n=e.find((t=>t instanceof pn))?e.find((t=>t instanceof ht)):null;n instanceof ht&&(this.selectedCells().includes(n)||gn(this,Le,"m",Fe).call(this,n),n.focus({preventScroll:!0}),t.preventDefault());break}case"row":{const e=t.composedPath(),n=e.find((t=>t instanceof pn))?e.find((t=>t instanceof me)):null;n instanceof me&&(this.selectedRows().includes(n)||gn(this,Le,"m",_e).call(this,n),n.focus({preventScroll:!0}));break}}t.preventDefault()},an=function(t){const{ctrlKey:e,shiftKey:n}=t,{selectby:s}=this;switch(s){case"cell":{const s=t.composedPath(),i=s.find((t=>t instanceof pn))?s.find((t=>t instanceof ht)):null,r=this.selectedCells();if(i instanceof ht)if(n||e){if(e)i.selected?gn(this,Le,"m",qe).call(this,i):gn(this,Le,"m",He).call(this,i),t.stopPropagation();else if(n){const e=r[r.length-1];if(e){const t=gn(this,Le,"m",je).call(this,e,i);t&&(r.includes(i)?gn(this,Le,"m",qe).call(this,...t):gn(this,Le,"m",He).call(this,...t))}else gn(this,Le,"m",Fe).call(this,i);t.stopPropagation()}}else gn(this,Le,"m",Fe).call(this,i);break}case"row":{const s=this.selectedRows(),i=t.composedPath(),r=i.find((t=>t instanceof pn))?i.find((t=>t instanceof me)):null;if(r instanceof me)if(n||e){if(e)r.selected?gn(this,Le,"m",Ke).call(this,r):gn(this,Le,"m",Be).call(this,r),t.stopPropagation();else if(n){const e=s[s.length-1];if(e){const t=gn(this,Le,"m",De).call(this,e,r);t&&(s.includes(r)?gn(this,Le,"m",Ke).call(this,...t):gn(this,Le,"m",Be).call(this,...t))}else gn(this,Le,"m",_e).call(this,r);t.stopPropagation()}}else gn(this,Le,"m",_e).call(this,r);break}}},cn=function(t){const{key:e}=t,{selectby:n,activeCell:s,activeRow:i}=this;switch(e){case"a":{const{ctrlKey:e}=t;if(e)switch(n){case"cell":{const t=gn(this,Le,"m",Qe).call(this),e=t?gn(this,Le,"m",Ge).call(this,t):null,n=gn(this,Le,"m",tn).call(this),s=n?gn(this,Le,"m",Xe).call(this,n):null;if(e&&s){const t=gn(this,Le,"m",je).call(this,e,s);t&&gn(this,Le,"m",Fe).call(this,...t)}break}case"row":{const t=gn(this,Le,"m",Qe).call(this),e=gn(this,Le,"m",tn).call(this);if(t&&e){const n=gn(this,Le,"m",De).call(this,t,e);n&&gn(this,Le,"m",_e).call(this,...n)}break}}t.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const e=gn(this,Le,"m",Ye).call(this,s);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?gn(this,Le,"m",qe).call(this,e):gn(this,Le,"m",He).call(this,e))}}t.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const e=gn(this,Le,"m",ze).call(this,s);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?gn(this,Le,"m",qe).call(this,e):gn(this,Le,"m",He).call(this,e))}}t.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const e=i??gn(this,Le,"m",Qe).call(this),n=s?gn(this,Le,"m",sn).call(this,s):e?gn(this,Le,"m",Ge).call(this,e):null;if(n){n.focus({preventScroll:!0});const{shiftKey:e}=t;e&&(n.selected?gn(this,Le,"m",qe).call(this,n):gn(this,Le,"m",He).call(this,n))}break}case"row":{const e=i?gn(this,Le,"m",en).call(this,i):gn(this,Le,"m",Qe).call(this);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?gn(this,Le,"m",Ke).call(this,e):gn(this,Le,"m",Be).call(this,e))}break}}t.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const e=i??gn(this,Le,"m",tn).call(this),n=s?gn(this,Le,"m",rn).call(this,s):e?gn(this,Le,"m",Xe).call(this,e):null;if(n){n.focus({preventScroll:!0});const{shiftKey:e}=t;e&&(n.selected?gn(this,Le,"m",qe).call(this,n):gn(this,Le,"m",He).call(this,n))}}break;case"row":{const e=i?gn(this,Le,"m",nn).call(this,i):gn(this,Le,"m",tn).call(this);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?gn(this,Le,"m",Ke).call(this,e):gn(this,Le,"m",Be).call(this,e))}break}}t.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const t=gn(this,Le,"m",Ge).call(this,i);t&&t.focus({preventScroll:!0})}break;case"row":{const t=gn(this,Le,"m",Qe).call(this);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"End":switch(n){case"cell":if(i){const t=gn(this,Le,"m",Xe).call(this,i);t&&t.focus({preventScroll:!0})}break;case"row":{const t=gn(this,Le,"m",tn).call(this);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(gn(this,Le,"m",Fe).call(this,s),s.click());break;case"row":i&&(gn(this,Le,"m",_e).call(this,i),i.click())}t.stopPropagation();break;case"Escape":switch(n){case"cell":gn(this,Le,"m",$e).call(this),gn(this,Le,"m",Je).call(this,null);break;case"row":gn(this,Le,"m",Ve).call(this),gn(this,Le,"m",Ue).call(this,null)}this.focus(),t.stopPropagation()}},ln=function(t){const{relatedTarget:e}=t,{selectby:n}=this;switch(n){case"cell":{const{activeCell:t}=this;t&&e!==t&&t.focus();break}case"row":{const{activeRow:t}=this;t&&e!==t&&t.focus();break}}},hn=function(t){const{target:e}=t,{selectby:n}=this;switch(n){case"cell":e instanceof ht&&gn(this,Le,"m",Je).call(this,e);break;case"row":e instanceof me&&gn(this,Le,"m",Ue).call(this,e)}},dn=function(){gn(this,Ie,"f")?bn(this,Ae,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},un=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof me)).forEach(((t,e)=>{t.posinset=e}))},(fn=q("template")).content.append(q("slot")),mn([_({type:String})],wn.prototype,"name",void 0),mn([_({type:String,defaultValue:"cell"})],wn.prototype,"selectby",void 0),wn=mn([H({name:"e-grid"})],wn);var vn,yn,En;let Sn=class extends HTMLElement{constructor(){super(),vn.add(this),this.cells=new ye(this),this.rows=new ke(this);const t=this.attachShadow({mode:"open"});t.append(En.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,vn,"m",yn).bind(this))}};vn=new WeakSet,yn=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof ht)).forEach(((t,e)=>{t.posinset=e}))},(En=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),q("slot")),Sn=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-gridhead"})],Sn);var Tn,xn,kn,Pn,Ln,Nn,Cn,In,An,Rn,Mn,On,Wn,jn,Dn,Fn,_n,Hn,Bn,qn=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Kn=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},$n=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let Vn=class extends HTMLElement{constructor(){super(),Tn.add(this),xn.set(this,void 0),kn.set(this,void 0),$n(this,kn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Kn(this,Tn,"m",Pn).bind(this)),"f"),$n(this,xn,-1,"f"),this.attachShadow({mode:"open"}).append(Bn.content.cloneNode(!0)),this.addEventListener("click",Kn(this,Tn,"m",_n).bind(this)),this.addEventListener("focusin",Kn(this,Tn,"m",jn).bind(this)),this.addEventListener("focusout",Kn(this,Tn,"m",Dn).bind(this)),this.addEventListener("mouseover",Kn(this,Tn,"m",Fn).bind(this)),this.addEventListener("keydown",Kn(this,Tn,"m",Hn).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return Kn(this,xn,"f")}get activeItem(){const{activeIndex:t}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??t>-1?this.items()[t]??null:null}};xn=new WeakMap,kn=new WeakMap,Tn=new WeakSet,Pn=function(t){return t instanceof xt?NodeFilter.FILTER_ACCEPT:t instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ln=function(){const t=Kn(this,kn,"f");return t.currentNode=t.root,t.firstChild()},Nn=function(){const t=Kn(this,kn,"f");return t.currentNode=t.root,t.lastChild()},Cn=function(t){const e=Kn(this,kn,"f");return e.currentNode=t,e.previousSibling()},In=function(t){const e=Kn(this,kn,"f");return e.currentNode=t,e.nextSibling()},An=function(t){const{menu:e}=t;if(e){const t=Kn(this,kn,"f");return t.currentNode=e,t.firstChild()}return null},Rn=function(t){const{activeItem:e,expanded:n}=this;null!==e&&e!==t&&e.collapse(),null!==t?(n&&t.expand(),$n(this,xn,this.items().indexOf(t),"f")):$n(this,xn,-1,"f")},Mn=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},On=function(t){return t.closest(":is(e-menubar, e-menu)")==this},Wn=function(t){return Kn(this,Tn,"a",Mn).find((e=>e.contains(t)))??null},jn=function(t){const{target:e}=t;if(e instanceof Element){const t=Kn(this,Tn,"m",Wn).call(this,e);Kn(this,Tn,"m",Rn).call(this,t)}},Dn=function(t){const{target:e,relatedTarget:n}=t;if(e instanceof HTMLElement&&!e.contains(n)){const t=Kn(this,Tn,"m",Wn).call(this,e);t&&t.collapse()}!this.contains(n)&&(this.expanded=!1)},Fn=function(t){const{target:e}=t,{expanded:n,activeItem:s}=this;if(e instanceof xt&&Kn(this,Tn,"m",On).call(this,e)&&e!==s&&n){const{menu:t}=e;t&&(e.expand(),t.focus({preventScroll:!0}))}},_n=function(t){const{target:e}=t,{expanded:n,activeItem:s}=this;if(e instanceof xt&&Kn(this,Tn,"m",On).call(this,e)){const t=!n;if(this.expanded=t,t){s&&!s.expanded&&s.expand();const{menu:t}=e;t?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Hn=function(t){const{key:e}=t,{expanded:n}=this;let{activeItem:s}=this;switch(e){case"ArrowLeft":(s?Kn(this,Tn,"m",Cn).call(this,s)??Kn(this,Tn,"m",Nn).call(this):Kn(this,Tn,"m",Ln).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Kn(this,Tn,"m",An).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Kn(this,Tn,"m",In).call(this,s)??Kn(this,Tn,"m",Ln).call(this):Kn(this,Tn,"m",Nn).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Kn(this,Tn,"m",An).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.expanded=!n,Kn(this,Tn,"m",An).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},(Bn=q("template")).content.append(q("slot")),qn([_({type:String})],Vn.prototype,"name",void 0),qn([_({type:Boolean})],Vn.prototype,"expanded",void 0),Vn=qn([H({name:"e-menubar"})],Vn);var Jn,Un,Gn,Xn,Yn,zn,Zn,Qn,ts=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},es=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},ns=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let ss=class extends HTMLElement{constructor(){super(),Jn.add(this),Un.set(this,void 0),es(this,Un,null,"f");const t=this.attachShadow({mode:"open"});t.append(q("span",{attributes:{part:"content"},children:[q("span",{attributes:{part:"icon"}}),q("span",{attributes:{part:"label"}})]}),q("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",ns(this,Jn,"m",zn).bind(this)),this.addEventListener("click",ns(this,Jn,"m",Xn).bind(this)),this.addEventListener("focusout",ns(this,Jn,"m",Yn).bind(this)),this.addEventListener("trigger",ns(this,Jn,"m",Qn).bind(this)),t.addEventListener("slotchange",ns(this,Jn,"m",Zn).bind(this))}get menu(){return ns(this,Un,"f")}toggle(t){t??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,ns(this,Jn,"m",Gn).call(this))}collapse(){this.expanded&&(this.expanded=!1)}get firstItem(){return this.querySelector(":scope > :is(e-menu, e-menu > e-menuitemgroup) > e-menuitem")}};Un=new WeakMap,Jn=new WeakSet,Gn=function(){const{menu:t}=this;if(null!==t){const{style:e}=t,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=t.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=r+o-h,f=n+a-d;e.setProperty("left",`${u>0?l+r-o:l+i}px`),e.setProperty("top",`${f>0?c+n-a:c+s}px`)}},Xn=function(t){const{target:e}=t;if(e==this){this.toggle();const{expanded:t}=this;t&&this.menu?.focus({preventScroll:!0})}},Yn=function(t){const{relatedTarget:e}=t;!this.contains(e)&&this.collapse()},zn=function(t){const{key:e}=t,{expanded:n}=this;switch(e){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),t.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),t.stopPropagation())}},Zn=function(t){const{target:e}=t,n=e.assignedElements()[0];es(this,Un,n instanceof ae?n:null,"f")},Qn=function(){this.collapse(),this.focus({preventScroll:!0})},ts([_({type:String})],ss.prototype,"name",void 0),ts([_({type:Boolean})],ss.prototype,"disabled",void 0),ts([_({type:Boolean})],ss.prototype,"expanded",void 0),ss=ts([H({name:"e-menubutton"})],ss);var is,rs=ss,os=(Object.assign((function(t){const{menu:e}=t;return e.slot="menu",q("e-menubutton",{attributes:{tabindex:-1},children:[e]})}),{prototype:rs.prototype}),function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o});let as=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(is.content.cloneNode(!0))}attributeChangedCallback(t,e,n){switch(t){case"label":{const{shadowRoot:t}=this,e=t.querySelector("[part=label]");e&&(e.textContent=n);break}}}};(is=q("template")).content.append(q("style",{children:['\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    ']}),q("span",{attributes:{part:"content"},children:[q("span",{attributes:{part:"label"}})]})),os([_({type:String})],as.prototype,"name",void 0),os([_({type:String})],as.prototype,"value",void 0),os([_({type:String,observed:!0})],as.prototype,"label",void 0),os([_({type:String})],as.prototype,"description",void 0),os([_({type:Boolean})],as.prototype,"disabled",void 0),os([_({type:Boolean})],as.prototype,"active",void 0),os([_({type:Boolean})],as.prototype,"selected",void 0),os([_({type:Boolean})],as.prototype,"default",void 0),as=os([H({name:"e-option"})],as);var cs,ls=as;let hs=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(cs.content.cloneNode(!0))}};(cs=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),q("slot")),hs=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-optiongroup"})],hs);var ds,us,fs,ps=hs,ms=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};us=new WeakMap,ds=new WeakSet,fs=function(t){return t instanceof ls?NodeFilter.FILTER_ACCEPT:t instanceof ps?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var gs,bs,ws,vs,ys,Es,Ss,Ts,xs,ks,Ps,Ls,Ns,Cs,Is,As,Rs,Ms,Os,Ws,js=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ds=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Fs=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let _s=class extends st{constructor(){super(),gs.add(this),bs.set(this,void 0),ws.set(this,void 0),vs.set(this,void 0),Fs(this,bs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ds(this,gs,"m",ys).bind(this)),"f"),Fs(this,ws,-1,"f"),Fs(this,vs,-1,"f"),this.options=new class{constructor(t){ds.add(this),us.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,us,document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,ms(this,ds,"m",fs).bind(this)),"f")}get length(){const t=ms(this,us,"f");t.currentNode=t.root;let e=0;for(;null!==t.nextNode();)e++;return e}get value(){const t=ms(this,us,"f");t.currentNode=t.root;let e=t.nextNode();for(;null!==e;){if(e.selected)return e.value;e=t.nextNode()}return""}item(t){if(t<0)return null;const e=ms(this,us,"f");e.currentNode=e.root;let n=e.nextNode(),s=0;for(;s<t&&null!==n;)n=e.nextNode(),s++;return n}namedItem(t){if(!t)return null;const e=ms(this,us,"f"),{root:n}=e;e.currentNode=n;let s=e.nextNode();for(;null!==s&&s.name!=t;)s=e.nextNode();return s}*values(){const t=ms(this,us,"f");t.currentNode=t.root;let e=t.nextNode();for(;null!==e;)yield e,e=t.nextNode()}}(this);const t=this.attachShadow({mode:"open"});t.append(Ws.content.cloneNode(!0)),this.addEventListener("click",Ds(this,gs,"m",Cs).bind(this)),this.addEventListener("focusin",Ds(this,gs,"m",Is).bind(this)),this.addEventListener("focusout",Ds(this,gs,"m",As).bind(this)),this.addEventListener("keydown",Ds(this,gs,"m",Rs).bind(this)),this.addEventListener("mouseover",Ds(this,gs,"m",Ms).bind(this)),t.addEventListener("slotchange",Ds(this,gs,"m",Os).bind(this))}get activeIndex(){return Ds(this,ws,"f")}get selectedIndex(){return Ds(this,vs,"f")}get activeOption(){return this.options.item(Ds(this,ws,"f"))??null}get selectedOption(){return this.options.item(Ds(this,vs,"f"))??null}attributeChangedCallback(t,e,n){switch(t){case"label":{const{shadowRoot:t}=this,e=t.querySelector("[part=label]");e&&(e.textContent=n);break}case"value":{const{options:t}=this,e=Array.from(t.values()).find((t=>t.value==n));e&&(Ds(this,gs,"m",Ls).call(this,e),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:t,options:e}=this;if(!t){this.expanded=!0;const{selectedIndex:t}=this;Ds(this,gs,"m",Ns).call(this);const n=e.item(t);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:t}=this;t&&(this.expanded=!1,this.focus())}toggle(t){const{expanded:e}=this;t??!e?this.expand():this.collapse()}};bs=new WeakMap,ws=new WeakMap,vs=new WeakMap,gs=new WeakSet,ys=function(t){return t instanceof ls?NodeFilter.FILTER_ACCEPT:t instanceof ps?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Es=function(){const t=Ds(this,bs,"f");return t.currentNode=t.root,t.firstChild()},Ss=function(){const t=Ds(this,bs,"f");return t.currentNode=t.root,t.lastChild()},Ts=function(t){const e=Ds(this,bs,"f");return e.currentNode=t,e.previousNode()},xs=function(t){const e=Ds(this,bs,"f");return e.currentNode=t,e.nextNode()},ks=function(t){t&&!t.disabled&&(this.value=t.value)},Ps=function(t){const{options:e,activeOption:n}=this;if(null!==n&&n!==t&&(n.active=!1),null!==t){if(!t.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=t.description),Fs(this,ws,Array.from(e.values()).indexOf(t),"f")}t.active=!0}else Fs(this,ws,-1,"f")},Ls=function(t){const{options:e}=this;if(null!==t){if(!t.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=t.label),t.selected=!0,s&&(s.selected=!1),Fs(this,vs,Array.from(e.values()).indexOf(t),"f")}}else Fs(this,ws,-1,"f")},Ns=function(){const{shadowRoot:t}=this,e=t.querySelector("[part=options]"),{style:n}=e,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Cs=function(t){const{target:e}=t;e instanceof ls?(Ds(this,gs,"m",ks).call(this,e),this.collapse()):e==this&&this.toggle()},Is=function(t){const{target:e}=t,{expanded:n}=this;e instanceof ls&&(n||this.expand(),Ds(this,gs,"m",Ps).call(this,e))},As=function(t){const{relatedTarget:e}=t,{expanded:n}=this;!this.contains(e)&&(n&&this.collapse(),Ds(this,gs,"m",Ps).call(this,null))},Rs=function(t){const{key:e}=t,{options:n,activeOption:s,selectedOption:i,selectedIndex:r,expanded:o}=this;switch(e){case"ArrowUp":if(o&&null!==s){const t=Ds(this,gs,"m",Ts).call(this,s)??Ds(this,gs,"m",Es).call(this);t&&t.focus({preventScroll:!0})}else if(!o&&null!==i){const t=Ds(this,gs,"m",Ts).call(this,i)??Ds(this,gs,"m",Es).call(this);t&&Ds(this,gs,"m",ks).call(this,t)}t.stopPropagation();break;case"ArrowDown":if(o&&null!==s){const t=Ds(this,gs,"m",xs).call(this,s)??Ds(this,gs,"m",Ss).call(this);t&&t.focus({preventScroll:!0})}else if(!o&&null!==i){const t=Ds(this,gs,"m",xs).call(this,i)??Ds(this,gs,"m",Ss).call(this);t&&Ds(this,gs,"m",ks).call(this,t)}t.stopPropagation();break;case"Home":{const e=Ds(this,gs,"m",Es).call(this);null!==e&&(o?e.focus({preventScroll:!0}):Ds(this,gs,"m",ks).call(this,e)),t.stopPropagation();break}case"End":{const e=Ds(this,gs,"m",Ss).call(this);null!==e&&(o?e.focus({preventScroll:!0}):Ds(this,gs,"m",ks).call(this,e)),t.stopPropagation();break}case"Enter":if(o)this.collapse(),null!==s&&Ds(this,gs,"m",ks).call(this,s);else{const t=n.item(r);null!==t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Escape":o&&this.collapse(),t.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=e;if(1==i){const i=e.charCodeAt(0),r=Array.from(n.values()),o=r.findIndex((t=>t.label.toLowerCase().charCodeAt(0)==i)),a=r.findIndex(((t,e)=>t.label.toLowerCase().charCodeAt(0)==i&&e>s)),c=a>-1?a:o,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),t.stopPropagation()}break}}},Ms=function(t){const{target:e}=t;e instanceof ls&&e.focus({preventScroll:!0})},Os=function(t){const{target:e}=t,n=e.assignedElements().filter((t=>t instanceof ls));if(n.length>0){let t=null,{value:e}=this;e&&(t=n.find((t=>t.value==e))??null),null==t&&(t=n.find((t=>t.selected))??null),null==t&&(t=n.find((t=>t.default))??null),null==t&&(t=Ds(this,gs,"m",Es).call(this)),n.forEach((e=>{e.selected=e==t})),null!==t&&Ds(this,gs,"m",Ls).call(this,t)}},(Ws=q("template")).content.append(q("div",{attributes:{part:"content"},children:[q("label",{attributes:{part:"label"}}),q("output",{attributes:{part:"value"}})]}),q("div",{attributes:{part:"options"},children:[q("slot"),q("hr",{attributes:{part:"separator"}}),q("span",{attributes:{part:"description"}})]})),js([_({type:String})],_s.prototype,"name",void 0),js([_({type:String,observed:!0})],_s.prototype,"label",void 0),js([_({type:String,observed:!0})],_s.prototype,"value",void 0),js([_({type:String,defaultValue:"select",observed:!0})],_s.prototype,"type",void 0),js([_({type:Boolean})],_s.prototype,"expanded",void 0),_s=js([H({name:"e-select"})],_s);var Hs,Bs,qs,Ks,$s,Vs,Js,Us,Gs,Xs,Ys,zs,Zs,Qs,ti=_s,ei=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},ni=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},si=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let ii=class extends st{constructor(){super(),Hs.add(this),Bs.set(this,void 0),qs.set(this,void 0),ni(this,Bs,null,"f"),ni(this,qs,null,"f");const t=this.attachShadow({mode:"open"});t.append(zs.content.cloneNode(!0)),t.addEventListener("slotchange",si(this,Hs,"m",Ys).bind(this))}get menubutton(){return si(this,Bs,"f")}get select(){return si(this,qs,"f")}toggle(){const{type:t}=this;switch(t){case"menubutton":{const{menubutton:t}=this;t&&(t.toggle(),t.expanded&&t.firstItem?.focus({preventScroll:!0}));break}case"select":{const{select:t}=this;t&&t.toggle();break}}}attributeChangedCallback(t,e,n){switch(t){case"label":{const{shadowRoot:t}=this,e=t.querySelector("[part=label]");e&&(e.textContent=n);break}case"value":{const{type:t}=this;"select"==t&&si(this,Hs,"m",Ks).call(this);break}}}};Bs=new WeakMap,qs=new WeakMap,Hs=new WeakSet,Ks=function(){const{select:t}=this;if(t){const{value:e}=this,{value:n}=t;n!==e&&(t.value=e)}},$s=function(t){const e=si(this,Hs,"m",Gs).bind(this);Zs.set(t,e),t.addEventListener("keydown",e)},Vs=function(t){const e=Zs.get(t);e&&t.removeEventListener("keydown",e)},Js=function(t){const e=si(this,Hs,"m",Xs).bind(this);Qs.set(t,e),t.addEventListener("trigger",e)},Us=function(t){const e=Qs.get(t);e&&t.removeEventListener("trigger",e)},Gs=function(t){const{key:e}=t;switch(e){case"Enter":case"Escape":this.focus({preventScroll:!0}),t.stopPropagation()}},Xs=function(t){this.focus({preventScroll:!0}),t.stopPropagation()},Ys=function(t){const{target:e}=t,{name:n}=e;switch(n){case"menubutton":{let t=si(this,Bs,"f");null!==t&&(si(this,Hs,"m",Us).call(this,t),si(this,Hs,"m",Vs).call(this,t));const n=e.assignedElements()[0];t=n instanceof rs?n:null,null!==t&&(si(this,Hs,"m",Js).call(this,t),si(this,Hs,"m",$s).call(this,t)),ni(this,Bs,t,"f");break}case"select":{let t=si(this,qs,"f");null!==t&&si(this,Hs,"m",Vs).call(this,t);const n=e.assignedElements()[0];t=n instanceof ti?n:null,null!==t&&si(this,Hs,"m",$s).call(this,t),ni(this,qs,t,"f");break}}},(zs=q("template")).content.append(q("span",{attributes:{part:"content"},children:[q("span",{attributes:{part:"icon"}}),q("span",{attributes:{part:"label"}}),q("slot",{attributes:{name:"select"}}),q("slot",{attributes:{name:"menubutton"}})]})),Zs=new WeakMap,Qs=new WeakMap,ei([_({type:Boolean})],ii.prototype,"active",void 0),ei([_({type:String,observed:!0})],ii.prototype,"value",void 0),ei([_({type:String})],ii.prototype,"name",void 0),ei([_({type:String,observed:!0})],ii.prototype,"label",void 0),ei([_({type:String})],ii.prototype,"type",void 0),ii=ei([H({name:"e-toolbaritem"})],ii);var ri,oi=ii,ai=Object.assign((function(t){const{label:e,name:n,type:s,value:i,trigger:r,menubutton:o,select:a}=t;return o&&(o.slot="menubutton"),a&&(a.slot="select"),q("e-toolbaritem",{attributes:{tabindex:-1,title:e,name:n,value:i,type:s},children:o?[o]:a?[a]:void 0,listeners:{trigger:r}})}),{prototype:oi.prototype,button:t=>new ai({...t,type:"button"}),checkbox:t=>new ai({...t,type:"checkbox"}),radio:t=>new ai({...t,type:"radio"}),menubutton:t=>new ai({...t,type:"menubutton"}),select:t=>new ai({...t,type:"select"})}),ci=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let li=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ri.content.cloneNode(!0))}attributeChangedCallback(t,e,n){switch(t){case"label":{const t=this.shadowRoot.querySelector("[part='label']");t&&(t.textContent=n);break}}}};(ri=q("template")).content.append(q("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),q("slot")),ci([_({type:String})],li.prototype,"name",void 0),ci([_({type:String,observed:!0})],li.prototype,"label",void 0),ci([_({type:Boolean,observed:!0})],li.prototype,"disabled",void 0),li=ci([H({name:"e-toolbaritemgroup"})],li);var hi,di,ui,fi,pi,mi,gi,bi,wi,vi,yi,Ei,Si,Ti,xi,ki,Pi=li,Li=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ni=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Ci=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let Ii=class extends HTMLElement{constructor(){super(),hi.add(this),di.set(this,void 0),ui.set(this,void 0),Ni(this,ui,-1,"f"),Ni(this,di,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ci(this,hi,"m",fi).bind(this)),"f"),this.attachShadow({mode:"open"}).append(ki.content.cloneNode(!0)),this.addEventListener("change",Ci(this,hi,"m",vi).bind(this)),this.addEventListener("click",Ci(this,hi,"m",yi).bind(this)),this.addEventListener("focusin",Ci(this,hi,"m",Ei).bind(this)),this.addEventListener("focusout",Ci(this,hi,"m",Si).bind(this)),this.addEventListener("keydown",Ci(this,hi,"m",Ti).bind(this)),this.addEventListener("trigger",Ci(this,hi,"m",xi).bind(this))}get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}get activeIndex(){return Ci(this,ui,"f")}};di=new WeakMap,ui=new WeakMap,hi=new WeakSet,fi=function(t){return t instanceof oi?NodeFilter.FILTER_ACCEPT:t instanceof Pi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pi=function(){const t=Ci(this,di,"f");return t.currentNode=t.root,t.firstChild()},mi=function(){const t=Ci(this,di,"f");return t.currentNode=t.root,t.lastChild()},gi=function(t){const e=Ci(this,di,"f");return e.currentNode=t,e.previousSibling()},bi=function(t){const e=Ci(this,di,"f");return e.currentNode=t,e.nextSibling()},wi=function(t){const{activeItem:e}=this;null!==e&&e!==t&&(e.active=!1),null!==t?(t.active=!0,Ni(this,ui,this.items().indexOf(t),"f")):Ni(this,ui,-1,"f")},vi=function(t){const{target:e}=t;if(e instanceof ti){const t=e.closest("e-toolbaritem");if(null!==t){const{select:n,type:s}=t;if(e==n&&n&&"select"==s){const{value:e}=t,{value:s}=n;e!==s&&(t.value=s,t.trigger())}}}},yi=function(t){const{target:e}=t;if(e instanceof oi){const{type:t}=e;e.trigger()}},Ei=function(t){const{target:e}=t,n=this.items().find((t=>t.contains(e)))??null;Ci(this,hi,"m",wi).call(this,n)},Si=function(t){const{relatedTarget:e}=t;!this.contains(e)&&Ci(this,hi,"m",wi).call(this,null)},Ti=function(t){const{key:e}=t,{activeItem:n}=this;switch(e){case"Enter":if(n){const{type:e}=n;switch(e){case"menubutton":{const{menubutton:t}=n;if(t){const{expanded:e}=t;e||(t.expand(),t.firstItem?.focus({preventScroll:!0}))}break}case"select":{const{select:t}=n;t&&t.expand();break}default:n.trigger()}t.stopPropagation()}break;case"ArrowLeft":if(n){const t=Ci(this,hi,"m",gi).call(this,n);t&&t.focus({preventScroll:!0})}else{const t=Ci(this,hi,"m",pi).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowRight":if(n){const t=Ci(this,hi,"m",bi).call(this,n);t&&t.focus({preventScroll:!0})}else{const t=Ci(this,hi,"m",mi).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowDown":if(n){const{type:e}=n;switch(e){case"select":n.select?.expand(),t.stopPropagation()}}break;case"Home":{const e=Ci(this,hi,"m",pi).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=Ci(this,hi,"m",mi).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),t.stopPropagation()}},xi=function(t){const{target:e}=t;if(e instanceof oi){const{type:t,name:n,value:s}=e;"radio"==t&&this.querySelectorAll(`:is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem[type=radio][name=${n}]`).forEach((t=>{t.checked=t.value==s}))}},(ki=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),q("slot")),Li([_({type:String})],Ii.prototype,"name",void 0),Li([_({type:String})],Ii.prototype,"orientation",void 0),Ii=Li([H({name:"e-toolbar"})],Ii);var Ai=Ii,Ri=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Mi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(q("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),q("slot"))}};Ri([_({type:String})],Mi.prototype,"name",void 0),Mi=Ri([H({name:"e-tabpanel"})],Mi);var Oi,Wi=Mi,ji=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Di=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Fi=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let _i=class extends HTMLElement{constructor(){super(),Oi.set(this,void 0),this.attachShadow({mode:"open"}).append(q("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),q("slot")),Di(this,Oi,null,"f")}get panel(){return Fi(this,Oi,"f")}connectedCallback(){const t=document.getElementById(this.controls);t!==Fi(this,Oi,"f")&&t instanceof Wi&&Di(this,Oi,t,"f"),t&&(t.hidden=!this.active)}attributeChangedCallback(t,e,n){switch(t){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const t=document.getElementById(this.controls);t!==this.panel&&t instanceof Wi&&Di(this,Oi,t,"f"),t&&(t.hidden=!this.active)}}};Oi=new WeakMap,ji([_({type:String})],_i.prototype,"name",void 0),ji([_({type:Boolean})],_i.prototype,"disabled",void 0),ji([_({type:Boolean,observed:!0})],_i.prototype,"active",void 0),ji([_({type:String,observed:!0})],_i.prototype,"controls",void 0),_i=ji([H({name:"e-tab"})],_i);var Hi,Bi=_i,qi=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Ki=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let $i=class extends HTMLElement{constructor(){super(),Hi.set(this,void 0),this.attachShadow({mode:"open"}).append(q("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),q("slot")),this.tabs=[],qi(this,Hi,1,"f")}get activeIndex(){return Ki(this,Hi,"f")}get activeTab(){return this.tabs[Ki(this,Hi,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const t=this.shadowRoot.querySelector("slot");t&&t.addEventListener("slotchange",(t=>{const e=t.target.assignedElements().filter((t=>t instanceof Bi));this.tabs=e,qi(this,Hi,this.tabs.findIndex((t=>t.active)),"f")})),this.addEventListener("keydown",(t=>{switch(t.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),t.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),t.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(t=>{const e=t.target;e instanceof Bi&&(e.active=!0)})),this.addEventListener("e_tabchange",(t=>{const e=this.tabs.indexOf(t.detail.tab);qi(this,Hi,e,"f"),this.tabs.forEach(((t,n)=>{n!==e&&(t.active=!1)}))}))}focusTabAt(t){const e=this.tabs[t];e&&(qi(this,Hi,t,"f"),e.focus())}activateTab(t){this.tabs.includes(t)&&(t.active=!0)}};Hi=new WeakMap,$i=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-tablist"})],$i);var Vi,Ji,Ui;let Gi=class extends HTMLElement{constructor(){super(),Vi.add(this);const t=this.attachShadow({mode:"open"});t.append(Ui.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Vi,"m",Ji).bind(this))}};Vi=new WeakSet,Ji=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof Wr)).forEach(((t,e)=>{t.posinset=e,t.level=(()=>{let e=-1,n=t;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,e++;return e})()}))},(Ui=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),q("slot")),Gi=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-treeitemgroup"})],Gi);var Xi,Yi,zi,Zi,Qi,tr=Gi,er=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},nr=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},sr=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let ir=class extends HTMLElement{constructor(){super(),Xi.add(this),Yi.set(this,void 0);const t=this.attachShadow({mode:"open"});t.append(Qi.content.cloneNode(!0)),t.addEventListener("slotchange",nr(this,Xi,"m",Zi).bind(this)),this.addEventListener("click",nr(this,Xi,"m",zi).bind(this)),sr(this,Yi,null,"f")}get group(){return nr(this,Yi,"f")}attributeChangedCallback(t,e,n){switch(t){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const t=this.shadowRoot.querySelector("[part=label]");t&&(t.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(t){this.expanded=t??!this.expanded}};Yi=new WeakMap,Xi=new WeakSet,zi=function(t){const{target:e,shiftKey:n,ctrlKey:s}=t,{type:i}=this;this!=e||"parent"!=i||n||s||this.toggle()},Zi=function(t){const{target:e}=t,{name:n}=e;switch(n){case"group":{const t=e.assignedElements()[0];sr(this,Yi,t instanceof tr?t:null,"f");break}}},(Qi=q("template")).content.append(q("div",{attributes:{part:"content"},children:[q("span",{attributes:{part:"arrow"}}),q("slot")]}),q("slot",{attributes:{name:"group"}})),er([_({type:String})],ir.prototype,"name",void 0),er([_({type:Number})],ir.prototype,"posinset",void 0),er([_({type:String,observed:!0})],ir.prototype,"label",void 0),er([_({type:Boolean,observed:!0})],ir.prototype,"expanded",void 0),er([_({type:Boolean})],ir.prototype,"droptarget",void 0),er([_({type:Boolean})],ir.prototype,"active",void 0),er([_({type:Boolean,observed:!0})],ir.prototype,"selected",void 0),er([_({type:Number,observed:!0})],ir.prototype,"level",void 0),er([_({type:String,defaultValue:"leaf"})],ir.prototype,"type",void 0),ir=er([H({name:"e-treeitem"})],ir);var rr,or,ar,cr,lr,hr,dr,ur,fr,pr,mr,gr,br,wr,vr,yr,Er,Sr,Tr,xr,kr,Pr,Lr,Nr,Cr,Ir,Ar,Rr,Mr,Or,Wr=ir,jr=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Dr=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Fr=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let _r=class extends HTMLElement{constructor(){super(),rr.add(this),or.set(this,void 0),ar.set(this,void 0),cr.set(this,void 0),Fr(this,cr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Dr(this,rr,"m",lr).bind(this)),"f"),Fr(this,or,!1,"f"),Fr(this,ar,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const t=this.attachShadow({mode:"open"});t.append(Or.content.cloneNode(!0)),this.addEventListener("mousedown",Dr(this,rr,"m",Sr).bind(this)),this.addEventListener("dragend",Dr(this,rr,"m",Tr).bind(this)),this.addEventListener("dragenter",Dr(this,rr,"m",xr).bind(this)),this.addEventListener("dragleave",Dr(this,rr,"m",Pr).bind(this)),this.addEventListener("dragover",Dr(this,rr,"m",kr).bind(this)),this.addEventListener("drop",Dr(this,rr,"m",Lr).bind(this)),this.addEventListener("focus",Dr(this,rr,"m",Cr).bind(this)),this.addEventListener("focusin",Dr(this,rr,"m",Ir).bind(this)),this.addEventListener("focusout",Dr(this,rr,"m",Ar).bind(this)),this.addEventListener("keydown",Dr(this,rr,"m",Nr).bind(this)),this.addEventListener("select",Dr(this,rr,"m",Rr).bind(this)),t.addEventListener("slotchange",Dr(this,rr,"m",Mr).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const t=[],e=Dr(this,cr,"f");e.currentNode=e.root;let n=Dr(this,rr,"m",br).call(this);for(;null!==n;)n.selected&&t.push(n),n=Dr(this,rr,"m",yr).call(this,n);return t}beginSelection(){Fr(this,or,!0,"f")}endSelection(){Fr(this,or,!1,"f"),Dr(this,ar,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Fr(this,ar,!1,"f"))}};or=new WeakMap,ar=new WeakMap,cr=new WeakMap,rr=new WeakSet,lr=function(t){return t instanceof Wr?NodeFilter.FILTER_ACCEPT:t instanceof tr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},hr=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=Dr(this,rr,"m",yr).call(this,t);for(;s&&s!==e;)n.push(s),s=Dr(this,rr,"m",yr).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=Dr(this,rr,"m",vr).call(this,t);for(;s&&s!==e;)n.push(s),s=Dr(this,rr,"m",vr).call(this,s);return n.push(e),n}return[]},dr=function(...t){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)||(e.selected=!1)})),t.forEach((t=>{this.contains(t)&&!t.selected&&(t.selected=!0)})),this.endSelection()},ur=function(...t){this.beginSelection(),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},fr=function(...t){const e=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)&&(t.selected=!1)})),this.endSelection()},pr=function(){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{t.selected=!1})),this.endSelection()},mr=function(t){const{activeItem:e}=this;null!==e&&e!==t&&(e.active=!1,e.tabIndex=-1),null!==t&&(Dr(this,cr,"f").currentNode=t,t.active=!0,t.tabIndex=0)},gr=function(t){const{dropTargetItem:e}=this;null!==e&&e!==t&&(e.droptarget=!1),null!==t?(this.droptarget=!0,t.droptarget=!0):this.droptarget=!1},br=function(){const t=Dr(this,cr,"f"),{root:e}=t;return t.currentNode=e,t.firstChild()},wr=function(){const t=Dr(this,cr,"f"),{root:e}=t;return t.currentNode=e,t.lastChild()},vr=function(t){const e=Dr(this,cr,"f");e.currentNode=t;const n=e.previousSibling();return n?Dr(this,rr,"m",Er).call(this,n):e.parentNode()},yr=function(t){const e=Dr(this,cr,"f");e.currentNode=t;const{type:n,expanded:s}=t;return"leaf"===n||s?e.nextNode():e.nextSibling()??(e.parentNode(),e.nextSibling())},Er=function t(e){if(e.expanded){const e=Dr(this,cr,"f").lastChild();if(e)return Dr(this,rr,"m",t).call(this,e)}return e},Sr=function(t){const{target:e,ctrlKey:n,shiftKey:s,button:i}=t;if(e instanceof Wr){const{selected:r}=e;switch(i){case 0:if(s||n){if(n)r&&e.blur(),r?Dr(this,rr,"m",fr).call(this,e):Dr(this,rr,"m",ur).call(this,e),t.stopPropagation();else if(s){const{activeItem:n}=this;if(n){const t=Dr(this,rr,"m",hr).call(this,n,e);t&&Dr(this,rr,"m",dr).call(this,...t)}t.stopPropagation()}}else Dr(this,rr,"m",dr).call(this,e);break;case 2:r||Dr(this,rr,"m",dr).call(this,e)}}},Tr=function(){Dr(this,rr,"m",gr).call(this,null)},xr=function(t){const{target:e}=t;if(e instanceof Wr){const{type:t}=e;"parent"==t&&e.toggle(!0),Dr(this,rr,"m",gr).call(this,e)}t.preventDefault()},kr=function(t){t.preventDefault()},Pr=function(t){const{relatedTarget:e}=t;if(e){const t=e.getRootNode(),n=t instanceof ShadowRoot?t.host:e;this.contains(n)||Dr(this,rr,"m",gr).call(this,null)}},Lr=function(){Dr(this,rr,"m",gr).call(this,null)},Nr=function(t){const{key:e}=t,{activeItem:n}=this;switch(e){case"a":{const{ctrlKey:e}=t;if(e&&n){const t=Dr(this,cr,"f"),{root:e}=t;t.currentNode=n;const s=(t.currentNode=t.parentNode()??e,t.firstChild()),i=(t.currentNode=t.parentNode()??e,t.lastChild());if(s&&i){const t=Dr(this,rr,"m",hr).call(this,s,Dr(this,rr,"m",Er).call(this,i));t&&Dr(this,rr,"m",dr).call(this,...t)}}t.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const t=Dr(this,cr,"f").parentNode();t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),t.stopPropagation();break;case"ArrowUp":if(n){const e=Dr(this,rr,"m",vr).call(this,n);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?Dr(this,rr,"m",fr).call(this,e):Dr(this,rr,"m",ur).call(this,e))}}else{const t=Dr(this,rr,"m",br).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowDown":if(n){const e=Dr(this,rr,"m",yr).call(this,n);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?Dr(this,rr,"m",fr).call(this,e):Dr(this,rr,"m",ur).call(this,e))}}else{const t=Dr(this,rr,"m",wr).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Home":{const e=Dr(this,rr,"m",br).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=Dr(this,rr,"m",wr).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Enter":n&&(Dr(this,rr,"m",dr).call(this,n),n.click()),t.stopPropagation();break;case"Escape":Dr(this,rr,"m",pr).call(this),Dr(this,rr,"m",mr).call(this,null),this.focus(),t.stopPropagation()}},Cr=function(t){const{relatedTarget:e}=t,{activeItem:n}=this;n&&e!==n&&n.focus()},Ir=function(t){const{target:e}=t;e instanceof Wr&&(Dr(this,rr,"m",mr).call(this,e),this.tabIndex=-1)},Ar=function(t){const{relatedTarget:e}=t;!this.contains(e)&&(this.tabIndex=0)},Rr=function(){Dr(this,or,"f")?Fr(this,ar,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Mr=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof Wr)).forEach(((t,e)=>{t.posinset=e,t.level=0}))},(Or=q("template")).content.append(q("slot")),jr([_({type:Boolean})],_r.prototype,"droptarget",void 0),jr([_({type:String})],_r.prototype,"name",void 0),_r=jr([H({name:"e-tree"})],_r);var Hr,Br,qr,Kr,$r,Vr,Jr=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ur=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Gr=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let Xr=class extends HTMLElement{constructor(){super(),Hr.add(this),Br.set(this,void 0),qr.set(this,void 0),Kr.set(this,void 0);const t=this.attachShadow({mode:"open"});t.append(Vr.content.cloneNode(!0)),Ur(this,Br,null,"f"),Ur(this,Kr,null,"f"),Ur(this,qr,null,"f"),t.addEventListener("slotchange",Gr(this,Hr,"m",$r).bind(this))}get badge(){return Gr(this,Br,"f")}get toolbar(){return Gr(this,qr,"f")}get menu(){return Gr(this,Kr,"f")}attributeChangedCallback(t,e,n){switch(t){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:t}=this,e=t.querySelector("[part=label]");e&&(e.textContent=n);break}}}};Br=new WeakMap,qr=new WeakMap,Kr=new WeakMap,Hr=new WeakSet,$r=function(t){const{target:e}=t,{name:n}=e;switch(n){case"toolbar":{const t=e.assignedElements()[0];Ur(this,qr,t instanceof Ai?t:null,"f");break}case"badge":{const t=e.assignedElements()[0];Ur(this,Br,t instanceof HTMLSpanElement?t:null,"f");break}case"menu":{const t=e.assignedElements()[0];Ur(this,Kr,t instanceof ae?t:null,"f");break}}},(Vr=q("template")).content.append(q("slot")),Jr([_({type:String})],Xr.prototype,"name",void 0),Jr([_({type:Number})],Xr.prototype,"posinset",void 0),Jr([_({type:String,observed:!0})],Xr.prototype,"label",void 0),Jr([_({type:Boolean})],Xr.prototype,"droptarget",void 0),Jr([_({type:Boolean})],Xr.prototype,"active",void 0),Jr([_({type:Boolean,observed:!0})],Xr.prototype,"selected",void 0),Xr=Jr([H({name:"e-listitem"})],Xr);var Yr,zr,Zr,Qr=Xr;let to=class extends HTMLElement{constructor(){super(),Yr.add(this);const t=this.attachShadow({mode:"open"});t.append(Zr.content.cloneNode(!0)),t.addEventListener("slotchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Yr,"m",zr).bind(this))}};Yr=new WeakSet,zr=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof Qr)).forEach(((t,e)=>{t.posinset=e}))},(Zr=q("template")).content.append(q("slot")),to=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}([H({name:"e-listitemgroup"})],to);var eo,no,so,io,ro,oo,ao,co,lo,ho,uo,fo,po,mo,go,bo,wo,vo,yo,Eo,So,To,xo,ko,Po,Lo,No,Co,Io,Ao,Ro,Mo,Oo=to,Wo=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},jo=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Do=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let Fo=class extends HTMLElement{constructor(){super(),eo.add(this),no.set(this,void 0),so.set(this,void 0),io.set(this,void 0),ro.set(this,void 0),oo.set(this,void 0),Do(this,oo,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,jo(this,eo,"m",ao).bind(this)),"f"),Do(this,so,-1,"f"),Do(this,no,-1,"f"),Do(this,io,!1,"f"),Do(this,ro,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const t=this.attachShadow({mode:"open"});t.append(Mo.content.cloneNode(!0)),this.addEventListener("contextmenu",jo(this,eo,"m",yo).bind(this)),this.addEventListener("click",jo(this,eo,"m",Eo).bind(this)),this.addEventListener("dragend",jo(this,eo,"m",So).bind(this)),this.addEventListener("dragenter",jo(this,eo,"m",To).bind(this)),this.addEventListener("dragover",jo(this,eo,"m",xo).bind(this)),this.addEventListener("dragleave",jo(this,eo,"m",ko).bind(this)),this.addEventListener("dragstart",jo(this,eo,"m",Po).bind(this)),this.addEventListener("drop",jo(this,eo,"m",Lo).bind(this)),this.addEventListener("focus",jo(this,eo,"m",Co).bind(this)),this.addEventListener("focusin",jo(this,eo,"m",Io).bind(this)),this.addEventListener("keydown",jo(this,eo,"m",No).bind(this)),this.addEventListener("select",jo(this,eo,"m",Ao).bind(this)),t.addEventListener("slotchange",jo(this,eo,"m",Ro).bind(this))}get dropTargetItem(){return this.items[jo(this,no,"f")]??null}get activeIndex(){return jo(this,so,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){Do(this,io,!0,"f")}endSelection(){Do(this,io,!1,"f"),jo(this,ro,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Do(this,ro,!1,"f"))}selectedItems(){const t=[],e=jo(this,oo,"f");e.currentNode=e.root;let n=jo(this,eo,"m",go).call(this);for(;null!==n;)n.selected&&t.push(n),n=jo(this,eo,"m",vo).call(this,n);return t}};no=new WeakMap,so=new WeakMap,io=new WeakMap,ro=new WeakMap,oo=new WeakMap,eo=new WeakSet,ao=function(t){return t instanceof Qr?NodeFilter.FILTER_ACCEPT:t instanceof Oo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},co=function(t,e){const n=Array.from(this.items),s=n.indexOf(t),i=n.indexOf(e);return s>-1&&i>-1?t==e?[t]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},lo=function(...t){this.beginSelection(),this.selectedItems().forEach((e=>{t.includes(e)||(e.selected=!1)})),t.forEach((t=>{this.contains(t)&&!t.selected&&(t.selected=!0)})),this.endSelection()},ho=function(...t){this.beginSelection(),t.forEach((t=>{t.selected||(t.selected=!0)})),this.endSelection()},uo=function(...t){this.beginSelection();const e=this.selectedItems();t.forEach((t=>{e.includes(t)&&(t.selected=!1)})),this.endSelection()},fo=function(){this.beginSelection(),this.selectedItems().forEach((t=>{t.selected&&(t.selected=!1)})),this.endSelection()},po=function(t){const{activeItem:e,items:n}=this;null!==e&&e!==t&&(e.active=!1,e.tabIndex=-1),null!==t&&(t.active=!0,t.tabIndex=0,Do(this,so,Array.from(n).indexOf(t),"f"))},mo=function(t){const{dropTargetItem:e,items:n}=this;null!==e&&e!==t&&(e.droptarget=!1),null!==t?(this.droptarget=!0,t.droptarget=!0,Do(this,no,Array.from(n).indexOf(t),"f")):(this.droptarget=!1,Do(this,no,-1,"f"))},go=function(){const t=jo(this,oo,"f"),{root:e}=t;return t.currentNode=e,t.firstChild()},bo=function(){const t=jo(this,oo,"f"),{root:e}=t;return t.currentNode=e,t.lastChild()},wo=function(t){const e=jo(this,oo,"f");return e.currentNode=t,e.previousNode()},vo=function(t){const e=jo(this,oo,"f");return e.currentNode=t,e.nextNode()},yo=function(t){const{target:e}=t;e instanceof Qr&&(this.selectedItems().includes(e)||jo(this,eo,"m",lo).call(this,e),e.focus({preventScroll:!0}),t.preventDefault())},Eo=function(t){const{target:e,ctrlKey:n,shiftKey:s}=t,i=this.selectedItems();if(e instanceof Qr)if(s||n){if(n)e.selected?jo(this,eo,"m",uo).call(this,e):jo(this,eo,"m",ho).call(this,e),t.stopPropagation();else if(s){const n=i[i.length-1];if(n){const t=jo(this,eo,"m",co).call(this,n,e);t&&(i.includes(e)?jo(this,eo,"m",uo).call(this,...t):jo(this,eo,"m",ho).call(this,...t))}else jo(this,eo,"m",lo).call(this,e);t.stopPropagation()}}else jo(this,eo,"m",lo).call(this,e)},So=function(){jo(this,eo,"m",mo).call(this,null)},To=function(t){const{target:e}=t;e instanceof Qr&&jo(this,eo,"m",mo).call(this,e),t.preventDefault()},xo=function(t){t.preventDefault()},ko=function(t){const{relatedTarget:e}=t,n=e.getRootNode(),s=n instanceof ShadowRoot?n.host:e;this.contains(s)||jo(this,eo,"m",mo).call(this,null)},Po=function(t){const{target:e}=t;e instanceof Qr&&(this.selectedItems().includes(e)||jo(this,eo,"m",lo).call(this,e))},Lo=function(){jo(this,eo,"m",mo).call(this,null)},No=function(t){const{key:e}=t,{activeItem:n}=this;switch(e){case"a":{const{ctrlKey:e}=t;if(e){const t=jo(this,oo,"f"),{root:e}=t,n=(t.currentNode=t.parentNode()??e,t.firstChild()),s=(t.currentNode=t.parentNode()??e,t.lastChild()),i=jo(this,eo,"m",co).call(this,n,s);i&&jo(this,eo,"m",lo).call(this,...i)}t.preventDefault();break}case"ArrowUp":if(n){const e=jo(this,eo,"m",wo).call(this,n);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?jo(this,eo,"m",uo).call(this,e):jo(this,eo,"m",ho).call(this,e))}}else{const t=jo(this,eo,"m",go).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowDown":if(n){const e=jo(this,eo,"m",vo).call(this,n);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(e.selected?jo(this,eo,"m",uo).call(this,e):jo(this,eo,"m",ho).call(this,e))}}else{const t=jo(this,eo,"m",bo).call(this);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Home":{const e=jo(this,eo,"m",go).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=jo(this,eo,"m",bo).call(this);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Enter":{const{activeItem:e}=this;e&&(jo(this,eo,"m",lo).call(this,e),e.click()),t.stopPropagation();break}case"Escape":jo(this,eo,"m",fo).call(this),jo(this,eo,"m",po).call(this,null),this.focus(),t.stopPropagation()}},Co=function(t){const{relatedTarget:e}=t,{activeItem:n}=this;n&&e!==n&&n.focus()},Io=function(t){const{target:e}=t;e instanceof Qr&&jo(this,eo,"m",po).call(this,e)},Ao=function(){jo(this,io,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ro=function(t){const{target:e}=t;e.assignedElements().filter((t=>t instanceof Qr)).forEach(((t,e)=>{t.posinset=e}))},(Mo=q("template")).content.append(q("style",{children:["\n\n                    "]}),q("slot",{children:[q("slot")]})),Wo([_({type:String})],Fo.prototype,"name",void 0),Wo([_({type:Boolean})],Fo.prototype,"droptarget",void 0),Fo=Wo([H({name:"e-list"})],Fo);var _o,Ho=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Bo=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let qo=class extends HTMLElement{constructor(){super(),_o.set(this,void 0),this.attachShadow({mode:"open"}).append(q("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),q("div",{attributes:{part:"container"},children:[q("slot",{children:["&nbsp;"]})]})),this.references=[],Bo(this,_o,null,"f")}get referee(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,_o,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const t=this.referee.references.indexOf(this);t>-1&&this.referee.references.splice(t,1)}}getReference(){const t=this.cloneNode(!0);return Bo(t,_o,this,"f"),t}};_o=new WeakMap,Ho([_({type:Boolean})],qo.prototype,"selected",void 0),Ho([_({type:Boolean})],qo.prototype,"dragovered",void 0),Ho([_({type:Boolean})],qo.prototype,"dragged",void 0),Ho([_({type:Boolean})],qo.prototype,"disabled",void 0),qo=Ho([H({name:"e-draggable"})],qo);var Ko,$o,Vo=qo,Jo=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Uo=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Go=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let Xo=class extends HTMLElement{constructor(){super(),Ko.set(this,void 0),$o.set(this,void 0),this.attachShadow({mode:"open"}).append(q("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),q("div",{attributes:{part:"container"},children:[q("slot")]})),Uo(this,Ko,[],"f"),Uo(this,$o,[],"f")}get draggables(){return Go(this,Ko,"f")}get selectedDraggables(){return Go(this,$o,"f")}selectDraggable(t){this.selectedDraggables.includes(t)||this.selectedDraggables.push(t),t.selected||(t.selected=!0)}unselectDraggable(t){const e=this.selectedDraggables.indexOf(t);e>-1&&(t.selected&&(t.selected=!1),this.selectedDraggables.splice(e,1))}clearSelection(){this.selectedDraggables.forEach((t=>{t.selected=!1})),Uo(this,$o,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const t=this.shadowRoot?.querySelector("slot");t&&t.addEventListener("slotchange",(()=>{const e=t.assignedElements().filter((t=>t instanceof Vo));Uo(this,Ko,e,"f"),this.draggables.forEach((t=>{t.draggable=!0}))})),this.addEventListener("keydown",(t=>{switch(t.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(t=>{const e=t.target;if(this.draggables.includes(e)){this.selectedDraggables.forEach((t=>{t.dragged=!0}));const e=t.dataTransfer;e&&(e.dropEffect="move",e.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(t=>{const e=t.dataTransfer;e&&(e.dropEffect="none")})),this.addEventListener("dragend",(t=>{const e=t.target;this.draggables.includes(e)&&this.draggables.filter((t=>t.dragged)).forEach((t=>{t.dragged=!1}))})),this.addEventListener("focusout",(t=>{const e=t.relatedTarget;this.contains(e)||this.clearSelection()})),this.addEventListener("mousedown",(t=>{const e=t.target;if(0==t.button)if(this.draggables.includes(e))if(t.shiftKey||t.ctrlKey){if(t.ctrlKey)e.selected?this.unselectDraggable(e):this.selectDraggable(e);else if(t.shiftKey)if(this.selectedDraggables.length>0){const t=this.draggables.indexOf(e),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(t-n),i=s>0?0:this.draggables.length-1,r=s>0?this.draggables.length-1:0,o=s>0?n:t,a=s>0?t:n;for(let t=i;t!==r+s;t+=s)t>=o&&t<=a?this.selectDraggable(this.draggables[t]):this.unselectDraggable(this.draggables[t])}else this.selectDraggable(e)}else e.selected||(this.clearSelection(),this.selectDraggable(e));else this.clearSelection()})),this.addEventListener("mouseup",(t=>{const e=t.target;0==t.button&&this.draggables.includes(e)&&(t.shiftKey||t.ctrlKey||this.draggables.forEach((t=>{t!==e&&this.unselectDraggable(t)})))}))}};Ko=new WeakMap,$o=new WeakMap,Jo([_({type:Boolean})],Xo.prototype,"disabled",void 0),Xo=Jo([H({name:"e-dragzone"})],Xo);var Yo=Xo,zo=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Zo=class extends Yo{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(q("div",{attributes:{part:"appendarea"},children:[q("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const t=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(t=>{switch(t.key){case"Delete":this==t.target?this.removeDraggables():this.removeDraggables((t=>t.selected)),t.stopPropagation()}})),this.addEventListener("dragover",(t=>{t.preventDefault()})),this.shadowRoot.addEventListener("dragover",(t=>{t.preventDefault()})),this.addEventListener("dragenter",(t=>{const e=t.target;this.draggables.includes(e)?(e.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",t.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(e=>{e.target==t&&(this.dragovered="appendarea"),e.preventDefault()})),this.addEventListener("dragleave",(e=>{const n=e.relatedTarget,s=e.target;(s==this||this.draggables.includes(s))&&(s==this?(t&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),e.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(e=>{e.target==t&&(this.dragovered="self"),e.preventDefault()})),this.addEventListener("drop",(t=>{const e=t.target;if(e==this||this.draggables.includes(e)){let n=this.draggables.length;e==this?this.dragovered=null:(e.dragovered=!1,n=this.draggables.indexOf(e));const s=t.dataTransfer;if(s){const t=s.getData("text/plain"),e=document.getElementById(t);if(e instanceof Yo){const t=e.selectedDraggables;t&&(t.forEach((t=>{t.dragged=!1})),e instanceof Qo&&e.removeDraggables((e=>t.includes(e))),e.clearSelection(),this.addDraggables(t,n))}}}this.dragovered=null,t.preventDefault()}))}attributeChangedCallback(t,e,n){switch(t){case"placeholder":{const t=this.shadowRoot.querySelector("[part='placeholder']");t&&(t.textContent=n);break}}}addDraggables(t,e){if(t.length>0){let n=!0;this.droptest&&(n=this.droptest(this,t));let s=[],i=-1;if(n)if(this.multiple)t.forEach((t=>{let n=t.getReference();e>-1&&e<this.draggables.length?(this.draggables[e].insertAdjacentElement("beforebegin",n),i=i<0?e:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let e=t[0].getReference();this.draggables.length>0?this.replaceChild(e,this.draggables[0]):this.appendChild(e),s.push(e),i=0}const r=this.shadowRoot?.querySelector("slot");return r&&r.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(t=(()=>!0)){let e=this.draggables.filter(((e,n)=>t(e,n))),n=this.draggables.indexOf(e[0]);e.forEach((t=>{t.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:e,position:n}}))}),{once:!0})}};zo([_({type:String})],Zo.prototype,"name",void 0),zo([_({type:String})],Zo.prototype,"dragovered",void 0),zo([_({type:String,observed:!0})],Zo.prototype,"placeholder",void 0),zo([_({type:Boolean})],Zo.prototype,"multiple",void 0),Zo=zo([H({name:"e-dropzone"})],Zo);var Qo=Zo,ta=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let ea=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(q("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),q("div",{attributes:{part:"header"},children:[q("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),q("hr",{attributes:{part:"separator"}}),q("div",{attributes:{part:"body"},children:[q("slot")]}),q("hr",{attributes:{part:"separator"}}),q("div",{attributes:{part:"actions"},children:[q("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),q("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),q("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(t){const{type:e,target:n}=t;switch(e){case"click":const{part:t}=n;t.contains("close-button")||t.contains("cancel-button")?this.cancel():(t.contains("confirm-button")||t.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};ta([_({type:String})],ea.prototype,"type",void 0),ea=ta([H({name:"e-dialog"})],ea);var na,sa,ia,ra,oa,aa,ca,la=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},ha=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},da=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let ua=class extends HTMLElement{constructor(){super(),na.add(this),sa.set(this,void 0),ia.set(this,void 0),this.attachShadow({mode:"open"}).append(ca.content.cloneNode(!0)),ha(this,sa,null,"f"),ha(this,ia,!1,"f"),this.addEventListener("pointerdown",da(this,na,"m",oa).bind(this)),this.addEventListener("pointermove",da(this,na,"m",aa).bind(this)),this.addEventListener("pointerup",da(this,na,"m",ra).bind(this))}attributeChangedCallback(t,e,n){switch(t){case"controls":{const{controls:t}=this;ha(this,sa,document.getElementById(t),"f");break}}}};sa=new WeakMap,ia=new WeakMap,na=new WeakSet,ra=function(t){const{pointerId:e}=t;this.releasePointerCapture(e),ha(this,ia,!1,"f")},oa=function(t){const{pointerId:e}=t,{controls:n}=this;ha(this,sa,document.getElementById(n),"f"),this.setPointerCapture(e),ha(this,ia,!0,"f")},aa=function(t){if(da(this,ia,"f")){const e=da(this,sa,"f");if(null!==e){const n=window.getComputedStyle(e),{movementX:s,movementY:i}=t,{width:r,height:o}=e.getBoundingClientRect(),a=e.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(u+s),l-r)),p=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(p+i),d-o));e.style.setProperty("left",`${f}px`),e.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(ca=q("template")).content.append(q("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),la([_({type:String,observed:!0})],ua.prototype,"controls",void 0),ua=la([H({name:"e-handle"})],ua);var fa,pa,ma,ga,ba,wa,va,ya,Ea,Sa,Ta=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},xa=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},ka=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let Pa=class extends HTMLElement{constructor(){super(),fa.add(this),pa.set(this,void 0),ma.set(this,void 0),ga.set(this,void 0),ba.set(this,void 0),this.attachShadow({mode:"open"}).append(Sa.content.cloneNode(!0)),xa(this,pa,null,"f"),xa(this,ga,null,"f"),xa(this,ba,0,"f"),xa(this,ma,!1,"f"),this.addEventListener("pointerdown",ka(this,fa,"m",va).bind(this)),this.addEventListener("pointermove",ka(this,fa,"m",ya).bind(this)),this.addEventListener("pointerup",ka(this,fa,"m",wa).bind(this))}get target(){return ka(this,pa,"f")}};pa=new WeakMap,ma=new WeakMap,ga=new WeakMap,ba=new WeakMap,fa=new WeakSet,wa=function(t){const{pointerId:e}=t;this.releasePointerCapture(e),xa(this,ma,!1,"f")},va=function(t){const{pointerId:e}=t,{controls:n}=this,s=this.getRootNode();xa(this,pa,s.getElementById(n),"f"),this.setPointerCapture(e),xa(this,ma,!0,"f")},ya=function(t){ka(this,ma,"f")&&(null==ka(this,ga,"f")?(xa(this,ba,t.movementY,"f"),xa(this,ga,ka(this,fa,"m",Ea).bind(this),"f"),requestAnimationFrame(ka(this,ga,"f"))):xa(this,ba,ka(this,ba,"f")+t.movementY,"f"))},Ea=function(){const t=ka(this,pa,"f");if(null!==t){const e=window.getComputedStyle(t),{growdir:n}=this,s=ka(this,ba,"f"),i=parseFloat(e.getPropertyValue("height")),r=Math.trunc(i+("top"==n?-1:1)*s);t.style.setProperty("height",`${r}px`);const o=parseFloat(e.getPropertyValue("height"));t.style.setProperty("height",`${o}px`),this.dispatchEvent(new Event("resize"))}xa(this,ga,null,"f")},(Sa=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Ta([_({type:String})],Pa.prototype,"controls",void 0),Ta([_({type:String,defaultValue:"top"})],Pa.prototype,"growdir",void 0),Pa=Ta([H({name:"e-hsash"})],Pa);var La,Na,Ca=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};let Ia=class extends HTMLElement{constructor(){super(...arguments),La.add(this)}connectedCallback(){const{src:t}=this;t&&function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,La,"m",Na).call(this,t)}};La=new WeakSet,Na=async function(t){this.outerHTML=await fetch(t).then((t=>{if(t.ok)return t.text();throw new Error(t.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Ca([_({type:String})],Ia.prototype,"src",void 0),Ia=Ca([H({name:"e-import"})],Ia);var Aa,Ra,Ma,Oa,Wa,ja=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Da=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Fa=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};let _a=class extends HTMLElement{constructor(){super(),Aa.add(this),Ra.set(this,void 0),this.attachShadow({mode:"open"}),Da(this,Aa,"m",Ma).call(this),Fa(this,Ra,null,"f")}attributeChangedCallback(t,e,n){switch(t){case"type":Da(this,Aa,"m",Ma).call(this)}}set promise(t){t&&t.finally((()=>{this.remove()})),Fa(this,Ra,t,"f")}get promise(){return Da(this,Ra,"f")}};Ra=new WeakMap,Aa=new WeakSet,Ma=function(){const{type:t,shadowRoot:e}=this;switch(t){case"circle":e.replaceChildren(Wa.content.cloneNode(!0));break;case"bar":e.replaceChildren(Oa.content.cloneNode(!0))}},(()=>{const t=q("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),e=t.cloneNode(!0),n=t.cloneNode(!0);e.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Oa=q("template")).content.append(e,q("div",{attributes:{part:"bar"},children:[q("div",{attributes:{part:"slider"},children:[q("div",{attributes:{part:"cursor"}})]})]})),(Wa=q("template")).content.append(n,q("div",{attributes:{part:"circle"}}))})(),ja([_({type:String,defaultValue:"bar",observed:!0})],_a.prototype,"type",void 0),_a=ja([H({name:"e-loader"})],_a);var Ha,Ba,qa,Ka,$a,Va,Ja,Ua,Ga,Xa,Ya=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},za=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Za=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};let Qa=class extends HTMLElement{constructor(){super(),Ha.add(this),Ba.set(this,void 0),qa.set(this,void 0),Ka.set(this,void 0),$a.set(this,void 0),this.attachShadow({mode:"open"}).append(Xa.content.cloneNode(!0)),za(this,Ba,null,"f"),za(this,Ka,null,"f"),za(this,$a,0,"f"),za(this,qa,!1,"f"),this.addEventListener("pointerdown",Za(this,Ha,"m",Ja).bind(this)),this.addEventListener("pointermove",Za(this,Ha,"m",Ua).bind(this)),this.addEventListener("pointerup",Za(this,Ha,"m",Va).bind(this))}get target(){return Za(this,Ba,"f")}setWidth(t){const e=Za(this,Ba,"f");if(null!==e){const{max:n}=this;e.style.setProperty("width",`${t}px`),n&&e.style.setProperty("max-width",`${t}px`)}}};Ba=new WeakMap,qa=new WeakMap,Ka=new WeakMap,$a=new WeakMap,Ha=new WeakSet,Va=function(t){const{pointerId:e}=t;this.releasePointerCapture(e),za(this,qa,!1,"f")},Ja=function(t){const{pointerId:e}=t,{controls:n}=this,s=this.getRootNode();za(this,Ba,s.getElementById(n),"f"),this.setPointerCapture(e),za(this,qa,!0,"f")},Ua=function(t){Za(this,qa,"f")&&(null==Za(this,Ka,"f")&&(za(this,Ka,Za(this,Ha,"m",Ga).bind(this),"f"),requestAnimationFrame(Za(this,Ka,"f"))),za(this,$a,Za(this,$a,"f")+t.movementX,"f"))},Ga=function(){const t=Za(this,Ba,"f");if(null!==t){const e=window.getComputedStyle(t),{growdir:n}=this,s=Za(this,$a,"f"),i=parseFloat(e.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}za(this,$a,0,"f"),za(this,Ka,null,"f")},(Xa=q("template")).content.append(q("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: transparent;\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            background-color: rgb(135, 206, 250);\n                        }\n                    "]})),Ya([_({type:String,observed:!0})],Qa.prototype,"controls",void 0),Ya([_({type:String,defaultValue:"right"})],Qa.prototype,"growdir",void 0),Ya([_({type:Boolean})],Qa.prototype,"max",void 0),Qa=Ya([H({name:"e-wsash"})],Qa);var tc,ec,nc=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)};new WeakMap,ec=new WeakMap,tc=new WeakSet;var sc=new WeakMap,ic=new MutationObserver((t=>{t.forEach((t=>{const{target:e,type:n}=t;if(e instanceof HTMLElement)switch(n){case"childList":{const t=sc.get(e);t&&t.forEach((t=>{const{widget:n,element:s,slot:i}=t,r=n.slottedCallback;"function"==typeof r&&r(s.deref(),e,i)}));break}}}))})),rc=new WeakMap,oc=new MutationObserver((t=>{t.forEach((t=>{const{target:e,type:n}=t;if(e instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=t,i=rc.get(e);if(i){const t=i.attributeChangedCallback;"function"==typeof t&&t(e,n,s,e.getAttribute(n))}break}}}))})),ac=class{constructor(){const t=this;this.create=new Proxy(this.create,{apply:(e,n,s)=>{const i=Reflect.apply(e,n,s),r=t.observedSlots;Array.isArray(r)&&r.map((e=>({slotName:e,slotElement:t.slot(i,e)}))).forEach((e=>{const{slotElement:n,slotName:s}=e;if(n){ic.observe(n,{childList:!0});const e=sc.get(n),r={widget:t,element:new WeakRef(i),slot:s};Array.isArray(e)?e.push(r):sc.set(n,new Array(r))}}));const o=t.observedAttributes;return Array.isArray(o)&&(rc.set(i,t),oc.observe(i,{attributes:!0,attributeFilter:o,attributeOldValue:!0})),i}})}create(){throw new Error("create method is not implemented")}slot(){return null}get observedSlots(){return[""]}},cc=new Map;function lc(t,e){const n=cc.get(t);if(n){if(void 0!==e){const{properties:t,attributes:s,dataset:i,slotted:r,listeners:o}=e,a=n.create(t);if(s&&Object.entries(s).forEach((([t,e])=>{void 0!==e&&("boolean"==typeof e?a.toggleAttribute(F(t),e):a.setAttribute(F(t),String(e)))})),i){const{dataset:t}=a;Object.keys(i).forEach((e=>{t[e]=String(i[e])}))}if(r)if("function"==typeof r||Array.isArray(r)||r instanceof NodeList||"string"==typeof r||r instanceof Node){const t=n.slot(a,null);t&&("function"==typeof r?t.append(...r(t)):"object"==typeof r&&"length"in r?t.append(...Array.from(r)):t.append(r))}else Object.entries(r).forEach((([t,e])=>{const s=n.slot(a,t);s&&("function"==typeof e?s.append(...e(s)):"object"==typeof e&&"length"in e?s.append(...Array.from(e)):s.append(e))}));return o&&Object.entries(o).forEach((([t,e])=>{Array.isArray(e)?a.addEventListener(t,e[0],e[1]):a.addEventListener(t,e)})),a}return n.create()}throw new Error(`Unknown widget ${t}. The corresponding module might not be imported.`)}const hc=function(t){return e=>{const{name:n}=t;return cc.set(n,new e),e}};var dc,uc,fc,pc,mc,gc,bc,wc,vc,yc,Ec,Sc,Tc,xc,kc,Pc,Lc,Nc,Cc,Ic,Ac,Rc,Mc,Oc,Wc,jc,Dc,Fc,_c,Hc,Bc,qc,Kc,$c,Vc,Jc,Uc,Gc,Xc,Yc,zc,Zc,Qc,tl,el,nl,sl,il,rl,ol,al,cl,ll,hl,dl,ul,fl,pl,ml,gl,bl,wl,vl,yl,El,Sl,Tl,xl,kl,Pl,Ll,Nl,Cl,Il,Al,Rl,Ml,Ol,Wl,jl,Dl,Fl,_l,Hl,Bl,ql,Kl,$l,Vl,Jl,Ul,Gl,Xl,Yl,zl,Zl,Ql,th,eh,nh,sh,ih,rh,oh,ah,ch,lh,hh,dh,uh,fh,ph,mh,gh,bh,wh,vh,yh,Eh,Sh,Th,xh,kh,Ph,Lh,Nh,Ch,Ih,Ah,Rh,Mh,Oh,Wh,jh,Dh,Fh,_h,Hh,Bh,qh,Kh,$h,Vh,Jh,Uh,Gh,Xh,Yh,zh,Zh,Qh,td,ed,nd,sd,id,rd,od,ad,cd,ld,hd,dd,ud,fd,pd,md,gd,bd,wd,vd,yd,Ed,Sd,Td,xd,kd,Pd,Ld,Nd,Cd,Id,Ad,Rd,Md,Od,Wd,jd,Dd,Fd,_d,Hd,Bd,qd,Kd,$d,Vd,Jd,Ud,Gd,Xd,Yd,zd,Zd,Qd,tu,eu,nu,su,iu,ru,ou,au,cu,lu,hu,du,uu,fu,pu,mu,gu,bu,wu,vu,yu,Eu,Su,Tu,xu,ku,Pu,Lu,Nu,Cu,Iu,Au,Ru,Mu,Ou,Wu,ju,Du,Fu,_u,Hu,Bu,qu,Ku,$u,Vu,Ju,Uu,Gu,Xu,Yu,zu,Zu,Qu,tf,ef,nf,sf,rf,of,af,cf,lf,hf,df,uf,ff,pf,mf,gf,bf=(new(hc({name:"separator"})((uc=class extends ac{constructor(){super(),dc.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,dc,q("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,dc,"f").cloneNode(!0)}},dc=new WeakMap,uc))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),wf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},vf=new(hc({name:"menuitem"})((Tc=class extends ac{constructor(){super(),fc.add(this),pc.set(this,void 0),mc.set(this,void 0),gc.set(this,void 0),bc.set(this,void 0),wc.set(this,void 0),vc.set(this,void 0),bf(this,pc,q("span",{attributes:{class:"icon"}}),"f"),bf(this,mc,q("span",{attributes:{class:"arrow"}}),"f"),bf(this,gc,q("span",{attributes:{class:"keyshortcuts"}}),"f"),bf(this,bc,q("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[wf(this,pc,"f").cloneNode(!0),q("span",{attributes:{class:"label"}})]}),"f"),bf(this,wc,["checkbox","radio","menu","submenu","button"],"f"),bf(this,vc,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(t){const e=wf(this,bc,"f").cloneNode(!0);if(e.addEventListener("click",wf(this,fc,"m",Ec).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i,keyshortcut:r,checked:o,type:a,label:c,name:l,value:h,disabled:d}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setKeyShortcut(e,r),void 0!==o&&this.setChecked(e,o),void 0!==a&&("menu"!=a&&"submenu"!=a||this.setExpanded(e,!1),this.setType(e,a)),void 0!==c&&this.setLabel(e,c),void 0!==l&&this.setName(e,l),void 0!==h&&this.setValue(e,h),void 0!==d&&this.setDisabled(e,d)}return e}slot(t){return t}slottedCallback(t,e){const n=Array.from(e.childNodes).some((t=>t instanceof HTMLElement&&t.classList.contains("menu")));t.setAttribute("aria-haspopup",String(n))}getMenu(t){return t.querySelector(":scope > .menu")}getKeyShortcut(t){return t.getAttribute("aria-keyshortcuts")}setKeyShortcut(t,e){let n=t.querySelector(":scope > .keyshortcuts");if(null!==e){if(t.setAttribute("aria-keyshortcuts",e),!n){const e=wf(this,fc,"m",yc).call(this,t);n=wf(this,gc,"f").cloneNode(!0),e.after(n)}n.textContent=e}else t.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(t){return wf(this,fc,"m",yc).call(this,t).textContent??""}setLabel(t,e){wf(this,fc,"m",yc).call(this,t).textContent=e}getType(t){const e=wf(this,wc,"f"),{classList:n}=t;for(let t of e)if(n.contains(`menuitem-${t}`))return t;return null}setType(t,e){const n=wf(this,vc,"f"),s=wf(this,pc,"f"),i=wf(this,mc,"f"),{role:r,hasIcon:o,hasArrow:a}=n[e],c=this.getType(t),{classList:l}=t;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${e}`),t.setAttribute("role",r);const h=wf(this,fc,"m",yc).call(this,t),d=t.querySelector(":scope > .icon"),u=t.querySelector(":scope > .arrow");o?!d&&h&&h.before(s.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(i.cloneNode(!0)):u&&u.remove()}getValue(t){return t.getAttribute("value")??""}setValue(t,e){t.setAttribute("value",e)}getName(t){return t.getAttribute("name")??""}setName(t,e){t.setAttribute("name",e)}getChecked(t){return JSON.parse(t.getAttribute("aria-checked")??String(!1))}setChecked(t,e){t.setAttribute("aria-checked",String(e))}getDisabled(t){return t.hasAttribute("aria-disabled")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}setExpanded(t,e){t.setAttribute("aria-expanded",String(e))}getExpanded(t){return JSON.parse(t.getAttribute("aria-expanded")??String(!1))}toggle(t,e){const n=e??!this.getExpanded(t);this.setExpanded(t,n),n&&wf(this,fc,"m",Sc).call(this,t)}expand(t){this.getExpanded(t)||(this.setExpanded(t,!0),wf(this,fc,"m",Sc).call(this,t))}collapse(t){this.getExpanded(t)&&this.setExpanded(t,!1)}},pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,bc=new WeakMap,wc=new WeakMap,vc=new WeakMap,fc=new WeakSet,yc=function(t){return t.querySelector(":scope > .label")},Ec=function(t){const{target:e,currentTarget:n}=t,s=e.closest(".menuitem");if(s==n)switch(this.getType(s)){case"checkbox":this.setChecked(s,!this.getChecked(s));break;case"radio":this.setChecked(s,!0);break;case"menu":case"submenu":this.toggle(s),this.getExpanded(s)&&this.getMenu(s)?.focus({preventScroll:!0})}},Sc=function(t){const e=this.getMenu(t);if(null!==e){const{style:n}=e,{top:s,bottom:i,left:r,right:o}=t.getBoundingClientRect(),{width:a,height:c}=e.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(t)){const t=o+a-d,e=s+c-u;n.setProperty("left",`${t>0?h+r-a:h+r}px`),n.setProperty("top",`${e>0?l+s-c:l+i}px`)}else{const l=t.closest(".menu");if(null!==l){const{top:t,left:h}=l.getBoundingClientRect(),f=o+a-d,p=s+c-u;n.setProperty("left",(f>0?r-a-h:o-h)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:b}=m,w=parseFloat(g),v=parseFloat(b);n.setProperty("top",`${p>0?i-c-t+v:s-t-w}px`)}}}},Tc))),yf=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Ef=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Sf=(new(hc({name:"menubar"})((Bc=class extends ac{constructor(){super(),xc.add(this),kc.set(this,void 0),Pc.set(this,void 0),yf(this,kc,q("div",{attributes:{class:"menubar",role:"menubar",tabindex:0}}),"f"),yf(this,Pc,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Ef(this,xc,"m",Lc).bind(this)),"f")}create(){const t=Ef(this,kc,"f").cloneNode(!0);return t.addEventListener("click",Ef(this,xc,"m",jc).bind(this)),t.addEventListener("focusin",Ef(this,xc,"m",Dc).bind(this)),t.addEventListener("focusout",Ef(this,xc,"m",Fc).bind(this)),t.addEventListener("mouseover",Ef(this,xc,"m",_c).bind(this)),t.addEventListener("keydown",Ef(this,xc,"m",Hc).bind(this)),t}slot(t){return t}setExpanded(t,e){t.toggleAttribute("aria-expanded",e)}getExpanded(t){return t.hasAttribute("aria-expanded")}},kc=new WeakMap,Pc=new WeakMap,xc=new WeakSet,Lc=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("menuitem")&&!vf.getDisabled(t))return NodeFilter.FILTER_ACCEPT;if(e.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Nc=function(t){return t.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Cc=function(t){const e=Ef(this,Pc,"f");return e.currentNode=t,e.firstChild()},Ic=function(t){const e=Ef(this,Pc,"f");return e.currentNode=t,e.lastChild()},Ac=function(t){const e=Ef(this,Pc,"f");return e.currentNode=t,e.previousSibling()},Rc=function(t){const e=Ef(this,Pc,"f");return e.currentNode=t,e.nextSibling()},Mc=function(t){const e=vf.getMenu(t);if(e){const t=Ef(this,Pc,"f");return t.currentNode=e,t.firstChild()}return null},Oc=function(t,e){return e.closest(":is(.menubar, .menu)")==t},Wc=function(t,e){return Array.from(t.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((t=>t.contains(e)))??null},jc=function(t){const{target:e,currentTarget:n}=t,s=n,i=e.closest(".menuitem");if(i){const t=this.getExpanded(s);if(Ef(this,xc,"m",Oc).call(this,s,i)){const e=!t;this.setExpanded(s,e),e?(null===i||vf.getExpanded(i)||vf.expand(i),vf.getMenu(i)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}}},Dc=function(t){const{target:e,currentTarget:n}=t,s=n;if(e instanceof HTMLElement&&this.getExpanded(s)){const t=Ef(this,xc,"m",Wc).call(this,s,e);t&&vf.expand(t)}},Fc=function(t){const{target:e,currentTarget:n,relatedTarget:s}=t,i=n;if(e instanceof HTMLElement&&!e.contains(s)){const t=Ef(this,xc,"m",Wc).call(this,i,e);t&&vf.collapse(t)}!i.contains(s)&&this.setExpanded(i,!1)},_c=function(t){const{target:e,currentTarget:n}=t,s=n;if(e instanceof HTMLElement&&e.classList.contains("menuitem")){const t=Ef(this,xc,"m",Nc).call(this,s),n=this.getExpanded(s);if(Ef(this,xc,"m",Oc).call(this,s,e)&&e!==t&&n){const t=vf.getMenu(e);t?t.focus({preventScroll:!0}):e.focus({preventScroll:!0})}}},Hc=function(t){const{key:e,currentTarget:n}=t,s=n;let i=Ef(this,xc,"m",Nc).call(this,s);const r=this.getExpanded(s);switch(e){case"ArrowLeft":(i?Ef(this,xc,"m",Ac).call(this,i)??Ef(this,xc,"m",Ic).call(this,s):Ef(this,xc,"m",Cc).call(this,s))?.focus({preventScroll:!0}),i=Ef(this,xc,"m",Nc).call(this,s),r&&i&&Ef(this,xc,"m",Mc).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?Ef(this,xc,"m",Rc).call(this,i)??Ef(this,xc,"m",Cc).call(this,s):Ef(this,xc,"m",Ic).call(this,s))?.focus({preventScroll:!0}),i=Ef(this,xc,"m",Nc).call(this,s),r&&i&&Ef(this,xc,"m",Mc).call(this,i)?.focus({preventScroll:!0});break;case"Enter":case" ":i&&(this.setExpanded(s,!r),Ef(this,xc,"m",Mc).call(this,i)?.focus({preventScroll:!0}),t.preventDefault());break;case"Escape":r?(this.setExpanded(s,!1),i&&(vf.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},Bc))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Tf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},xf=(new(hc({name:"menu"})((ll=class extends ac{constructor(){super(),qc.add(this),Kc.set(this,void 0),$c.set(this,void 0),Vc.set(this,void 0),Sf(this,Kc,q("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),Sf(this,$c,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Tf(this,qc,"m",Jc).bind(this)),"f"),Sf(this,Vc,new WeakMap,"f")}create(t){const e=Tf(this,Kc,"f").cloneNode(!0);if(e.addEventListener("click",Tf(this,qc,"m",il).bind(this)),e.addEventListener("mouseover",Tf(this,qc,"m",cl).bind(this)),e.addEventListener("mouseout",Tf(this,qc,"m",al).bind(this)),e.addEventListener("focusout",Tf(this,qc,"m",rl).bind(this)),e.addEventListener("keydown",Tf(this,qc,"m",ol).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i,contextual:r,position:o}=t;if(void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setContextual(e,r),void 0!==o){const{x:t,y:n}=o;this.setPosition(e,t,n)}}return e}slot(t){return t}setPosition(t,e,n){const{style:s}=t,{width:i,height:r}=t.getBoundingClientRect(),{scrollX:o,scrollY:a}=window,c=e+o,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+i-h,f=l+r-d;s.setProperty("left",`${u>0?c-i:c}px`),s.setProperty("top",`${f>0?l-r:l}px`)}getContextual(t){const{classList:e}=t;return e.contains("menu-contextual")}setContextual(t,e){const{classList:n}=t;e?n.add("menu-contextual"):n.remove("menu-contextual")}items(t){return Array.from(t.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},Kc=new WeakMap,$c=new WeakMap,Vc=new WeakMap,qc=new WeakSet,Jc=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("menuitem")&&!vf.getDisabled(t))return NodeFilter.FILTER_ACCEPT;if(e.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Uc=function(t){t.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((t=>vf.collapse(t)))},Gc=function(t,e){return e.closest(".menu")==t},Xc=function(t,e){return Array.from(t.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((t=>t.contains(e)))??null},Yc=function(t){const e=Tf(this,$c,"f");return e.currentNode=t,e.firstChild()},zc=function(t){const e=Tf(this,$c,"f");return e.currentNode=t,e.lastChild()},Zc=function(t){const e=Tf(this,$c,"f");return e.currentNode=t,e.previousSibling()},Qc=function(t){const e=Tf(this,$c,"f");return e.currentNode=t,e.nextSibling()},tl=function(t){const e=vf.getMenu(t);if(e){const t=Tf(this,$c,"f");return t.currentNode=e,t.firstChild()}return null},el=function(t){return t.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},nl=async function(t,e){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),e??0);Tf(this,Vc,"f").set(t,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Tf(this,Vc,"f").delete(t)}))},sl=function(t){const e=Tf(this,Vc,"f").get(t);void 0!==e&&(Tf(this,Vc,"f").delete(t),e.clear())},il=function(t){const{target:e,currentTarget:n}=t,s=n,i=e.closest(".menuitem");if(i){if(this.getContextual(s))try{s.remove()}catch(t){}else if(Tf(this,qc,"m",Gc).call(this,s,i)){const t=vf.getType(i),e=vf.getName(i),n=vf.getValue(i);"radio"==t&&s.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${e}]`).forEach((t=>{vf.setChecked(t,vf.getValue(t)==n)}))}t.stopPropagation()}},rl=function(t){const{target:e,currentTarget:n,relatedTarget:s}=t,i=n;if(!i.contains(s))if(this.getContextual(i))try{i.remove()}catch(t){}else{const t=Tf(this,qc,"m",Xc).call(this,i,e);t&&vf.collapse(t)}},ol=function(t){const{currentTarget:e,key:n}=t,s=e,i=Tf(this,qc,"m",el).call(this,s);switch(n){case"ArrowUp":(i?Tf(this,qc,"m",Zc).call(this,i)??Tf(this,qc,"m",zc).call(this,s):Tf(this,qc,"m",Yc).call(this,s))?.focus({preventScroll:!0}),t.stopPropagation();break;case"ArrowDown":(i?Tf(this,qc,"m",Qc).call(this,i)??Tf(this,qc,"m",Yc).call(this,s):Tf(this,qc,"m",Yc).call(this,s))?.focus({preventScroll:!0}),t.stopPropagation();break;case"Home":Tf(this,qc,"m",Yc).call(this,s)?.focus({preventScroll:!0}),t.stopPropagation();break;case"End":Tf(this,qc,"m",zc).call(this,s)?.focus({preventScroll:!0}),t.stopPropagation();break;case"Enter":case" ":if(i){switch(vf.getType(i)){case"submenu":vf.expand(i),Tf(this,qc,"m",tl).call(this,i)?.focus({preventScroll:!0}),t.preventDefault()}t.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(t.composedPath().find((t=>t instanceof HTMLElement&&t.classList.contains("menu")))==s||(vf.collapse(i),i.focus({preventScroll:!0}),t.stopPropagation()));break;case"ArrowRight":if(i)switch(vf.getType(i)){case"submenu":vf.getExpanded(i)||(vf.expand(i),Tf(this,qc,"m",tl).call(this,i)?.focus({preventScroll:!0}),t.stopPropagation())}}},al=function(t){const{target:e,currentTarget:n,relatedTarget:s}=t,i=n;if(e instanceof HTMLElement&&e.classList.contains("menuitem")){const n=Tf(this,qc,"m",Xc).call(this,i,e);if(null!==n&&("submenu"!=vf.getType(n)||vf.getExpanded(n)||Tf(this,qc,"m",sl).call(this,n),t.composedPath().find((t=>t instanceof HTMLElement&&t.classList.contains("menu")))==i)){const e=Tf(this,qc,"m",el).call(this,i);null!==e&&"submenu"==vf.getType(e)&&vf.getExpanded(e)&&(Tf(this,qc,"m",sl).call(this,e),Tf(this,qc,"m",nl).call(this,e,400).then((()=>{vf.collapse(e)})).catch((()=>{})));const{clientX:n,clientY:r}=t,{left:o,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(o>n||a<n||c>r||l<r),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):i.focus({preventScroll:!0})),h||i.focus({preventScroll:!0})}}},cl=function(t){const{target:e,currentTarget:n}=t,s=n;if(e instanceof HTMLElement&&e.classList.contains("menuitem")){const n=Tf(this,qc,"m",Xc).call(this,s,e);if(null!==n&&("submenu"==vf.getType(n)&&vf.getExpanded(n)&&Tf(this,qc,"m",sl).call(this,n),t.composedPath().find((t=>t instanceof HTMLElement&&t.classList.contains("menu")))==s)){const t=Tf(this,qc,"m",el).call(this,s);null!==t&&"submenu"==vf.getType(t)&&vf.getExpanded(t)&&!t.contains(e)&&(Tf(this,qc,"m",sl).call(this,t),Tf(this,qc,"m",nl).call(this,t,400).then((()=>{vf.collapse(t)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==vf.getType(n)&&(vf.getExpanded(n)?vf.getMenu(n)?.focus({preventScroll:!0}):(Tf(this,qc,"m",sl).call(this,n),Tf(this,qc,"m",nl).call(this,n,200).then((()=>{const t=Tf(this,qc,"m",el).call(this,s);Tf(this,qc,"m",Uc).call(this,s),t&&(Tf(this,qc,"m",sl).call(this,t),vf.expand(t),vf.getMenu(t)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},ll))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),kf=(new(hc({name:"menuitemgroup"})((dl=class extends ac{constructor(){super(),hl.set(this,void 0),xf(this,hl,q("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,hl,"f").cloneNode(!0)}slot(t){return t}},hl=new WeakMap,dl))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Pf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Lf=new(hc({name:"treeitem"})((bl=class extends ac{constructor(){super(),ul.add(this),fl.set(this,void 0),pl.set(this,void 0),kf(this,pl,["parent","leaf"],"f"),kf(this,fl,q("li",{attributes:{class:"treeitem",role:"treeitem",tabindex:-1},children:[q("span",{attributes:{class:"content"},children:[q("span",{attributes:{class:"arrow"}})]})]}),"f")}group(t){return t.querySelector(":scope > .treeitemgroup")}create(t){const e=Pf(this,fl,"f").cloneNode(!0);if(e.addEventListener("click",Pf(this,ul,"m",gl).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i,label:r,title:o,type:a="leaf",disabled:c,draggable:l}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setLabel(e,r),void 0!==o&&this.setTitle(e,o),this.setType(e,a),"parent"===a&&this.setExpanded(e,!1),void 0!==c&&this.setDisabled(e,c),void 0!==l&&this.setDraggable(e,l),this.setSelected(e,!1)}return e}get observedSlots(){return["content","group"]}slot(t,e){switch(e){case"content":return Pf(this,ul,"m",ml).call(this,t);case"group":return t}return null}getLabel(t){return t.getAttribute("aria-label")??""}setLabel(t,e){t.setAttribute("aria-label",e)}getTitle(t){return t.title}setTitle(t,e){t.title=e}setPosInSet(t,e){t.setAttribute("aria-posinset",String(e))}getPosInSet(t){const e=t.getAttribute("aria-posinset");return e?Number(e):-1}getType(t){const e=Pf(this,pl,"f"),{classList:n}=t;for(let t of e)if(n.contains(`treeitem-${t}`))return t;throw new Error("Missing type.")}setType(t,e){const{classList:n}=t;try{const e=this.getType(t);n.remove(`treeitem-${e}`)}catch(t){}n.add(`treeitem-${e}`)}setExpanded(t,e){t.setAttribute("aria-expanded",String(e))}getExpanded(t){return JSON.parse(t.getAttribute("aria-expanded")??String(!1))}setActive(t,e){const{classList:n}=t;e?n.contains("active")||n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}setDropTarget(t,e){const{classList:n}=t;e?n.add("droptarget"):n.remove("droptarget")}getDropTarget(t){const{classList:e}=t;return e.contains("droptarget")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}getDisabled(t){return t.hasAttribute("aria-disabled")}setDraggable(t,e){t.setAttribute("draggable",String(e))}getDraggable(t){return JSON.parse(t.getAttribute("draggable")??String(!1))}setSelected(t,e){t.setAttribute("aria-selected",String(e)),t.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(t){return JSON.parse(t.getAttribute("aria-selected")??String(!1))}setLevel(t,e){t.style.setProperty("--level",String(e))}getLevel(t){return parseInt(t.style.getPropertyValue("--level"))}toggle(t,e){this.setExpanded(t,e??!this.getExpanded(t))}},fl=new WeakMap,pl=new WeakMap,ul=new WeakSet,ml=function(t){const e=t.querySelector(":scope > .content");if(!e)throw new Error("Missing .content slot.");return e},gl=function(t){const{target:e,currentTarget:n,shiftKey:s,ctrlKey:i}=t,r=e.closest(".treeitem");r==n&&("parent"!=this.getType(r)||s||i||this.toggle(r))},bl))),Nf=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Cf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},If=new(hc({name:"tree"})((Xl=class extends ac{constructor(){super(),wl.add(this),vl.set(this,void 0),yl.set(this,void 0),El.set(this,void 0),Sl.set(this,void 0),Nf(this,vl,q("ul",{attributes:{class:"tree",role:"tree",tabindex:0}}),"f"),Nf(this,El,new WeakMap,"f"),Nf(this,Sl,new WeakMap,"f"),Nf(this,yl,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Cf(this,wl,"m",Pl).bind(this)),"f")}create(t){const e=Cf(this,vl,"f").cloneNode(!0);if(e.addEventListener("mousedown",Cf(this,wl,"m",Fl).bind(this)),e.addEventListener("dragend",Cf(this,wl,"m",_l).bind(this)),e.addEventListener("dragenter",Cf(this,wl,"m",Hl).bind(this)),e.addEventListener("dragleave",Cf(this,wl,"m",ql).bind(this)),e.addEventListener("dragover",Cf(this,wl,"m",Bl).bind(this)),e.addEventListener("drop",Cf(this,wl,"m",Kl).bind(this)),e.addEventListener("focus",Cf(this,wl,"m",$l).bind(this)),e.addEventListener("focusin",Cf(this,wl,"m",Vl).bind(this)),e.addEventListener("focusout",Cf(this,wl,"m",Jl).bind(this)),e.addEventListener("keydown",Cf(this,wl,"m",Ul).bind(this)),e.addEventListener("select",Cf(this,wl,"m",Gl).bind(this)),Cf(this,El,"f").set(e,!1),Cf(this,Sl,"f").set(e,!1),void 0!==t){const{id:n,classList:s,tabIndex:i,multisectable:r}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setMultiSelectable(e,r)}return e}slot(t){return t}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&t.classList.contains("treeitem")&&(Lf.setPosInSet(t,e),Lf.setLevel(t,0))}))}items(t){return Array.from(t.querySelectorAll(":is(:scope, :scope > .treeitemgroup) > .treeitem"))}selectedItems(t){const e=[];Cf(this,yl,"f").currentNode=t;let n=Cf(this,wl,"m",Ml).call(this,t);for(;null!==n;)Lf.getSelected(n)&&e.push(n),n=Cf(this,wl,"m",jl).call(this,n);return e}beginSelection(t){Cf(this,El,"f").set(t,!0)}endSelection(t){Cf(this,El,"f").set(t,!1),Cf(this,Sl,"f").get(t)&&(t.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Cf(this,Sl,"f").set(t,!1))}setMultiSelectable(t,e){t.setAttribute("aria-multiselectable",String(e))}getMultiSelectable(t){return JSON.parse(t.getAttribute("aria-multiselectable")??String(!1))}},vl=new WeakMap,yl=new WeakMap,El=new WeakMap,Sl=new WeakMap,wl=new WeakSet,Tl=function(t){return t.querySelector(".treeitem.active")},xl=function(t){return t.querySelector(".treeitem.droptarget")},kl=function(t,e){const{classList:n}=t,s=Cf(this,wl,"m",xl).call(this,t);null!==s&&s!==e&&Lf.setDropTarget(s,!1),null!==e?(Lf.setDropTarget(e,!0),n.add("droptarget")):n.remove("droptarget")},Pl=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("treeitem")&&!Lf.getDisabled(t))return NodeFilter.FILTER_ACCEPT;if(e.contains("treeitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ll=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=Cf(this,wl,"m",jl).call(this,t);for(;s&&s!==e;)n.push(s),s=Cf(this,wl,"m",jl).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=Cf(this,wl,"m",Wl).call(this,t);for(;s&&s!==e;)n.push(s),s=Cf(this,wl,"m",Wl).call(this,s);return n.push(e),n}return[]},Nl=function(t,...e){const n=this.selectedItems(t);this.beginSelection(t),n.forEach((t=>{e.includes(t)||Lf.setSelected(t,!1)})),e.forEach((e=>{const n=Lf.getSelected(e);t.contains(e)&&!n&&Lf.setSelected(e,!0)})),this.endSelection(t)},Cl=function(t,...e){this.beginSelection(t),e.forEach((t=>{Lf.getSelected(t)||Lf.setSelected(t,!0)})),this.endSelection(t)},Il=function(t,...e){const n=this.selectedItems(t);this.beginSelection(t),e.forEach((t=>{n.includes(t)&&Lf.setSelected(t,!1)})),this.endSelection(t)},Al=function(t){const e=this.selectedItems(t);this.beginSelection(t),e.forEach((t=>{Lf.setSelected(t,!1)})),this.endSelection(t)},Rl=function(t,e){const n=Cf(this,wl,"m",Tl).call(this,t);null!==n&&n!==e&&(Lf.setActive(n,!1),n.tabIndex=-1),null!==e&&(Lf.setActive(e,!0),e.tabIndex=0)},Ml=function(t){const e=Cf(this,yl,"f");return e.currentNode=t,e.firstChild()},Ol=function(t){const e=Cf(this,yl,"f");return e.currentNode=t,e.lastChild()},Wl=function(t){const e=Cf(this,yl,"f");e.currentNode=t;const n=e.previousSibling();return n?Cf(this,wl,"m",Dl).call(this,n):e.parentNode()},jl=function(t){const e=Cf(this,yl,"f");e.currentNode=t;const n=Lf.getType(t),s=Lf.getExpanded(t);return"leaf"===n||s?e.nextNode():e.nextSibling()??(e.parentNode(),e.nextSibling())},Dl=function t(e){if(Lf.getExpanded(e)){const e=Cf(this,yl,"f").lastChild();if(e)return Cf(this,wl,"m",t).call(this,e)}return e},Fl=function(t){const{currentTarget:e,target:n,ctrlKey:s,shiftKey:i,button:r}=t,o=e,a=n.closest(".treeitem");if(a){const e=Lf.getSelected(a);switch(r){case 0:if(i||s){if(s)e?(a.blur(),Cf(this,wl,"m",Il).call(this,o,a)):Cf(this,wl,"m",Cl).call(this,o,a),t.stopPropagation();else if(i){const e=Cf(this,wl,"m",Tl).call(this,o);if(e){const t=Cf(this,wl,"m",Ll).call(this,e,a);t&&Cf(this,wl,"m",Nl).call(this,o,...t)}t.stopPropagation()}}else Cf(this,wl,"m",Nl).call(this,o,a);break;case 2:e||Cf(this,wl,"m",Nl).call(this,o,a)}}},_l=function(t){const{currentTarget:e}=t,n=e;Cf(this,wl,"m",kl).call(this,n,null)},Hl=function(t){const{currentTarget:e,target:n}=t,s=n.closest(".treeitem"),i=e;s&&("parent"==Lf.getType(s)&&Lf.toggle(s,!0),Cf(this,wl,"m",kl).call(this,i,s)),t.preventDefault()},Bl=function(t){t.preventDefault()},ql=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;s.contains(n)||Cf(this,wl,"m",kl).call(this,s,null)},Kl=function(t){const{currentTarget:e}=t,n=e;Cf(this,wl,"m",kl).call(this,n,null)},$l=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;if(!s.contains(n)){const t=Cf(this,wl,"m",Tl).call(this,s);t&&t.focus()}},Vl=function(t){const{currentTarget:e,target:n}=t,s=n.closest(".treeitem"),i=e;s&&(Cf(this,wl,"m",Rl).call(this,i,s),i.tabIndex=-1)},Jl=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&(s.tabIndex=0)},Ul=function(t){const{currentTarget:e,key:n}=t,s=e,i=Cf(this,wl,"m",Tl).call(this,s);switch(n){case"a":{const{ctrlKey:e}=t;if(e&&i){const t=Cf(this,yl,"f");t.currentNode=i;const e=(t.currentNode=t.parentNode()??s,t.firstChild()),n=(t.currentNode=t.parentNode()??s,t.lastChild());if(e&&n){const t=Cf(this,wl,"m",Ll).call(this,e,Cf(this,wl,"m",Dl).call(this,n));t&&Cf(this,wl,"m",Nl).call(this,s,...t)}}t.preventDefault();break}case"ArrowLeft":if(i)if(Lf.getExpanded(i))Lf.toggle(i);else{const t=Cf(this,yl,"f").parentNode();t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowRight":i&&(Lf.getExpanded(i)||Lf.toggle(i)),t.stopPropagation();break;case"ArrowUp":if(i){const e=Cf(this,wl,"m",Wl).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(Lf.getSelected(e)?Cf(this,wl,"m",Il).call(this,s,e):Cf(this,wl,"m",Cl).call(this,s,e))}}else{const t=Cf(this,wl,"m",Ml).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowDown":if(i){const e=Cf(this,wl,"m",jl).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(Lf.getSelected(e)?Cf(this,wl,"m",Il).call(this,s,e):Cf(this,wl,"m",Cl).call(this,s,e))}}else{const t=Cf(this,wl,"m",Ol).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Home":{const e=Cf(this,wl,"m",Ml).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=Cf(this,wl,"m",Ol).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Enter":i&&(Cf(this,wl,"m",Nl).call(this,s,i),i.click()),t.stopPropagation();break;case"Escape":Cf(this,wl,"m",Al).call(this,s),Cf(this,wl,"m",Rl).call(this,s,null),s.focus(),t.stopPropagation()}},Gl=function(t){const{target:e}=t,n=e;e instanceof HTMLElement&&e.classList.contains("treeitem")&&(Cf(this,El,"f").get(n)?Cf(this,Sl,"f").set(e,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Xl))),Af=(new(hc({name:"treeitemgroup"})((zl=class extends ac{constructor(){super(),Yl.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,Yl,q("ul",{attributes:{class:"treeitemgroup",role:"group"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Yl,"f").cloneNode(!0)}slot(t){return t}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&t.classList.contains("treeitem")&&(Lf.setPosInSet(t,e),Lf.setLevel(t,(()=>{let e=-1,n=t;for(;null!==n&&n.matches(".tree :scope");)n=n.parentElement?.closest(".treeitem")??null,e++;return e})()))}))}},Yl=new WeakMap,zl))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Rf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Mf=new(hc({name:"listitem"})((eh=class extends ac{constructor(){super(),Zl.add(this),Ql.set(this,void 0),Af(this,Ql,q("li",{attributes:{class:"listitem",role:"listitem",tabindex:-1},children:[q("span",{attributes:{class:"label"}})]}),"f")}create(t){const e=Rf(this,Ql,"f").cloneNode(!0);if(void 0!==t){const{label:n,disabled:s}=t;void 0!==n&&this.setLabel(e,n),void 0!==s&&this.setDisabled(e,s),this.setSelected(e,!1)}return e}slot(t){return t}group(t){return t.querySelector(":scope > .listitemgroup")}getLabel(t){return Rf(this,Zl,"m",th).call(this,t).textContent??""}setLabel(t,e){Rf(this,Zl,"m",th).call(this,t).textContent=e}setPosInSet(t,e){t.setAttribute("aria-posinset",String(e))}getPosInSet(t){const e=t.getAttribute("aria-posinset");return e?parseInt(e):-1}setActive(t,e){const{classList:n}=t;e?n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}setDropTarget(t,e){const{classList:n}=t;e?n.add("droptarget"):n.remove("droptarget")}getDropTarget(t){const{classList:e}=t;return e.contains("droptarget")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}getDisabled(t){return t.hasAttribute("aria-disabled")}setSelected(t,e){t.setAttribute("aria-selected",String(e)),t.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(t){return JSON.parse(t.getAttribute("aria-selected")??String(!1))}},Ql=new WeakMap,Zl=new WeakSet,th=function(t){return t.querySelector(":scope > .label")},eh))),Of=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Wf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},jf=(new(hc({name:"list"})((Mh=class extends ac{constructor(){super(),nh.add(this),sh.set(this,void 0),ih.set(this,void 0),rh.set(this,void 0),oh.set(this,void 0),Of(this,sh,q("ul",{attributes:{class:"list",role:"list",tabindex:0}}),"f"),Of(this,rh,new WeakMap,"f"),Of(this,oh,new WeakMap,"f"),Of(this,ih,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Wf(this,nh,"m",lh).bind(this)),"f")}create(t){const e=Wf(this,sh,"f").cloneNode(!0);if(e.addEventListener("dragend",Wf(this,nh,"m",Eh).bind(this)),e.addEventListener("dragenter",Wf(this,nh,"m",Sh).bind(this)),e.addEventListener("dragleave",Wf(this,nh,"m",xh).bind(this)),e.addEventListener("dragover",Wf(this,nh,"m",Th).bind(this)),e.addEventListener("dragstart",Wf(this,nh,"m",kh).bind(this)),e.addEventListener("drop",Wf(this,nh,"m",Ph).bind(this)),e.addEventListener("focus",Wf(this,nh,"m",Lh).bind(this)),e.addEventListener("focusin",Wf(this,nh,"m",Nh).bind(this)),e.addEventListener("focusout",Wf(this,nh,"m",Ah).bind(this)),e.addEventListener("keydown",Wf(this,nh,"m",Ch).bind(this)),e.addEventListener("mousedown",Wf(this,nh,"m",Ih).bind(this)),e.addEventListener("select",Wf(this,nh,"m",Rh).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i,multisectable:r}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setMultiSelectable(e,r)}return Wf(this,rh,"f").set(e,!1),Wf(this,oh,"f").set(e,!1),e}slot(t){return t}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&t.classList.contains("listitem")&&Mf.setPosInSet(t,e)}))}setMultiSelectable(t,e){t.setAttribute("aria-multiselectable",String(e))}getMultiSelectable(t){return JSON.parse(t.getAttribute("aria-multiselectable")??String(!1))}items(t){return Array.from(t.querySelectorAll(":is(:scope, :scope > .listitemgroup) > .listitem"))}selectedItems(t){const e=[];Wf(this,ih,"f").currentNode=t;let n=Wf(this,nh,"m",bh).call(this,t);for(;null!==n;)Mf.getSelected(n)&&e.push(n),n=Wf(this,nh,"m",yh).call(this,n);return e}beginSelection(t){Wf(this,rh,"f").set(t,!0)}endSelection(t){Wf(this,rh,"f").set(t,!1),Wf(this,oh,"f").get(t)&&(t.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Wf(this,oh,"f").set(t,!1))}},sh=new WeakMap,ih=new WeakMap,rh=new WeakMap,oh=new WeakMap,nh=new WeakSet,ah=function(t){return t.querySelector(".listitem.active")},ch=function(t){return t.querySelector(".listitem.droptarget")},lh=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("listitem")&&!Mf.getDisabled(t)&&!t.hidden)return NodeFilter.FILTER_ACCEPT;if(e.contains("listitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},hh=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=Wf(this,nh,"m",yh).call(this,t);for(;s&&s!==e;)n.push(s),s=Wf(this,nh,"m",yh).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=Wf(this,nh,"m",vh).call(this,t);for(;s&&s!==e;)n.push(s),s=Wf(this,nh,"m",vh).call(this,s);return n.push(e),n}return[]},dh=function(t,...e){const n=this.selectedItems(t);this.beginSelection(t),n.forEach((t=>{e.includes(t)||Mf.setSelected(t,!1)})),e.forEach((e=>{const n=Mf.getSelected(e);t.contains(e)&&!n&&Mf.setSelected(e,!0)})),this.endSelection(t)},uh=function(t,...e){this.beginSelection(t),e.forEach((t=>{Mf.getSelected(t)||Mf.setSelected(t,!0)})),this.endSelection(t)},fh=function(t,...e){const n=this.selectedItems(t);this.beginSelection(t),e.forEach((t=>{n.includes(t)&&Mf.setSelected(t,!1)})),this.endSelection(t)},ph=function(t){const e=this.selectedItems(t);this.beginSelection(t),e.forEach((t=>{Mf.setSelected(t,!1)})),this.endSelection(t)},mh=function(t,e){const n=Wf(this,nh,"m",ah).call(this,t);null!==n&&n!==e&&(Mf.setActive(n,!1),n.tabIndex=-1),null!==e&&(Mf.setActive(e,!0),e.tabIndex=0)},gh=function(t,e){const{classList:n}=t,s=Wf(this,nh,"m",ch).call(this,t);null!==s&&s!==e&&Mf.setDropTarget(s,!1),null!==e?(Mf.setDropTarget(e,!1),n.add("droptarget")):n.remove("droptarget")},bh=function(t){const e=Wf(this,ih,"f");return e.currentNode=t,e.firstChild()},wh=function(t){const e=Wf(this,ih,"f");return e.currentNode=t,e.lastChild()},vh=function(t){const e=Wf(this,ih,"f");return e.currentNode=t,e.previousNode()},yh=function(t){const e=Wf(this,ih,"f");return e.currentNode=t,e.nextNode()},Eh=function(t){const{currentTarget:e}=t,n=e;Wf(this,nh,"m",gh).call(this,n,null)},Sh=function(t){const{currentTarget:e,target:n}=t,s=n.closest(".listitem"),i=e;s&&Wf(this,nh,"m",gh).call(this,i,s),t.preventDefault()},Th=function(t){t.preventDefault()},xh=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;if(n){const t=n.getRootNode(),e=t instanceof ShadowRoot?t.host:n;s.contains(e)||Wf(this,nh,"m",gh).call(this,s,null)}},kh=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".listitem");i&&(this.selectedItems(s).includes(i)||Wf(this,nh,"m",dh).call(this,s,i))},Ph=function(t){const{currentTarget:e}=t,n=e;Wf(this,nh,"m",gh).call(this,n,null)},Lh=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e,i=Wf(this,nh,"m",ah).call(this,s);i&&n!==i&&i.focus()},Nh=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".listitem");i&&(Wf(this,nh,"m",mh).call(this,s,i),s.tabIndex=-1)},Ch=function(t){const{currentTarget:e,key:n}=t,s=e,i=Wf(this,nh,"m",ah).call(this,s);switch(n){case"a":{const{ctrlKey:e}=t;if(e&&i){const t=Wf(this,ih,"f");t.currentNode=i;const e=(t.currentNode=t.parentNode()??s,t.firstChild()),n=(t.currentNode=t.parentNode()??s,t.lastChild());if(e&&n){const t=Wf(this,nh,"m",hh).call(this,e,n);t&&Wf(this,nh,"m",dh).call(this,s,...t)}}t.preventDefault();break}case"ArrowUp":if(i){const e=Wf(this,nh,"m",vh).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(Mf.getSelected(e)?Wf(this,nh,"m",fh).call(this,s,e):Wf(this,nh,"m",uh).call(this,s,e))}}else{const t=Wf(this,nh,"m",bh).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowDown":if(i){const e=Wf(this,nh,"m",yh).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&(Mf.getSelected(e)?Wf(this,nh,"m",fh).call(this,s,e):Wf(this,nh,"m",uh).call(this,s,e))}}else{const t=Wf(this,nh,"m",wh).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Home":{const e=Wf(this,nh,"m",bh).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=Wf(this,nh,"m",wh).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Enter":i&&(Wf(this,nh,"m",dh).call(this,s,i),i.click()),t.stopPropagation();break;case"Escape":Wf(this,nh,"m",ph).call(this,s),Wf(this,nh,"m",mh).call(this,s,null),s.focus(),t.stopPropagation()}},Ih=function(t){const{currentTarget:e,target:n,ctrlKey:s,shiftKey:i,button:r}=t,o=e,a=n.closest(".listitem");if(a){const e=Mf.getSelected(a);switch(r){case 0:if(i||s){if(s)e?(a.blur(),Wf(this,nh,"m",fh).call(this,o,a)):Wf(this,nh,"m",uh).call(this,o,a),t.stopPropagation();else if(i){const e=Wf(this,nh,"m",ah).call(this,o);if(e){const t=Wf(this,nh,"m",hh).call(this,e,a);t&&Wf(this,nh,"m",dh).call(this,o,...t)}t.stopPropagation()}}else Wf(this,nh,"m",dh).call(this,o,a);break;case 2:e||Wf(this,nh,"m",dh).call(this,o,a)}}},Ah=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&(s.tabIndex=0)},Rh=function(t){const{currentTarget:e}=t,n=e;n&&(Wf(this,rh,"f").get(n)?Wf(this,oh,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Mh))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Df=(new(hc({name:"listitemgroup"})((Wh=class extends ac{constructor(){super(),Oh.set(this,void 0),jf(this,Oh,q("ul",{attributes:{class:"listitemgroup",role:"group"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Oh,"f").cloneNode(!0)}slot(t){return t}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&t.classList.contains("listitem")&&Mf.setPosInSet(t,e)}))}},Oh=new WeakMap,Wh))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Ff=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},_f=new(hc({name:"toolbaritem"})((Kh=class extends ac{constructor(){super(),jh.add(this),Dh.set(this,void 0),Fh.set(this,void 0),Df(this,Fh,["button","checkbox","radio","menubutton"],"f"),Df(this,Dh,q("button",{attributes:{class:"toolbaritem",role:"button",type:"button",tabindex:-1},children:[q("span",{attributes:{class:"label"}})]}),"f")}create(t){const e=Ff(this,Dh,"f").cloneNode(!0);if(e.addEventListener("focusout",Ff(this,jh,"m",_h).bind(this)),e.addEventListener("click",Ff(this,jh,"m",Hh).bind(this)),void 0!==t){const{id:n,keyshortcut:s,pressed:i,type:r,label:o,name:a,value:c,disabled:l}=t;void 0!==n&&(e.id=n),void 0!==s&&this.setKeyShortcut(e,s),void 0!==i&&this.setPressed(e,i),void 0!==r&&this.setType(e,r),void 0!==o&&this.setLabel(e,o),void 0!==a&&this.setName(e,a),void 0!==c&&this.setValue(e,c),void 0!==l&&this.setDisabled(e,l)}return e}slot(t){return t}slottedCallback(t,e){const n=Array.from(e.childNodes).some((t=>t instanceof HTMLElement&&t.classList.contains("menu")));t.setAttribute("aria-haspopup",String(n))}menu(t){return t.querySelector(":scope > .menu")}setExpanded(t,e){t.toggleAttribute("aria-expanded",e)}getExpanded(t){return t.hasAttribute("aria-expanded")}getLabel(t){return Ff(this,jh,"m",qh).call(this,t).textContent??""}setLabel(t,e){Ff(this,jh,"m",qh).call(this,t).textContent=e}getKeyShortcut(t){return t.getAttribute("aria-keyshortcuts")}setKeyShortcut(t,e){null!==e?t.setAttribute("aria-keyshortcuts",e):t.removeAttribute("aria-keyshortcuts")}toggle(t,e){const n=e??!this.getExpanded(t);this.setExpanded(t,n),n&&Ff(this,jh,"m",Bh).call(this,t)}expand(t){this.getExpanded(t)||(this.setExpanded(t,!0),Ff(this,jh,"m",Bh).call(this,t))}collapse(t){this.getExpanded(t)&&this.setExpanded(t,!1)}getType(t){const e=Ff(this,Fh,"f"),{classList:n}=t;for(let t of e)if(n.contains(`toolbaritem-${t}`))return t;return null}setType(t,e){const n=this.getType(t);if(e!==n){const{classList:s}=t;n&&s.remove(`toolbaritem-${n}`),s.add(`toolbaritem-${e}`)}}getValue(t){return t.getAttribute("value")??""}setValue(t,e){t.setAttribute("value",e)}getTitle(t){return t.getAttribute("title")??""}setTitle(t,e){t.setAttribute("title",e)}getName(t){return t.getAttribute("name")??""}setName(t,e){t.setAttribute("name",e)}getPressed(t){return JSON.parse(t.getAttribute("aria-pressed")??String(!1))}setPressed(t,e){t.setAttribute("aria-pressed",String(e))}getDisabled(t){return t.hasAttribute("aria-disabled")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}setActive(t,e){const{classList:n}=t;e?n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}},Dh=new WeakMap,Fh=new WeakMap,jh=new WeakSet,_h=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&this.collapse(s)},Hh=function(t){const{target:e,currentTarget:n}=t,s=e.closest(".toolbaritem");if(s==n)switch(this.getType(s)){case"checkbox":this.setPressed(s,!this.getPressed(s));break;case"radio":this.setPressed(s,!0);break;case"menubutton":{const t=this.menu(s);t&&!t.contains(e)&&(this.toggle(s),this.getExpanded(s)&&t?.focus({preventScroll:!0}));break}}},Bh=function(t){if("menubutton"==this.getType(t)){const e=this.menu(t);if(null!==e){const{style:n}=e,{top:s,bottom:i,left:r,right:o}=t.getBoundingClientRect(),{width:a,height:c}=e.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body,f=o+a-d,p=s+c-u;n.setProperty("left",`${f>0?h+r-a:h+r}px`),n.setProperty("top",`${p>0?l+s-c:l+i}px`)}}},qh=function(t){return t.querySelector(":scope > .label")},Kh))),Hf=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Bf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},qf=new(hc({name:"toolbar"})((od=class extends ac{constructor(){super(),$h.add(this),Vh.set(this,void 0),Jh.set(this,void 0),Hf(this,Vh,q("div",{attributes:{class:"toolbar",role:"toolbar",tabindex:-1}}),"f"),Hf(this,Jh,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Bf(this,$h,"m",Gh).bind(this)),"f")}create(t){const e=Bf(this,Vh,"f").cloneNode(!0);if(e.addEventListener("focus",Bf(this,$h,"m",nd).bind(this)),e.addEventListener("focusin",Bf(this,$h,"m",sd).bind(this)),e.addEventListener("focusout",Bf(this,$h,"m",id).bind(this)),e.addEventListener("keydown",Bf(this,$h,"m",rd).bind(this)),e.addEventListener("click",Bf(this,$h,"m",ed).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i)}return e}slot(t){return t}items(t){return Array.from(t.querySelectorAll(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem"))}setOrientation(t,e){t.setAttribute("aria-orientation",e)}getOrientation(t){return t.getAttribute("aria-orientation")??"horizontal"}},Vh=new WeakMap,Jh=new WeakMap,$h=new WeakSet,Uh=function(t){return t.querySelector(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active")},Gh=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("toolbaritem")&&!_f.getDisabled(t))return NodeFilter.FILTER_ACCEPT;if(e.contains("toolbaritemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Xh=function(t){const e=Bf(this,Jh,"f");return e.currentNode=t,e.firstChild()},Yh=function(t){const e=Bf(this,Jh,"f");return e.currentNode=t,e.lastChild()},zh=function(t){const e=Bf(this,Jh,"f");return e.currentNode=t,e.previousSibling()},Zh=function(t){const e=Bf(this,Jh,"f");return e.currentNode=t,e.nextSibling()},Qh=function(t){const e=_f.menu(t);if(e){const t=Bf(this,Jh,"f");return t.currentNode=e,t.firstChild()}return null},td=function(t,e){const n=Bf(this,$h,"m",Uh).call(this,t);null!==n&&n!==e&&(_f.setActive(n,!1),n.tabIndex=-1),null!==e&&(_f.setActive(e,!0),e.tabIndex=0)},ed=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".toolbaritem");if(i){const e=_f.getType(i),n=_f.getName(i),r=_f.getType(i);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${n}]`).forEach((t=>{_f.setPressed(t,_f.getValue(t)==r)})),t.stopPropagation()}},nd=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;if(!s.contains(n)){const t=Bf(this,$h,"m",Uh).call(this,s);t?t.focus():Bf(this,$h,"m",Xh).call(this,s)?.focus()}},sd=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".toolbaritem");i&&(Bf(this,$h,"m",td).call(this,s,i),s.tabIndex=-1)},id=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&(Bf(this,$h,"m",td).call(this,s,null),s.tabIndex=0)},rd=function(t){const{currentTarget:e,key:n}=t,s=e,i=Bf(this,$h,"m",Uh).call(this,s);switch(n){case"Enter":case" ":if(i){switch(_f.getType(i)){case"menubutton":_f.expand(i),Bf(this,$h,"m",Qh).call(this,i)?.focus({preventScroll:!0}),t.preventDefault()}t.stopPropagation()}break;case"ArrowLeft":if(i){const t=Bf(this,$h,"m",zh).call(this,i);t&&t.focus({preventScroll:!0})}else{const t=Bf(this,$h,"m",Xh).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"ArrowRight":if(i){const t=Bf(this,$h,"m",Zh).call(this,i);t&&t.focus({preventScroll:!0})}else{const t=Bf(this,$h,"m",Yh).call(this,s);t&&t.focus({preventScroll:!0})}t.stopPropagation();break;case"Home":{const e=Bf(this,$h,"m",Xh).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"End":{const e=Bf(this,$h,"m",Yh).call(this,s);e&&e.focus({preventScroll:!0}),t.stopPropagation();break}case"Escape":i?i.focus({preventScroll:!0}):s.focus({preventScroll:!0}),t.stopPropagation()}},od))),Kf=(new(hc({name:"toolbaritemgroup"})((cd=class extends ac{constructor(){super(),ad.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,ad,q("div",{attributes:{class:"toolbaritemgroup",role:"group"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,ad,"f").cloneNode(!0)}slot(t){return t}},ad=new WeakMap,cd))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),$f=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Vf=(new(hc({name:"widthsash"})((vd=class extends ac{constructor(){super(),ld.add(this),hd.set(this,void 0),dd.set(this,void 0),ud.set(this,void 0),fd.set(this,void 0),pd.set(this,void 0),Kf(this,hd,q("div",{attributes:{class:"widthsash"}}),"f"),Kf(this,dd,new WeakMap,"f"),Kf(this,ud,new WeakMap,"f"),Kf(this,fd,new WeakMap,"f"),Kf(this,pd,new WeakMap,"f")}create(t){const e=$f(this,dd,"f"),n=$f(this,pd,"f"),s=$f(this,ud,"f"),i=$f(this,fd,"f"),r=$f(this,hd,"f").cloneNode(!0);if(r.addEventListener("pointerdown",$f(this,ld,"m",gd).bind(this)),r.addEventListener("pointermove",$f(this,ld,"m",bd).bind(this)),r.addEventListener("pointerup",$f(this,ld,"m",md).bind(this)),void 0!==t){const{id:e,classList:n,tabIndex:s,controls:i,growDir:o}=t;void 0!==e&&(r.id=e),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return e.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(t){return t.getAttribute("data-growdir")??"right"}setGrowDir(t,e){t.setAttribute("data-growdir",e)}getControls(t){return t.getAttribute("data-controls")}setControls(t,e){t.setAttribute("data-controls",e)}setWidth(t,e){const n=$f(this,dd,"f").get(t);null!==n&&n.style.setProperty("width",`${e}px`)}},hd=new WeakMap,dd=new WeakMap,ud=new WeakMap,fd=new WeakMap,pd=new WeakMap,ld=new WeakSet,md=function(t){const{pointerId:e,currentTarget:n}=t,s=n,i=$f(this,ud,"f");s.releasePointerCapture(e),i.set(s,!1)},gd=function(t){const{pointerId:e,currentTarget:n}=t,s=n,i=this.getControls(s);if(i){const t=$f(this,dd,"f"),n=$f(this,ud,"f"),r=s.getRootNode();t.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(e)}},bd=function(t){const{currentTarget:e}=t,n=e,s=$f(this,pd,"f"),i=$f(this,ud,"f"),r=$f(this,fd,"f"),o=$f(this,ld,"m",wd);if(i.get(n)){let e=r.get(n);null==e&&(e=o.bind(this,n),r.set(n,e),requestAnimationFrame(e));const i=s.get(n)+t.movementX;s.set(n,i)}},wd=function(t){const e=$f(this,dd,"f"),n=$f(this,pd,"f"),s=$f(this,fd,"f"),i=e.get(t);if(null!==i){const e=window.getComputedStyle(i),s=this.getGrowDir(t),r=n.get(t),o=parseFloat(e.getPropertyValue("width"))+("right"==s?1:-1)*r;this.setWidth(t,o),t.dispatchEvent(new Event("resize"))}n.set(t,0),s.set(t,null)},vd))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Jf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Uf=(new(hc({name:"heightsash"})((Id=class extends ac{constructor(){super(),yd.add(this),Ed.set(this,void 0),Sd.set(this,void 0),Td.set(this,void 0),xd.set(this,void 0),kd.set(this,void 0),Vf(this,Ed,q("div",{attributes:{class:"heightsash"}}),"f"),Vf(this,Sd,new WeakMap,"f"),Vf(this,Td,new WeakMap,"f"),Vf(this,xd,new WeakMap,"f"),Vf(this,kd,new WeakMap,"f")}create(t){const e=Jf(this,Sd,"f"),n=Jf(this,kd,"f"),s=Jf(this,Td,"f"),i=Jf(this,xd,"f"),r=Jf(this,Ed,"f").cloneNode(!0);if(r.addEventListener("pointerdown",Jf(this,yd,"m",Ld).bind(this)),r.addEventListener("pointermove",Jf(this,yd,"m",Nd).bind(this)),r.addEventListener("pointerup",Jf(this,yd,"m",Pd).bind(this)),void 0!==t){const{id:e,classList:n,tabIndex:s,controls:i,growDir:o}=t;void 0!==e&&(r.id=e),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return e.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(t){return t.getAttribute("data-growdir")??"top"}setGrowDir(t,e){t.setAttribute("data-growdir",e)}getControls(t){return t.getAttribute("data-controls")}setControls(t,e){t.setAttribute("data-controls",e)}setHeight(t,e){const n=Jf(this,Sd,"f").get(t);null!==n&&n.style.setProperty("height",`${e}px`)}},Ed=new WeakMap,Sd=new WeakMap,Td=new WeakMap,xd=new WeakMap,kd=new WeakMap,yd=new WeakSet,Pd=function(t){const{pointerId:e,currentTarget:n}=t,s=n,i=Jf(this,Td,"f");s.releasePointerCapture(e),i.set(s,!1)},Ld=function(t){const{pointerId:e,currentTarget:n}=t,s=n,i=this.getControls(s);if(i){const t=Jf(this,Sd,"f"),n=Jf(this,Td,"f"),r=s.getRootNode();t.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(e)}},Nd=function(t){const{currentTarget:e}=t,n=e,s=Jf(this,kd,"f"),i=Jf(this,Td,"f"),r=Jf(this,xd,"f");if(i.get(n)){let e=r.get(n);null==e&&(e=Jf(this,yd,"m",Cd).bind(this,n),r.set(n,e),requestAnimationFrame(e));const i=s.get(n)+t.movementX;s.set(n,i)}},Cd=function(t){const e=Jf(this,Sd,"f"),n=Jf(this,kd,"f"),s=Jf(this,xd,"f"),i=e.get(t);if(null!==i){const e=window.getComputedStyle(i),s=this.getGrowDir(t),r=n.get(t),o=parseFloat(e.getPropertyValue("height"))+("top"==s?-1:1)*r;this.setHeight(t,o),t.dispatchEvent(new Event("resize"))}n.set(t,0),s.set(t,null)},Id))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),Gf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Xf=new(hc({name:"gridcell"})((Od=class extends ac{constructor(){super(),Ad.add(this),Rd.set(this,void 0),Uf(this,Rd,q("td",{attributes:{class:"gridcell",role:"gridcell",tabindex:-1}}),"f")}create(t){const e=Gf(this,Rd,"f").cloneNode(!0);if(void 0!==t){const{id:n,classList:s,tabIndex:i,disabled:r,headers:o}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setDisabled(e,r),void 0!==o&&this.setHeaders(e,o),this.setSelected(e,!1)}return e}slot(t){return t}getHeaders(t){return t.getAttribute("headers")??""}setHeaders(t,e){t.setAttribute("headers",e)}getLabel(t){return Gf(this,Ad,"m",Md).call(this,t).textContent??""}setLabel(t,e){Gf(this,Ad,"m",Md).call(this,t).textContent=e}setPosInSet(t,e){t.setAttribute("aria-posinset",String(e))}getPosInSet(t){const e=t.getAttribute("aria-posinset");return e?parseInt(e):-1}setActive(t,e){const{classList:n}=t;e?n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}setDropTarget(t,e){const{classList:n}=t;e?n.add("droptarget"):n.remove("droptarget")}getDropTarget(t){const{classList:e}=t;return e.contains("droptarget")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}getDisabled(t){return t.hasAttribute("aria-disabled")}setSelected(t,e){t.setAttribute("aria-selected",String(e)),t.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(t){return JSON.parse(t.getAttribute("aria-selected")??String(!1))}},Rd=new WeakMap,Ad=new WeakSet,Md=function(t){return t.querySelector(":scope > .content > .label")},Od))),Yf=new(hc({name:"gridrow"})((jd=class extends ac{constructor(){super(),Wd.set(this,void 0),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(t,n):i?i.value=n:e.set(t,n)}(this,Wd,q("tr",{attributes:{class:"gridrow",role:"row",tabindex:-1}}),"f")}create(t){const e=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Wd,"f").cloneNode(!0);if(void 0!==t){const{disabled:n}=t;void 0!==n&&this.setDisabled(e,n),this.setSelected(e,!1)}return e}slot(t){return t}cells(t){return Array.from(t.querySelectorAll(":scope > .gridcell"))}setPosInSet(t,e){t.setAttribute("aria-posinset",String(e))}getPosInSet(t){const e=t.getAttribute("aria-posinset");return e?parseInt(e):-1}setActive(t,e){const{classList:n}=t;e?n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}setDropTarget(t,e){const{classList:n}=t;e?n.add("droptarget"):n.remove("droptarget")}getDropTarget(t){const{classList:e}=t;return e.contains("droptarget")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}getDisabled(t){return t.hasAttribute("aria-disabled")}setSelected(t,e){t.setAttribute("aria-selected",String(e)),t.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(t){return JSON.parse(t.getAttribute("aria-selected")??String(!1))}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&Xf.setPosInSet(t,e)}))}},Wd=new WeakMap,jd))),zf=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},Zf=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},Qf=(new(hc({name:"grid"})((Su=class extends ac{constructor(){super(),Dd.add(this),Hd.set(this,void 0),Bd.set(this,void 0),qd.set(this,void 0),Kd.set(this,void 0),$d.set(this,void 0),zf(this,Hd,q("table",{attributes:{class:"grid",role:"grid",tabindex:0}}),"f"),zf(this,Kd,new WeakMap,"f"),zf(this,$d,new WeakMap,"f"),zf(this,qd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Zf(this,Dd,"m",Vd).bind(this)),"f"),zf(this,Bd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Zf(this,Dd,"m",Jd).bind(this)),"f")}headers(t){return Array.from(t.querySelectorAll(":scope > .gridhead > .gridheader"))}rows(t){return Array.from(t.querySelectorAll(":scope > .gridbody > .gridrow"))}cells(t){return Array.from(t.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell"))}create(t){const e=Zf(this,Hd,"f").cloneNode(!0);if(e.addEventListener("mousedown",Zf(this,Dd,"m",yu).bind(this)),e.addEventListener("focus",Zf(this,Dd,"m",gu).bind(this)),e.addEventListener("focusin",Zf(this,Dd,"m",bu).bind(this)),e.addEventListener("focusout",Zf(this,Dd,"m",wu).bind(this)),e.addEventListener("keydown",Zf(this,Dd,"m",vu).bind(this)),e.addEventListener("select",Zf(this,Dd,"m",Eu).bind(this)),void 0!==t){const{id:n,classList:s,tabIndex:i,selectby:r,multisectable:o}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setSelectBy(e,r),void 0!==o&&this.setMultiSelectable(e,o)}return e}slot(t){return t}setMultiSelectable(t,e){t.setAttribute("aria-multiselectable",String(e))}getMultiSelectable(t){return JSON.parse(t.getAttribute("aria-multiselectable")??String(!1))}setSelectBy(t,e){t.setAttribute("data-selectby",e)}getSelectBy(t){return t.getAttribute("data-selectby")??"cell"}beginSelection(t){Zf(this,Kd,"f").set(t,!0)}endSelection(t){Zf(this,Kd,"f").set(t,!1),Zf(this,$d,"f").get(t)&&(t.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Zf(this,$d,"f").set(t,!1))}clearSelection(t){Zf(this,Dd,"m",eu).call(this,t),Zf(this,Dd,"m",nu).call(this,t)}selectedCells(t){return Array.from(t.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell[aria-selected=true]"))}selectedRows(t){return Array.from(t.querySelectorAll(":scope > .gridbody > .gridrow[aria-selected=true]"))}},Hd=new WeakMap,Bd=new WeakMap,qd=new WeakMap,Kd=new WeakMap,$d=new WeakMap,Dd=new WeakSet,Fd=function(t){return t.querySelector(".gridrow.active")},_d=function(t){return t.querySelector(".gridcell.active")},Vd=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("gridcell")&&!Xf.getDisabled(t)&&!t.hidden)return NodeFilter.FILTER_ACCEPT;if(e.contains("gridrow")||e.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Jd=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("gridrow")&&!Yf.getDisabled(t)&&!t.hidden)return NodeFilter.FILTER_ACCEPT;if(e.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ud=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=Zf(this,Dd,"m",cu).call(this,t);for(;s&&s!==e;)n.push(s),s=Zf(this,Dd,"m",cu).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=Zf(this,Dd,"m",au).call(this,t);for(;s&&s!==e;)n.push(s),s=Zf(this,Dd,"m",uu).call(this,s);return n.push(e),n}return[]},Gd=function(t,e){if(t==e)return[t];const n=t.compareDocumentPosition(e);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[t];let s=Zf(this,Dd,"m",fu).call(this,t);for(;s&&s!==e;)n.push(s),s=Zf(this,Dd,"m",fu).call(this,s);return n.push(e),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[t];let s=Zf(this,Dd,"m",uu).call(this,t);for(;s&&s!==e;)n.push(s),s=Zf(this,Dd,"m",uu).call(this,s);return n.push(e),n}return[]},Xd=function(t,...e){this.beginSelection(t),this.selectedCells(t).forEach((t=>{e.includes(t)||Xf.setSelected(t,!1)})),e.forEach((t=>{Xf.getSelected(t)||Xf.setSelected(t,!0)})),this.endSelection(t)},Yd=function(t,...e){this.beginSelection(t),this.selectedRows(t).forEach((t=>{e.includes(t)||Yf.setSelected(t,!1)})),e.forEach((t=>{Yf.getSelected(t)||Yf.setSelected(t,!0)})),this.endSelection(t)},zd=function(t,...e){this.beginSelection(t),e.forEach((t=>{Xf.getSelected(t)||Xf.setSelected(t,!0)})),this.endSelection(t)},Zd=function(t,...e){this.beginSelection(t),e.forEach((t=>{Yf.getSelected(t)||Yf.setSelected(t,!0)})),this.endSelection(t)},Qd=function(t,...e){this.beginSelection(t);const n=this.selectedCells(t);e.forEach((t=>{n.includes(t)&&Xf.setSelected(t,!1)})),this.endSelection(t)},tu=function(t,...e){this.beginSelection(t);const n=this.selectedRows(t);e.forEach((t=>{n.includes(t)&&Yf.setSelected(t,!1)})),this.endSelection(t)},eu=function(t){this.beginSelection(t),this.selectedCells(t).forEach((t=>{Xf.getSelected(t)&&Xf.setSelected(t,!1)})),this.endSelection(t)},nu=function(t){this.beginSelection(t),this.selectedRows(t).forEach((t=>{Yf.getSelected(t)&&Yf.setSelected(t,!1)})),this.endSelection(t)},su=function(t,e){const n=Zf(this,Dd,"m",_d).call(this,t);null!==n&&n!==e&&(Xf.setActive(n,!1),n.tabIndex=-1),null!==e&&(Xf.setActive(e,!0),e.tabIndex=0)},iu=function(t,e){const n=Zf(this,Dd,"m",Fd).call(this,t);null!==n&&n!==e&&(Yf.setActive(n,!1),n.tabIndex=-1),null!==e&&(Xf.setActive(e,!0),e.tabIndex=0)},ru=function(t){const e=Zf(this,qd,"f");return e.currentNode=t,e.firstChild()},ou=function(t){const e=Zf(this,qd,"f");return e.currentNode=t,e.lastChild()},au=function(t){const e=Zf(this,qd,"f");return e.currentNode=t,e.previousNode()},cu=function(t){const e=Zf(this,qd,"f");return e.currentNode=t,e.nextNode()},lu=function(t){const e=Zf(this,Bd,"f");return e.currentNode=t,e.parentNode()},hu=function(t){const e=Zf(this,Bd,"f");return e.currentNode=t,e.firstChild()},du=function(t){const e=Zf(this,Bd,"f");return e.currentNode=t,e.lastChild()},uu=function(t){const e=Zf(this,Bd,"f");return e.currentNode=t,e.previousNode()},fu=function(t){const e=Zf(this,Bd,"f");return e.currentNode=t,e.nextNode()},pu=function(t){const e=Zf(this,Dd,"m",lu).call(this,t);if(e){const n=Yf.cells(e),s=Array.from(n.values()).indexOf(t),i=Zf(this,Dd,"m",uu).call(this,e);if(i){const t=Yf.cells(i);return t[Math.min(s,t.length)]}}return null},mu=function(t){const e=Zf(this,Dd,"m",lu).call(this,t);if(e){const n=Yf.cells(e),s=Array.from(n.values()).indexOf(t),i=Zf(this,Dd,"m",fu).call(this,e);if(i){const t=Yf.cells(i);return t[Math.min(s,t.length)]}}return null},gu=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;switch(this.getSelectBy(s)){case"cell":{const t=Zf(this,Dd,"m",_d).call(this,s);t&&n!==t&&t.focus();break}case"row":{const t=Zf(this,Dd,"m",Fd).call(this,s);t&&n!==t&&t.focus();break}}},bu=function(t){const{currentTarget:e,target:n}=t,s=e;switch(this.getSelectBy(s)){case"cell":{const t=n.closest(".gridcell");t&&Zf(this,Dd,"m",su).call(this,s,t);break}case"row":{const t=n.closest(".gridrow");t&&Zf(this,Dd,"m",iu).call(this,s,t);break}}},wu=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&(s.tabIndex=0)},vu=function(t){const{currentTarget:e,key:n}=t,s=e,i=Zf(this,Dd,"m",_d).call(this,s),r=Zf(this,Dd,"m",Fd).call(this,s),o=this.getSelectBy(s),a=this.getMultiSelectable(s);switch(n){case"a":{const{ctrlKey:e}=t;if(e&&a)switch(o){case"cell":{const t=Zf(this,Dd,"m",hu).call(this,s),e=t?Zf(this,Dd,"m",ru).call(this,t):null,n=Zf(this,Dd,"m",du).call(this,s),i=n?Zf(this,Dd,"m",ou).call(this,n):null;if(e&&i){const t=Zf(this,Dd,"m",Ud).call(this,e,i);t&&Zf(this,Dd,"m",Xd).call(this,s,...t)}break}case"row":{const t=Zf(this,Dd,"m",hu).call(this,s),e=Zf(this,Dd,"m",du).call(this,s);if(t&&e){const n=Zf(this,Dd,"m",Gd).call(this,t,e);n&&Zf(this,Dd,"m",Yd).call(this,s,...n)}break}}t.preventDefault();break}case"ArrowLeft":if("cell"==o&&i){const e=Zf(this,Dd,"m",au).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&a&&(Xf.getSelected(e)?Zf(this,Dd,"m",Qd).call(this,s,e):Zf(this,Dd,"m",zd).call(this,s,e))}}t.stopPropagation();break;case"ArrowRight":if("cell"==o&&i){const e=Zf(this,Dd,"m",cu).call(this,i);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&a&&(Xf.getSelected(e)?Zf(this,Dd,"m",Qd).call(this,s,e):Zf(this,Dd,"m",zd).call(this,s,e))}}t.stopPropagation();break;case"ArrowUp":switch(o){case"cell":{const e=r??Zf(this,Dd,"m",hu).call(this,s),n=i?Zf(this,Dd,"m",pu).call(this,i):e?Zf(this,Dd,"m",ru).call(this,e):null;if(n){n.focus({preventScroll:!0});const{shiftKey:e}=t;e&&a&&(Xf.getSelected(n)?Zf(this,Dd,"m",Qd).call(this,s,n):Zf(this,Dd,"m",zd).call(this,s,n))}break}case"row":{const e=r?Zf(this,Dd,"m",uu).call(this,r):Zf(this,Dd,"m",hu).call(this,s);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&a&&(Yf.getSelected(e)?Zf(this,Dd,"m",tu).call(this,s,e):Zf(this,Dd,"m",Zd).call(this,s,e))}break}}t.stopPropagation();break;case"ArrowDown":switch(o){case"cell":{const e=r??Zf(this,Dd,"m",du).call(this,s),n=i?Zf(this,Dd,"m",mu).call(this,i):e?Zf(this,Dd,"m",ou).call(this,e):null;if(n){n.focus({preventScroll:!0});const{shiftKey:e}=t;e&&a&&(Xf.getSelected(n)?Zf(this,Dd,"m",Qd).call(this,s,n):Zf(this,Dd,"m",zd).call(this,s,n))}}break;case"row":{const e=r?Zf(this,Dd,"m",fu).call(this,r):Zf(this,Dd,"m",du).call(this,s);if(e){e.focus({preventScroll:!0});const{shiftKey:n}=t;n&&a&&(Yf.getSelected(e)?Zf(this,Dd,"m",tu).call(this,s,e):Zf(this,Dd,"m",Zd).call(this,s,e))}break}}t.stopPropagation();break;case"Home":switch(o){case"cell":if(r){const t=Zf(this,Dd,"m",ru).call(this,r);t&&t.focus({preventScroll:!0})}break;case"row":{const t=Zf(this,Dd,"m",hu).call(this,s);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"End":switch(o){case"cell":if(r){const t=Zf(this,Dd,"m",ou).call(this,r);t&&t.focus({preventScroll:!0})}break;case"row":{const t=Zf(this,Dd,"m",du).call(this,s);t&&t.focus({preventScroll:!0});break}}t.stopPropagation();break;case"Enter":switch(o){case"cell":i&&(Zf(this,Dd,"m",Xd).call(this,s,i),i.click());break;case"row":r&&(Zf(this,Dd,"m",Yd).call(this,s,r),r.click())}t.stopPropagation();break;case"Escape":switch(o){case"cell":Zf(this,Dd,"m",eu).call(this,s),Zf(this,Dd,"m",su).call(this,s,null);break;case"row":Zf(this,Dd,"m",nu).call(this,s),Zf(this,Dd,"m",iu).call(this,s,null)}s.focus(),t.stopPropagation()}},yu=function(t){const{currentTarget:e,target:n,ctrlKey:s,shiftKey:i}=t,r=e,o=this.getSelectBy(r),a=this.getMultiSelectable(r);switch(o){case"cell":{const e=n.closest(".gridcell");if(e){if(a)if(i||s){if(s)Xf.getSelected(e)?Zf(this,Dd,"m",Qd).call(this,r,e):Zf(this,Dd,"m",zd).call(this,r,e),t.stopPropagation();else if(i){const n=Zf(this,Dd,"m",_d).call(this,r);if(n){const t=Zf(this,Dd,"m",Ud).call(this,n,e);t&&Zf(this,Dd,"m",Xd).call(this,r,...t)}t.stopPropagation()}}else Zf(this,Dd,"m",Xd).call(this,r,e);else Zf(this,Dd,"m",Xd).call(this,r,e);t.stopPropagation()}break}case"row":{const e=n.closest(".gridrow");if(e){if(a)if(i||s){if(s)Yf.getSelected(e)?Zf(this,Dd,"m",tu).call(this,r,e):Zf(this,Dd,"m",Zd).call(this,r,e),t.stopPropagation();else if(i){const n=Zf(this,Dd,"m",Fd).call(this,r);if(n){const t=Zf(this,Dd,"m",Gd).call(this,n,e);t&&Zf(this,Dd,"m",Yd).call(this,r,...t)}t.stopPropagation()}}else Zf(this,Dd,"m",Yd).call(this,r,e);else Zf(this,Dd,"m",Yd).call(this,r,e);t.stopPropagation()}break}}},Eu=function(t){const{currentTarget:e}=t,n=e;n&&(Zf(this,Kd,"f").get(n)?Zf(this,$d,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Su))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),tp=(new(hc({name:"gridbody"})((xu=class extends ac{constructor(){super(),Tu.set(this,void 0),Qf(this,Tu,q("tbody",{attributes:{class:"gridbody",role:"rowgroup"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Tu,"f").cloneNode(!0)}slot(t){return t}slottedCallback(t,e){const{childNodes:n}=e;Array.from(n).forEach(((t,e)=>{t instanceof HTMLElement&&t.classList.contains("gridrow")&&Yf.setPosInSet(t,e)}))}},Tu=new WeakMap,xu))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),ep=(new(hc({name:"gridhead"})((Pu=class extends ac{constructor(){super(),ku.set(this,void 0),tp(this,ku,q("thead",{attributes:{class:"gridhead",role:"rowgroup"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,ku,"f").cloneNode(!0)}slot(t){return t}},ku=new WeakMap,Pu))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),np=(new(hc({name:"gridheader"})((Nu=class extends ac{constructor(){super(),Lu.set(this,void 0),ep(this,Lu,q("th",{attributes:{class:"gridheader",scope:"column",role:"columnheader",tabindex:-1}}),"f")}create(t){const e=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,Lu,"f").cloneNode(!0);if(void 0!==t){const{id:n,classList:s,tabIndex:i}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i)}return e}slot(t){return t}setActive(t,e){const{classList:n}=t;e?n.add("active"):n.remove("active")}getActive(t){const{classList:e}=t;return e.contains("active")}},Lu=new WeakMap,Nu))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),sp=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},ip=new(hc({name:"option"})((Ru=class extends ac{constructor(){super(),Cu.add(this),Iu.set(this,void 0),np(this,Iu,q("span",{attributes:{class:"option",role:"option",tabindex:-1},children:[q("span",{attributes:{class:"label"}})]}),"f")}create(t){const e=sp(this,Iu,"f").cloneNode(!0);if(void 0!==t){const{label:n,name:s,value:i,disabled:r}=t;let{selected:o}=t;o=o??!1,void 0!==o&&this.setSelected(e,o),void 0!==n&&this.setLabel(e,n),void 0!==s&&this.setName(e,s),void 0!==i&&this.setValue(e,i),void 0!==r&&this.setDisabled(e,r)}return e}get observedAttributes(){return["aria-selected"]}attributeChangedCallback(t,e,n,s){switch(e){case"aria-selected":!0===JSON.parse(s)&&t.dispatchEvent(new Event("select",{bubbles:!0}))}}getLabel(t){return sp(this,Cu,"m",Au).call(this,t).textContent??""}setLabel(t,e){sp(this,Cu,"m",Au).call(this,t).textContent=e}getValue(t){return t.getAttribute("value")??""}setValue(t,e){t.setAttribute("value",e)}getName(t){return t.getAttribute("name")??""}setName(t,e){t.setAttribute("name",e)}getSelected(t){return JSON.parse(t.getAttribute("aria-selected")??String(!1))}setSelected(t,e){t.setAttribute("aria-selected",String(e))}getDisabled(t){return t.hasAttribute("aria-disabled")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}},Iu=new WeakMap,Cu=new WeakSet,Au=function(t){return t.querySelector(":scope > .label")},Ru))),rp=function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},op=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n},ap=(new(hc({name:"combobox"})((Qu=class extends ac{constructor(){super(),Mu.add(this),Ou.set(this,void 0),Wu.set(this,void 0),ju.set(this,void 0),op(this,Wu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,rp(this,Mu,"m",Bu).bind(this)),"f"),op(this,ju,new MutationObserver(rp(this,Mu,"m",Hu).bind(this)),"f"),op(this,Ou,q("div",{attributes:{class:"combobox",role:"combobox",tabindex:0},children:[q("div",{attributes:{class:"content"},children:[q("span",{attributes:{class:"value"}})]}),q("div",{attributes:{class:"box"}})]}),"f")}create(t){const e=rp(this,Ou,"f").cloneNode(!0);if(rp(this,ju,"f").observe(e,{childList:!0,subtree:!0}),e.addEventListener("focusout",rp(this,Mu,"m",Yu).bind(this)),e.addEventListener("keydown",rp(this,Mu,"m",zu).bind(this)),e.addEventListener("click",rp(this,Mu,"m",Xu).bind(this)),e.addEventListener("mouseover",rp(this,Mu,"m",Zu).bind(this)),this.setExpanded(e,!1),void 0!==t){const{id:n,classList:s,tabIndex:i,name:r,disabled:o,multiselectable:a}=t;void 0!==n&&(e.id=n),void 0!==s&&e.classList.add(...s),void 0!==i&&(e.tabIndex=i),void 0!==r&&this.setName(e,r),void 0!==o&&this.setDisabled(e,o),void 0!==a&&this.setMultiSelectable(e,a)}return e}slot(t){return rp(this,Mu,"m",Du).call(this,t)}slottedCallback(t,e,n){const{childNodes:s}=e;Array.from(s).forEach(((t,e)=>{HTMLElement}))}options(t){return Array.from(t.querySelectorAll(":scope > :is(.box, .box > .optiongroup) > .option"))}selectedOption(t){return t.querySelector(":scope > :is(.box, .box > .optiongroup) > .option[aria-selected=true]")}getName(t){return t.getAttribute("name")??""}setName(t,e){t.setAttribute("name",e)}getDisabled(t){return t.hasAttribute("aria-disabled")}setDisabled(t,e){t.toggleAttribute("aria-disabled",e)}setExpanded(t,e){t.setAttribute("aria-expanded",String(e))}getExpanded(t){return JSON.parse(t.getAttribute("aria-expanded")??String(!1))}setMultiSelectable(t,e){t.setAttribute("aria-multiselectable",String(e))}getMultiSelectable(t){return JSON.parse(t.getAttribute("aria-multiselectable")??String(!1))}expand(t){if(!this.getExpanded(t)){this.setExpanded(t,!0),rp(this,Mu,"m",Gu).call(this,t);const e=this.selectedOption(t);e&&e.focus({preventScroll:!0})}}collapse(t){this.getExpanded(t)&&(this.setExpanded(t,!1),t.focus())}toggle(t,e){const n=this.getExpanded(t);e??!n?this.expand(t):this.collapse(t)}},Ou=new WeakMap,Wu=new WeakMap,ju=new WeakMap,Mu=new WeakSet,Du=function(t){return t.querySelector(":scope > .box")},Fu=function(t){return t.querySelector(":scope > :is(.box, .box > .optiongroup) > .option:focus-within")},_u=function(t){return t.querySelector(":scope > .content > .value")},Hu=function(t){t.forEach((t=>{const{target:e,type:n}=t,s=e.closest(".combobox");if(s instanceof HTMLElement)switch(n){case"childList":{const{addedNodes:e}=t,n=".option[aria-selected=true]";for(let t of e)if(t instanceof HTMLElement){const e=t.matches(n)?t:t.querySelector(n);if(e){rp(this,Mu,"m",Uu).call(this,s,e);break}}break}}}))},Bu=function(t){if(t instanceof HTMLElement){const{classList:e}=t;if(e.contains("option")&&!ip.getDisabled(t)&&!t.hidden)return NodeFilter.FILTER_ACCEPT;if(e.contains("optiongroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},qu=function(t){const e=rp(this,Wu,"f");return e.currentNode=rp(this,Mu,"m",Du).call(this,t),e.firstChild()},Ku=function(t){const e=rp(this,Wu,"f");return e.currentNode=rp(this,Mu,"m",Du).call(this,t),e.lastChild()},$u=function(t){const e=rp(this,Wu,"f");return e.currentNode=t,e.previousNode()},Vu=function(t){const e=rp(this,Wu,"f");return e.currentNode=t,e.nextNode()},Ju=function(t,e){const n=this.selectedOption(t);n&&ip.setSelected(n,!1),e!==n&&(ip.setSelected(e,!0),rp(this,Mu,"m",Uu).call(this,t,e),t.dispatchEvent(new Event("change",{bubbles:!0})))},Uu=function(t,e){rp(this,Mu,"m",_u).call(this,t).textContent=ip.getLabel(e)},Gu=function(t){const e=t.querySelector(":scope > .box"),{style:n}=e,{bottom:s,left:i}=t.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Xu=function(t){const{currentTarget:e,target:n}=t,s=e;if(this.toggle(s),this.getExpanded(s))(this.selectedOption(s)??this.options(s)[0])?.focus({preventScroll:!0});else{const t=n.closest(".option");t&&rp(this,Mu,"m",Ju).call(this,s,t)}},Yu=function(t){const{currentTarget:e,relatedTarget:n}=t,s=e;!s.contains(n)&&this.collapse(s)},zu=function(t){const{currentTarget:e,key:n}=t,s=e,i=this.getExpanded(s),r=rp(this,Mu,"m",Fu).call(this,s),o=this.selectedOption(s);switch(n){case"ArrowUp":if(i){const t=r?rp(this,Mu,"m",$u).call(this,r):rp(this,Mu,"m",qu).call(this,s);t&&t.focus({preventScroll:!0})}else{const t=o?rp(this,Mu,"m",$u).call(this,o):rp(this,Mu,"m",qu).call(this,s);t&&rp(this,Mu,"m",Ju).call(this,s,t)}t.stopPropagation();break;case"ArrowDown":if(i){const t=r?rp(this,Mu,"m",Vu).call(this,r):rp(this,Mu,"m",Ku).call(this,s);t&&t.focus({preventScroll:!0})}else{const t=o?rp(this,Mu,"m",Vu).call(this,o):rp(this,Mu,"m",Ku).call(this,s);t&&rp(this,Mu,"m",Ju).call(this,s,t)}t.stopPropagation();break;case"Home":{const e=rp(this,Mu,"m",qu).call(this,s);e&&(i?e.focus({preventScroll:!0}):rp(this,Mu,"m",Ju).call(this,s,e)),t.stopPropagation();break}case"End":{const e=rp(this,Mu,"m",Ku).call(this,s);e&&(i?e.focus({preventScroll:!0}):rp(this,Mu,"m",Ju).call(this,s,e)),t.stopPropagation();break}case"Enter":i?(this.collapse(s),r&&rp(this,Mu,"m",Ju).call(this,s,r)):(this.expand(s),o?.focus({preventScroll:!0})),t.stopPropagation();break;case"Escape":i&&this.collapse(s),t.stopPropagation();break;default:{const{length:e}=n;if(1==e){const e=n.charCodeAt(0),i=this.options(s),o=r?i.indexOf(r):-1,a=i.find(((t,n)=>ip.getLabel(t).toLowerCase().charCodeAt(0)==e&&n>o))??i.find((t=>ip.getLabel(t).toLowerCase().charCodeAt(0)==e));a&&a.focus({preventScroll:!0}),t.stopPropagation()}break}}},Zu=function(t){const{target:e}=t,n=e.closest(".option");n&&n.focus({preventScroll:!0})},Qu))),function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n}),cp=(new(hc({name:"optiongroup"})((ef=class extends ac{constructor(){super(),tf.set(this,void 0),ap(this,tf,q("ul",{attributes:{class:"optiongroup",role:"group"}}),"f")}create(){return function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,tf,"f").cloneNode(!0)}slot(t){return t}},tf=new WeakMap,ef))),function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}),lp=function(t,e,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(t,n):i?i.value=n:e.set(t,n),n};class hp extends W{constructor(t){super(),nf.add(this);const{items:e,sortFunction:n}=t??{},s=new j(e??[]);s.setParent(this),this.childItems=s,this.items=new j(this.flattenItems()),this.sortFunction=n??function(t,e){return t.label.localeCompare(e.label)},this.addEventListener("modelchange",cp(this,nf,"m",sf).bind(this))}flattenItems(){const{childItems:t}=this;return Array.from(t.values()).flatMap((t=>Array.of(t,...hp.prototype.flattenItems.call(t))))}getItemByUri(t){const{childItems:e}=this,{length:n}=e,{length:s}=t;for(let i=0;i<n;i++){const n=e.get(i),{uri:r}=n,{length:o}=r;if(t.startsWith(r)){if("/"==t.charAt(o))return hp.prototype.getItemByUri.call(n,t);if(o==s)return n}}return null}}nf=new WeakSet,sf=function(t){const{target:e}=t,{items:n,sortFunction:s,flattenItems:i}=this;e instanceof j&&e.getRecords().forEach((t=>{const{insertedItems:e,removedItems:r}=t,o=Array.from(e.values()).flatMap((t=>Array.of(t,...i.call(t)))),a=Array.from(r.values()).flatMap((t=>Array.of(t,...i.call(t))));n.beginChanges(),n.append(...o),a.forEach((t=>n.remove(t))),s&&n.sort(s),n.endChanges()}))};class dp{constructor(t){this.items=t}get count(){return this.items.length}remove(){const{items:t}=this,e=t.reduce(((t,e)=>{const{parentNode:n}=e;if(n instanceof up||n instanceof hp){const{childItems:s}=n,i=t.get(s);i?i.push(e):t.set(s,[e])}return t}),new Map);Array.from(e.entries()).forEach((([t,e])=>{t.beginChanges(),e.forEach((e=>{t.remove(e)})),t.endChanges()}))}}class up extends W{constructor(t){super();const{label:e,type:n,items:s}=t,i=new j(s??[]);i.setParent(this),this.childItems=i,this.label=e,this.type=n}get uri(){const{parentNode:t}=this;return t instanceof up?`${t.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:t}=this;return t instanceof up?t:null}remove(){const{parentNode:t}=this;if(t instanceof up||t instanceof hp){const{childItems:e}=t;e&&e.remove(this)}}}class fp{constructor(){rf.add(this),of.set(this,void 0),af.set(this,void 0),lp(this,of,new WeakMap,"f"),lp(this,af,new WeakMap,"f")}itemContentDelegate(t){return J(t,q("span"),["label"],((t,e,n,s)=>{t.textContent=s}))}create(t){const{model:e}=t,n=lc("tree",{properties:{tabIndex:0},slotted:Y(e.childItems,(t=>cp(this,rf,"m",lf).call(this,t,e))),listeners:{dragstart:cp(this,rf,"m",df).bind(this),drop:cp(this,rf,"m",uf).bind(this),contextmenu:cp(this,rf,"m",ff).bind(this),keydown:cp(this,rf,"m",gf).bind(this),focusin:cp(this,rf,"m",pf).bind(this),focusout:cp(this,rf,"m",mf).bind(this)}}),s=q("div",{attributes:{class:"tree-view"},children:[n,q("div",{attributes:{class:"offscreen",hidden:!0},children:Y(e.items,(t=>cp(this,rf,"m",hf).call(this,t)))})]});return cp(this,of,"f").set(n,e),s}getModel(t){return cp(this,of,"f").get(t)??null}selectedItems(t){const e=this.getModel(t);return If.selectedItems(t).map((t=>e.getItemByUri(t.dataset.uri)))}}of=new WeakMap,af=new WeakMap,rf=new WeakSet,cf=function(t){return cp(this,af,"f").get(t)?.deref()??null},lf=function t(e,n){return lc("treeitem",{properties:{type:e.type,draggable:!0},dataset:{uri:e.uri},slotted:{content:this.itemContentDelegate(e),group:"parent"==e.type?[lc("treeitemgroup",{slotted:Y(e.childItems,(e=>cp(this,rf,"m",t).call(this,e,n)))})]:[]}})},hf=function(t){const e=J(t,q("span",{attributes:{class:"dragimage"}}),["label"],((t,e,n,s)=>{t.textContent=s}));return cp(this,af,"f").set(t,new WeakRef(e)),e},df=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".treeitem"),r=this.getModel(s);if(i){const{dataTransfer:e}=t,n=If.selectedItems(s),{length:i}=n;if(i>0){const t=n.map((t=>t.dataset.uri)).filter(((t,e,n)=>!n.some((e=>t.startsWith(`${e}/`))))),s=t.join("\n"),i=t[t.length-1],o=r.getItemByUri(i);if(o&&e){e.dropEffect="move",e.setData("text/plain",s);const t=cp(this,rf,"m",cf).call(this,o);t&&e.setDragImage(t,-16,0)}}}},uf=function(t){const{currentTarget:e,target:n}=t,s=e,i=n.closest(".treeitem"),r=this.getModel(s),{sortFunction:o}=r;if(i){const{dataTransfer:e}=t;if(e){const t=i.dataset.uri,n=r.getItemByUri(t),a=e.getData("text/plain").split("\n");if(!a.some((e=>t.startsWith(`${e}/`)||e==t))){const t=a.map((t=>r.getItemByUri(t))).filter((t=>null!==t)),{type:e,parentItem:c}=n,{childItems:l}="parent"==e?n:c||r;Array.from(l.values()).forEach((e=>{const n=t.findIndex((t=>t.label==e.label));n>-1&&(confirm(`Replace ${e.label}?`)?l.remove(e):(t.copyWithin(n,n+1),t.length--))})),new dp(t).remove(),o?(l.beginChanges(),l.append(...t),l.sort(o),l.endChanges()):l.insert(Lf.getPosInSet(i),...t);const h=s.querySelectorAll(`.treeitem:is(${t.map((t=>`[data-uri="${t.uri}"]`)).join(",")})`);If.beginSelection(s),h.forEach((t=>{Lf.setSelected(t,!0)})),If.endSelection(s)}}}},ff=function(t){const{clientX:e,clientY:n,currentTarget:s,target:i}=t,r=s,o=i.closest(".treeitem"),a=this.getModel(r),{itemContextMenuDelegate:c}=this;if(c&&o){const t=a.getItemByUri(o.dataset.uri),s=lc("menu",{properties:{contextual:!0,position:{x:e,y:n}},slotted:c.call(this,t,this.selectedItems(r)),listeners:{close:()=>{o.focus({preventScroll:!0})}}});r.append(s),s.focus({preventScroll:!0})}t.preventDefault()},pf=function(t){const{target:e}=t,n=e;if(n.matches(".treeitem")){const t=n.querySelector(".toolbar");t&&(t.tabIndex=0)}},mf=function(t){const{target:e}=t,n=e;if(n.matches(".treeitem")){const t=n.querySelector(".toolbar");t&&(t.tabIndex=-1)}},gf=function(t){const{currentTarget:e,key:n}=t,s=e;switch(n){case"Delete":{const e=new dp(this.selectedItems(s)),{count:n}=e;confirm(`Remove ${n} items?`)&&e.remove(),s.focus(),t.preventDefault();break}}},new fp;var pp,mp,gp=function(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o};class bp extends dp{constructor(t){super(t)}get count(){return this.items.length}show(){this.items.forEach((t=>t.show()))}hide(){this.items.forEach((t=>t.hide()))}display(){const t=this.items.reduce(((t,e)=>`${t} ${e.label}`),"");console.log(t)}}class wp extends up{constructor(t){super(t),pp.add(this),this.childCount=this.childItems.length,this.visibility=!0,this.addEventListener("modelchange",function(t,e,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)}(this,pp,"m",mp).bind(this))}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}}async function vp(){!async function(){const t=new class extends fp{itemContextMenuDelegate(t,e){return B(lc("menuitemgroup",{slotted:[lc("menuitem",{properties:{label:"Display"},listeners:{click:()=>{new bp(e).display()}}}),lc("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{const t=new bp(e),{count:n}=t;confirm(`Remove ${n} items?`)&&t.remove()}}})]}),lc("menuitemgroup",{slotted:[lc("menuitem",{properties:{type:"checkbox",label:t.visibility?"Hide":"Show"},listeners:{click:()=>{const n=new bp(e);t.visibility?n.hide():n.show()}}})]}))}itemContentDelegate(t){return B(...[J(t,q("span",{attributes:{class:"label"}}),["label"],((t,e,n,s)=>{t.textContent=s}))].concat("parent"==t.type?[J(t,q("span",{attributes:{class:"badge"}}),["childCount"],((t,e,n,s)=>{t.textContent=`(${s})`}))]:[]).concat([J(t,lc("toolbar",{slotted:[lc("toolbaritem",{properties:{name:"visibility",type:"checkbox",label:"Visibility"},listeners:{click:()=>{t.visibility?t.hide():t.show()}}})]}),["visibility"],((t,e,n,s)=>{switch(e){case"visibility":{const e=qf.slot(t)?.querySelector(".toolbaritem[name=visibility]");if(e){const t=s?"Hide":"Show";_f.setLabel(e,t),_f.setTitle(e,t),_f.setPressed(e,s)}}}}))]))}},e=new hp({items:[new wp({label:"TI 0",type:"parent",items:[new wp({label:"TI 1A",type:"parent",items:[new wp({type:"leaf",label:"TI 1AX"})]}),new wp({type:"parent",label:"TI 1B"})]}),new wp({label:"TI 1",type:"parent",items:[new wp({label:"TI 1A",type:"parent",items:[new wp({type:"leaf",label:"TI 1AX"})]}),new wp({type:"parent",label:"TI 1B"})]}),new wp({type:"leaf",label:"TI 2"}),new wp({type:"leaf",label:"TI 3"})],sortFunction:(t,e)=>{const{label:n}=t,{label:s}=e;return s.localeCompare(n)}}),n=t.create({model:e});document.body.append(n)}()}pp=new WeakSet,mp=function(t){const{target:e}=t,{childItems:n}=this;e==n&&(this.childCount=n.length)},gp([R()],wp.prototype,"childCount",void 0),gp([R()],wp.prototype,"visibility",void 0)})(),main=e})();
//# sourceMappingURL=main.js.map