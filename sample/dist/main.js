var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Nf});var n,s,i,r,o,a,c,l,h,d,u,p,f,m,b,g,w,v,y,E=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},S=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class T{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new k(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new k(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return T.PROPERTY_CHANGE}get LIST_REMOVE(){return T.LIST_REMOVE}get LIST_INSERT(){return T.LIST_INSERT}get LIST_SORT(){return T.LIST_SORT}}var x=T;n=new WeakMap;var k=class{constructor(e){n.set(this,void 0),E(this,n,e.slice(),"f")}get length(){return S(this,n,"f").length}item(e){return S(this,n,"f")[e]??null}values(){return S(this,n,"f").values()}};class P{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,E(this,s,null,"f"),E(this,i,null,"f")}get currentTarget(){return S(this,s,"f")}get target(){return S(this,i,"f")}}s=new WeakMap,i=new WeakMap,P.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof P&&E(e,s,t,"f")}setTarget(e,t){e instanceof P&&E(e,i,t,"f")}};var C=P.ModelEventTargetAccessor;delete P.ModelEventTargetAccessor;var L=P;r=new WeakMap;class N extends class{constructor(){r.set(this,void 0),E(this,r,new Map,"f")}receiveEvent(e){const{type:t}=e,n=S(this,r,"f").get(t);C.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=S(this,r,"f").get(e);n?n.push(t):S(this,r,"f").set(e,[t])}removeEventListener(e,t){const n=S(this,r,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&S(this,r,"f").delete(e)}}dispatchEvent(e){C.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),o.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),E(this,a,null,"f"),E(this,c,[],"f"),E(this,l,!1,"f")}get parentNode(){return S(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");E(this,a,e,"f")}else E(this,a,null,"f")}beginChanges(){E(this,l,!0,"f")}endChanges(){this.dispatchEvent(new L("modelchange")),S(this,c,"f").splice(0),E(this,l,!1,"f")}getRecords(){return S(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,o=new WeakSet,h=function(e,t,n){const s=S(this,c,"f"),i=new x({target:this,changeType:x.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new L("modelchange")),s.splice(0)},d=function(e){S(this,c,"f").push(e),S(this,l,"f")||(this.dispatchEvent(new L("modelchange")),S(this,c,"f").splice(0))},N.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof N&&S(e,o,"m",h).call(e,t,n,s)}handleRecord(e,t){e instanceof N&&S(e,o,"m",d).call(e,t)}};var I=N.ModelNodeRecordsAccessor;delete N.ModelNodeRecordsAccessor;var A=N;const R=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=O.getProperty(this,t);return O.setProperty(this,t,e),e!==n&&I.triggerChange(this,t,n,e),!0},get:function(){return O.getProperty(this,t)},enumerable:!0})}};class M extends N{constructor(){super(),u.set(this,void 0),E(this,u,new Map,"f")}}u=new WeakMap,M.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof M&&S(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof M)return S(e,u,"f").get(t)}};var O=M.ModelObjectPropertiesAccessor;delete M.ModelObjectPropertiesAccessor;var W=M;p=new WeakMap;var j=class extends N{constructor(e){super(),p.set(this,void 0),E(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),S(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return S(this,p,"f").length}get(e){return S(this,p,"f")[e]??null}index(e,t){return S(this,p,"f").indexOf(e,t)}values(){return S(this,p,"f").values()}sort(e){const t=S(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),E(this,p,t.map((e=>e.item)),"f");const n=new x({target:this,changeType:x.LIST_SORT,sortedIndices:t.map((e=>e.index))});I.handleRecord(this,n)}prepend(...e){const t=S(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:0,insertedItems:e});I.handleRecord(this,s)}append(...e){const t=S(this,p,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:n,insertedItems:e});I.handleRecord(this,i)}insert(e,...t){const n=S(this,p,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});I.handleRecord(this,i)}}remove(e){const t=S(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:n,removedItems:[e]});I.handleRecord(this,i)}}clear(){const e=S(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:0,removedItems:t});I.handleRecord(this,s)}}};m=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,v=function(){const e=S(this,b,"f").splice(0);e.length>0&&S(this,m,"f").call(this,e)},y=function(e){if(!S(this,g,"f")){const{target:t,currentTarget:n}=e,s=S(this,w,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:r,childList:o,subtree:a}=e;a?i&&t instanceof A?(r?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):o&&t instanceof j&&(S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):t==n&&(i&&t instanceof A?(r?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):o&&t instanceof j&&(S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)))}}};var D=class{constructor(e){f.add(this),m.set(this,void 0),b.set(this,void 0),g.set(this,void 0),w.set(this,void 0),E(this,m,e,"f"),E(this,b,[],"f"),E(this,g,!1,"f"),E(this,w,new WeakMap,"f")}observe(e,t){E(this,g,!1,"f");const n=S(this,w,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=S(this,f,"m",y).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=S(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){S(this,b,"f").splice(0),E(this,g,!0,"f")}};function F(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const H=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,r=String(n),o=F(r),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(o):Object.defineProperty(s,"observedAttributes",{value:[o],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,r,{get:function(){return this.hasAttribute(o)},set:function(e){e?this.setAttribute(o,""):this.removeAttribute(o)}});break;case Object:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(o,JSON.stringify(e)):this.removeAttribute(o)}});break;case Number:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}});break;case String:default:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}})}}},_=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}},B=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,r=String(n),{selector:o}=e,a=e.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(i,r,{get:a})}};function q(...e){const t=document.createDocumentFragment();return t.append(...e),t}function K(e,t){if(t){const{options:n,attributes:s,dataset:i,children:r,listeners:o}=t,a=document.createElement(e,n);if(s&&Object.entries(s).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?a.toggleAttribute(F(e),t):a.setAttribute(F(e),String(t)))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}return r&&("function"==typeof r?a.append(...r(a)):"object"==typeof r&&"length"in r?a.append(...Array.from(r)):a.append(r)),o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}const $=new WeakMap,V=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=$.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),J=new D((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:r}=$.get(t);r.forEach((e=>{const{elementRef:t,react:r,properties:o}=e,a=t.deref();a&&o.includes(n)&&r(a,n,s,i)}))}))}));function U(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},r=$.get(e);if(V.register(t,{model:e,reactiveElement:i}),r){const{reactiveElementsArray:e,observerOptions:t}=r,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];$.set(e,{observerOptions:t,reactiveElementsArray:s}),J.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const G=new WeakMap,X=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=G.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),Y=new D((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:r}=G.get(s);r.forEach((n=>{const{parentRef:s,mapping:r,placeholder:o}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;o&&i>0&&n==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map(r),{length:o}=s;t<o?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:r}=i;t=t??document.createRange();const o=n+(r-1);o<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[o]),t.deleteContents());break}case u:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&o&&a.append(o)}}))}))}));function z(e,t,n){return s=>{const i=new WeakRef(s),r=G.get(e),o={parentRef:i,mapping:t,placeholder:n};if(X.register(s,{list:e,reactiveChildElement:o}),r){const{reactiveChildElementsArray:e}=r;e.push(o)}else{const t=[o];G.set(e,{reactiveChildElementsArray:t}),Y.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function Z(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var Q=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};class ee extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}Q([H({type:String})],ee.prototype,"name",void 0),Q([H({type:String})],ee.prototype,"value",void 0),Q([H({type:String})],ee.prototype,"hotkey",void 0),Q([H({type:String,defaultValue:"button"})],ee.prototype,"type",void 0),Q([H({type:Boolean})],ee.prototype,"disabled",void 0),Q([H({type:Boolean})],ee.prototype,"checked",void 0);var te,ne,se,ie=ee;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(te||(te={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(ne||(ne={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(se||(se={})),new WeakSet;var re,oe=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let ae=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(re.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(re=K("template")).content.append(K("slot")),oe([H({type:String})],ae.prototype,"name",void 0),oe([H({type:String})],ae.prototype,"headers",void 0),oe([H({type:String})],ae.prototype,"type",void 0),oe([H({type:Number})],ae.prototype,"posinset",void 0),oe([H({type:Boolean})],ae.prototype,"droptarget",void 0),oe([H({type:Boolean})],ae.prototype,"active",void 0),oe([H({type:Boolean,observed:!0})],ae.prototype,"selected",void 0),ae=oe([_({name:"e-gridcell"})],ae);var ce,le,he,de=ae;let ue=class extends HTMLElement{constructor(){super(),ce.add(this);const e=this.attachShadow({mode:"open"});e.append(he.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ce,"m",le).bind(this))}};ce=new WeakSet,le=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))},(he=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),K("slot")),ue=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-gridrowgroup"})],ue);var pe,fe,me,be,ge=ue,we=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ve=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ye=class extends HTMLElement{constructor(){super(),pe.add(this);const e=this.attachShadow({mode:"open"}),t=this.attachInternals();this.internals=t,t.role="menuitem",e.append(be.content.cloneNode(!0)),this.addEventListener("click",ve(this,pe,"m",me).bind(this))}attributeChangedCallback(e,t,n){const{internals:s}=this;switch(e){case"type":switch(n){case"checkbox":case"radio":s.role=`menuitem${n}`;break;default:s.role="menuitem"}break;case"checked":s.ariaChecked=String(null!==n);break;case"disabled":s.ariaDisabled=String(null!==n);break;case"expanded":s.ariaExpanded=String(null!==n);break;case"label":s.ariaLabel=n}}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&ve(this,pe,"m",fe).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}connectedCallback(){this.tabIndex=this.tabIndex}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,ve(this,pe,"m",fe).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};pe=new WeakSet,fe=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const e=r+o-h,u=n+a-d;t.setProperty("left",`${e>0?l+i-o:l+i}px`),t.setProperty("top",`${u>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),p=r+o-h,f=n+a-d;t.setProperty("left",(p>0?i-o-u:r-u)+"px");const m=window.getComputedStyle(e),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);t.setProperty("top",`${f>0?s-a-l+v:n-l-w}px`)}}}},me=function(e){const{target:t}=e;if(t==this){const{type:e}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}}},(be=K("template")).content.append(K("span",{attributes:{part:"icon"}}),K("span",{attributes:{part:"label"},children:[K("slot")]}),K("span",{attributes:{part:"arrow"}}),K("slot",{attributes:{name:"menu"}})),we([H({type:String})],ye.prototype,"name",void 0),we([H({type:String,observed:!0})],ye.prototype,"label",void 0),we([H({type:String})],ye.prototype,"value",void 0),we([H({type:String})],ye.prototype,"hotkey",void 0),we([H({type:Boolean,observed:!0})],ye.prototype,"disabled",void 0),we([H({type:Boolean,observed:!0})],ye.prototype,"checked",void 0),we([H({type:Boolean,observed:!0})],ye.prototype,"expanded",void 0),we([H({type:String,defaultValue:"button",observed:!0})],ye.prototype,"type",void 0),we([B({selector:":scope > e-menu[slot=menu]"})],ye.prototype,"menu",void 0),ye=we([_({name:"e-menuitem"})],ye);var Ee,Se,Te,xe=ye,ke=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menu:o}=e;return o&&(o.slot="menu"),K("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[t,o]:[t],listeners:{trigger:r}})}),{prototype:xe.prototype,button:e=>new ke({...e,type:"button"}),checkbox:e=>new ke({...e,type:"checkbox"}),radio:e=>new ke({...e,type:"radio"}),menu:e=>new ke({...e,type:"menu"}),submenu:e=>new ke({...e,type:"submenu"})}),Pe=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Ce=class extends HTMLElement{constructor(){super(),Ee.add(this);const e=this.attachShadow({mode:"open"});e.append(Te.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ee,"m",Se).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};Ee=new WeakSet,Se=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof xe)).forEach(((e,t)=>{}))},(Te=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),K("slot")),Pe([H({type:String})],Ce.prototype,"name",void 0),Pe([H({type:String,observed:!0})],Ce.prototype,"label",void 0),Ce=Pe([_({name:"e-menuitemgroup"})],Ce);var Le,Ne,Ie,Ae,Re,Me,Oe,We,je,De,Fe,He,_e,Be,qe,Ke,$e,Ve,Je,Ue,Ge,Xe,Ye,ze=Ce,Ze=(Object.assign((function(e){const{name:t,items:n}=e;return K("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:ze.prototype,radios:e=>{const{name:t,items:n}=e;return K("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new ke({name:t,label:e,type:"radio",value:n})))})}}),function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}),Qe=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},et=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let tt=Ge=class extends HTMLElement{constructor(){super(),Le.add(this),Ne.set(this,void 0),Ie.set(this,void 0);const e=this.attachShadow({mode:"open"});Qe(this,Ie,-1,"f"),e.append(Xe.content.cloneNode(!0)),Qe(this,Ne,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,et(this,Le,"m",Oe).bind(this)),"f"),this.addEventListener("click",et(this,Le,"m",qe).bind(this)),this.addEventListener("mouseover",et(this,Le,"m",Ue).bind(this)),this.addEventListener("mouseout",et(this,Le,"m",Je).bind(this)),this.addEventListener("focusin",et(this,Le,"m",Ke).bind(this)),this.addEventListener("focusout",et(this,Le,"m",$e).bind(this)),this.addEventListener("keydown",et(this,Le,"m",Ve).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return et(this,Ie,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}positionContextual(e,t){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window,a=e+r,c=t+o,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,u=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${u>0?c-i:c}px`)}firstItem(){const e=et(this,Ne,"f");return e.currentNode=e.root,e.firstChild()}};Ne=new WeakMap,Ie=new WeakMap,Le=new WeakSet,Ae=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},Re=function(e){return e.closest(":is(e-menu)")==this},Me=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},Oe=function(e){return e instanceof xe?NodeFilter.FILTER_ACCEPT:e instanceof ze?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},We=function(){const e=et(this,Ne,"f");return e.currentNode=e.root,e.lastChild()},je=function(e){const t=et(this,Ne,"f");return t.currentNode=e,t.previousNode()},De=function(e){const t=et(this,Ne,"f");return t.currentNode=e,t.nextNode()},Fe=function(e){const{menu:t}=e;return t instanceof Ge?t.firstItem():null},He=function(e){null!==e&&Qe(this,Ie,this.items().indexOf(e),"f")},_e=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Ye.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Ye.delete(e)}))},Be=function(e){const t=Ye.get(e);void 0!==t&&(Ye.delete(e),t.clear())},qe=function(e){const{target:t}=e;if(t instanceof xe){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else if(et(this,Le,"m",Re).call(this,t)){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}}},Ke=function(e){const{target:t}=e;if(t instanceof xe){const e=et(this,Le,"m",Me).call(this,t);e&&et(this,Le,"m",He).call(this,e)}},$e=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),et(this,Le,"m",He).call(this,null)}}},Ve=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?et(this,Le,"m",je).call(this,n)??et(this,Le,"m",We).call(this):this.firstItem())?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?et(this,Le,"m",De).call(this,n)??this.firstItem():this.firstItem())?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":this.firstItem()?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":et(this,Le,"m",We).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"menu":case"submenu":n.expand(),n.expanded&&et(this,Le,"m",Fe).call(this,n)?.focus({preventScroll:!0});break;default:n.click()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof ot))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),et(this,Le,"m",Fe).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Je=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof xe){const s=et(this,Le,"m",Me).call(this,t);if(null!==s&&("submenu"!=s.type||s.expanded||et(this,Le,"m",Be).call(this,s),e.composedPath().find((e=>e instanceof ot))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(et(this,Le,"m",Be).call(this,t),et(this,Le,"m",_e).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=e,{left:r,right:o,top:a,bottom:c}=this.getBoundingClientRect(),l=!(r>s||o<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof ot&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),et(this,Le,"m",He).call(this,null))),l||(this.focus({preventScroll:!0}),et(this,Le,"m",He).call(this,null))}}},Ue=function(e){const{target:t}=e;if(t instanceof xe){const n=et(this,Le,"m",Me).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&et(this,Le,"m",Be).call(this,n),e.composedPath().find((e=>e instanceof ot))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(et(this,Le,"m",Be).call(this,e),et(this,Le,"m",_e).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),et(this,Le,"m",He).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(et(this,Le,"m",Be).call(this,n),et(this,Le,"m",_e).call(this,n,200).then((()=>{const{activeItem:e}=this;et(this,Le,"m",Ae).call(this),e&&(et(this,Le,"m",Be).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},(Xe=K("template")).content.append(K("slot")),Ye=new WeakMap,Ze([H({type:String})],tt.prototype,"name",void 0),Ze([H({type:Boolean})],tt.prototype,"contextual",void 0),tt=Ge=Ze([_({name:"e-menu"})],tt);var nt,st,it,rt,ot=tt,at=(Object.assign((function(e){const{name:t,children:n}=e;return K("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:ot.prototype}),function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}),ct=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},lt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ht=class extends HTMLElement{constructor(){super(),nt.add(this),st.set(this,void 0),ct(this,st,null,"f"),this.cells=new vt(this);const e=this.attachShadow({mode:"open"});e.append(rt.content.cloneNode(!0)),e.addEventListener("slotchange",lt(this,nt,"m",it).bind(this))}get menu(){return lt(this,st,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};st=new WeakMap,nt=new WeakSet,it=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];ct(this,st,e instanceof ot?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))}},(rt=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),K("slot"),K("slot",{attributes:{name:"menu"}})),at([H({type:String})],ht.prototype,"name",void 0),at([H({type:Boolean})],ht.prototype,"active",void 0),at([H({type:Boolean})],ht.prototype,"selected",void 0),at([H({type:Number})],ht.prototype,"posinset",void 0),ht=at([_({name:"e-gridrow"})],ht);var dt,ut,pt,ft=ht,mt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};ut=new WeakMap,dt=new WeakSet,pt=function(e){return e instanceof de?NodeFilter.FILTER_ACCEPT:e instanceof un||e instanceof ge||e instanceof ft?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var bt,gt,wt,vt=class{constructor(e){dt.add(this),ut.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ut,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,mt(this,dt,"m",pt).bind(this)),"f")}get length(){const e=mt(this,ut,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=mt(this,ut,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=mt(this,ut,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=mt(this,ut,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},yt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};gt=new WeakMap,bt=new WeakSet,wt=function(e){return e instanceof ft?NodeFilter.FILTER_ACCEPT:e instanceof un||e instanceof ge?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Et,St,Tt,xt=class{constructor(e){bt.add(this),gt.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,gt,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,yt(this,bt,"m",wt).bind(this)),"f")}get length(){const e=yt(this,gt,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=yt(this,gt,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=yt(this,gt,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=yt(this,gt,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let kt=class extends HTMLElement{constructor(){super(),Et.add(this),this.cells=new vt(this),this.rows=new xt(this);const e=this.attachShadow({mode:"open"});e.append(Tt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Et,"m",St).bind(this))}};Et=new WeakSet,St=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))},(Tt=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),K("slot")),kt=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-gridbody"})],kt);var Pt,Ct,Lt,Nt,It,At,Rt,Mt,Ot,Wt,jt,Dt,Ft,Ht,_t,Bt,qt,Kt,$t,Vt,Jt,Ut,Gt,Xt,Yt,zt,Zt,Qt,en,tn,nn,sn,rn,on,an,cn,ln,hn,dn,un=kt,pn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},fn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},mn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let bn=class extends HTMLElement{constructor(){super(),Pt.add(this),Ct.set(this,void 0),Lt.set(this,void 0),Nt.set(this,void 0),It.set(this,void 0),At.set(this,void 0),Rt.set(this,void 0),mn(this,At,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,fn(this,Pt,"m",Mt).bind(this)),"f"),mn(this,Rt,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,fn(this,Pt,"m",Ot).bind(this)),"f"),mn(this,Ct,-1,"f"),mn(this,Lt,-1,"f"),mn(this,Nt,!1,"f"),mn(this,It,!1,"f"),this.cells=new vt(this),this.rows=new xt(this);const e=this.attachShadow({mode:"open"});e.append(dn.content.cloneNode(!0)),this.addEventListener("click",fn(this,Pt,"m",rn).bind(this)),this.addEventListener("focus",fn(this,Pt,"m",an).bind(this)),this.addEventListener("focusin",fn(this,Pt,"m",cn).bind(this)),this.addEventListener("keydown",fn(this,Pt,"m",on).bind(this)),this.addEventListener("select",fn(this,Pt,"m",ln).bind(this)),e.addEventListener("slotchange",fn(this,Pt,"m",hn).bind(this))}get activeCellIndex(){return fn(this,Ct,"f")}get activeCell(){return this.cells.item(fn(this,Ct,"f"))??null}get activeRowIndex(){return fn(this,Lt,"f")}get activeRow(){return this.rows.item(fn(this,Lt,"f"))??null}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}beginSelection(){mn(this,Nt,!0,"f")}endSelection(){mn(this,Nt,!1,"f"),fn(this,It,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),mn(this,It,!1,"f"))}clearSelection(){fn(this,Pt,"m",Kt).call(this),fn(this,Pt,"m",$t).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};Ct=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,It=new WeakMap,At=new WeakMap,Rt=new WeakMap,Pt=new WeakSet,Mt=function(e){return e instanceof de&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof un||e instanceof ge||e instanceof ft?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ot=function(e){return e instanceof ft&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof un||e instanceof ge?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Wt=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},jt=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=fn(this,Pt,"m",tn).call(this,e);for(;s&&s!==t;)n.push(s),s=fn(this,Pt,"m",tn).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=fn(this,Pt,"m",en).call(this,e);for(;s&&s!==t;)n.push(s),s=fn(this,Pt,"m",en).call(this,s);return n.push(t),n}return[]},Dt=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ft=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ht=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},_t=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Bt=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},qt=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Kt=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},$t=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Vt=function(e){const{activeCell:t,cells:n}=this;if(null!==t&&t!==e)t.active=!1,t.tabIndex=-1;else if(null!==e){fn(this,At,"f").currentNode=e,e.active=!0,e.tabIndex=0;const t=fn(this,Pt,"m",zt).call(this,e);t&&fn(this,Pt,"m",Jt).call(this,t),mn(this,Ct,Array.from(n.values()).indexOf(e),"f")}else mn(this,Ct,-1,"f")},Jt=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e?(t.active=!1,t.tabIndex=-1):null!==e?(fn(this,Rt,"f").currentNode=e,e.active=!0,e.tabIndex=0,mn(this,Lt,Array.from(n.values()).indexOf(e),"f")):mn(this,Lt,-1,"f")},Ut=function(e){const t=fn(this,At,"f");return t.currentNode=e,t.firstChild()},Gt=function(e){const t=fn(this,At,"f");return t.currentNode=e,t.lastChild()},Xt=function(e){const t=fn(this,At,"f");return t.currentNode=e,t.previousNode()},Yt=function(e){const t=fn(this,At,"f");return t.currentNode=e,t.nextNode()},zt=function(e){const t=fn(this,Rt,"f");return t.currentNode=e,t.parentNode()},Zt=function(){const e=fn(this,Rt,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Qt=function(){const e=fn(this,Rt,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},en=function(e){const t=fn(this,Rt,"f");return t.currentNode=e,t.previousNode()},tn=function(e){const t=fn(this,Rt,"f");return t.currentNode=e,t.nextNode()},nn=function(e){const t=fn(this,Pt,"m",zt).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=fn(this,Pt,"m",en).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},sn=function(e){const t=fn(this,Pt,"m",zt).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=fn(this,Pt,"m",tn).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},rn=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof un))?s.find((e=>e instanceof de)):null,r=this.selectedCells();if(i instanceof de)if(n||t){if(t)i.selected?fn(this,Pt,"m",Bt).call(this,i):fn(this,Pt,"m",Ht).call(this,i),e.stopPropagation();else if(n){const t=r[r.length-1];if(t){const e=fn(this,Pt,"m",Wt).call(this,t,i);e&&(r.includes(i)?fn(this,Pt,"m",Bt).call(this,...e):fn(this,Pt,"m",Ht).call(this,...e))}else fn(this,Pt,"m",Dt).call(this,i);e.stopPropagation()}}else fn(this,Pt,"m",Dt).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),r=i.find((e=>e instanceof un))?i.find((e=>e instanceof ft)):null;if(r instanceof ft)if(n||t){if(t)r.selected?fn(this,Pt,"m",qt).call(this,r):fn(this,Pt,"m",_t).call(this,r),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=fn(this,Pt,"m",jt).call(this,t,r);e&&(s.includes(r)?fn(this,Pt,"m",qt).call(this,...e):fn(this,Pt,"m",_t).call(this,...e))}else fn(this,Pt,"m",Ft).call(this,r);e.stopPropagation()}}else fn(this,Pt,"m",Ft).call(this,r);break}}},on=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=fn(this,Pt,"m",Zt).call(this),t=e?fn(this,Pt,"m",Ut).call(this,e):null,n=fn(this,Pt,"m",Qt).call(this),s=n?fn(this,Pt,"m",Gt).call(this,n):null;if(t&&s){const e=fn(this,Pt,"m",Wt).call(this,t,s);e&&fn(this,Pt,"m",Dt).call(this,...e)}break}case"row":{const e=fn(this,Pt,"m",Zt).call(this),t=fn(this,Pt,"m",Qt).call(this);if(e&&t){const n=fn(this,Pt,"m",jt).call(this,e,t);n&&fn(this,Pt,"m",Ft).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=fn(this,Pt,"m",Xt).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fn(this,Pt,"m",Bt).call(this,t):fn(this,Pt,"m",Ht).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=fn(this,Pt,"m",Yt).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fn(this,Pt,"m",Bt).call(this,t):fn(this,Pt,"m",Ht).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??fn(this,Pt,"m",Zt).call(this),n=s?fn(this,Pt,"m",nn).call(this,s):t?fn(this,Pt,"m",Ut).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?fn(this,Pt,"m",Bt).call(this,n):fn(this,Pt,"m",Ht).call(this,n))}break}case"row":{const t=i?fn(this,Pt,"m",en).call(this,i):fn(this,Pt,"m",Zt).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fn(this,Pt,"m",qt).call(this,t):fn(this,Pt,"m",_t).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??fn(this,Pt,"m",Qt).call(this),n=s?fn(this,Pt,"m",sn).call(this,s):t?fn(this,Pt,"m",Gt).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?fn(this,Pt,"m",Bt).call(this,n):fn(this,Pt,"m",Ht).call(this,n))}}break;case"row":{const t=i?fn(this,Pt,"m",tn).call(this,i):fn(this,Pt,"m",Qt).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fn(this,Pt,"m",qt).call(this,t):fn(this,Pt,"m",_t).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=fn(this,Pt,"m",Ut).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=fn(this,Pt,"m",Zt).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=fn(this,Pt,"m",Gt).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=fn(this,Pt,"m",Qt).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(fn(this,Pt,"m",Dt).call(this,s),s.click());break;case"row":i&&(fn(this,Pt,"m",Ft).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":fn(this,Pt,"m",Kt).call(this),fn(this,Pt,"m",Vt).call(this,null);break;case"row":fn(this,Pt,"m",$t).call(this),fn(this,Pt,"m",Jt).call(this,null)}this.focus(),e.stopPropagation()}},an=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},cn=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof de&&fn(this,Pt,"m",Vt).call(this,t);break;case"row":t instanceof ft&&fn(this,Pt,"m",Jt).call(this,t)}},ln=function(){fn(this,Nt,"f")?mn(this,It,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},hn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ft)).forEach(((e,t)=>{e.posinset=t}))},(dn=K("template")).content.append(K("slot")),pn([H({type:String})],bn.prototype,"name",void 0),pn([H({type:String,defaultValue:"cell"})],bn.prototype,"selectby",void 0),pn([H({type:Boolean})],bn.prototype,"multiselectable",void 0),bn=pn([_({name:"e-grid"})],bn);var gn,wn,vn;let yn=class extends HTMLElement{constructor(){super(),gn.add(this),this.cells=new vt(this),this.rows=new xt(this);const e=this.attachShadow({mode:"open"});e.append(vn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,gn,"m",wn).bind(this))}};gn=new WeakSet,wn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof de)).forEach(((e,t)=>{e.posinset=t}))},(vn=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),K("slot")),yn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-gridhead"})],yn);var En,Sn,Tn,xn,kn,Pn,Cn,Ln,Nn,In,An,Rn,Mn,On,Wn,jn,Dn,Fn,Hn,_n=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Bn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},qn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Kn=class extends HTMLElement{constructor(){super(),En.add(this),Sn.set(this,void 0),Tn.set(this,void 0),qn(this,Tn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Bn(this,En,"m",xn).bind(this)),"f"),qn(this,Sn,-1,"f"),this.attachShadow({mode:"open"}).append(Hn.content.cloneNode(!0)),this.addEventListener("click",Bn(this,En,"m",Dn).bind(this)),this.addEventListener("focusin",Bn(this,En,"m",On).bind(this)),this.addEventListener("focusout",Bn(this,En,"m",Wn).bind(this)),this.addEventListener("mouseover",Bn(this,En,"m",jn).bind(this)),this.addEventListener("keydown",Bn(this,En,"m",Fn).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return Bn(this,Sn,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}};Sn=new WeakMap,Tn=new WeakMap,En=new WeakSet,xn=function(e){return e instanceof xe?NodeFilter.FILTER_ACCEPT:e instanceof ze?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},kn=function(){const e=Bn(this,Tn,"f");return e.currentNode=e.root,e.firstChild()},Pn=function(){const e=Bn(this,Tn,"f");return e.currentNode=e.root,e.lastChild()},Cn=function(e){const t=Bn(this,Tn,"f");return t.currentNode=e,t.previousSibling()},Ln=function(e){const t=Bn(this,Tn,"f");return t.currentNode=e,t.nextSibling()},Nn=function(e){const{menu:t}=e;if(t){const e=Bn(this,Tn,"f");return e.currentNode=t,e.firstChild()}return null},In=function(e){const{activeItem:t,expanded:n}=this;null!==t&&t!==e&&t.collapse(),null!==e?(n&&e.expand(),qn(this,Sn,this.items().indexOf(e),"f")):qn(this,Sn,-1,"f")},An=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},Rn=function(e){return e.closest(":is(e-menubar, e-menu)")==this},Mn=function(e){return Bn(this,En,"a",An).find((t=>t.contains(e)))??null},On=function(e){const{target:t}=e;if(t instanceof Element){const e=Bn(this,En,"m",Mn).call(this,t);Bn(this,En,"m",In).call(this,e)}},Wn=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof HTMLElement&&!t.contains(n)){const e=Bn(this,En,"m",Mn).call(this,t);e&&e.collapse()}!this.contains(n)&&(this.expanded=!1)},jn=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof xe&&Bn(this,En,"m",Rn).call(this,t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Dn=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof xe&&Bn(this,En,"m",Rn).call(this,t)){const e=!n;if(this.expanded=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Fn=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?Bn(this,En,"m",Cn).call(this,s)??Bn(this,En,"m",Pn).call(this):Bn(this,En,"m",kn).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Bn(this,En,"m",Nn).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Bn(this,En,"m",Ln).call(this,s)??Bn(this,En,"m",kn).call(this):Bn(this,En,"m",Pn).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Bn(this,En,"m",Nn).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.expanded=!n,Bn(this,En,"m",Nn).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},(Hn=K("template")).content.append(K("slot")),_n([H({type:String})],Kn.prototype,"name",void 0),_n([H({type:Boolean})],Kn.prototype,"expanded",void 0),Kn=_n([_({name:"e-menubar"})],Kn);var $n,Vn,Jn,Un,Gn,Xn,Yn,zn,Zn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Qn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},es=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ts=class extends HTMLElement{constructor(){super(),$n.add(this),Vn.set(this,void 0),Qn(this,Vn,null,"f");const e=this.attachShadow({mode:"open"});e.append(K("span",{attributes:{part:"content"},children:[K("span",{attributes:{part:"icon"}}),K("span",{attributes:{part:"label"}})]}),K("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",es(this,$n,"m",Xn).bind(this)),this.addEventListener("click",es(this,$n,"m",Un).bind(this)),this.addEventListener("focusout",es(this,$n,"m",Gn).bind(this)),this.addEventListener("trigger",es(this,$n,"m",zn).bind(this)),e.addEventListener("slotchange",es(this,$n,"m",Yn).bind(this))}get menu(){return es(this,Vn,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,es(this,$n,"m",Jn).call(this))}collapse(){this.expanded&&(this.expanded=!1)}get firstItem(){return this.querySelector(":scope > :is(e-menu, e-menu > e-menuitemgroup) > e-menuitem")}};Vn=new WeakMap,$n=new WeakSet,Jn=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=r+o-h,p=n+a-d;t.setProperty("left",`${u>0?l+r-o:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}},Un=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Gn=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Xn=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Yn=function(e){const{target:t}=e,n=t.assignedElements()[0];Qn(this,Vn,n instanceof ot?n:null,"f")},zn=function(){this.collapse(),this.focus({preventScroll:!0})},Zn([H({type:String})],ts.prototype,"name",void 0),Zn([H({type:Boolean})],ts.prototype,"disabled",void 0),Zn([H({type:Boolean})],ts.prototype,"expanded",void 0),ts=Zn([_({name:"e-menubutton"})],ts);var ns,ss,is,rs,os,as=ts,cs=(Object.assign((function(e){const{menu:t}=e;return t.slot="menu",K("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:as.prototype}),function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}),ls=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let hs=class extends HTMLElement{constructor(){super(),ns.add(this),this.attachShadow({mode:"open"}).append(os.content.cloneNode(!0)),this.addEventListener("click",ls(this,ns,"m",is).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&ls(this,ns,"m",ss).call(this);break}}}toggle(e){const t=e??!this.expanded;this.expanded=t,t&&ls(this,ns,"m",rs).call(this)}expand(){const{expanded:e}=this;e||(this.expanded=!0,ls(this,ns,"m",rs).call(this))}collapse(){const{expanded:e}=this;e&&(this.expanded=!1)}};ns=new WeakSet,ss=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},is=function(e){const{target:t}=e;if(t==this){const{type:e}=this;switch(e){case"checkbox":this.pressed=!this.pressed;break;case"radio":this.pressed=!0;break;case"menubutton":{const{menu:e}=this;if(e&&!e.contains(t)){this.toggle();const{expanded:t}=this;t&&e?.focus({preventScroll:!0})}break}}}},rs=function(){const{type:e}=this;if("menubutton"==e){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=r+o-h,p=n+a-d;t.setProperty("left",`${u>0?l+i-o:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}}},(os=K("template")).content.append(K("slot"),K("slot",{attributes:{name:"select"}}),K("slot",{attributes:{name:"menubutton"}})),new WeakMap,new WeakMap,cs([B({selector:":scope > e-menu[slot=menu]"})],hs.prototype,"menu",void 0),cs([B({selector:":scope > e-select[slot=select]"})],hs.prototype,"select",void 0),cs([H({type:Boolean})],hs.prototype,"active",void 0),cs([H({type:Boolean})],hs.prototype,"pressed",void 0),cs([H({type:Boolean})],hs.prototype,"expanded",void 0),cs([H({type:String,observed:!0})],hs.prototype,"value",void 0),cs([H({type:String})],hs.prototype,"name",void 0),cs([H({type:String,observed:!0})],hs.prototype,"label",void 0),cs([H({type:String})],hs.prototype,"type",void 0),hs=cs([_({name:"e-toolbaritem"})],hs);var ds,us=hs,ps=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menubutton:o,select:a}=e;return o&&(o.slot="menubutton"),a&&(a.slot="select"),K("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[o]:a?[a]:void 0,listeners:{trigger:r}})}),{prototype:us.prototype,button:e=>new ps({...e,type:"button"}),checkbox:e=>new ps({...e,type:"checkbox"}),radio:e=>new ps({...e,type:"radio"}),menubutton:e=>new ps({...e,type:"menubutton"}),select:e=>new ps({...e,type:"select"})}),fs=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let ms=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ds.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(ds=K("template")).content.append(K("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),K("slot")),fs([H({type:String})],ms.prototype,"name",void 0),fs([H({type:String,observed:!0})],ms.prototype,"label",void 0),fs([H({type:Boolean,observed:!0})],ms.prototype,"disabled",void 0),ms=fs([_({name:"e-toolbaritemgroup"})],ms);var bs,gs,ws,vs,ys,Es,Ss,Ts,xs,ks,Ps,Cs,Ls,Ns,Is=ms,As=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Rs=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ms=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Os=class extends HTMLElement{constructor(){super(),bs.add(this),gs.set(this,void 0),ws.set(this,void 0),Rs(this,ws,-1,"f"),Rs(this,gs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ms(this,bs,"m",vs).bind(this)),"f"),this.attachShadow({mode:"open"}).append(Ns.content.cloneNode(!0)),this.addEventListener("focusin",Ms(this,bs,"m",ks).bind(this)),this.addEventListener("focusout",Ms(this,bs,"m",Ps).bind(this)),this.addEventListener("keydown",Ms(this,bs,"m",Cs).bind(this)),this.addEventListener("trigger",Ms(this,bs,"m",Ls).bind(this))}get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}get activeIndex(){return Ms(this,ws,"f")}};gs=new WeakMap,ws=new WeakMap,bs=new WeakSet,vs=function(e){return e instanceof us?NodeFilter.FILTER_ACCEPT:e instanceof Is?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ys=function(){const e=Ms(this,gs,"f");return e.currentNode=e.root,e.firstChild()},Es=function(){const e=Ms(this,gs,"f");return e.currentNode=e.root,e.lastChild()},Ss=function(e){const t=Ms(this,gs,"f");return t.currentNode=e,t.previousSibling()},Ts=function(e){const t=Ms(this,gs,"f");return t.currentNode=e,t.nextSibling()},xs=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Rs(this,ws,this.items().indexOf(e),"f")):Rs(this,ws,-1,"f")},ks=function(e){const{target:t}=e,n=this.items().find((e=>e.contains(t)))??null;Ms(this,bs,"m",xs).call(this,n),this.tabIndex=-1},Ps=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(Ms(this,bs,"m",xs).call(this,null),this.tabIndex=0)},Cs=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menu:e,expanded:t}=n;e&&!t&&(n.expand(),e.firstItem()?.focus({preventScroll:!0}));break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.click()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Ms(this,bs,"m",Ss).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Ms(this,bs,"m",ys).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Ms(this,bs,"m",Ts).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Ms(this,bs,"m",Es).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Ms(this,bs,"m",ys).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ms(this,bs,"m",Es).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Ls=function(e){const{target:t}=e;if(t instanceof us){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem[type=radio][name=${n}]`).forEach((e=>{e.pressed=e.value==s}))}},(Ns=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),K("slot")),As([H({type:String})],Os.prototype,"name",void 0),As([H({type:String})],Os.prototype,"orientation",void 0),Os=As([_({name:"e-toolbar"})],Os);var Ws=Os,js=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Ds=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),K("slot"))}};js([H({type:String})],Ds.prototype,"name",void 0),Ds=js([_({name:"e-tabpanel"})],Ds);var Fs,Hs=Ds,_s=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Bs=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},qs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ks=class extends HTMLElement{constructor(){super(),Fs.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),K("slot")),Bs(this,Fs,null,"f")}get panel(){return qs(this,Fs,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==qs(this,Fs,"f")&&e instanceof Hs&&Bs(this,Fs,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Hs&&Bs(this,Fs,e,"f"),e&&(e.hidden=!this.active)}}};Fs=new WeakMap,_s([H({type:String})],Ks.prototype,"name",void 0),_s([H({type:Boolean})],Ks.prototype,"disabled",void 0),_s([H({type:Boolean,observed:!0})],Ks.prototype,"active",void 0),_s([H({type:String,observed:!0})],Ks.prototype,"controls",void 0),Ks=_s([_({name:"e-tab"})],Ks);var $s,Vs=Ks,Js=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Us=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Gs=class extends HTMLElement{constructor(){super(),$s.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),K("slot")),this.tabs=[],Js(this,$s,1,"f")}get activeIndex(){return Us(this,$s,"f")}get activeTab(){return this.tabs[Us(this,$s,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof Vs));this.tabs=t,Js(this,$s,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof Vs&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Js(this,$s,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Js(this,$s,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};$s=new WeakMap,Gs=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-tablist"})],Gs);var Xs,Ys,zs;let Zs=class extends HTMLElement{constructor(){super(),Xs.add(this);const e=this.attachShadow({mode:"open"});e.append(zs.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Xs,"m",Ys).bind(this))}};Xs=new WeakSet,Ys=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Hi)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},(zs=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),K("slot")),Zs=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-treeitemgroup"})],Zs);var Qs,ei,ti,ni,si,ii=Zs,ri=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},oi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ai=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ci=class extends HTMLElement{constructor(){super(),Qs.add(this),ei.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(si.content.cloneNode(!0)),e.addEventListener("slotchange",oi(this,Qs,"m",ni).bind(this)),this.addEventListener("click",oi(this,Qs,"m",ti).bind(this)),ai(this,ei,null,"f")}get group(){return oi(this,ei,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};ei=new WeakMap,Qs=new WeakSet,ti=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},ni=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ai(this,ei,e instanceof ii?e:null,"f");break}}},(si=K("template")).content.append(K("div",{attributes:{part:"content"},children:[K("span",{attributes:{part:"arrow"}}),K("slot")]}),K("slot",{attributes:{name:"group"}})),ri([H({type:String})],ci.prototype,"name",void 0),ri([H({type:Number})],ci.prototype,"posinset",void 0),ri([H({type:String,observed:!0})],ci.prototype,"label",void 0),ri([H({type:Boolean,observed:!0})],ci.prototype,"expanded",void 0),ri([H({type:Boolean})],ci.prototype,"droptarget",void 0),ri([H({type:Boolean})],ci.prototype,"active",void 0),ri([H({type:Boolean,observed:!0})],ci.prototype,"selected",void 0),ri([H({type:Number,observed:!0})],ci.prototype,"level",void 0),ri([H({type:String,defaultValue:"leaf"})],ci.prototype,"type",void 0),ci=ri([_({name:"e-treeitem"})],ci);var li,hi,di,ui,pi,fi,mi,bi,gi,wi,vi,yi,Ei,Si,Ti,xi,ki,Pi,Ci,Li,Ni,Ii,Ai,Ri,Mi,Oi,Wi,ji,Di,Fi,Hi=ci,_i=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Bi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},qi=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ki=class extends HTMLElement{constructor(){super(),li.add(this),hi.set(this,void 0),di.set(this,void 0),ui.set(this,void 0),qi(this,ui,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Bi(this,li,"m",pi).bind(this)),"f"),qi(this,hi,!1,"f"),qi(this,di,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Fi.content.cloneNode(!0)),this.addEventListener("mousedown",Bi(this,li,"m",Pi).bind(this)),this.addEventListener("dragend",Bi(this,li,"m",Ci).bind(this)),this.addEventListener("dragenter",Bi(this,li,"m",Li).bind(this)),this.addEventListener("dragleave",Bi(this,li,"m",Ii).bind(this)),this.addEventListener("dragover",Bi(this,li,"m",Ni).bind(this)),this.addEventListener("drop",Bi(this,li,"m",Ai).bind(this)),this.addEventListener("focus",Bi(this,li,"m",Mi).bind(this)),this.addEventListener("focusin",Bi(this,li,"m",Oi).bind(this)),this.addEventListener("focusout",Bi(this,li,"m",Wi).bind(this)),this.addEventListener("keydown",Bi(this,li,"m",Ri).bind(this)),this.addEventListener("select",Bi(this,li,"m",ji).bind(this)),e.addEventListener("slotchange",Bi(this,li,"m",Di).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=Bi(this,ui,"f");t.currentNode=t.root;let n=Bi(this,li,"m",Ei).call(this);for(;null!==n;)n.selected&&e.push(n),n=Bi(this,li,"m",xi).call(this,n);return e}beginSelection(){qi(this,hi,!0,"f")}endSelection(){qi(this,hi,!1,"f"),Bi(this,di,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),qi(this,di,!1,"f"))}};hi=new WeakMap,di=new WeakMap,ui=new WeakMap,li=new WeakSet,pi=function(e){return e instanceof Hi?NodeFilter.FILTER_ACCEPT:e instanceof ii?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},fi=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=Bi(this,li,"m",xi).call(this,e);for(;s&&s!==t;)n.push(s),s=Bi(this,li,"m",xi).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=Bi(this,li,"m",Ti).call(this,e);for(;s&&s!==t;)n.push(s),s=Bi(this,li,"m",Ti).call(this,s);return n.push(t),n}return[]},mi=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},bi=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},gi=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},wi=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},vi=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(Bi(this,ui,"f").currentNode=e,e.active=!0,e.tabIndex=0)},yi=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Ei=function(){const e=Bi(this,ui,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Si=function(){const e=Bi(this,ui,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ti=function(e){const t=Bi(this,ui,"f");t.currentNode=e;const n=t.previousSibling();return n?Bi(this,li,"m",ki).call(this,n):t.parentNode()},xi=function(e){const t=Bi(this,ui,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},ki=function e(t){if(t.expanded){const t=Bi(this,ui,"f").lastChild();if(t)return Bi(this,li,"m",e).call(this,t)}return t},Pi=function(e){const{target:t,ctrlKey:n,shiftKey:s,button:i}=e;if(t instanceof Hi){const{selected:r}=t;switch(i){case 0:if(s||n){if(n)r&&t.blur(),r?Bi(this,li,"m",gi).call(this,t):Bi(this,li,"m",bi).call(this,t),e.stopPropagation();else if(s){const{activeItem:n}=this;if(n){const e=Bi(this,li,"m",fi).call(this,n,t);e&&Bi(this,li,"m",mi).call(this,...e)}e.stopPropagation()}}else Bi(this,li,"m",mi).call(this,t);break;case 2:r||Bi(this,li,"m",mi).call(this,t)}}},Ci=function(){Bi(this,li,"m",yi).call(this,null)},Li=function(e){const{target:t}=e;if(t instanceof Hi){const{type:e}=t;"parent"==e&&t.toggle(!0),Bi(this,li,"m",yi).call(this,t)}e.preventDefault()},Ni=function(e){e.preventDefault()},Ii=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||Bi(this,li,"m",yi).call(this,null)}},Ai=function(){Bi(this,li,"m",yi).call(this,null)},Ri=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=Bi(this,ui,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=Bi(this,li,"m",fi).call(this,s,Bi(this,li,"m",ki).call(this,i));e&&Bi(this,li,"m",mi).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=Bi(this,ui,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=Bi(this,li,"m",Ti).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Bi(this,li,"m",gi).call(this,t):Bi(this,li,"m",bi).call(this,t))}}else{const e=Bi(this,li,"m",Ei).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Bi(this,li,"m",xi).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Bi(this,li,"m",gi).call(this,t):Bi(this,li,"m",bi).call(this,t))}}else{const e=Bi(this,li,"m",Si).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Bi(this,li,"m",Ei).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Bi(this,li,"m",Si).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(Bi(this,li,"m",mi).call(this,n),n.click()),e.stopPropagation();break;case"Escape":Bi(this,li,"m",wi).call(this),Bi(this,li,"m",vi).call(this,null),this.focus(),e.stopPropagation()}},Mi=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Oi=function(e){const{target:t}=e;t instanceof Hi&&(Bi(this,li,"m",vi).call(this,t),this.tabIndex=-1)},Wi=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},ji=function(){Bi(this,hi,"f")?qi(this,di,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Di=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Hi)).forEach(((e,t)=>{e.posinset=t,e.level=0}))},(Fi=K("template")).content.append(K("slot")),_i([H({type:Boolean})],Ki.prototype,"droptarget",void 0),_i([H({type:String})],Ki.prototype,"name",void 0),Ki=_i([_({name:"e-tree"})],Ki);var $i,Vi,Ji,Ui,Gi,Xi,Yi=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},zi=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Zi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Qi=class extends HTMLElement{constructor(){super(),$i.add(this),Vi.set(this,void 0),Ji.set(this,void 0),Ui.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Xi.content.cloneNode(!0)),zi(this,Vi,null,"f"),zi(this,Ui,null,"f"),zi(this,Ji,null,"f"),e.addEventListener("slotchange",Zi(this,$i,"m",Gi).bind(this))}get badge(){return Zi(this,Vi,"f")}get toolbar(){return Zi(this,Ji,"f")}get menu(){return Zi(this,Ui,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};Vi=new WeakMap,Ji=new WeakMap,Ui=new WeakMap,$i=new WeakSet,Gi=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];zi(this,Ji,e instanceof Ws?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];zi(this,Vi,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];zi(this,Ui,e instanceof ot?e:null,"f");break}}},(Xi=K("template")).content.append(K("slot")),Yi([H({type:String})],Qi.prototype,"name",void 0),Yi([H({type:Number})],Qi.prototype,"posinset",void 0),Yi([H({type:String,observed:!0})],Qi.prototype,"label",void 0),Yi([H({type:Boolean})],Qi.prototype,"droptarget",void 0),Yi([H({type:Boolean})],Qi.prototype,"active",void 0),Yi([H({type:Boolean,observed:!0})],Qi.prototype,"selected",void 0),Qi=Yi([_({name:"e-listitem"})],Qi);var er,tr,nr,sr=Qi;let ir=class extends HTMLElement{constructor(){super(),er.add(this);const e=this.attachShadow({mode:"open"});e.append(nr.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,er,"m",tr).bind(this))}};er=new WeakSet,tr=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof sr)).forEach(((e,t)=>{e.posinset=t}))},(nr=K("template")).content.append(K("slot")),ir=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-listitemgroup"})],ir);var rr,or,ar,cr,lr,hr,dr,ur,pr,fr,mr,br,gr,wr,vr,yr,Er,Sr,Tr,xr,kr,Pr,Cr,Lr,Nr,Ir,Ar,Rr,Mr,Or,Wr,jr,Dr=ir,Fr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Hr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},_r=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Br=class extends HTMLElement{constructor(){super(),rr.add(this),or.set(this,void 0),ar.set(this,void 0),cr.set(this,void 0),lr.set(this,void 0),hr.set(this,void 0),_r(this,hr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Hr(this,rr,"m",dr).bind(this)),"f"),_r(this,ar,-1,"f"),_r(this,or,-1,"f"),_r(this,cr,!1,"f"),_r(this,lr,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(jr.content.cloneNode(!0)),this.addEventListener("contextmenu",Hr(this,rr,"m",Tr).bind(this)),this.addEventListener("click",Hr(this,rr,"m",xr).bind(this)),this.addEventListener("dragend",Hr(this,rr,"m",kr).bind(this)),this.addEventListener("dragenter",Hr(this,rr,"m",Pr).bind(this)),this.addEventListener("dragover",Hr(this,rr,"m",Cr).bind(this)),this.addEventListener("dragleave",Hr(this,rr,"m",Lr).bind(this)),this.addEventListener("dragstart",Hr(this,rr,"m",Nr).bind(this)),this.addEventListener("drop",Hr(this,rr,"m",Ir).bind(this)),this.addEventListener("focus",Hr(this,rr,"m",Rr).bind(this)),this.addEventListener("focusin",Hr(this,rr,"m",Mr).bind(this)),this.addEventListener("keydown",Hr(this,rr,"m",Ar).bind(this)),this.addEventListener("select",Hr(this,rr,"m",Or).bind(this)),e.addEventListener("slotchange",Hr(this,rr,"m",Wr).bind(this))}get dropTargetItem(){return this.items[Hr(this,or,"f")]??null}get activeIndex(){return Hr(this,ar,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){_r(this,cr,!0,"f")}endSelection(){_r(this,cr,!1,"f"),Hr(this,lr,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),_r(this,lr,!1,"f"))}selectedItems(){const e=[],t=Hr(this,hr,"f");t.currentNode=t.root;let n=Hr(this,rr,"m",vr).call(this);for(;null!==n;)n.selected&&e.push(n),n=Hr(this,rr,"m",Sr).call(this,n);return e}};or=new WeakMap,ar=new WeakMap,cr=new WeakMap,lr=new WeakMap,hr=new WeakMap,rr=new WeakSet,dr=function(e){return e instanceof sr?NodeFilter.FILTER_ACCEPT:e instanceof Dr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ur=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},pr=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},fr=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},mr=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},br=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},gr=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,_r(this,ar,Array.from(n).indexOf(e),"f"))},wr=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,_r(this,or,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,_r(this,or,-1,"f"))},vr=function(){const e=Hr(this,hr,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},yr=function(){const e=Hr(this,hr,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Er=function(e){const t=Hr(this,hr,"f");return t.currentNode=e,t.previousNode()},Sr=function(e){const t=Hr(this,hr,"f");return t.currentNode=e,t.nextNode()},Tr=function(e){const{target:t}=e;t instanceof sr&&(this.selectedItems().includes(t)||Hr(this,rr,"m",pr).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},xr=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof sr)if(s||n){if(n)t.selected?Hr(this,rr,"m",mr).call(this,t):Hr(this,rr,"m",fr).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=Hr(this,rr,"m",ur).call(this,n,t);e&&(i.includes(t)?Hr(this,rr,"m",mr).call(this,...e):Hr(this,rr,"m",fr).call(this,...e))}else Hr(this,rr,"m",pr).call(this,t);e.stopPropagation()}}else Hr(this,rr,"m",pr).call(this,t)},kr=function(){Hr(this,rr,"m",wr).call(this,null)},Pr=function(e){const{target:t}=e;t instanceof sr&&Hr(this,rr,"m",wr).call(this,t),e.preventDefault()},Cr=function(e){e.preventDefault()},Lr=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||Hr(this,rr,"m",wr).call(this,null)},Nr=function(e){const{target:t}=e;t instanceof sr&&(this.selectedItems().includes(t)||Hr(this,rr,"m",pr).call(this,t))},Ir=function(){Hr(this,rr,"m",wr).call(this,null)},Ar=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Hr(this,hr,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Hr(this,rr,"m",ur).call(this,n,s);i&&Hr(this,rr,"m",pr).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Hr(this,rr,"m",Er).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Hr(this,rr,"m",mr).call(this,t):Hr(this,rr,"m",fr).call(this,t))}}else{const e=Hr(this,rr,"m",vr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Hr(this,rr,"m",Sr).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Hr(this,rr,"m",mr).call(this,t):Hr(this,rr,"m",fr).call(this,t))}}else{const e=Hr(this,rr,"m",yr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Hr(this,rr,"m",vr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Hr(this,rr,"m",yr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Hr(this,rr,"m",pr).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Hr(this,rr,"m",br).call(this),Hr(this,rr,"m",gr).call(this,null),this.focus(),e.stopPropagation()}},Rr=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Mr=function(e){const{target:t}=e;t instanceof sr&&Hr(this,rr,"m",gr).call(this,t)},Or=function(){Hr(this,cr,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Wr=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof sr)).forEach(((e,t)=>{e.posinset=t}))},(jr=K("template")).content.append(K("style",{children:["\n\n                    "]}),K("slot",{children:[K("slot")]})),Fr([H({type:String})],Br.prototype,"name",void 0),Fr([H({type:Boolean})],Br.prototype,"droptarget",void 0),Br=Fr([_({name:"e-list"})],Br);var qr,Kr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},$r=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Vr=class extends HTMLElement{constructor(){super(),qr.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),K("div",{attributes:{part:"container"},children:[K("slot",{children:["&nbsp;"]})]})),this.references=[],$r(this,qr,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,qr,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return $r(e,qr,this,"f"),e}};qr=new WeakMap,Kr([H({type:Boolean})],Vr.prototype,"selected",void 0),Kr([H({type:Boolean})],Vr.prototype,"dragovered",void 0),Kr([H({type:Boolean})],Vr.prototype,"dragged",void 0),Kr([H({type:Boolean})],Vr.prototype,"disabled",void 0),Vr=Kr([_({name:"e-draggable"})],Vr);var Jr,Ur,Gr=Vr,Xr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Yr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},zr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Zr=class extends HTMLElement{constructor(){super(),Jr.set(this,void 0),Ur.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),K("div",{attributes:{part:"container"},children:[K("slot")]})),Yr(this,Jr,[],"f"),Yr(this,Ur,[],"f")}get draggables(){return zr(this,Jr,"f")}get selectedDraggables(){return zr(this,Ur,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Yr(this,Ur,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof Gr));Yr(this,Jr,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,r=s>0?this.draggables.length-1:0,o=s>0?n:e,a=s>0?e:n;for(let e=i;e!==r+s;e+=s)e>=o&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};Jr=new WeakMap,Ur=new WeakMap,Xr([H({type:Boolean})],Zr.prototype,"disabled",void 0),Zr=Xr([_({name:"e-dragzone"})],Zr);var Qr=Zr,eo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let to=class extends Qr{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(K("div",{attributes:{part:"appendarea"},children:[K("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof Qr){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof no&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const r=this.shadowRoot?.querySelector("slot");return r&&r.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};eo([H({type:String})],to.prototype,"name",void 0),eo([H({type:String})],to.prototype,"dragovered",void 0),eo([H({type:String,observed:!0})],to.prototype,"placeholder",void 0),eo([H({type:Boolean})],to.prototype,"multiple",void 0),to=eo([_({name:"e-dropzone"})],to);var no=to,so=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let io=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),K("div",{attributes:{part:"header"},children:[K("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),K("hr",{attributes:{part:"separator"}}),K("div",{attributes:{part:"body"},children:[K("slot")]}),K("hr",{attributes:{part:"separator"}}),K("div",{attributes:{part:"actions"},children:[K("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),K("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),K("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};so([H({type:String})],io.prototype,"type",void 0),io=so([_({name:"e-dialog"})],io);var ro,oo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let ao=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ro.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(ro=K("template")).content.append(K("span",{attributes:{part:"label"}})),oo([H({type:String})],ao.prototype,"name",void 0),oo([H({type:String})],ao.prototype,"value",void 0),oo([H({type:String,observed:!0})],ao.prototype,"label",void 0),oo([H({type:Boolean})],ao.prototype,"disabled",void 0),oo([H({type:Boolean})],ao.prototype,"active",void 0),oo([H({type:Boolean,observed:!0})],ao.prototype,"selected",void 0),oo([H({type:Boolean})],ao.prototype,"default",void 0),ao=oo([_({name:"e-option"})],ao);var co,lo=ao;let ho=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(co.content.cloneNode(!0))}};(co=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),K("slot")),ho=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-optiongroup"})],ho);var uo,po,fo,mo=ho,bo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};po=new WeakMap,uo=new WeakSet,fo=function(e){return e instanceof lo?NodeFilter.FILTER_ACCEPT:e instanceof mo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var go,wo,vo,yo,Eo,So,To,xo,ko,Po,Co,Lo,No,Io,Ao,Ro,Mo,Oo,Wo,jo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Do=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Fo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ho=class extends ie{constructor(){super(),go.add(this),wo.set(this,void 0),vo.set(this,void 0),this.attachShadow({mode:"open"}).append(Wo.content.cloneNode(!0)),Fo(this,wo,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Do(this,go,"m",To).bind(this)),"f"),this.addEventListener("focusout",Do(this,go,"m",Ro).bind(this)),this.addEventListener("keydown",Do(this,go,"m",Mo).bind(this)),this.addEventListener("click",Do(this,go,"m",Ao).bind(this)),this.addEventListener("mouseover",Do(this,go,"m",Oo).bind(this)),Fo(this,vo,new MutationObserver(Do(this,go,"m",So).bind(this)),"f"),Do(this,vo,"f").observe(this,{childList:!0,subtree:!0}),this.options=new class{constructor(e){uo.add(this),po.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,po,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,bo(this,uo,"m",fo).bind(this)),"f")}get length(){const e=bo(this,po,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=bo(this,po,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=bo(this,po,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=bo(this,po,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=bo(this,po,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this)}get activeOption(){return this.querySelector("e-option[active]")??null}get selectedOption(){return this.querySelector("e-option[selected]")??null}connectedCallback(){const{selectedOption:e}=this;null!==e&&(Do(this,go,"m",yo).call(this).textContent=e.getAttribute("label"))}expand(){const{expanded:e}=this;if(!e){this.expanded=!0,Do(this,go,"m",Io).call(this);const{selectedOption:e}=this;e&&e.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};wo=new WeakMap,vo=new WeakMap,go=new WeakSet,yo=function(){return this.shadowRoot.querySelector("[part=value]")},Eo=function(){return this.shadowRoot.querySelector("[part=box]")},So=function(e){e.forEach((e=>{const{type:t}=e;switch(t){case"childList":{const{addedNodes:t}=e,n="e-option[selected]";for(let e of t)if(e instanceof HTMLElement){const t=e.matches(n)?e:e.querySelector(n);null!==t&&Do(this,go,"m",No).call(this,t)}break}}}))},To=function(e){return e instanceof HTMLOptionElement&&!e.disabled&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof mo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},xo=function(){const e=Do(this,wo,"f");return e.currentNode=this,e.firstChild()},ko=function(){const e=Do(this,wo,"f");return e.currentNode=this,e.lastChild()},Po=function(e){const t=Do(this,wo,"f");return t.currentNode=e,t.previousNode()},Co=function(e){const t=Do(this,wo,"f");return t.currentNode=e,t.nextNode()},Lo=function(e){const{selectedOption:t}=this;t&&(t.selected=!1),e!==t&&(e.selected=!0,Do(this,go,"m",No).call(this,e),this.dispatchEvent(new Event("change",{bubbles:!0})))},No=function(e){Do(this,go,"m",yo).call(this).textContent=e.label},Io=function(){const e=Do(this,go,"m",Eo).call(this),{style:t}=e,{bottom:n,left:s}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window;t.setProperty("top",`${n+r}px`),t.setProperty("left",`${s+i}px`)},Ao=function(e){const{target:t}=e;this.toggle();const{expanded:n}=this;if(n){const{selectedOption:e}=this;(e??this.options.item(0))?.focus({preventScroll:!0})}else{const e=t.closest("e-option");e&&Do(this,go,"m",Lo).call(this,e)}},Ro=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Mo=function(e){const{key:t}=e,{expanded:n,activeOption:s,selectedOption:i}=this;switch(t){case"ArrowUp":if(n){const e=s?Do(this,go,"m",Po).call(this,s):Do(this,go,"m",xo).call(this);e&&e.focus({preventScroll:!0})}else{const e=i?Do(this,go,"m",Po).call(this,i):Do(this,go,"m",xo).call(this);e&&Do(this,go,"m",Lo).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(n){const e=s?Do(this,go,"m",Co).call(this,s):Do(this,go,"m",ko).call(this);e&&e.focus({preventScroll:!0})}else{const e=i?Do(this,go,"m",Co).call(this,i):Do(this,go,"m",ko).call(this);e&&Do(this,go,"m",Lo).call(this,e)}e.stopPropagation();break;case"Home":{const t=Do(this,go,"m",xo).call(this);t&&(n?t.focus({preventScroll:!0}):Do(this,go,"m",Lo).call(this,t)),e.stopPropagation();break}case"End":{const t=Do(this,go,"m",ko).call(this);t&&(n?t.focus({preventScroll:!0}):Do(this,go,"m",Lo).call(this,t)),e.stopPropagation();break}case"Enter":n?(this.collapse(),s&&Do(this,go,"m",Lo).call(this,s)):(this.expand(),i?.focus({preventScroll:!0})),e.stopPropagation();break;case"Escape":n&&this.collapse(),e.stopPropagation();break;default:{const{length:n}=t;if(1==n){const n=t.charCodeAt(0),i=Array.from(this.options.values()),r=s?i.indexOf(s):-1,o=i.find(((e,t)=>e.label.toLowerCase().charCodeAt(0)==n&&t>r))??i.find((e=>e.label.toLowerCase().charCodeAt(0)==n));o&&o.focus({preventScroll:!0}),e.stopPropagation()}break}}},Oo=function(e){const{target:t}=e,n=t.closest(".option");n&&n.focus({preventScroll:!0})},(Wo=K("template")).content.append(K("div",{attributes:{part:"content"},children:[K("label",{attributes:{part:"label"}}),K("output",{attributes:{part:"value"}})]}),K("div",{attributes:{part:"box"},children:K("slot")})),jo([H({type:String})],Ho.prototype,"name",void 0),jo([H({type:String,observed:!0})],Ho.prototype,"label",void 0),jo([H({type:String,observed:!0})],Ho.prototype,"value",void 0),jo([H({type:String,defaultValue:"select",observed:!0})],Ho.prototype,"type",void 0),jo([H({type:Boolean})],Ho.prototype,"expanded",void 0),Ho=jo([_({name:"e-select"})],Ho);var _o,Bo,qo,Ko,$o,Vo,Jo,Uo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Go=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Xo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Yo=class extends HTMLElement{constructor(){super(),_o.add(this),Bo.set(this,void 0),qo.set(this,void 0),this.attachShadow({mode:"open"}).append(Jo.content.cloneNode(!0)),Go(this,Bo,null,"f"),Go(this,qo,!1,"f"),this.addEventListener("pointerdown",Xo(this,_o,"m",$o).bind(this)),this.addEventListener("pointermove",Xo(this,_o,"m",Vo).bind(this)),this.addEventListener("pointerup",Xo(this,_o,"m",Ko).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;Go(this,Bo,document.getElementById(e),"f");break}}}};Bo=new WeakMap,qo=new WeakMap,_o=new WeakSet,Ko=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Go(this,qo,!1,"f")},$o=function(e){const{pointerId:t}=e,{controls:n}=this;Go(this,Bo,document.getElementById(n),"f"),this.setPointerCapture(t),Go(this,qo,!0,"f")},Vo=function(e){if(Xo(this,qo,"f")){const t=Xo(this,Bo,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:r,height:o}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),p=Math.max(c,Math.min(Math.trunc(u+s),l-r)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+i),d-o));t.style.setProperty("left",`${p}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Jo=K("template")).content.append(K("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),Uo([H({type:String,observed:!0})],Yo.prototype,"controls",void 0),Yo=Uo([_({name:"e-handle"})],Yo);var zo,Zo,Qo,ea,ta,na,sa,ia,ra,oa,aa=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ca=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},la=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ha=class extends HTMLElement{constructor(){super(),zo.add(this),Zo.set(this,void 0),Qo.set(this,void 0),ea.set(this,void 0),ta.set(this,void 0),this.attachShadow({mode:"open"}).append(oa.content.cloneNode(!0)),ca(this,Zo,null,"f"),ca(this,ea,null,"f"),ca(this,ta,0,"f"),ca(this,Qo,!1,"f"),this.addEventListener("pointerdown",la(this,zo,"m",sa).bind(this)),this.addEventListener("pointermove",la(this,zo,"m",ia).bind(this)),this.addEventListener("pointerup",la(this,zo,"m",na).bind(this))}get target(){return la(this,Zo,"f")}};Zo=new WeakMap,Qo=new WeakMap,ea=new WeakMap,ta=new WeakMap,zo=new WeakSet,na=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),ca(this,Qo,!1,"f")},sa=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();ca(this,Zo,s.getElementById(n),"f"),this.setPointerCapture(t),ca(this,Qo,!0,"f")},ia=function(e){la(this,Qo,"f")&&(null==la(this,ea,"f")?(ca(this,ta,e.movementY,"f"),ca(this,ea,la(this,zo,"m",ra).bind(this),"f"),requestAnimationFrame(la(this,ea,"f"))):ca(this,ta,la(this,ta,"f")+e.movementY,"f"))},ra=function(){const e=la(this,Zo,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=la(this,ta,"f"),i=parseFloat(t.getPropertyValue("height")),r=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${r}px`);const o=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${o}px`),this.dispatchEvent(new Event("resize"))}ca(this,ea,null,"f")},(oa=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),aa([H({type:String})],ha.prototype,"controls",void 0),aa([H({type:String,defaultValue:"top"})],ha.prototype,"growdir",void 0),ha=aa([_({name:"e-hsash"})],ha);var da,ua,pa=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let fa=class extends HTMLElement{constructor(){super(...arguments),da.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,da,"m",ua).call(this,e)}};da=new WeakSet,ua=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},pa([H({type:String})],fa.prototype,"src",void 0),fa=pa([_({name:"e-import"})],fa);var ma,ba,ga,wa,va,ya=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ea=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Sa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ta=class extends HTMLElement{constructor(){super(),ma.add(this),ba.set(this,void 0),this.attachShadow({mode:"open"}),Ea(this,ma,"m",ga).call(this),Sa(this,ba,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":Ea(this,ma,"m",ga).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Sa(this,ba,e,"f")}get promise(){return Ea(this,ba,"f")}};ba=new WeakMap,ma=new WeakSet,ga=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(va.content.cloneNode(!0));break;case"bar":t.replaceChildren(wa.content.cloneNode(!0))}},(()=>{const e=K("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(wa=K("template")).content.append(t,K("div",{attributes:{part:"bar"},children:[K("div",{attributes:{part:"slider"},children:[K("div",{attributes:{part:"cursor"}})]})]})),(va=K("template")).content.append(n,K("div",{attributes:{part:"circle"}}))})(),ya([H({type:String,defaultValue:"bar",observed:!0})],Ta.prototype,"type",void 0),Ta=ya([_({name:"e-loader"})],Ta);var xa,ka,Pa,Ca,La,Na,Ia,Aa,Ra,Ma,Oa=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Wa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ja=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Da=class extends HTMLElement{constructor(){super(),xa.add(this),ka.set(this,void 0),Pa.set(this,void 0),Ca.set(this,void 0),La.set(this,void 0),this.attachShadow({mode:"open"}).append(Ma.content.cloneNode(!0)),Wa(this,ka,null,"f"),Wa(this,Ca,null,"f"),Wa(this,La,0,"f"),Wa(this,Pa,!1,"f"),this.addEventListener("pointerdown",ja(this,xa,"m",Ia).bind(this)),this.addEventListener("pointermove",ja(this,xa,"m",Aa).bind(this)),this.addEventListener("pointerup",ja(this,xa,"m",Na).bind(this))}get target(){return ja(this,ka,"f")}setWidth(e){const t=ja(this,ka,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};ka=new WeakMap,Pa=new WeakMap,Ca=new WeakMap,La=new WeakMap,xa=new WeakSet,Na=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Wa(this,Pa,!1,"f")},Ia=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Wa(this,ka,s.getElementById(n),"f"),this.setPointerCapture(t),Wa(this,Pa,!0,"f")},Aa=function(e){ja(this,Pa,"f")&&(null==ja(this,Ca,"f")&&(Wa(this,Ca,ja(this,xa,"m",Ra).bind(this),"f"),requestAnimationFrame(ja(this,Ca,"f"))),Wa(this,La,ja(this,La,"f")+e.movementX,"f"))},Ra=function(){const e=ja(this,ka,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=ja(this,La,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}Wa(this,La,0,"f"),Wa(this,Ca,null,"f")},(Ma=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: transparent;\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            background-color: rgb(135, 206, 250);\n                        }\n                    "]})),Oa([H({type:String,observed:!0})],Da.prototype,"controls",void 0),Oa([H({type:String,defaultValue:"right"})],Da.prototype,"growdir",void 0),Oa([H({type:Boolean})],Da.prototype,"max",void 0),Da=Oa([_({name:"e-wsash"})],Da);var Fa,Ha,_a=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,Ha=new WeakMap,Fa=new WeakSet;var Ba=new WeakMap,qa=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const e=Ba.get(t);e&&e.forEach((e=>{const{widget:n,element:s,slot:i}=e,r=n.slottedCallback;"function"==typeof r&&r(s.deref(),t,i)}));break}}}))})),Ka=new WeakMap,$a=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=e,i=Ka.get(t);if(i){const e=i.attributeChangedCallback;"function"==typeof e&&e(t,n,s,t.getAttribute(n))}break}}}))})),Va=class{constructor(){const e=this;this.create=new Proxy(this.create,{apply:(t,n,s)=>{const i=Reflect.apply(t,n,s),r=e.observedSlots;Array.isArray(r)&&r.map((t=>({slotName:t,slotElement:e.slot(i,t)}))).forEach((t=>{const{slotElement:n,slotName:s}=t;if(n){qa.observe(n,{childList:!0});const t=Ba.get(n),r={widget:e,element:new WeakRef(i),slot:s};Array.isArray(t)?t.push(r):Ba.set(n,new Array(r))}}));const o=e.observedAttributes;return Array.isArray(o)&&(Ka.set(i,e),$a.observe(i,{attributes:!0,attributeFilter:o,attributeOldValue:!0})),i}})}create(){throw new Error("create method is not implemented")}slot(){return null}get observedSlots(){return[""]}},Ja=new Map;function Ua(e,t){const n=Ja.get(e);if(n){if(void 0!==t){const{properties:e,attributes:s,dataset:i,slotted:r,listeners:o}=t,a=n.create(e);if(s&&Object.entries(s).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?a.toggleAttribute(F(e),t):a.setAttribute(F(e),String(t)))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}if(r)if("function"==typeof r||Array.isArray(r)||r instanceof NodeList||"string"==typeof r||r instanceof Node){const e=n.slot(a,null);e&&("function"==typeof r?e.append(...r(e)):"object"==typeof r&&"length"in r?e.append(...Array.from(r)):e.append(r))}else Object.entries(r).forEach((([e,t])=>{const s=n.slot(a,e);s&&("function"==typeof t?s.append(...t(s)):"object"==typeof t&&"length"in t?s.append(...Array.from(t)):s.append(t))}));return o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return n.create()}throw new Error(`Unknown widget ${e}. The corresponding module might not be imported.`)}const Ga=function(e){return t=>{const{name:n}=e;return Ja.set(n,new t),t}};var Xa,Ya,za,Za,Qa,ec,tc,nc,sc,ic,rc,oc,ac,cc,lc,hc,dc,uc,pc,fc,mc,bc,gc,wc,vc,yc,Ec,Sc,Tc,xc,kc,Pc,Cc,Lc,Nc,Ic,Ac,Rc,Mc,Oc,Wc,jc,Dc,Fc,Hc,_c,Bc,qc,Kc,$c,Vc,Jc,Uc,Gc,Xc,Yc,zc,Zc,Qc,el,tl,nl,sl,il,rl,ol,al,cl,ll,hl,dl,ul,pl,fl,ml,bl,gl,wl,vl,yl,El,Sl,Tl,xl,kl,Pl,Cl,Ll,Nl,Il,Al,Rl,Ml,Ol,Wl,jl,Dl,Fl,Hl,_l,Bl,ql,Kl,$l,Vl,Jl,Ul,Gl,Xl,Yl,zl,Zl,Ql,eh,th,nh,sh,ih,rh,oh,ah,ch,lh,hh,dh,uh,ph,fh,mh,bh,gh,wh,vh,yh,Eh,Sh,Th,xh,kh,Ph,Ch,Lh,Nh,Ih,Ah,Rh,Mh,Oh,Wh,jh,Dh,Fh,Hh,_h,Bh,qh,Kh,$h,Vh,Jh,Uh,Gh,Xh,Yh,zh,Zh,Qh,ed,td,nd,sd,id,rd,od,ad,cd,ld,hd,dd,ud,pd,fd,md,bd,gd,wd,vd,yd,Ed,Sd,Td,xd,kd,Pd,Cd,Ld,Nd,Id,Ad,Rd,Md,Od,Wd,jd,Dd,Fd,Hd,_d,Bd,qd,Kd,$d,Vd,Jd,Ud,Gd,Xd,Yd,zd,Zd,Qd,eu,tu,nu,su,iu,ru,ou,au,cu,lu,hu,du,uu,pu,fu,mu,bu,gu,wu,vu,yu,Eu,Su,Tu,xu,ku,Pu,Cu,Lu,Nu,Iu,Au,Ru,Mu,Ou,Wu,ju,Du,Fu,Hu,_u,Bu,qu,Ku=(new(Ga({name:"separator"})((Ya=class extends Va{constructor(){super(),Xa.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Xa,K("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Xa,"f").cloneNode(!0)}},Xa=new WeakMap,Ya))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),$u=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Vu=new(Ga({name:"menuitem"})((ac=class extends Va{constructor(){super(),za.add(this),Za.set(this,void 0),Qa.set(this,void 0),ec.set(this,void 0),tc.set(this,void 0),nc.set(this,void 0),sc.set(this,void 0),Ku(this,Za,K("span",{attributes:{class:"icon"}}),"f"),Ku(this,Qa,K("span",{attributes:{class:"arrow"}}),"f"),Ku(this,ec,K("span",{attributes:{class:"keyshortcuts"}}),"f"),Ku(this,tc,K("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[$u(this,Za,"f").cloneNode(!0),K("span",{attributes:{class:"label"}})]}),"f"),Ku(this,nc,["checkbox","radio","menu","submenu","button"],"f"),Ku(this,sc,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(e){const t=$u(this,tc,"f").cloneNode(!0);if(t.addEventListener("click",$u(this,za,"m",rc).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,keyshortcut:r,checked:o,type:a,label:c,name:l,value:h,disabled:d}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setKeyShortcut(t,r),void 0!==o&&this.setChecked(t,o),void 0!==a&&("menu"!=a&&"submenu"!=a||this.setExpanded(t,!1),this.setType(t,a)),void 0!==c&&this.setLabel(t,c),void 0!==l&&this.setName(t,l),void 0!==h&&this.setValue(t,h),void 0!==d&&this.setDisabled(t,d)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",String(n))}getMenu(e){return e.querySelector(":scope > .menu")}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){let n=e.querySelector(":scope > .keyshortcuts");if(null!==t){if(e.setAttribute("aria-keyshortcuts",t),!n){const t=$u(this,za,"m",ic).call(this,e);n=$u(this,ec,"f").cloneNode(!0),t.after(n)}n.textContent=t}else e.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(e){return $u(this,za,"m",ic).call(this,e).textContent??""}setLabel(e,t){$u(this,za,"m",ic).call(this,e).textContent=t}getType(e){const t=$u(this,nc,"f"),{classList:n}=e;for(let e of t)if(n.contains(`menuitem-${e}`))return e;return null}setType(e,t){const n=$u(this,sc,"f"),s=$u(this,Za,"f"),i=$u(this,Qa,"f"),{role:r,hasIcon:o,hasArrow:a}=n[t],c=this.getType(e),{classList:l}=e;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${t}`),e.setAttribute("role",r);const h=$u(this,za,"m",ic).call(this,e),d=e.querySelector(":scope > .icon"),u=e.querySelector(":scope > .arrow");o?!d&&h&&h.before(s.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(i.cloneNode(!0)):u&&u.remove()}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getChecked(e){return JSON.parse(e.getAttribute("aria-checked")??String(!1))}setChecked(e,t){e.setAttribute("aria-checked",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&$u(this,za,"m",oc).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),$u(this,za,"m",oc).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}},Za=new WeakMap,Qa=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,sc=new WeakMap,za=new WeakSet,ic=function(e){return e.querySelector(":scope > .label")},rc=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".menuitem");if(s==n)switch(this.getType(s)){case"checkbox":this.setChecked(s,!this.getChecked(s));break;case"radio":this.setChecked(s,!0);break;case"menu":case"submenu":this.toggle(s),this.getExpanded(s)&&this.getMenu(s)?.focus({preventScroll:!0})}},oc=function(e){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(e)){const e=o+a-d,t=s+c-u;n.setProperty("left",`${e>0?h+r-a:h+r}px`),n.setProperty("top",`${t>0?l+s-c:l+i}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),p=o+a-d,f=s+c-u;n.setProperty("left",(p>0?r-a-h:o-h)+"px");const m=window.getComputedStyle(t),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);n.setProperty("top",`${f>0?i-c-e+v:s-e-w}px`)}}}},ac))),Ju=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Uu=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Gu=(new(Ga({name:"menubar"})((kc=class extends Va{constructor(){super(),cc.add(this),lc.set(this,void 0),hc.set(this,void 0),Ju(this,lc,K("div",{attributes:{class:"menubar",role:"menubar",tabindex:0}}),"f"),Ju(this,hc,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Uu(this,cc,"m",dc).bind(this)),"f")}create(){const e=Uu(this,lc,"f").cloneNode(!0);return e.addEventListener("click",Uu(this,cc,"m",yc).bind(this)),e.addEventListener("focusin",Uu(this,cc,"m",Ec).bind(this)),e.addEventListener("focusout",Uu(this,cc,"m",Sc).bind(this)),e.addEventListener("mouseover",Uu(this,cc,"m",Tc).bind(this)),e.addEventListener("keydown",Uu(this,cc,"m",xc).bind(this)),e}slot(e){return e}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}},lc=new WeakMap,hc=new WeakMap,cc=new WeakSet,dc=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Vu.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},uc=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},pc=function(e){const t=Uu(this,hc,"f");return t.currentNode=e,t.firstChild()},fc=function(e){const t=Uu(this,hc,"f");return t.currentNode=e,t.lastChild()},mc=function(e){const t=Uu(this,hc,"f");return t.currentNode=e,t.previousSibling()},bc=function(e){const t=Uu(this,hc,"f");return t.currentNode=e,t.nextSibling()},gc=function(e){const t=Vu.getMenu(e);if(t){const e=Uu(this,hc,"f");return e.currentNode=t,e.firstChild()}return null},wc=function(e,t){return t.closest(":is(.menubar, .menu)")==e},vc=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},yc=function(e){const{target:t,currentTarget:n}=e,s=n,i=t.closest(".menuitem");if(i){const e=this.getExpanded(s);if(Uu(this,cc,"m",wc).call(this,s,i)){const t=!e;this.setExpanded(s,t),t?(null===i||Vu.getExpanded(i)||Vu.expand(i),Vu.getMenu(i)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}}},Ec=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&this.getExpanded(s)){const e=Uu(this,cc,"m",vc).call(this,s,t);e&&Vu.expand(e)}},Sc=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&!t.contains(s)){const e=Uu(this,cc,"m",vc).call(this,i,t);e&&Vu.collapse(e)}!i.contains(s)&&this.setExpanded(i,!1)},Tc=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=Uu(this,cc,"m",uc).call(this,s),n=this.getExpanded(s);if(Uu(this,cc,"m",wc).call(this,s,t)&&t!==e&&n){const e=Vu.getMenu(t);e?e.focus({preventScroll:!0}):t.focus({preventScroll:!0})}}},xc=function(e){const{key:t,currentTarget:n}=e,s=n;let i=Uu(this,cc,"m",uc).call(this,s);const r=this.getExpanded(s);switch(t){case"ArrowLeft":(i?Uu(this,cc,"m",mc).call(this,i)??Uu(this,cc,"m",fc).call(this,s):Uu(this,cc,"m",pc).call(this,s))?.focus({preventScroll:!0}),i=Uu(this,cc,"m",uc).call(this,s),r&&i&&Uu(this,cc,"m",gc).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?Uu(this,cc,"m",bc).call(this,i)??Uu(this,cc,"m",pc).call(this,s):Uu(this,cc,"m",fc).call(this,s))?.focus({preventScroll:!0}),i=Uu(this,cc,"m",uc).call(this,s),r&&i&&Uu(this,cc,"m",gc).call(this,i)?.focus({preventScroll:!0});break;case"Enter":case" ":i&&(this.setExpanded(s,!r),Uu(this,cc,"m",gc).call(this,i)?.focus({preventScroll:!0}),e.preventDefault());break;case"Escape":r?(this.setExpanded(s,!1),i&&(Vu.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},kc))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Xu=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Yu=(new(Ga({name:"menu"})((Uc=class extends Va{constructor(){super(),Pc.add(this),Cc.set(this,void 0),Lc.set(this,void 0),Nc.set(this,void 0),Gu(this,Cc,K("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),Gu(this,Lc,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Xu(this,Pc,"m",Ic).bind(this)),"f"),Gu(this,Nc,new WeakMap,"f")}create(e){const t=Xu(this,Cc,"f").cloneNode(!0);if(t.addEventListener("click",Xu(this,Pc,"m",qc).bind(this)),t.addEventListener("mouseover",Xu(this,Pc,"m",Jc).bind(this)),t.addEventListener("mouseout",Xu(this,Pc,"m",Vc).bind(this)),t.addEventListener("focusout",Xu(this,Pc,"m",Kc).bind(this)),t.addEventListener("keydown",Xu(this,Pc,"m",$c).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,contextual:r,position:o}=e;if(void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setContextual(t,r),void 0!==o){const{x:e,y:n}=o;this.setPosition(t,e,n)}}return t}slot(e){return e}setPosition(e,t,n){const{style:s}=e,{width:i,height:r}=e.getBoundingClientRect(),{scrollX:o,scrollY:a}=window,c=t+o,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+i-h,p=l+r-d;s.setProperty("left",`${u>0?c-i:c}px`),s.setProperty("top",`${p>0?l-r:l}px`)}getContextual(e){const{classList:t}=e;return t.contains("menu-contextual")}setContextual(e,t){const{classList:n}=e;t?n.add("menu-contextual"):n.remove("menu-contextual")}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},Cc=new WeakMap,Lc=new WeakMap,Nc=new WeakMap,Pc=new WeakSet,Ic=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Vu.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ac=function(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>Vu.collapse(e)))},Rc=function(e,t){return t.closest(".menu")==e},Mc=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Oc=function(e){const t=Xu(this,Lc,"f");return t.currentNode=e,t.firstChild()},Wc=function(e){const t=Xu(this,Lc,"f");return t.currentNode=e,t.lastChild()},jc=function(e){const t=Xu(this,Lc,"f");return t.currentNode=e,t.previousSibling()},Dc=function(e){const t=Xu(this,Lc,"f");return t.currentNode=e,t.nextSibling()},Fc=function(e){const t=Vu.getMenu(e);if(t){const e=Xu(this,Lc,"f");return e.currentNode=t,e.firstChild()}return null},Hc=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},_c=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Xu(this,Nc,"f").set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Xu(this,Nc,"f").delete(e)}))},Bc=function(e){const t=Xu(this,Nc,"f").get(e);void 0!==t&&(Xu(this,Nc,"f").delete(e),t.clear())},qc=function(e){const{target:t,currentTarget:n}=e,s=n,i=t.closest(".menuitem");if(i){if(this.getContextual(s))try{s.remove()}catch(e){}else if(Xu(this,Pc,"m",Rc).call(this,s,i)){const e=Vu.getType(i),t=Vu.getName(i),n=Vu.getValue(i);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${t}]`).forEach((e=>{Vu.setChecked(e,Vu.getValue(e)==n)}))}e.stopPropagation()}},Kc=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(!i.contains(s))if(this.getContextual(i))try{i.remove()}catch(e){}else{const e=Xu(this,Pc,"m",Mc).call(this,i,t);e&&Vu.collapse(e)}},$c=function(e){const{currentTarget:t,key:n}=e,s=t,i=Xu(this,Pc,"m",Hc).call(this,s);switch(n){case"ArrowUp":(i?Xu(this,Pc,"m",jc).call(this,i)??Xu(this,Pc,"m",Wc).call(this,s):Xu(this,Pc,"m",Oc).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(i?Xu(this,Pc,"m",Dc).call(this,i)??Xu(this,Pc,"m",Oc).call(this,s):Xu(this,Pc,"m",Oc).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Xu(this,Pc,"m",Oc).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Xu(this,Pc,"m",Wc).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(i){switch(Vu.getType(i)){case"submenu":Vu.expand(i),Xu(this,Pc,"m",Fc).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s||(Vu.collapse(i),i.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(i)switch(Vu.getType(i)){case"submenu":Vu.getExpanded(i)||(Vu.expand(i),Xu(this,Pc,"m",Fc).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation())}}},Vc=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Xu(this,Pc,"m",Mc).call(this,i,t);if(null!==n&&("submenu"!=Vu.getType(n)||Vu.getExpanded(n)||Xu(this,Pc,"m",Bc).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const t=Xu(this,Pc,"m",Hc).call(this,i);null!==t&&"submenu"==Vu.getType(t)&&Vu.getExpanded(t)&&(Xu(this,Pc,"m",Bc).call(this,t),Xu(this,Pc,"m",_c).call(this,t,400).then((()=>{Vu.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:r}=e,{left:o,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(o>n||a<n||c>r||l<r),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):i.focus({preventScroll:!0})),h||i.focus({preventScroll:!0})}}},Jc=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Xu(this,Pc,"m",Mc).call(this,s,t);if(null!==n&&("submenu"==Vu.getType(n)&&Vu.getExpanded(n)&&Xu(this,Pc,"m",Bc).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const e=Xu(this,Pc,"m",Hc).call(this,s);null!==e&&"submenu"==Vu.getType(e)&&Vu.getExpanded(e)&&!e.contains(t)&&(Xu(this,Pc,"m",Bc).call(this,e),Xu(this,Pc,"m",_c).call(this,e,400).then((()=>{Vu.collapse(e)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==Vu.getType(n)&&(Vu.getExpanded(n)?Vu.getMenu(n)?.focus({preventScroll:!0}):(Xu(this,Pc,"m",Bc).call(this,n),Xu(this,Pc,"m",_c).call(this,n,200).then((()=>{const e=Xu(this,Pc,"m",Hc).call(this,s);Xu(this,Pc,"m",Ac).call(this,s),e&&(Xu(this,Pc,"m",Bc).call(this,e),Vu.expand(e),Vu.getMenu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},Uc))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),zu=(new(Ga({name:"menuitemgroup"})((Xc=class extends Va{constructor(){super(),Gc.set(this,void 0),Yu(this,Gc,K("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Gc,"f").cloneNode(!0)}slot(e){return e}},Gc=new WeakMap,Xc))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Zu=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Qu=new(Ga({name:"treeitem"})((tl=class extends Va{constructor(){super(),Yc.add(this),zc.set(this,void 0),Zc.set(this,void 0),zu(this,Zc,["parent","leaf"],"f"),zu(this,zc,K("li",{attributes:{class:"treeitem",role:"treeitem",tabindex:-1},children:[K("span",{attributes:{class:"content"},children:[K("span",{attributes:{class:"arrow"}})]})]}),"f")}group(e){return e.querySelector(":scope > .treeitemgroup")}create(e){const t=Zu(this,zc,"f").cloneNode(!0);if(t.addEventListener("click",Zu(this,Yc,"m",el).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,label:r,title:o,type:a="leaf",disabled:c,draggable:l}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setLabel(t,r),void 0!==o&&this.setTitle(t,o),this.setType(t,a),"parent"===a&&this.setExpanded(t,!1),void 0!==c&&this.setDisabled(t,c),void 0!==l&&this.setDraggable(t,l),this.setSelected(t,!1)}return t}get observedSlots(){return["content","group"]}slot(e,t){switch(t){case"content":return Zu(this,Yc,"m",Qc).call(this,e);case"group":return e}return null}getLabel(e){return e.getAttribute("aria-label")??""}setLabel(e,t){e.setAttribute("aria-label",t)}getTitle(e){return e.title}setTitle(e,t){e.title=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?Number(t):-1}getType(e){const t=Zu(this,Zc,"f"),{classList:n}=e;for(let e of t)if(n.contains(`treeitem-${e}`))return e;throw new Error("Missing type.")}setType(e,t){const{classList:n}=e;try{const t=this.getType(e);n.remove(`treeitem-${t}`)}catch(e){}n.add(`treeitem-${t}`)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}setActive(e,t){const{classList:n}=e;t?n.contains("active")||n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDraggable(e,t){e.setAttribute("draggable",String(t))}getDraggable(e){return JSON.parse(e.getAttribute("draggable")??String(!1))}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}setLevel(e,t){e.style.setProperty("--level",String(t))}getLevel(e){return parseInt(e.style.getPropertyValue("--level"))}toggle(e,t){this.setExpanded(e,t??!this.getExpanded(e))}},zc=new WeakMap,Zc=new WeakMap,Yc=new WeakSet,Qc=function(e){const t=e.querySelector(":scope > .content");if(!t)throw new Error("Missing .content slot.");return t},el=function(e){const{target:t,currentTarget:n,shiftKey:s,ctrlKey:i}=e,r=t.closest(".treeitem");r==n&&("parent"!=this.getType(r)||s||i||this.toggle(r))},tl))),ep=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},tp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},np=new(Ga({name:"tree"})((Ml=class extends Va{constructor(){super(),nl.add(this),sl.set(this,void 0),il.set(this,void 0),rl.set(this,void 0),ol.set(this,void 0),ep(this,sl,K("ul",{attributes:{class:"tree",role:"tree",tabindex:0}}),"f"),ep(this,rl,new WeakMap,"f"),ep(this,ol,new WeakMap,"f"),ep(this,il,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,tp(this,nl,"m",hl).bind(this)),"f")}create(e){const t=tp(this,sl,"f").cloneNode(!0);if(t.addEventListener("mousedown",tp(this,nl,"m",Sl).bind(this)),t.addEventListener("dragend",tp(this,nl,"m",Tl).bind(this)),t.addEventListener("dragenter",tp(this,nl,"m",xl).bind(this)),t.addEventListener("dragleave",tp(this,nl,"m",Pl).bind(this)),t.addEventListener("dragover",tp(this,nl,"m",kl).bind(this)),t.addEventListener("drop",tp(this,nl,"m",Cl).bind(this)),t.addEventListener("focus",tp(this,nl,"m",Ll).bind(this)),t.addEventListener("focusin",tp(this,nl,"m",Nl).bind(this)),t.addEventListener("focusout",tp(this,nl,"m",Il).bind(this)),t.addEventListener("keydown",tp(this,nl,"m",Al).bind(this)),t.addEventListener("select",tp(this,nl,"m",Rl).bind(this)),tp(this,rl,"f").set(t,!1),tp(this,ol,"f").set(t,!1),void 0!==e){const{id:n,classList:s,tabIndex:i,multisectable:r}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setMultiSelectable(t,r)}return t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(Qu.setPosInSet(e,t),Qu.setLevel(e,0))}))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .treeitemgroup) > .treeitem"))}selectedItems(e){const t=[];tp(this,il,"f").currentNode=e;let n=tp(this,nl,"m",gl).call(this,e);for(;null!==n;)Qu.getSelected(n)&&t.push(n),n=tp(this,nl,"m",yl).call(this,n);return t}beginSelection(e){tp(this,rl,"f").set(e,!0)}endSelection(e){tp(this,rl,"f").set(e,!1),tp(this,ol,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),tp(this,ol,"f").set(e,!1))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}},sl=new WeakMap,il=new WeakMap,rl=new WeakMap,ol=new WeakMap,nl=new WeakSet,al=function(e){return e.querySelector(".treeitem.active")},cl=function(e){return e.querySelector(".treeitem.droptarget")},ll=function(e,t){const{classList:n}=e,s=tp(this,nl,"m",cl).call(this,e);null!==s&&s!==t&&Qu.setDropTarget(s,!1),null!==t?(Qu.setDropTarget(t,!0),n.add("droptarget")):n.remove("droptarget")},hl=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("treeitem")&&!Qu.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("treeitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},dl=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=tp(this,nl,"m",yl).call(this,e);for(;s&&s!==t;)n.push(s),s=tp(this,nl,"m",yl).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=tp(this,nl,"m",vl).call(this,e);for(;s&&s!==t;)n.push(s),s=tp(this,nl,"m",vl).call(this,s);return n.push(t),n}return[]},ul=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||Qu.setSelected(e,!1)})),t.forEach((t=>{const n=Qu.getSelected(t);e.contains(t)&&!n&&Qu.setSelected(t,!0)})),this.endSelection(e)},pl=function(e,...t){this.beginSelection(e),t.forEach((e=>{Qu.getSelected(e)||Qu.setSelected(e,!0)})),this.endSelection(e)},fl=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&Qu.setSelected(e,!1)})),this.endSelection(e)},ml=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{Qu.setSelected(e,!1)})),this.endSelection(e)},bl=function(e,t){const n=tp(this,nl,"m",al).call(this,e);null!==n&&n!==t&&(Qu.setActive(n,!1),n.tabIndex=-1),null!==t&&(Qu.setActive(t,!0),t.tabIndex=0)},gl=function(e){const t=tp(this,il,"f");return t.currentNode=e,t.firstChild()},wl=function(e){const t=tp(this,il,"f");return t.currentNode=e,t.lastChild()},vl=function(e){const t=tp(this,il,"f");t.currentNode=e;const n=t.previousSibling();return n?tp(this,nl,"m",El).call(this,n):t.parentNode()},yl=function(e){const t=tp(this,il,"f");t.currentNode=e;const n=Qu.getType(e),s=Qu.getExpanded(e);return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},El=function e(t){if(Qu.getExpanded(t)){const t=tp(this,il,"f").lastChild();if(t)return tp(this,nl,"m",e).call(this,t)}return t},Sl=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".treeitem");if(a){const t=Qu.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),tp(this,nl,"m",fl).call(this,o,a)):tp(this,nl,"m",pl).call(this,o,a),e.stopPropagation();else if(i){const t=tp(this,nl,"m",al).call(this,o);if(t){const e=tp(this,nl,"m",dl).call(this,t,a);e&&tp(this,nl,"m",ul).call(this,o,...e)}e.stopPropagation()}}else tp(this,nl,"m",ul).call(this,o,a);break;case 2:t||tp(this,nl,"m",ul).call(this,o,a)}}},Tl=function(e){const{currentTarget:t}=e,n=t;tp(this,nl,"m",ll).call(this,n,null)},xl=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&("parent"==Qu.getType(s)&&Qu.toggle(s,!0),tp(this,nl,"m",ll).call(this,i,s)),e.preventDefault()},kl=function(e){e.preventDefault()},Pl=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;s.contains(n)||tp(this,nl,"m",ll).call(this,s,null)},Cl=function(e){const{currentTarget:t}=e,n=t;tp(this,nl,"m",ll).call(this,n,null)},Ll=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(!s.contains(n)){const e=tp(this,nl,"m",al).call(this,s);e&&e.focus()}},Nl=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&(tp(this,nl,"m",bl).call(this,i,s),i.tabIndex=-1)},Il=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},Al=function(e){const{currentTarget:t,key:n}=e,s=t,i=tp(this,nl,"m",al).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=tp(this,il,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=tp(this,nl,"m",dl).call(this,t,tp(this,nl,"m",El).call(this,n));e&&tp(this,nl,"m",ul).call(this,s,...e)}}e.preventDefault();break}case"ArrowLeft":if(i)if(Qu.getExpanded(i))Qu.toggle(i);else{const e=tp(this,il,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":i&&(Qu.getExpanded(i)||Qu.toggle(i)),e.stopPropagation();break;case"ArrowUp":if(i){const t=tp(this,nl,"m",vl).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(Qu.getSelected(t)?tp(this,nl,"m",fl).call(this,s,t):tp(this,nl,"m",pl).call(this,s,t))}}else{const e=tp(this,nl,"m",gl).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=tp(this,nl,"m",yl).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(Qu.getSelected(t)?tp(this,nl,"m",fl).call(this,s,t):tp(this,nl,"m",pl).call(this,s,t))}}else{const e=tp(this,nl,"m",wl).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=tp(this,nl,"m",gl).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=tp(this,nl,"m",wl).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&(tp(this,nl,"m",ul).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":tp(this,nl,"m",ml).call(this,s),tp(this,nl,"m",bl).call(this,s,null),s.focus(),e.stopPropagation()}},Rl=function(e){const{target:t}=e,n=t;t instanceof HTMLElement&&t.classList.contains("treeitem")&&(tp(this,rl,"f").get(n)?tp(this,ol,"f").set(t,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Ml))),sp=(new(Ga({name:"treeitemgroup"})((Wl=class extends Va{constructor(){super(),Ol.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Ol,K("ul",{attributes:{class:"treeitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ol,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(Qu.setPosInSet(e,t),Qu.setLevel(e,(()=>{let t=-1,n=e;for(;null!==n&&n.matches(".tree :scope");)n=n.parentElement?.closest(".treeitem")??null,t++;return t})()))}))}},Ol=new WeakMap,Wl))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),ip=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},rp=new(Ga({name:"listitem"})((Hl=class extends Va{constructor(){super(),jl.add(this),Dl.set(this,void 0),sp(this,Dl,K("li",{attributes:{class:"listitem",role:"listitem",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=ip(this,Dl,"f").cloneNode(!0);if(void 0!==e){const{label:n,disabled:s}=e;void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setDisabled(t,s),this.setSelected(t,!1)}return t}slot(e){return e}group(e){return e.querySelector(":scope > .listitemgroup")}getLabel(e){return ip(this,jl,"m",Fl).call(this,e).textContent??""}setLabel(e,t){ip(this,jl,"m",Fl).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}},Dl=new WeakMap,jl=new WeakSet,Fl=function(e){return e.querySelector(":scope > .label")},Hl))),op=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ap=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},cp=(new(Ga({name:"list"})((gh=class extends Va{constructor(){super(),_l.add(this),Bl.set(this,void 0),ql.set(this,void 0),Kl.set(this,void 0),$l.set(this,void 0),op(this,Bl,K("ul",{attributes:{class:"list",role:"list",tabindex:0}}),"f"),op(this,Kl,new WeakMap,"f"),op(this,$l,new WeakMap,"f"),op(this,ql,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,ap(this,_l,"m",Ul).bind(this)),"f")}create(e){const t=ap(this,Bl,"f").cloneNode(!0);if(t.addEventListener("dragend",ap(this,_l,"m",rh).bind(this)),t.addEventListener("dragenter",ap(this,_l,"m",oh).bind(this)),t.addEventListener("dragleave",ap(this,_l,"m",ch).bind(this)),t.addEventListener("dragover",ap(this,_l,"m",ah).bind(this)),t.addEventListener("dragstart",ap(this,_l,"m",lh).bind(this)),t.addEventListener("drop",ap(this,_l,"m",hh).bind(this)),t.addEventListener("focus",ap(this,_l,"m",dh).bind(this)),t.addEventListener("focusin",ap(this,_l,"m",uh).bind(this)),t.addEventListener("focusout",ap(this,_l,"m",mh).bind(this)),t.addEventListener("keydown",ap(this,_l,"m",ph).bind(this)),t.addEventListener("mousedown",ap(this,_l,"m",fh).bind(this)),t.addEventListener("select",ap(this,_l,"m",bh).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,multisectable:r}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setMultiSelectable(t,r)}return ap(this,Kl,"f").set(t,!1),ap(this,$l,"f").set(t,!1),t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&rp.setPosInSet(e,t)}))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .listitemgroup) > .listitem"))}selectedItems(e){const t=[];ap(this,ql,"f").currentNode=e;let n=ap(this,_l,"m",th).call(this,e);for(;null!==n;)rp.getSelected(n)&&t.push(n),n=ap(this,_l,"m",ih).call(this,n);return t}beginSelection(e){ap(this,Kl,"f").set(e,!0)}endSelection(e){ap(this,Kl,"f").set(e,!1),ap(this,$l,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ap(this,$l,"f").set(e,!1))}},Bl=new WeakMap,ql=new WeakMap,Kl=new WeakMap,$l=new WeakMap,_l=new WeakSet,Vl=function(e){return e.querySelector(".listitem.active")},Jl=function(e){return e.querySelector(".listitem.droptarget")},Ul=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("listitem")&&!rp.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("listitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Gl=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ap(this,_l,"m",ih).call(this,e);for(;s&&s!==t;)n.push(s),s=ap(this,_l,"m",ih).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ap(this,_l,"m",sh).call(this,e);for(;s&&s!==t;)n.push(s),s=ap(this,_l,"m",sh).call(this,s);return n.push(t),n}return[]},Xl=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||rp.setSelected(e,!1)})),t.forEach((t=>{const n=rp.getSelected(t);e.contains(t)&&!n&&rp.setSelected(t,!0)})),this.endSelection(e)},Yl=function(e,...t){this.beginSelection(e),t.forEach((e=>{rp.getSelected(e)||rp.setSelected(e,!0)})),this.endSelection(e)},zl=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&rp.setSelected(e,!1)})),this.endSelection(e)},Zl=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{rp.setSelected(e,!1)})),this.endSelection(e)},Ql=function(e,t){const n=ap(this,_l,"m",Vl).call(this,e);null!==n&&n!==t&&(rp.setActive(n,!1),n.tabIndex=-1),null!==t&&(rp.setActive(t,!0),t.tabIndex=0)},eh=function(e,t){const{classList:n}=e,s=ap(this,_l,"m",Jl).call(this,e);null!==s&&s!==t&&rp.setDropTarget(s,!1),null!==t?(rp.setDropTarget(t,!1),n.add("droptarget")):n.remove("droptarget")},th=function(e){const t=ap(this,ql,"f");return t.currentNode=e,t.firstChild()},nh=function(e){const t=ap(this,ql,"f");return t.currentNode=e,t.lastChild()},sh=function(e){const t=ap(this,ql,"f");return t.currentNode=e,t.previousNode()},ih=function(e){const t=ap(this,ql,"f");return t.currentNode=e,t.nextNode()},rh=function(e){const{currentTarget:t}=e,n=t;ap(this,_l,"m",eh).call(this,n,null)},oh=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".listitem"),i=t;s&&ap(this,_l,"m",eh).call(this,i,s),e.preventDefault()},ah=function(e){e.preventDefault()},ch=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(n){const e=n.getRootNode(),t=e instanceof ShadowRoot?e.host:n;s.contains(t)||ap(this,_l,"m",eh).call(this,s,null)}},lh=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".listitem");i&&(this.selectedItems(s).includes(i)||ap(this,_l,"m",Xl).call(this,s,i))},hh=function(e){const{currentTarget:t}=e,n=t;ap(this,_l,"m",eh).call(this,n,null)},dh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=ap(this,_l,"m",Vl).call(this,s);i&&n!==i&&i.focus()},uh=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".listitem");i&&(ap(this,_l,"m",Ql).call(this,s,i),s.tabIndex=-1)},ph=function(e){const{currentTarget:t,key:n}=e,s=t,i=ap(this,_l,"m",Vl).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=ap(this,ql,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=ap(this,_l,"m",Gl).call(this,t,n);e&&ap(this,_l,"m",Xl).call(this,s,...e)}}e.preventDefault();break}case"ArrowUp":if(i){const t=ap(this,_l,"m",sh).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(rp.getSelected(t)?ap(this,_l,"m",zl).call(this,s,t):ap(this,_l,"m",Yl).call(this,s,t))}}else{const e=ap(this,_l,"m",th).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=ap(this,_l,"m",ih).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(rp.getSelected(t)?ap(this,_l,"m",zl).call(this,s,t):ap(this,_l,"m",Yl).call(this,s,t))}}else{const e=ap(this,_l,"m",nh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=ap(this,_l,"m",th).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=ap(this,_l,"m",nh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&(ap(this,_l,"m",Xl).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":ap(this,_l,"m",Zl).call(this,s),ap(this,_l,"m",Ql).call(this,s,null),s.focus(),e.stopPropagation()}},fh=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".listitem");if(a){const t=rp.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),ap(this,_l,"m",zl).call(this,o,a)):ap(this,_l,"m",Yl).call(this,o,a),e.stopPropagation();else if(i){const t=ap(this,_l,"m",Vl).call(this,o);if(t){const e=ap(this,_l,"m",Gl).call(this,t,a);e&&ap(this,_l,"m",Xl).call(this,o,...e)}e.stopPropagation()}}else ap(this,_l,"m",Xl).call(this,o,a);break;case 2:t||ap(this,_l,"m",Xl).call(this,o,a)}}},mh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},bh=function(e){const{currentTarget:t}=e,n=t;n&&(ap(this,Kl,"f").get(n)?ap(this,$l,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},gh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),lp=(new(Ga({name:"listitemgroup"})((vh=class extends Va{constructor(){super(),wh.set(this,void 0),cp(this,wh,K("ul",{attributes:{class:"listitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,wh,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&rp.setPosInSet(e,t)}))}},wh=new WeakMap,vh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),hp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},dp=new(Ga({name:"toolbaritem"})((Ch=class extends Va{constructor(){super(),yh.add(this),Eh.set(this,void 0),Sh.set(this,void 0),lp(this,Sh,["button","checkbox","radio","menubutton"],"f"),lp(this,Eh,K("button",{attributes:{class:"toolbaritem",role:"button",type:"button",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=hp(this,Eh,"f").cloneNode(!0);if(t.addEventListener("focusout",hp(this,yh,"m",Th).bind(this)),t.addEventListener("click",hp(this,yh,"m",xh).bind(this)),void 0!==e){const{id:n,keyshortcut:s,pressed:i,type:r,label:o,name:a,value:c,disabled:l}=e;void 0!==n&&(t.id=n),void 0!==s&&this.setKeyShortcut(t,s),void 0!==i&&this.setPressed(t,i),void 0!==r&&this.setType(t,r),void 0!==o&&this.setLabel(t,o),void 0!==a&&this.setName(t,a),void 0!==c&&this.setValue(t,c),void 0!==l&&this.setDisabled(t,l)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",String(n))}menu(e){return e.querySelector(":scope > .menu")}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}getLabel(e){return hp(this,yh,"m",Ph).call(this,e).textContent??""}setLabel(e,t){hp(this,yh,"m",Ph).call(this,e).textContent=t}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){null!==t?e.setAttribute("aria-keyshortcuts",t):e.removeAttribute("aria-keyshortcuts")}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&hp(this,yh,"m",kh).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),hp(this,yh,"m",kh).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}getType(e){const t=hp(this,Sh,"f"),{classList:n}=e;for(let e of t)if(n.contains(`toolbaritem-${e}`))return e;return null}setType(e,t){const n=this.getType(e);if(t!==n){const{classList:s}=e;n&&s.remove(`toolbaritem-${n}`),s.add(`toolbaritem-${t}`)}}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getTitle(e){return e.getAttribute("title")??""}setTitle(e,t){e.setAttribute("title",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getPressed(e){return JSON.parse(e.getAttribute("aria-pressed")??String(!1))}setPressed(e,t){e.setAttribute("aria-pressed",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},Eh=new WeakMap,Sh=new WeakMap,yh=new WeakSet,Th=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},xh=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".toolbaritem");if(s==n)switch(this.getType(s)){case"checkbox":this.setPressed(s,!this.getPressed(s));break;case"radio":this.setPressed(s,!0);break;case"menubutton":{const e=this.menu(s);e&&!e.contains(t)&&(this.toggle(s),this.getExpanded(s)&&e?.focus({preventScroll:!0}));break}}},kh=function(e){if("menubutton"==this.getType(e)){const t=this.menu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body,p=o+a-d,f=s+c-u;n.setProperty("left",`${p>0?h+r-a:h+r}px`),n.setProperty("top",`${f>0?l+s-c:l+i}px`)}}},Ph=function(e){return e.querySelector(":scope > .label")},Ch))),up=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},pp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},fp=new(Ga({name:"toolbar"})(($h=class extends Va{constructor(){super(),Lh.add(this),Nh.set(this,void 0),Ih.set(this,void 0),up(this,Nh,K("div",{attributes:{class:"toolbar",role:"toolbar",tabindex:-1}}),"f"),up(this,Ih,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,pp(this,Lh,"m",Rh).bind(this)),"f")}create(e){const t=pp(this,Nh,"f").cloneNode(!0);if(t.addEventListener("focus",pp(this,Lh,"m",_h).bind(this)),t.addEventListener("focusin",pp(this,Lh,"m",Bh).bind(this)),t.addEventListener("focusout",pp(this,Lh,"m",qh).bind(this)),t.addEventListener("keydown",pp(this,Lh,"m",Kh).bind(this)),t.addEventListener("click",pp(this,Lh,"m",Hh).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i)}return t}slot(e){return e}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem"))}setOrientation(e,t){e.setAttribute("aria-orientation",t)}getOrientation(e){return e.getAttribute("aria-orientation")??"horizontal"}},Nh=new WeakMap,Ih=new WeakMap,Lh=new WeakSet,Ah=function(e){return e.querySelector(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active")},Rh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("toolbaritem")&&!dp.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("toolbaritemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Mh=function(e){const t=pp(this,Ih,"f");return t.currentNode=e,t.firstChild()},Oh=function(e){const t=pp(this,Ih,"f");return t.currentNode=e,t.lastChild()},Wh=function(e){const t=pp(this,Ih,"f");return t.currentNode=e,t.previousSibling()},jh=function(e){const t=pp(this,Ih,"f");return t.currentNode=e,t.nextSibling()},Dh=function(e){const t=dp.menu(e);if(t){const e=pp(this,Ih,"f");return e.currentNode=t,e.firstChild()}return null},Fh=function(e,t){const n=pp(this,Lh,"m",Ah).call(this,e);null!==n&&n!==t&&(dp.setActive(n,!1),n.tabIndex=-1),null!==t&&(dp.setActive(t,!0),t.tabIndex=0)},Hh=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".toolbaritem");if(i){const t=dp.getType(i),n=dp.getName(i),r=dp.getType(i);"radio"==t&&s.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${n}]`).forEach((e=>{dp.setPressed(e,dp.getValue(e)==r)})),e.stopPropagation()}},_h=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(!s.contains(n)){const e=pp(this,Lh,"m",Ah).call(this,s);e?e.focus():pp(this,Lh,"m",Mh).call(this,s)?.focus()}},Bh=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".toolbaritem");i&&(pp(this,Lh,"m",Fh).call(this,s,i),s.tabIndex=-1)},qh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(pp(this,Lh,"m",Fh).call(this,s,null),s.tabIndex=0)},Kh=function(e){const{currentTarget:t,key:n}=e,s=t,i=pp(this,Lh,"m",Ah).call(this,s);switch(n){case"Enter":case" ":if(i){switch(dp.getType(i)){case"menubutton":dp.expand(i),pp(this,Lh,"m",Dh).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"ArrowLeft":if(i){const e=pp(this,Lh,"m",Wh).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=pp(this,Lh,"m",Mh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(i){const e=pp(this,Lh,"m",jh).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=pp(this,Lh,"m",Oh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=pp(this,Lh,"m",Mh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=pp(this,Lh,"m",Oh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":i?i.focus({preventScroll:!0}):s.focus({preventScroll:!0}),e.stopPropagation()}},$h))),mp=(new(Ga({name:"toolbaritemgroup"})((Jh=class extends Va{constructor(){super(),Vh.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Vh,K("div",{attributes:{class:"toolbaritemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Vh,"f").cloneNode(!0)}slot(e){return e}},Vh=new WeakMap,Jh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),bp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},gp=(new(Ga({name:"widthsash"})((sd=class extends Va{constructor(){super(),Uh.add(this),Gh.set(this,void 0),Xh.set(this,void 0),Yh.set(this,void 0),zh.set(this,void 0),Zh.set(this,void 0),mp(this,Gh,K("div",{attributes:{class:"widthsash"}}),"f"),mp(this,Xh,new WeakMap,"f"),mp(this,Yh,new WeakMap,"f"),mp(this,zh,new WeakMap,"f"),mp(this,Zh,new WeakMap,"f")}create(e){const t=bp(this,Xh,"f"),n=bp(this,Zh,"f"),s=bp(this,Yh,"f"),i=bp(this,zh,"f"),r=bp(this,Gh,"f").cloneNode(!0);if(r.addEventListener("pointerdown",bp(this,Uh,"m",ed).bind(this)),r.addEventListener("pointermove",bp(this,Uh,"m",td).bind(this)),r.addEventListener("pointerup",bp(this,Uh,"m",Qh).bind(this)),void 0!==e){const{id:t,classList:n,tabIndex:s,controls:i,growDir:o}=e;void 0!==t&&(r.id=t),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return t.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(e){return e.getAttribute("data-growdir")??"right"}setGrowDir(e,t){e.setAttribute("data-growdir",t)}getControls(e){return e.getAttribute("data-controls")}setControls(e,t){e.setAttribute("data-controls",t)}setWidth(e,t){const n=bp(this,Xh,"f").get(e);null!==n&&n.style.setProperty("width",`${t}px`)}},Gh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,zh=new WeakMap,Zh=new WeakMap,Uh=new WeakSet,Qh=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=bp(this,Yh,"f");s.releasePointerCapture(t),i.set(s,!1)},ed=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=this.getControls(s);if(i){const e=bp(this,Xh,"f"),n=bp(this,Yh,"f"),r=s.getRootNode();e.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(t)}},td=function(e){const{currentTarget:t}=e,n=t,s=bp(this,Zh,"f"),i=bp(this,Yh,"f"),r=bp(this,zh,"f"),o=bp(this,Uh,"m",nd);if(i.get(n)){let t=r.get(n);null==t&&(t=o.bind(this,n),r.set(n,t),requestAnimationFrame(t));const i=s.get(n)+e.movementX;s.set(n,i)}},nd=function(e){const t=bp(this,Xh,"f"),n=bp(this,Zh,"f"),s=bp(this,zh,"f"),i=t.get(e);if(null!==i){const t=window.getComputedStyle(i),s=this.getGrowDir(e),r=n.get(e),o=parseFloat(t.getPropertyValue("width"))+("right"==s?1:-1)*r;this.setWidth(e,o),e.dispatchEvent(new Event("resize"))}n.set(e,0),s.set(e,null)},sd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),wp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},vp=(new(Ga({name:"heightsash"})((fd=class extends Va{constructor(){super(),id.add(this),rd.set(this,void 0),od.set(this,void 0),ad.set(this,void 0),cd.set(this,void 0),ld.set(this,void 0),gp(this,rd,K("div",{attributes:{class:"heightsash"}}),"f"),gp(this,od,new WeakMap,"f"),gp(this,ad,new WeakMap,"f"),gp(this,cd,new WeakMap,"f"),gp(this,ld,new WeakMap,"f")}create(e){const t=wp(this,od,"f"),n=wp(this,ld,"f"),s=wp(this,ad,"f"),i=wp(this,cd,"f"),r=wp(this,rd,"f").cloneNode(!0);if(r.addEventListener("pointerdown",wp(this,id,"m",dd).bind(this)),r.addEventListener("pointermove",wp(this,id,"m",ud).bind(this)),r.addEventListener("pointerup",wp(this,id,"m",hd).bind(this)),void 0!==e){const{id:t,classList:n,tabIndex:s,controls:i,growDir:o}=e;void 0!==t&&(r.id=t),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return t.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(e){return e.getAttribute("data-growdir")??"top"}setGrowDir(e,t){e.setAttribute("data-growdir",t)}getControls(e){return e.getAttribute("data-controls")}setControls(e,t){e.setAttribute("data-controls",t)}setHeight(e,t){const n=wp(this,od,"f").get(e);null!==n&&n.style.setProperty("height",`${t}px`)}},rd=new WeakMap,od=new WeakMap,ad=new WeakMap,cd=new WeakMap,ld=new WeakMap,id=new WeakSet,hd=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=wp(this,ad,"f");s.releasePointerCapture(t),i.set(s,!1)},dd=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=this.getControls(s);if(i){const e=wp(this,od,"f"),n=wp(this,ad,"f"),r=s.getRootNode();e.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(t)}},ud=function(e){const{currentTarget:t}=e,n=t,s=wp(this,ld,"f"),i=wp(this,ad,"f"),r=wp(this,cd,"f");if(i.get(n)){let t=r.get(n);null==t&&(t=wp(this,id,"m",pd).bind(this,n),r.set(n,t),requestAnimationFrame(t));const i=s.get(n)+e.movementX;s.set(n,i)}},pd=function(e){const t=wp(this,od,"f"),n=wp(this,ld,"f"),s=wp(this,cd,"f"),i=t.get(e);if(null!==i){const t=window.getComputedStyle(i),s=this.getGrowDir(e),r=n.get(e),o=parseFloat(t.getPropertyValue("height"))+("top"==s?-1:1)*r;this.setHeight(e,o),e.dispatchEvent(new Event("resize"))}n.set(e,0),s.set(e,null)},fd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),yp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ep=new(Ga({name:"gridcell"})((wd=class extends Va{constructor(){super(),md.add(this),bd.set(this,void 0),vp(this,bd,K("td",{attributes:{class:"gridcell",role:"gridcell",tabindex:-1}}),"f")}create(e){const t=yp(this,bd,"f").cloneNode(!0);if(void 0!==e){const{id:n,classList:s,tabIndex:i,disabled:r,headers:o}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setDisabled(t,r),void 0!==o&&this.setHeaders(t,o),this.setSelected(t,!1)}return t}slot(e){return e}getHeaders(e){return e.getAttribute("headers")??""}setHeaders(e,t){e.setAttribute("headers",t)}getLabel(e){return yp(this,md,"m",gd).call(this,e).textContent??""}setLabel(e,t){yp(this,md,"m",gd).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}},bd=new WeakMap,md=new WeakSet,gd=function(e){return e.querySelector(":scope > .content > .label")},wd))),Sp=new(Ga({name:"gridrow"})((yd=class extends Va{constructor(){super(),vd.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,vd,K("tr",{attributes:{class:"gridrow",role:"row",tabindex:-1}}),"f")}create(e){const t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,vd,"f").cloneNode(!0);if(void 0!==e){const{disabled:n}=e;void 0!==n&&this.setDisabled(t,n),this.setSelected(t,!1)}return t}slot(e){return e}cells(e){return Array.from(e.querySelectorAll(":scope > .gridcell"))}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&Ep.setPosInSet(e,t)}))}},vd=new WeakMap,yd))),Tp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},xp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},kp=new(Ga({name:"grid"})((ou=class extends Va{constructor(){super(),Ed.add(this),xd.set(this,void 0),kd.set(this,void 0),Pd.set(this,void 0),Cd.set(this,void 0),Ld.set(this,void 0),Tp(this,xd,K("table",{attributes:{class:"grid",role:"grid",tabindex:0}}),"f"),Tp(this,Cd,new WeakMap,"f"),Tp(this,Ld,new WeakMap,"f"),Tp(this,Pd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,xp(this,Ed,"m",Nd).bind(this)),"f"),Tp(this,kd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,xp(this,Ed,"m",Id).bind(this)),"f")}headers(e){return Array.from(e.querySelectorAll(":scope > .gridhead > .gridheader"))}rows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow"))}cells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell"))}create(e){const t=xp(this,xd,"f").cloneNode(!0);if(t.addEventListener("mousedown",xp(this,Ed,"m",iu).bind(this)),t.addEventListener("focus",xp(this,Ed,"m",eu).bind(this)),t.addEventListener("focusin",xp(this,Ed,"m",tu).bind(this)),t.addEventListener("focusout",xp(this,Ed,"m",nu).bind(this)),t.addEventListener("keydown",xp(this,Ed,"m",su).bind(this)),t.addEventListener("select",xp(this,Ed,"m",ru).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,selectby:r,multisectable:o}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setSelectBy(t,r),void 0!==o&&this.setMultiSelectable(t,o)}return t}slot(e){return e}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}setSelectBy(e,t){e.setAttribute("data-selectby",t)}getSelectBy(e){return e.getAttribute("data-selectby")??"cell"}beginSelection(e){xp(this,Cd,"f").set(e,!0)}endSelection(e){xp(this,Cd,"f").set(e,!1),xp(this,Ld,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),xp(this,Ld,"f").set(e,!1))}clearSelection(e){xp(this,Ed,"m",Hd).call(this,e),xp(this,Ed,"m",_d).call(this,e)}selectedCells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell[aria-selected=true]"))}selectedRows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow[aria-selected=true]"))}},xd=new WeakMap,kd=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,Ld=new WeakMap,Ed=new WeakSet,Sd=function(e){return e.querySelector(".gridrow.active")},Td=function(e){return e.querySelector(".gridcell.active")},Nd=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridcell")&&!Ep.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridrow")||t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Id=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridrow")&&!Sp.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ad=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=xp(this,Ed,"m",Jd).call(this,e);for(;s&&s!==t;)n.push(s),s=xp(this,Ed,"m",Jd).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=xp(this,Ed,"m",Vd).call(this,e);for(;s&&s!==t;)n.push(s),s=xp(this,Ed,"m",Yd).call(this,s);return n.push(t),n}return[]},Rd=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=xp(this,Ed,"m",zd).call(this,e);for(;s&&s!==t;)n.push(s),s=xp(this,Ed,"m",zd).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=xp(this,Ed,"m",Yd).call(this,e);for(;s&&s!==t;)n.push(s),s=xp(this,Ed,"m",Yd).call(this,s);return n.push(t),n}return[]},Md=function(e,...t){this.beginSelection(e),this.selectedCells(e).forEach((e=>{t.includes(e)||Ep.setSelected(e,!1)})),t.forEach((e=>{Ep.getSelected(e)||Ep.setSelected(e,!0)})),this.endSelection(e)},Od=function(e,...t){this.beginSelection(e),this.selectedRows(e).forEach((e=>{t.includes(e)||Sp.setSelected(e,!1)})),t.forEach((e=>{Sp.getSelected(e)||Sp.setSelected(e,!0)})),this.endSelection(e)},Wd=function(e,...t){this.beginSelection(e),t.forEach((e=>{Ep.getSelected(e)||Ep.setSelected(e,!0)})),this.endSelection(e)},jd=function(e,...t){this.beginSelection(e),t.forEach((e=>{Sp.getSelected(e)||Sp.setSelected(e,!0)})),this.endSelection(e)},Dd=function(e,...t){this.beginSelection(e);const n=this.selectedCells(e);t.forEach((e=>{n.includes(e)&&Ep.setSelected(e,!1)})),this.endSelection(e)},Fd=function(e,...t){this.beginSelection(e);const n=this.selectedRows(e);t.forEach((e=>{n.includes(e)&&Sp.setSelected(e,!1)})),this.endSelection(e)},Hd=function(e){this.beginSelection(e),this.selectedCells(e).forEach((e=>{Ep.getSelected(e)&&Ep.setSelected(e,!1)})),this.endSelection(e)},_d=function(e){this.beginSelection(e),this.selectedRows(e).forEach((e=>{Sp.getSelected(e)&&Sp.setSelected(e,!1)})),this.endSelection(e)},Bd=function(e,t){const n=xp(this,Ed,"m",Td).call(this,e);null!==n&&n!==t&&(Ep.setActive(n,!1),n.tabIndex=-1),null!==t&&(Ep.setActive(t,!0),t.tabIndex=0)},qd=function(e,t){const n=xp(this,Ed,"m",Sd).call(this,e);null!==n&&n!==t&&(Sp.setActive(n,!1),n.tabIndex=-1),null!==t&&(Ep.setActive(t,!0),t.tabIndex=0)},Kd=function(e){const t=xp(this,Pd,"f");return t.currentNode=e,t.firstChild()},$d=function(e){const t=xp(this,Pd,"f");return t.currentNode=e,t.lastChild()},Vd=function(e){const t=xp(this,Pd,"f");return t.currentNode=e,t.previousNode()},Jd=function(e){const t=xp(this,Pd,"f");return t.currentNode=e,t.nextNode()},Ud=function(e){const t=xp(this,kd,"f");return t.currentNode=e,t.parentNode()},Gd=function(e){const t=xp(this,kd,"f");return t.currentNode=e,t.firstChild()},Xd=function(e){const t=xp(this,kd,"f");return t.currentNode=e,t.lastChild()},Yd=function(e){const t=xp(this,kd,"f");return t.currentNode=e,t.previousNode()},zd=function(e){const t=xp(this,kd,"f");return t.currentNode=e,t.nextNode()},Zd=function(e){const t=xp(this,Ed,"m",Ud).call(this,e);if(t){const n=Sp.cells(t),s=Array.from(n.values()).indexOf(e),i=xp(this,Ed,"m",Yd).call(this,t);if(i){const e=Sp.cells(i);return e[Math.min(s,e.length)]}}return null},Qd=function(e){const t=xp(this,Ed,"m",Ud).call(this,e);if(t){const n=Sp.cells(t),s=Array.from(n.values()).indexOf(e),i=xp(this,Ed,"m",zd).call(this,t);if(i){const e=Sp.cells(i);return e[Math.min(s,e.length)]}}return null},eu=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=xp(this,Ed,"m",Td).call(this,s);e&&n!==e&&e.focus();break}case"row":{const e=xp(this,Ed,"m",Sd).call(this,s);e&&n!==e&&e.focus();break}}},tu=function(e){const{currentTarget:t,target:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=n.closest(".gridcell");e&&xp(this,Ed,"m",Bd).call(this,s,e);break}case"row":{const e=n.closest(".gridrow");e&&xp(this,Ed,"m",qd).call(this,s,e);break}}},nu=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},su=function(e){const{currentTarget:t,key:n}=e,s=t,i=xp(this,Ed,"m",Td).call(this,s),r=xp(this,Ed,"m",Sd).call(this,s),o=this.getSelectBy(s),a=this.getMultiSelectable(s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&a)switch(o){case"cell":{const e=xp(this,Ed,"m",Gd).call(this,s),t=e?xp(this,Ed,"m",Kd).call(this,e):null,n=xp(this,Ed,"m",Xd).call(this,s),i=n?xp(this,Ed,"m",$d).call(this,n):null;if(t&&i){const e=xp(this,Ed,"m",Ad).call(this,t,i);e&&xp(this,Ed,"m",Md).call(this,s,...e)}break}case"row":{const e=xp(this,Ed,"m",Gd).call(this,s),t=xp(this,Ed,"m",Xd).call(this,s);if(e&&t){const n=xp(this,Ed,"m",Rd).call(this,e,t);n&&xp(this,Ed,"m",Od).call(this,s,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==o&&i){const t=xp(this,Ed,"m",Vd).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Ep.getSelected(t)?xp(this,Ed,"m",Dd).call(this,s,t):xp(this,Ed,"m",Wd).call(this,s,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==o&&i){const t=xp(this,Ed,"m",Jd).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Ep.getSelected(t)?xp(this,Ed,"m",Dd).call(this,s,t):xp(this,Ed,"m",Wd).call(this,s,t))}}e.stopPropagation();break;case"ArrowUp":switch(o){case"cell":{const t=r??xp(this,Ed,"m",Gd).call(this,s),n=i?xp(this,Ed,"m",Zd).call(this,i):t?xp(this,Ed,"m",Kd).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(Ep.getSelected(n)?xp(this,Ed,"m",Dd).call(this,s,n):xp(this,Ed,"m",Wd).call(this,s,n))}break}case"row":{const t=r?xp(this,Ed,"m",Yd).call(this,r):xp(this,Ed,"m",Gd).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Sp.getSelected(t)?xp(this,Ed,"m",Fd).call(this,s,t):xp(this,Ed,"m",jd).call(this,s,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(o){case"cell":{const t=r??xp(this,Ed,"m",Xd).call(this,s),n=i?xp(this,Ed,"m",Qd).call(this,i):t?xp(this,Ed,"m",$d).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(Ep.getSelected(n)?xp(this,Ed,"m",Dd).call(this,s,n):xp(this,Ed,"m",Wd).call(this,s,n))}}break;case"row":{const t=r?xp(this,Ed,"m",zd).call(this,r):xp(this,Ed,"m",Xd).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Sp.getSelected(t)?xp(this,Ed,"m",Fd).call(this,s,t):xp(this,Ed,"m",jd).call(this,s,t))}break}}e.stopPropagation();break;case"Home":switch(o){case"cell":if(r){const e=xp(this,Ed,"m",Kd).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=xp(this,Ed,"m",Gd).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(o){case"cell":if(r){const e=xp(this,Ed,"m",$d).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=xp(this,Ed,"m",Xd).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(o){case"cell":i&&(xp(this,Ed,"m",Md).call(this,s,i),i.click());break;case"row":r&&(xp(this,Ed,"m",Od).call(this,s,r),r.click())}e.stopPropagation();break;case"Escape":switch(o){case"cell":xp(this,Ed,"m",Hd).call(this,s),xp(this,Ed,"m",Bd).call(this,s,null);break;case"row":xp(this,Ed,"m",_d).call(this,s),xp(this,Ed,"m",qd).call(this,s,null)}s.focus(),e.stopPropagation()}},iu=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i}=e,r=t,o=this.getSelectBy(r),a=this.getMultiSelectable(r);switch(o){case"cell":{const t=n.closest(".gridcell");if(t){if(a)if(i||s){if(s)Ep.getSelected(t)?xp(this,Ed,"m",Dd).call(this,r,t):xp(this,Ed,"m",Wd).call(this,r,t),e.stopPropagation();else if(i){const n=xp(this,Ed,"m",Td).call(this,r);if(n){const e=xp(this,Ed,"m",Ad).call(this,n,t);e&&xp(this,Ed,"m",Md).call(this,r,...e)}e.stopPropagation()}}else xp(this,Ed,"m",Md).call(this,r,t);else xp(this,Ed,"m",Md).call(this,r,t);e.stopPropagation()}break}case"row":{const t=n.closest(".gridrow");if(t){if(a)if(i||s){if(s)Sp.getSelected(t)?xp(this,Ed,"m",Fd).call(this,r,t):xp(this,Ed,"m",jd).call(this,r,t),e.stopPropagation();else if(i){const n=xp(this,Ed,"m",Sd).call(this,r);if(n){const e=xp(this,Ed,"m",Rd).call(this,n,t);e&&xp(this,Ed,"m",Od).call(this,r,...e)}e.stopPropagation()}}else xp(this,Ed,"m",Od).call(this,r,t);else xp(this,Ed,"m",Od).call(this,r,t);e.stopPropagation()}break}}},ru=function(e){const{currentTarget:t}=e,n=t;n&&(xp(this,Cd,"f").get(n)?xp(this,Ld,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},ou))),Pp=(new(Ga({name:"gridbody"})((cu=class extends Va{constructor(){super(),au.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,au,K("tbody",{attributes:{class:"gridbody",role:"rowgroup"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,au,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("gridrow")&&Sp.setPosInSet(e,t)}))}},au=new WeakMap,cu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Cp=(new(Ga({name:"gridhead"})((hu=class extends Va{constructor(){super(),lu.set(this,void 0),Pp(this,lu,K("thead",{attributes:{class:"gridhead",role:"rowgroup"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,lu,"f").cloneNode(!0)}slot(e){return e}},lu=new WeakMap,hu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Lp=(new(Ga({name:"gridheader"})((uu=class extends Va{constructor(){super(),du.set(this,void 0),Cp(this,du,K("th",{attributes:{class:"gridheader",scope:"column",role:"columnheader",tabindex:-1}}),"f")}create(e){const t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,du,"f").cloneNode(!0);if(void 0!==e){const{id:n,classList:s,tabIndex:i}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i)}return t}slot(e){return e}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},du=new WeakMap,uu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Np=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ip=new(Ga({name:"option"})((bu=class extends Va{constructor(){super(),pu.add(this),fu.set(this,void 0),Lp(this,fu,K("span",{attributes:{class:"option",role:"option",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=Np(this,fu,"f").cloneNode(!0);if(void 0!==e){const{label:n,name:s,value:i,disabled:r}=e;let{selected:o}=e;o=o??!1,void 0!==o&&this.setSelected(t,o),void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setName(t,s),void 0!==i&&this.setValue(t,i),void 0!==r&&this.setDisabled(t,r)}return t}get observedAttributes(){return["aria-selected"]}attributeChangedCallback(e,t,n,s){switch(t){case"aria-selected":!0===JSON.parse(s)&&e.dispatchEvent(new Event("select",{bubbles:!0}))}}getLabel(e){return Np(this,pu,"m",mu).call(this,e).textContent??""}setLabel(e,t){Np(this,pu,"m",mu).call(this,e).textContent=t}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}setSelected(e,t){e.setAttribute("aria-selected",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}},fu=new WeakMap,pu=new WeakSet,mu=function(e){return e.querySelector(":scope > .label")},bu))),Ap=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Rp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Mp=(new(Ga({name:"combobox"})((Du=class extends Va{constructor(){super(),gu.add(this),wu.set(this,void 0),vu.set(this,void 0),yu.set(this,void 0),Rp(this,vu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Ap(this,gu,"m",ku).bind(this)),"f"),Rp(this,yu,new MutationObserver(Ap(this,gu,"m",xu).bind(this)),"f"),Rp(this,wu,K("div",{attributes:{class:"combobox",role:"combobox",tabindex:0},children:[K("div",{attributes:{class:"content"},children:[K("span",{attributes:{class:"value"}})]}),K("div",{attributes:{class:"box"}})]}),"f")}create(e){const t=Ap(this,wu,"f").cloneNode(!0);if(Ap(this,yu,"f").observe(t,{childList:!0,subtree:!0}),t.addEventListener("focusout",Ap(this,gu,"m",Ou).bind(this)),t.addEventListener("keydown",Ap(this,gu,"m",Wu).bind(this)),t.addEventListener("click",Ap(this,gu,"m",Mu).bind(this)),t.addEventListener("mouseover",Ap(this,gu,"m",ju).bind(this)),this.setExpanded(t,!1),void 0!==e){const{id:n,classList:s,tabIndex:i,name:r,disabled:o,multiselectable:a}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setName(t,r),void 0!==o&&this.setDisabled(t,o),void 0!==a&&this.setMultiSelectable(t,a)}return t}slot(e){return Ap(this,gu,"m",Eu).call(this,e)}slottedCallback(e,t,n){const{childNodes:s}=t;Array.from(s).forEach(((e,t)=>{HTMLElement}))}options(e){return Array.from(e.querySelectorAll(":scope > :is(.box, .box > .optiongroup) > .option"))}selectedOption(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option[aria-selected=true]")}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}expand(e){if(!this.getExpanded(e)){this.setExpanded(e,!0),Ap(this,gu,"m",Ru).call(this,e);const t=this.selectedOption(e);t&&t.focus({preventScroll:!0})}}collapse(e){this.getExpanded(e)&&(this.setExpanded(e,!1),e.focus())}toggle(e,t){const n=this.getExpanded(e);t??!n?this.expand(e):this.collapse(e)}},wu=new WeakMap,vu=new WeakMap,yu=new WeakMap,gu=new WeakSet,Eu=function(e){return e.querySelector(":scope > .box")},Su=function(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option:focus-within")},Tu=function(e){return e.querySelector(":scope > .content > .value")},xu=function(e){e.forEach((e=>{const{target:t,type:n}=e,s=t.closest(".combobox");if(s instanceof HTMLElement)switch(n){case"childList":{const{addedNodes:t}=e,n=".option[aria-selected=true]";for(let e of t)if(e instanceof HTMLElement){const t=e.matches(n)?e:e.querySelector(n);if(t){Ap(this,gu,"m",Au).call(this,s,t);break}}break}}}))},ku=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("option")&&!Ip.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("optiongroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Pu=function(e){const t=Ap(this,vu,"f");return t.currentNode=Ap(this,gu,"m",Eu).call(this,e),t.firstChild()},Cu=function(e){const t=Ap(this,vu,"f");return t.currentNode=Ap(this,gu,"m",Eu).call(this,e),t.lastChild()},Lu=function(e){const t=Ap(this,vu,"f");return t.currentNode=e,t.previousNode()},Nu=function(e){const t=Ap(this,vu,"f");return t.currentNode=e,t.nextNode()},Iu=function(e,t){const n=this.selectedOption(e);n&&Ip.setSelected(n,!1),t!==n&&(Ip.setSelected(t,!0),Ap(this,gu,"m",Au).call(this,e,t),e.dispatchEvent(new Event("change",{bubbles:!0})))},Au=function(e,t){Ap(this,gu,"m",Tu).call(this,e).textContent=Ip.getLabel(t)},Ru=function(e){const t=e.querySelector(":scope > .box"),{style:n}=t,{bottom:s,left:i}=e.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Mu=function(e){const{currentTarget:t,target:n}=e,s=t;if(this.toggle(s),this.getExpanded(s))(this.selectedOption(s)??this.options(s)[0])?.focus({preventScroll:!0});else{const e=n.closest(".option");e&&Ap(this,gu,"m",Iu).call(this,s,e)}},Ou=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},Wu=function(e){const{currentTarget:t,key:n}=e,s=t,i=this.getExpanded(s),r=Ap(this,gu,"m",Su).call(this,s),o=this.selectedOption(s);switch(n){case"ArrowUp":if(i){const e=r?Ap(this,gu,"m",Lu).call(this,r):Ap(this,gu,"m",Pu).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?Ap(this,gu,"m",Lu).call(this,o):Ap(this,gu,"m",Pu).call(this,s);e&&Ap(this,gu,"m",Iu).call(this,s,e)}e.stopPropagation();break;case"ArrowDown":if(i){const e=r?Ap(this,gu,"m",Nu).call(this,r):Ap(this,gu,"m",Cu).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?Ap(this,gu,"m",Nu).call(this,o):Ap(this,gu,"m",Cu).call(this,s);e&&Ap(this,gu,"m",Iu).call(this,s,e)}e.stopPropagation();break;case"Home":{const t=Ap(this,gu,"m",Pu).call(this,s);t&&(i?t.focus({preventScroll:!0}):Ap(this,gu,"m",Iu).call(this,s,t)),e.stopPropagation();break}case"End":{const t=Ap(this,gu,"m",Cu).call(this,s);t&&(i?t.focus({preventScroll:!0}):Ap(this,gu,"m",Iu).call(this,s,t)),e.stopPropagation();break}case"Enter":i?(this.collapse(s),r&&Ap(this,gu,"m",Iu).call(this,s,r)):(this.expand(s),o?.focus({preventScroll:!0})),e.stopPropagation();break;case"Escape":i&&this.collapse(s),e.stopPropagation();break;default:{const{length:t}=n;if(1==t){const t=n.charCodeAt(0),i=this.options(s),o=r?i.indexOf(r):-1,a=i.find(((e,n)=>Ip.getLabel(e).toLowerCase().charCodeAt(0)==t&&n>o))??i.find((e=>Ip.getLabel(e).toLowerCase().charCodeAt(0)==t));a&&a.focus({preventScroll:!0}),e.stopPropagation()}break}}},ju=function(e){const{target:t}=e,n=t.closest(".option");n&&n.focus({preventScroll:!0})},Du))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Op=(new(Ga({name:"optiongroup"})((Hu=class extends Va{constructor(){super(),Fu.set(this,void 0),Mp(this,Fu,K("ul",{attributes:{class:"optiongroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Fu,"f").cloneNode(!0)}slot(e){return e}},Fu=new WeakMap,Hu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Wp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class jp extends HTMLElement{constructor(){super(),_u.add(this),Bu.set(this,void 0),Op(this,Bu,null,"f")}get model(){return Wp(this,Bu,"f")}setModel(e){e!==Wp(this,Bu,"f")&&(Op(this,Bu,e,"f"),Wp(this,_u,"m",qu).call(this))}renderLight(){}renderShadow(){}refresh(){Wp(this,_u,"m",qu).call(this)}}Bu=new WeakMap,_u=new WeakSet,qu=function(){const{shadowRoot:e}=this;if(null!==e){const t=this.renderShadow();t&&e.replaceChildren(t)}const t=this.renderLight();t&&this.replaceChildren(t)};var Dp,Fp,Hp,_p,Bp,qp,Kp,$p,Vp,Jp,Up,Gp,Xp=jp,Yp=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},zp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Zp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Qp extends W{constructor(e){super();const{rows:t=[],columns:n=[]}=e??{},s=new j(t);s.setParent(this),this.rows=s;const i=new j(n);i.setParent(this),this.columns=i}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n===e?t:void 0}));const n=(()=>{const{type:n}=e;switch(n){case String:return(n,s)=>{const i=String(e.extract(n)),r=String(e.extract(s));return t*i.localeCompare(r)};default:return(n,s)=>{const i=Number(e.extract(n)),r=Number(e.extract(s));return Math.sign(t*(i-r))}}})();this.rows.sort(n)}}class ef extends W{constructor(e){super();const{name:t,type:n,label:s,extract:i,filters:r=[]}=e;this.name=t,this.type=n,this.label=s,this.extract=i,this.filters=r,this.sortorder=1}}Yp([R()],ef.prototype,"sortorder",void 0);class tf extends W{constructor(e){super();const{id:t,name:n,age:s}=e;this.id=t,this.name=n,this.age=s}}Yp([R()],tf.prototype,"name",void 0),Yp([R()],tf.prototype,"age",void 0);let nf=class extends Xp{constructor(e){super(),Dp.add(this),Fp.set(this,void 0),Hp.set(this,void 0),_p.set(this,void 0),Bp.set(this,void 0),zp(this,_p,[],"f"),zp(this,Bp,null,"f"),this.attachShadow({mode:"open"}),zp(this,Hp,((e,t)=>K("label",{children:t.extract(e)})),"f"),zp(this,Fp,(e=>K("label",{children:e.label})),"f"),this.setModel(e??new Qp)}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){zp(this,Fp,e,"f")}setCellDelegate(e){zp(this,Hp,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > .grid")}getRowElement(e){return this.shadowRoot.querySelector(`:scope > .grid > .gridbody > .gridrow[data-index='${e.id}']`)}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > .grid > .gridhead > .gridheader[id=${e.name}]`)}getColumnCellsElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > .grid > .gridbody > .gridrow > .gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return q(K("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),K("link",{attributes:{rel:"stylesheet",href:"css/views/gridview.css"}}),K("div",{children:K("input",{attributes:{type:"search"},listeners:{input:Zp(this,Dp,"m",Up).bind(this)}})}),Ua("grid",{properties:{tabIndex:0,selectby:"row",multisectable:!0},slotted:[Ua("gridhead",{slotted:z(e.columns,(e=>Zp(this,Dp,"m",Kp).call(this,e))),listeners:{contextmenu:Zp(this,Dp,"m",Jp).bind(this),click:Zp(this,Dp,"m",Gp).bind(this)}}),Ua("gridbody",{slotted:z(e.rows,(e=>Zp(this,Dp,"m",$p).call(this,e)))})]}))}setSearchFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t;zp(this,Bp,e,"f"),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Zp(this,Dp,"m",qp).call(this,e))})),kp.clearSelection(n)}addDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t,i=Zp(this,_p,"f");i.includes(e)||(i.push(e),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Zp(this,Dp,"m",qp).call(this,e))}))),kp.clearSelection(n)}removeDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t,i=Zp(this,_p,"f"),r=i.indexOf(e);r>-1&&(i.splice(r,1),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Zp(this,Dp,"m",qp).call(this,e))}))),kp.clearSelection(n)}};Fp=new WeakMap,Hp=new WeakMap,_p=new WeakMap,Bp=new WeakMap,Dp=new WeakSet,qp=function(e){const t=Zp(this,_p,"f"),n=Zp(this,Bp,"f");return(!(t.length>0)||t.some((t=>t.filter(e))))&&(!n||n.filter(e))},Kp=function(e){return U(e,Ua("gridheader",{properties:{id:e.name},slotted:[K("span",{attributes:{class:"gridheader-content"},children:[K("span",{attributes:{class:"gridheader-label"},children:Zp(this,Fp,"f").call(this,e)})].concat(this.resizable?[Ua("widthsash",{properties:{controls:e.name}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":const{dataset:t}=e;void 0!==s?t.sortorder=s.toString():delete t.sortorder}}))},$p=function(e){const{model:t}=this;return Ua("gridrow",{dataset:{index:e.id},slotted:z(t.columns,(t=>Zp(this,Dp,"m",Vp).call(this,e,t)))})},Vp=function(e,t){return Ua("gridcell",{properties:{headers:t.name},slotted:K("span",{attributes:{class:"gridcell-content"},children:[K("span",{attributes:{class:"gridcell-label"},children:Zp(this,Hp,"f").call(this,e,t)})]})})},Jp=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,r=s,o=i.closest(".gridheader"),{model:a}=this;if(o){const s=a.getColumnByName(o.id),i=Ua("menu",{properties:{contextual:!0,position:{x:t,y:n}},slotted:[Ua("menuitem",{properties:{label:"Resize Auto"},listeners:{click:()=>{const e=this.getColumnHeaderElement(s);if(e){const{style:t}=e,n=this.getColumnCellsElements(s).map((e=>e.querySelector(".gridcell-label"))).reduce(((e,t)=>Math.max(e,t.getBoundingClientRect().width)),0);t.setProperty("width",`${n}px`)}}}}),Ua("menuitem",{properties:{label:"Resize To Default"},listeners:{click:()=>{const e=this.getColumnHeaderElement(s);if(e){const{style:t}=e;t.removeProperty("width")}}}}),Ua("menuitem",{properties:{type:"submenu",label:"Sort"},slotted:[Ua("menu",{slotted:[Ua("menuitem",{properties:{type:"radio",name:"sort",value:"1",label:"Ascending"}}),Ua("menuitem",{properties:{type:"radio",name:"sort",value:"-1",label:"Descending"}})],listeners:{click:e=>{const{target:t}=e,n=t;n.classList.contains("menuitem")&&a.sortByColumn(s,Number(Vu.getValue(n)))}}})]}),Ua("menuitem",{properties:{type:"submenu",label:"Filter"},slotted:[Ua("menu",{slotted:s.filters.map(((e,t)=>Ua("menuitem",{properties:{type:"checkbox",checked:Zp(this,_p,"f").includes(e),label:e.name},listeners:{click:t=>{const{currentTarget:n}=t,s=n;Vu.getChecked(s)?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}})))})]})]});r.append(i),i.focus({preventScroll:!0}),e.preventDefault()}},Up=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().includes(e.toLowerCase())}:null)}},Gp=function(e){const{target:t}=e;if(t.matches(":is(.gridheader-label, .gridheader-label :scope)")){const e=t.closest(".gridheader"),{model:n}=this,{columns:s}=n;if(e){const t=Array.from(s.values()).find((t=>t.name==e.id));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Yp([H({type:Boolean,observed:!0})],nf.prototype,"resizable",void 0),Yp([H({type:Boolean,observed:!0})],nf.prototype,"sortable",void 0),nf=Yp([_({name:"e-gridview"})],nf);var sf,rf,of,af,cf,lf,hf,df,uf,pf,ff,mf,bf,gf=nf,wf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class vf extends W{constructor(e){super(),sf.add(this);const{items:t,sortFunction:n}=e??{},s=new j(t??[]);s.setParent(this),this.childItems=s,this.items=new j(this.flattenItems()),this.sortFunction=n??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",wf(this,sf,"m",rf).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...vf.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:r}=n,{length:o}=r;if(e.startsWith(r)){if("/"==e.charAt(o))return vf.prototype.getItemByUri.call(n,e);if(o==s)return n}}return null}}sf=new WeakSet,rf=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof j&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:r}=e,o=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(r.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...o),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class yf{constructor(e){this.items=e}get count(){return this.items.length}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ef||n instanceof vf){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class Ef extends W{constructor(e){super();const{label:t,type:n,items:s}=e,i=new j(s??[]);i.setParent(this),this.childItems=i,this.label=t,this.type=n}get uri(){const{parentNode:e}=this;return e instanceof Ef?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Ef?e:null}remove(){const{parentNode:e}=this;if(e instanceof Ef||e instanceof vf){const{childItems:t}=e;t&&t.remove(this)}}}let Sf=class extends Xp{constructor(e){super(),of.add(this),af.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,af,new WeakMap,"f"),this.itemContentDelegate=function(e){return U(e,K("span"),["label"],((e,t,n,s)=>{e.textContent=s}))},this.itemContextMenuDelegate=function(e,t){return q(Ua("menuitemgroup",{slotted:[Ua("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{const e=new yf(t),{count:n}=e;confirm(`Remove ${n} items?`)&&e.remove()}}})]}))},this.setModel(e??new vf)}treeElement(){return this.shadowRoot.querySelector(".tree")}treeItemElement(e){return this.shadowRoot.querySelector(`.treeitem[uri=${e.uri}]`)}renderLight(){const{model:e}=this;return q(Ua("tree",{properties:{tabIndex:0},slotted:z(e.childItems,(t=>wf(this,of,"m",lf).call(this,t,e))),listeners:{dragstart:wf(this,of,"m",df).bind(this),drop:wf(this,of,"m",uf).bind(this),contextmenu:wf(this,of,"m",pf).bind(this),keydown:wf(this,of,"m",bf).bind(this),focusin:wf(this,of,"m",ff).bind(this),focusout:wf(this,of,"m",mf).bind(this)}}),K("div",{attributes:{class:"offscreen",hidden:!0},children:z(e.items,(e=>wf(this,of,"m",hf).call(this,e)))}))}selectedItems(e){const{model:t}=this;return np.selectedItems(e).map((e=>t.getItemByUri(e.dataset.uri)))}};af=new WeakMap,of=new WeakSet,cf=function(e){return wf(this,af,"f").get(e)?.deref()??null},lf=function e(t,n){return Ua("treeitem",{properties:{type:t.type,draggable:!0},dataset:{uri:t.uri},slotted:{content:this.itemContentDelegate.call(this,t),group:"parent"==t.type?[Ua("treeitemgroup",{slotted:z(t.childItems,(t=>wf(this,of,"m",e).call(this,t,n)))})]:[]}})},hf=function(e){const t=U(e,K("span",{attributes:{class:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return wf(this,af,"f").set(e,new WeakRef(t)),t},df=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".treeitem"),{model:r}=this;if(i){const{dataTransfer:t}=e,n=np.selectedItems(s),{length:i}=n;if(i>0){const e=n.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),s=e.join("\n"),i=e[e.length-1],o=r.getItemByUri(i);if(o&&t){t.dropEffect="move",t.setData("text/plain",s);const e=wf(this,of,"m",cf).call(this,o);e&&t.setDragImage(e,-16,0)}}}},uf=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".treeitem"),{model:r}=this,{sortFunction:o}=r;if(i){const{dataTransfer:t}=e;if(t){const e=i.dataset.uri,n=r.getItemByUri(e),a=t.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>r.getItemByUri(e))).filter((e=>null!==e)),{type:t,parentItem:c}=n,{childItems:l}="parent"==t?n:c||r;Array.from(l.values()).forEach((t=>{const n=e.findIndex((e=>e.label==t.label));n>-1&&(confirm(`Replace ${t.label}?`)?l.remove(t):(e.copyWithin(n,n+1),e.length--))})),new yf(e).remove(),o?(l.beginChanges(),l.append(...e),l.sort(o),l.endChanges()):l.insert(Qu.getPosInSet(i),...e);const h=s.querySelectorAll(`.treeitem:is(${e.map((e=>`[data-uri="${e.uri}"]`)).join(",")})`);np.beginSelection(s),h.forEach((e=>{Qu.setSelected(e,!0)})),np.endSelection(s)}}}},pf=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,r=s,o=i.closest(".treeitem"),{model:a,itemContextMenuDelegate:c}=this;if(c&&o){const e=a.getItemByUri(o.dataset.uri),s=Ua("menu",{properties:{contextual:!0,position:{x:t,y:n}},slotted:c.call(this,e,this.selectedItems(r)),listeners:{close:()=>{o.focus({preventScroll:!0})}}});r.append(s),s.focus({preventScroll:!0})}e.preventDefault()},ff=function(e){const{target:t}=e,n=t;if(n.matches(".treeitem")){const e=n.querySelector(".toolbar");e&&(e.tabIndex=0)}},mf=function(e){const{target:t}=e,n=t;if(n.matches(".treeitem")){const e=n.querySelector(".toolbar");e&&(e.tabIndex=-1)}},bf=function(e){const{currentTarget:t,key:n}=e,s=t;switch(n){case"Delete":{const t=new yf(this.selectedItems(s)),{count:n}=t;confirm(`Remove ${n} items?`)&&t.remove(),s.focus(),e.preventDefault();break}}},Sf=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([_({name:"e-treeview"})],Sf);var Tf,xf,kf=Sf,Pf=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};class Cf extends yf{constructor(e){super(e)}get count(){return this.items.length}show(){this.items.forEach((e=>e.show()))}hide(){this.items.forEach((e=>e.hide()))}display(){const e=this.items.reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}}class Lf extends Ef{constructor(e){super(e),Tf.add(this),this.childCount=this.childItems.length,this.visibility=!0,this.addEventListener("modelchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Tf,"m",xf).bind(this))}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}}async function Nf(){!async function(){const e=new gf;e.resizable=!0,e.setModel(new Qp({columns:[new ef({name:"name",type:String,label:"Name",extract:e=>e.name}),new ef({name:"age",type:Number,label:"Age",extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]}),new ef({name:"birthyear",type:String,label:"Brith Year",extract:e=>(new Date).getFullYear()-e.age})],rows:[new tf({id:1,name:"Denis",age:13}),new tf({id:2,name:"Jean-Charles",age:32}),new tf({id:3,name:"Charles",age:25}),new tf({id:4,name:"Mamagubida",age:128})]})),document.body.append(e);const t=new vf({items:[new Lf({label:"TI 0",type:"parent",items:[new Lf({label:"TI 1A",type:"parent",items:[new Lf({type:"leaf",label:"TI 1AX"})]}),new Lf({type:"parent",label:"TI 1B"})]}),new Lf({label:"TI 1",type:"parent",items:[new Lf({label:"TI 1A",type:"parent",items:[new Lf({type:"leaf",label:"TI 1AX"})]}),new Lf({type:"parent",label:"TI 1B"})]}),new Lf({type:"leaf",label:"TI 2"}),new Lf({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}}),n=new kf(t);n.itemContentDelegate=e=>q(...[U(e,K("span",{attributes:{class:"label"}}),["label"],((e,t,n,s)=>{e.textContent=s}))].concat("parent"==e.type?[U(e,K("span",{attributes:{class:"badge"}}),["childCount"],((e,t,n,s)=>{e.textContent=`(${s})`}))]:[]).concat([U(e,Ua("toolbar",{slotted:[Ua("toolbaritem",{properties:{name:"visibility",type:"checkbox",label:"Visibility"},listeners:{click:()=>{e.visibility?e.hide():e.show()}}})]}),["visibility"],((e,t,n,s)=>{switch(t){case"visibility":{const t=fp.slot(e)?.querySelector(".toolbaritem[name=visibility]");if(t){const e=s?"Hide":"Show";dp.setLabel(t,e),dp.setTitle(t,e),dp.setPressed(t,s)}}}}))])),n.itemContextMenuDelegate=(e,t)=>q(Ua("menuitemgroup",{slotted:[Ua("menuitem",{properties:{label:"Display"},listeners:{click:()=>{new Cf(t).display()}}}),Ua("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{const e=new Cf(t),{count:s}=e;confirm(`Remove ${s} items?`)&&e.remove(),n.treeElement().focus()}}})]}),Ua("menuitemgroup",{slotted:[Ua("menuitem",{properties:{type:"checkbox",label:e.visibility?"Hide":"Show"},listeners:{click:()=>{const n=new Cf(t);e.visibility?n.hide():n.show()}}})]})),n.refresh(),document.body.append(n),document.body.append(K("e-menubar",{children:K("e-menuitem",{attributes:{type:"menu",label:"Menu 1"},children:["Menu 1",K("e-menu",{attributes:{slot:"menu"},children:[K("e-menuitem",{attributes:{type:"checkbox"},children:"Hey"}),K("e-menuitem",{attributes:{type:"submenu"},children:["Submenu 1",K("e-menu",{attributes:{slot:"menu"},children:[new ke({label:"Yo"})]})]})]})]})}));const s=Ua("menubar",{slotted:[Ua("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu",disabled:!0},slotted:[Ua("menu",{slotted:[Ua("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),Ua("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu"},slotted:[Ua("menu",{slotted:[Ua("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),Ua("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},slotted:[Ua("menu",{slotted:[Ua("menuitemgroup",{slotted:[Ua("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B",disabled:!0,checked:!0}}),Ua("menuitem",{properties:{type:"button",label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),Ua("separator"),Ua("menuitem",{properties:{label:"Submenu",type:"submenu"},slotted:[Ua("menu",{slotted:[Ua("menuitem",{properties:{label:"MenuItem 1",type:"radio",name:"radio",value:"1"}}),Ua("menuitem",{properties:{type:"radio",label:"MenuItem 2",name:"radio",value:"2"}}),Ua("menuitem",{properties:{type:"radio",label:"MenuItem 3",name:"radio",value:"3"}})]})]})]})]})]});document.body.append(s),document.body.append(Ua("combobox",{slotted:[Ua("option",{properties:{label:"First option"}}),Ua("option",{properties:{label:"Second option"}}),Ua("option",{properties:{label:"Third option",selected:!0}})]}))}()}Tf=new WeakSet,xf=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},Pf([R()],Lf.prototype,"childCount",void 0),Pf([R()],Lf.prototype,"visibility",void 0)})(),main=t})();
//# sourceMappingURL=main.js.map