var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>ad});var n,s=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};n=new WeakMap;var o,i,r,a,c,l,h,d,p,f,u,m,g,v,b,w,y,E,x,k=new class{constructor(){n.set(this,void 0),function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?o.call(e,n):o?o.value=n:t.set(e,n)}(this,n,new Map,"f")}define(e,t){s(this,n,"f").set(e,t)}create(e){const t=s(this,n,"f").get(e);if(void 0!==t)return new t;throw new Error}},T=class{constructor(e){this.element=e}click(){this.element.click()}focus(e){this.element.focus(e)}blur(){this.element.blur()}contains(e){return this.element.contains(e)}},S=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},P=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class I{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new R(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new R(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return I.PROPERTY_CHANGE}get LIST_REMOVE(){return I.LIST_REMOVE}get LIST_INSERT(){return I.LIST_INSERT}get LIST_SORT(){return I.LIST_SORT}}var C=I;o=new WeakMap;var R=class{constructor(e){o.set(this,void 0),S(this,o,e.slice(),"f")}get length(){return P(this,o,"f").length}item(e){return P(this,o,"f")[e]??null}values(){return P(this,o,"f").values()}};class N{constructor(e){i.set(this,void 0),r.set(this,void 0),this.type=e,S(this,i,null,"f"),S(this,r,null,"f")}get currentTarget(){return P(this,i,"f")}get target(){return P(this,r,"f")}}i=new WeakMap,r=new WeakMap,N.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof N&&S(e,i,t,"f")}setTarget(e,t){e instanceof N&&S(e,r,t,"f")}};var L=N.ModelEventTargetAccessor;delete N.ModelEventTargetAccessor;var O=N;a=new WeakMap;class j extends class{constructor(){a.set(this,void 0),S(this,a,new Map,"f")}receiveEvent(e){const{type:t}=e,n=P(this,a,"f").get(t);L.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=P(this,a,"f").get(e);n?n.push(t):P(this,a,"f").set(e,[t])}removeEventListener(e,t){const n=P(this,a,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&P(this,a,"f").delete(e)}}dispatchEvent(e){L.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),c.add(this),l.set(this,void 0),h.set(this,void 0),d.set(this,void 0),S(this,l,null,"f"),S(this,h,[],"f"),S(this,d,!1,"f")}get parentNode(){return P(this,l,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");S(this,l,e,"f")}else S(this,l,null,"f")}beginChanges(){S(this,d,!0,"f")}endChanges(){this.dispatchEvent(new O("modelchange")),P(this,h,"f").splice(0),S(this,d,!1,"f")}getRecords(){return P(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}l=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakSet,p=function(e,t,n){const s=P(this,h,"f"),o=new C({target:this,changeType:C.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(o),this.dispatchEvent(new O("modelchange")),s.splice(0)},f=function(e){P(this,h,"f").push(e),P(this,d,"f")||(this.dispatchEvent(new O("modelchange")),P(this,h,"f").splice(0))},j.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof j&&P(e,c,"m",p).call(e,t,n,s)}handleRecord(e,t){e instanceof j&&P(e,c,"m",f).call(e,t)}};var M=j.ModelNodeRecordsAccessor;delete j.ModelNodeRecordsAccessor;var A=j;const W=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=D.getProperty(this,t);return D.setProperty(this,t,e),e!==n&&M.triggerChange(this,t,n,e),!0},get:function(){return D.getProperty(this,t)},enumerable:!0})}};class F extends j{constructor(){super(),u.set(this,void 0),S(this,u,new Map,"f")}}u=new WeakMap,F.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof F&&P(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof F)return P(e,u,"f").get(t)}};var D=F.ModelObjectPropertiesAccessor;delete F.ModelObjectPropertiesAccessor;var _=F;m=new WeakMap;var B=class extends j{constructor(e){super(),m.set(this,void 0),S(this,m,e?.slice()??[],"f")}setParent(e){super.setParent(e),P(this,m,"f").forEach((t=>{t.setParent(e)}))}get length(){return P(this,m,"f").length}get(e){return P(this,m,"f")[e]??null}index(e,t){return P(this,m,"f").indexOf(e,t)}values(){return P(this,m,"f").values()}sort(e){const t=P(this,m,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),S(this,m,t.map((e=>e.item)),"f");const n=new C({target:this,changeType:C.LIST_SORT,sortedIndices:t.map((e=>e.index))});M.handleRecord(this,n)}prepend(...e){const t=P(this,m,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:0,insertedItems:e});M.handleRecord(this,s)}append(...e){const t=P(this,m,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const o=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:n,insertedItems:e});M.handleRecord(this,o)}insert(e,...t){const n=P(this,m,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:o}=this;t.forEach((e=>{e.setParent(o)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:o}=this;o&&t.forEach((e=>{e.setParent(o)})),n.splice(e,0,...t)}const o=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});M.handleRecord(this,o)}}remove(e){const t=P(this,m,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const o=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:n,removedItems:[e]});M.handleRecord(this,o)}}clear(){const e=P(this,m,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:0,removedItems:t});M.handleRecord(this,s)}}};v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap,g=new WeakSet,E=function(){const e=P(this,b,"f").splice(0);e.length>0&&P(this,v,"f").call(this,e)},x=function(e){if(!P(this,w,"f")){const{target:t,currentTarget:n}=e,s=P(this,y,"f").get(n);if(s){const{options:e}=s,{properties:o,propertiesFilter:i,childList:r,subtree:a}=e;a?o&&t instanceof A?(i?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):t==n&&(o&&t instanceof A?(i?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)))}}};var H=class{constructor(e){g.add(this),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),y.set(this,void 0),S(this,v,e,"f"),S(this,b,[],"f"),S(this,w,!1,"f"),S(this,y,new WeakMap,"f")}observe(e,t){S(this,w,!1,"f");const n=P(this,y,"f");let s=n.get(e);if(s)n.set(e,s);else{const o=P(this,g,"m",x).bind(this);e.addEventListener("modelchange",o),s={listener:o,options:t},n.set(e,s)}}unobserve(e){let t=P(this,y,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){P(this,b,"f").splice(0),S(this,w,!0,"f")}};function K(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const V=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:o}=s,i=n.toString(),r=K(i),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(r):Object.defineProperty(s,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(o,i,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(o,i,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(o,i,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(o,i,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},$=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}},q=function(e){return t=>{const{name:n}=e;return k.define(n,t),t}};function*J(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*J(e)),s++}}function U(...e){const t=document.createDocumentFragment();return t.append(...e),t}function X(e,t){if(t){const{options:n,properties:s,part:o,exportParts:i,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==s[e]&&Object.assign(d,{[e]:t})})),o){const{part:e}=d;o.forEach((t=>{e.add(t)}))}if(i&&d.setAttribute("exportparts",i.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(K(e),""):d.setAttribute(K(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.append(...c(d)):d.append(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}function Y(e,t){const n=k.create(e);if(t){const{element:e}=n,{properties:s,attributes:o,dataset:i,children:r,eventListeners:a,style:c}=t;if(s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==s[e]&&Object.assign(n,{[e]:t})})),o&&Object.keys(o).forEach((t=>{const n=o[t];"boolean"==typeof n?n&&e.setAttribute(K(t),""):e.setAttribute(K(t),n.toString())})),c){const{style:t}=e;Object.keys(c).forEach((e=>{Array.isArray(c[e])?t.setProperty(e,c[e][0],c[e][1]):t.setProperty(e,c[e])}))}if(i){const{dataset:t}=e;Object.keys(i).forEach((e=>{t[e]=i[e].toString()}))}r&&("function"==typeof r?e.append(...r(e)):e.append(...Array.from(r))),a&&Object.entries(a).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return n}const z=new WeakMap,G=new FinalizationRegistry((e=>{const{model:t,reactiveObject:n}=e,s=z.get(t);if(void 0!==s){const{reactiveObjectsArray:e}=s;e.splice(e.indexOf(n),1)}})),Z=new H((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:o}=e,{reactiveObjectsArray:i}=z.get(t);i.forEach((e=>{const{objectRef:t,react:i,properties:r}=e,a=t.deref();a&&r.includes(n)&&i(a,n,s,o)}))}))}));function Q(e,t,n,s){const o={objectRef:new WeakRef(t),react:s,properties:n},i=z.get(e);if(G.register(X,{model:e,reactiveObject:o}),i){const{reactiveObjectsArray:e,observerOptions:t}=i,{propertiesFilter:s}=t;e.push(o),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[o];z.set(e,{observerOptions:t,reactiveObjectsArray:s}),Z.observe(e,t)}return n.forEach((n=>{if(n in e){const o=Reflect.get(e,n,e);void 0!==o&&s(t,n,void 0,o)}})),t}const ee=new WeakMap,te=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=ee.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),ne=new H((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:o}=s,{reactiveChildElementsArray:i}=ee.get(s);i.forEach((n=>{const{parentRef:s,mapping:i,placeholder:r}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;r&&o>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,o=Array.from(n.values()).map(i),{length:r}=s;t<r?s[t].before(...o):a.append(...o);break}case d:{const{removedIndex:n,removedItems:o}=e,{length:i}=o;t=t??document.createRange();const r=n+(i-1);r<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==o&&r&&a.append(r)}}))}))}));function se(e,t,n){return s=>{const o=new WeakRef(s),i=ee.get(e),r={parentRef:o,mapping:t,placeholder:n};if(te.register(s,{list:e,reactiveChildElement:r}),i){const{reactiveChildElementsArray:e}=i;e.push(r)}else{const t=[r];ee.set(e,{reactiveChildElementsArray:t}),ne.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function oe(e,t,n,s,o){if(t==s)switch(e){case"boolean":return""==n&&""==o;case"string":return""!==n&&n==o;case"list":return""!==n&&null!==o&&new RegExp(`${n}s*?`,"g").test(o)}return!1}var ie,re,ae;let ce=class extends HTMLElement{constructor(){super(),ie.add(this);const e=this.attachShadow({mode:"open"});e.append(ae.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ie,"m",re).bind(this))}};ie=new WeakSet,re=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t}))},(ae=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),X("slot")),ce=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-treeitemgroup"})],ce);var le,he,de,pe,fe,ue=ce,me=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ge=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ve=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let be=class extends HTMLElement{constructor(){super(),le.add(this),he.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(fe.content.cloneNode(!0)),e.addEventListener("slotchange",ge(this,le,"m",pe).bind(this)),this.addEventListener("click",ge(this,le,"m",de).bind(this)),ve(this,he,null,"f")}get group(){return ge(this,he,"f")}connectedCallback(){this.level=(()=>{let e=0,{parentElement:t}=this;for(;t instanceof ue;){if(e++,({parentElement:t}=t),!(t instanceof Qe))return e;({parentElement:t}=t)}return t instanceof at&&e++,e})()}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};he=new WeakMap,le=new WeakSet,de=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:o}=this;this!=t||"parent"!=o||n||s||this.toggle()},pe=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ve(this,he,e instanceof ue?e:null,"f");break}}},fe=X("template",{content:[X("div",{part:["content"],children:[X("span",{part:["arrow"]}),X("slot")]}),X("slot",{properties:{name:"group"}})]}),me([V({type:String})],be.prototype,"name",void 0),me([V({type:Number})],be.prototype,"posinset",void 0),me([V({type:String,observed:!0})],be.prototype,"label",void 0),me([V({type:Boolean,observed:!0})],be.prototype,"expanded",void 0),me([V({type:Boolean})],be.prototype,"droptarget",void 0),me([V({type:Boolean})],be.prototype,"active",void 0),me([V({type:Boolean,observed:!0})],be.prototype,"selected",void 0),me([V({type:Number,observed:!0})],be.prototype,"level",void 0),me([V({type:String,defaultValue:"leaf"})],be.prototype,"type",void 0),be=me([$({name:"e-treeitem"})],be);var we,ye,Ee,xe,ke,Te,Se,Pe,Ie,Ce,Re,Ne,Le,Oe,je,Me,Ae,We,Fe,De,_e,Be,He,Ke,Ve,$e,qe,Je,Ue,Xe,Ye,ze,Ge,Ze,Qe=be,et=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},tt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},nt=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let st=class extends HTMLElement{constructor(){super(),we.add(this),ye.set(this,void 0),Ee.set(this,void 0),xe.set(this,void 0),ke.set(this,void 0),Te.set(this,void 0),nt(this,Te,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,tt(this,we,"m",Se).bind(this)),"f"),nt(this,ye,-1,"f"),nt(this,Ee,-1,"f"),nt(this,xe,!1,"f"),nt(this,ke,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Ze.content.cloneNode(!0)),this.addEventListener("click",tt(this,we,"m",De).bind(this)),this.addEventListener("contextmenu",tt(this,we,"m",_e).bind(this),!0),this.addEventListener("dragend",tt(this,we,"m",Be).bind(this)),this.addEventListener("dragenter",tt(this,we,"m",He).bind(this)),this.addEventListener("dragleave",tt(this,we,"m",Ve).bind(this)),this.addEventListener("dragover",tt(this,we,"m",Ke).bind(this)),this.addEventListener("dragstart",tt(this,we,"m",$e).bind(this)),this.addEventListener("drop",tt(this,we,"m",qe).bind(this)),this.addEventListener("focus",tt(this,we,"m",Ue).bind(this)),this.addEventListener("focusin",tt(this,we,"m",Xe).bind(this)),this.addEventListener("focusout",tt(this,we,"m",Ye).bind(this)),this.addEventListener("keydown",tt(this,we,"m",Je).bind(this)),this.addEventListener("select",tt(this,we,"m",ze).bind(this)),e.addEventListener("slotchange",tt(this,we,"m",Ge).bind(this))}get activeIndex(){return tt(this,ye,"f")}get activeItem(){return this.items.item(tt(this,ye,"f"))??null}get dropTargetItem(){return this.items.item(tt(this,Ee,"f"))??null}selectedItems(){const e=[],t=tt(this,Te,"f");t.currentNode=t.root;let n=tt(this,we,"m",je).call(this);for(;null!==n;)n.selected&&e.push(n),n=tt(this,we,"m",We).call(this,n);return e}beginSelection(){nt(this,xe,!0,"f")}endSelection(){nt(this,xe,!1,"f"),tt(this,ke,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),nt(this,ke,!1,"f"))}};ye=new WeakMap,Ee=new WeakMap,xe=new WeakMap,ke=new WeakMap,Te=new WeakMap,we=new WeakSet,Se=function(e){return e instanceof Qe?NodeFilter.FILTER_ACCEPT:e instanceof ue?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pe=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=tt(this,we,"m",We).call(this,e);for(;s&&s!==t;)n.push(s),s=tt(this,we,"m",We).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=tt(this,we,"m",Ae).call(this,e);for(;s&&s!==t;)n.push(s),s=tt(this,we,"m",Ae).call(this,s);return n.push(t),n}return[]},Ie=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ce=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Re=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ne=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Le=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e?(tt(this,Te,"f").currentNode=e,e.active=!0,e.tabIndex=0,nt(this,ye,Array.from(n).indexOf(e),"f")):nt(this,ye,-1,"f")},Oe=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,nt(this,Ee,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,nt(this,Ee,-1,"f"))},je=function(){const e=tt(this,Te,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Me=function(){const e=tt(this,Te,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ae=function(e){const t=tt(this,Te,"f");t.currentNode=e;const n=t.previousSibling();return n?tt(this,we,"m",Fe).call(this,n):t.parentNode()},We=function(e){const t=tt(this,Te,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Fe=function e(t){if(t.expanded){const t=tt(this,Te,"f").lastChild();if(t)return tt(this,we,"m",e).call(this,t)}return t},De=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,o=this.selectedItems();if(t instanceof Qe)if(s||n){if(n){const{selected:n}=t;n&&t.blur(),n?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t),e.stopPropagation()}else if(s){const n=o[o.length-1];if(n){const e=tt(this,we,"m",Pe).call(this,n,t);e&&(o.includes(t)?tt(this,we,"m",Re).call(this,...e):tt(this,we,"m",Ce).call(this,...e))}else tt(this,we,"m",Ie).call(this,t);e.stopPropagation()}}else tt(this,we,"m",Ie).call(this,t)},_e=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,we,"m",Ie).call(this,t),e.preventDefault())},Be=function(){tt(this,we,"m",Oe).call(this,null)},He=function(e){const{target:t}=e;if(t instanceof Qe){const{type:e}=t;"parent"==e&&t.toggle(!0),tt(this,we,"m",Oe).call(this,t)}e.preventDefault()},Ke=function(e){e.preventDefault()},Ve=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||tt(this,we,"m",Oe).call(this,null)}},$e=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,we,"m",Ie).call(this,t))},qe=function(){tt(this,we,"m",Oe).call(this,null)},Je=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=tt(this,Te,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),o=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&o){const e=tt(this,we,"m",Pe).call(this,s,tt(this,we,"m",Fe).call(this,o));e&&tt(this,we,"m",Ie).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=tt(this,Te,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=tt(this,we,"m",Ae).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t))}}else{const e=tt(this,we,"m",je).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=tt(this,we,"m",We).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t))}}else{const e=tt(this,we,"m",Me).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=tt(this,we,"m",je).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=tt(this,we,"m",Me).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(tt(this,we,"m",Ie).call(this,n),n.click()),e.stopPropagation();break;case"Escape":tt(this,we,"m",Ne).call(this),tt(this,we,"m",Le).call(this,null),this.focus(),e.stopPropagation()}},Ue=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Xe=function(e){const{target:t}=e;t instanceof Qe&&(tt(this,we,"m",Le).call(this,t),this.tabIndex=-1)},Ye=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},ze=function(){tt(this,xe,"f")?nt(this,ke,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ge=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t}))},(Ze=X("template")).content.append(X("slot")),et([V({type:Boolean})],st.prototype,"droptarget",void 0),et([V({type:String})],st.prototype,"name",void 0),st=et([$({name:"e-tree"})],st);var ot,it,rt,at=st,ct=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},lt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class ht extends HTMLElement{constructor(){super(),ot.add(this),it.set(this,void 0),ct(this,it,null,"f")}get model(){return lt(this,it,"f")}setModel(e){ct(this,it,e,"f"),lt(this,ot,"m",rt).call(this)}renderLight(){}renderShadow(){}refresh(){lt(this,ot,"m",rt).call(this)}}it=new WeakMap,ot=new WeakSet,rt=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var dt,pt,ft,ut,mt,gt,vt,bt,wt,yt,Et,xt,kt,Tt,St,Pt=ht,It=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Ct=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Rt=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};class Nt extends _{constructor(e){super(),dt.add(this);const t=new B(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new B(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Ct(this,dt,"m",pt).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Nt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let o=0;o<n;o++){const n=t.get(o),{uri:i}=n,{length:r}=i;if(e.startsWith(i)){if("/"==e.charAt(r))return Nt.prototype.getItemByUri.call(n,e);if(r==s)return n}}return null}}dt=new WeakSet,pt=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:o}=this;t instanceof B&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:i}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...o.call(e)))),a=Array.from(i.values()).flatMap((e=>Array.of(e,...o.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class Lt{constructor(e){ft.set(this,void 0),Rt(this,ft,e,"f")}static from(e){return new Lt(e)}static of(...e){return new Lt(e)}show(){console.log(Ct(this,ft,"f")),Ct(this,ft,"f").forEach((e=>e.show()))}hide(){Ct(this,ft,"f").forEach((e=>e.hide()))}display(){const e=Ct(this,ft,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Ct(this,ft,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ot||n instanceof Nt){const{childItems:s}=n,o=e.get(s);o?o.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ft=new WeakMap;class Ot extends _{constructor(e){super(),ut.add(this);const{label:t,type:n}=e,s=new B(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",Ct(this,ut,"m",mt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Ot?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Ot?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Ot||e instanceof Nt){const{childItems:t}=e;t&&t.remove(this)}}}ut=new WeakSet,mt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},It([W()],Ot.prototype,"childCount",void 0),It([W()],Ot.prototype,"visibility",void 0);let jt=class extends Pt{constructor(e){super(),gt.add(this),vt.set(this,void 0),bt.set(this,void 0),wt.set(this,void 0),Rt(this,wt,new WeakMap,"f"),Rt(this,bt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Nt)}getTreeElement(){return Ct(this,vt,"f")?.deref()??null}getTreeItemElement(e){return Ct(this,wt,"f").get(e)?.deref()??null}getDragImageElement(e){return Ct(this,bt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=X("e-tree",{properties:{tabIndex:0},children:se(e.childItems,(e=>Ct(this,gt,"m",yt).call(this,e))),eventListeners:{dragstart:Ct(this,gt,"m",xt).bind(this),drop:Ct(this,gt,"m",kt).bind(this),contextmenu:Ct(this,gt,"m",Tt).bind(this),keydown:Ct(this,gt,"m",St).bind(this)}});return Rt(this,vt,new WeakRef(t),"f"),U(X("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),X("link",{properties:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,X("div",{properties:{className:"offscreen",hidden:!0},children:se(e.items,(e=>Ct(this,gt,"m",Et).call(this,e)))}))}};vt=new WeakMap,bt=new WeakMap,wt=new WeakMap,gt=new WeakSet,yt=function e(t){const n=Q(t,X("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:("parent"==t.type?[X("e-treeitemgroup",{properties:{slot:"group"},children:se(t.childItems,(t=>Ct(this,gt,"m",e).call(this,t)))})]:[]).concat([X("span",{properties:{className:"label"}})]).concat("parent"==t.type?[X("span",{properties:{className:"badge"}})]:[]).concat([X("e-toolbar",{properties:{tabIndex:0},children:[X("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=s);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${s})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=s?"Hide":"Show",e.checked=s)}}}}));return Ct(this,wt,"f").set(t,new WeakRef(n)),n},Et=function(e){const t=Q(e,X("span",{properties:{className:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return Ct(this,bt,"f").set(e,new WeakRef(t)),t},xt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this;if(t instanceof at&&n instanceof Qe){const{dataTransfer:n}=e,o=t.selectedItems(),{length:i}=o;if(i>0){const e=o.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),i=e[e.length-1],r=s.getItemByUri(i);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},kt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,{sortFunction:o}=s;if(t instanceof at&&n instanceof Qe){const{dataTransfer:i}=e;if(i){const e=n.dataset.uri,r=s.getItemByUri(e),a=i.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>s.getItemByUri(e))).filter((e=>null!==e)),{type:i,parentItem:c}=r,l="parent"==i?r.childItems:c?c.childItems:s.childItems;Lt.from(e).remove(),o?(l.beginChanges(),l.append(...e),l.sort(o),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},Tt=function(e){const{clientX:t,clientY:n,currentTarget:s,target:o}=e,{model:i}=this;if(s instanceof at&&o instanceof Qe){const s=i.getItemByUri(o.dataset.uri),r=X("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n},children:[X("e-menuitemgroup",{properties:{tabIndex:-1},children:[X("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Lt.from(this.selectedItems()).display()}}}),X("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Lt.from(this.selectedItems()).remove()}}})]}),X("e-menuitemgroup",{properties:{tabIndex:-1},children:[X("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Lt.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{o.focus({preventScroll:!0})}}});document.body.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},St=function(e){const{currentTarget:t,key:n}=e;if(t instanceof at)switch(n){case"Delete":Lt.from(this.selectedItems()).remove(),e.preventDefault()}},jt=It([$({name:"v-tree"})],jt);var Mt=jt,At=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};class Wt extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}At([V({type:String})],Wt.prototype,"name",void 0),At([V({type:String})],Wt.prototype,"value",void 0),At([V({type:String})],Wt.prototype,"hotkey",void 0),At([V({type:String,defaultValue:"button"})],Wt.prototype,"type",void 0),At([V({type:Boolean})],Wt.prototype,"disabled",void 0),At([V({type:Boolean})],Wt.prototype,"checked",void 0);var Ft,Dt,_t,Bt=Wt;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Ft||(Ft={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Dt||(Dt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(_t||(_t={})),new WeakSet;var Ht,Kt=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Vt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Ht.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Ht=X("template")).content.append(X("slot")),Kt([V({type:String})],Vt.prototype,"name",void 0),Kt([V({type:String})],Vt.prototype,"headers",void 0),Kt([V({type:String})],Vt.prototype,"type",void 0),Kt([V({type:Number})],Vt.prototype,"posinset",void 0),Kt([V({type:Boolean})],Vt.prototype,"droptarget",void 0),Kt([V({type:Boolean})],Vt.prototype,"active",void 0),Kt([V({type:Boolean,observed:!0})],Vt.prototype,"selected",void 0),Vt=Kt([$({name:"e-gridcell"})],Vt);var $t,qt,Jt,Ut=Vt;let Xt=class extends HTMLElement{constructor(){super(),$t.add(this);const e=this.attachShadow({mode:"open"});e.append(Jt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,$t,"m",qt).bind(this))}};$t=new WeakSet,qt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(Jt=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),X("slot")),Xt=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-gridrowgroup"})],Xt);var Yt,zt,Gt,Zt,Qt,en,tn,nn,sn,on,rn,an=Xt,cn=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},ln=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};zt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,Yt=new WeakSet,en=function(){ln(this,Yt,"m",rn).call(this,ln(this,Gt,"f").takeRecords())},tn=function(e){const t=new MutationObserver(ln(this,Yt,"m",rn).bind(this));t.observe(e,{childList:!0}),ln(this,Zt,"f").set(e,t),ln(this,Yt,"m",sn).call(this,e.childNodes)},nn=function(e){const t=ln(this,Zt,"f").get(e);void 0!==t&&(t.disconnect(),ln(this,Zt,"f").delete(e)),ln(this,Yt,"m",on).call(this,e.childNodes)},sn=function(e){if(e.length>0){const t=ln(this,zt,"f"),n="function"==typeof t?t:t.acceptNode,s=[];if(e.forEach((e=>{switch(n(e)){case NodeFilter.FILTER_ACCEPT:s.push(e);break;case NodeFilter.FILTER_SKIP:ln(this,Yt,"m",tn).call(this,e);break;case NodeFilter.FILTER_REJECT:}})),s.length>0){const e=ln(this,Qt,"f").findIndex((e=>e.compareDocumentPosition(s[0])&Node.DOCUMENT_POSITION_FOLLOWING));ln(this,Qt,"f").splice(e>-1?e:0,0,...s)}}},on=function(e){if(e.length>0){const t=ln(this,zt,"f"),n="function"==typeof t?t:t.acceptNode,s=[];e.forEach((e=>{switch(n(e)){case NodeFilter.FILTER_ACCEPT:s.push(e);break;case NodeFilter.FILTER_SKIP:console.log(e),ln(this,Yt,"m",nn).call(this,e);break;case NodeFilter.FILTER_REJECT:}})),cn(this,Qt,ln(this,Qt,"f").filter((e=>!s.includes(e))),"f")}},rn=function(e){e.forEach((e=>{const{addedNodes:t,removedNodes:n}=e;ln(this,Yt,"m",on).call(this,n),ln(this,Yt,"m",sn).call(this,t)}))};var hn,dn,pn,fn=class{constructor(e,t){Yt.add(this),zt.set(this,void 0),Gt.set(this,void 0),Zt.set(this,void 0),Qt.set(this,void 0),cn(this,zt,t,"f"),cn(this,Qt,[],"f"),cn(this,Gt,new MutationObserver(ln(this,Yt,"m",rn).bind(this)),"f"),ln(this,Gt,"f").observe(e,{childList:!0}),cn(this,Zt,new WeakMap,"f")}get length(){return ln(this,Yt,"m",en).call(this),ln(this,Qt,"f").length}item(e){return ln(this,Yt,"m",en).call(this),ln(this,Qt,"f")[e]??null}values(){return ln(this,Yt,"m",en).call(this),ln(this,Qt,"f").values()}},un=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},mn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let gn=class extends Bt{constructor(){super(),hn.add(this),this.attachShadow({mode:"open"}).append(pn.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&mn(this,hn,"m",dn).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,mn(this,hn,"m",dn).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var vn;hn=new WeakSet,dn=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:o,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=i+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+o-r:l+o}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),f=i+r-h,u=n+a-d;t.setProperty("left",(f>0?o-r-p:i-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${u>0?s-a-l+w:n-l-b}px`)}}}},pn=X("template",{content:[X("span",{part:["content"],children:[X("span",{part:["icon"]}),X("span",{part:["label"],children:[X("slot")]}),X("span",{part:["arrow"]})]}),X("slot",{properties:{name:"menu"}})]}),un([V({type:Boolean})],gn.prototype,"active",void 0),un([V({type:Number})],gn.prototype,"index",void 0),un([V({type:Boolean})],gn.prototype,"expanded",void 0),un([V({type:String,defaultValue:"button",observed:!0})],gn.prototype,"type",void 0),un([(vn={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,o=t.toString(),{selector:i}=vn,r=vn.withinShadowRoot?function(){return this.shadowRoot.querySelector(i)}:function(){return this.querySelector(i)};Object.defineProperty(s,o,{get:r})})],gn.prototype,"menu",void 0),gn=un([$({name:"e-menuitem"})],gn);var bn,wn,yn,En=gn,xn=Object.assign((function(e){const{label:t,name:n,type:s,value:o,trigger:i,menu:r}=e;return r&&(r.slot="menu"),X("e-menuitem",{properties:{tabIndex:-1,title:t,name:n,value:o,type:s,textContent:t},children:r?[r]:void 0,eventListeners:{trigger:i}})}),{prototype:En.prototype,button:e=>new xn({...e,type:"button"}),checkbox:e=>new xn({...e,type:"checkbox"}),radio:e=>new xn({...e,type:"radio"}),menu:e=>new xn({...e,type:"menu"}),submenu:e=>new xn({...e,type:"submenu"})}),kn=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Tn=class extends HTMLElement{constructor(){super(),bn.add(this);const e=this.attachShadow({mode:"open"});e.append(yn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,bn,"m",wn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};bn=new WeakSet,wn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof En)).forEach(((e,t)=>{e.index=t}))},(yn=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),X("slot")),kn([V({type:String})],Tn.prototype,"name",void 0),kn([V({type:String,observed:!0})],Tn.prototype,"label",void 0),Tn=kn([$({name:"e-menuitemgroup"})],Tn);var Sn,Pn,In,Cn,Rn,Nn,Ln,On,jn,Mn,An,Wn,Fn,Dn,_n,Bn,Hn,Kn,Vn,$n,qn,Jn,Un,Xn,Yn=Tn,zn=Object.assign((function(e){const{name:t,items:n}=e;return X("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:Yn.prototype,radios:e=>{const{name:t,items:n}=e;return X("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new xn({name:t,label:e,type:"radio",value:n})))})}}),Gn=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Zn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Qn=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let es=Jn=class extends HTMLElement{constructor(){super(),Sn.add(this),Pn.set(this,void 0),In.set(this,void 0),Qn(this,In,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Zn(this,Sn,"m",Nn).bind(this)),"f"),Qn(this,Pn,-1,"f"),this.items=new fn(this,Zn(this,Sn,"m",Nn).bind(this)),this.attachShadow({mode:"open"}).append(Un.content.cloneNode(!0)),this.addEventListener("click",Zn(this,Sn,"m",Fn).bind(this)),this.addEventListener("mouseover",Zn(this,Sn,"m",$n).bind(this)),this.addEventListener("mouseout",Zn(this,Sn,"m",Vn).bind(this)),this.addEventListener("focusin",Zn(this,Sn,"m",Dn).bind(this)),this.addEventListener("focusout",Zn(this,Sn,"m",_n).bind(this)),this.addEventListener("keydown",Zn(this,Sn,"m",Kn).bind(this)),this.addEventListener("trigger",Zn(this,Sn,"m",qn).bind(this))}get activeItem(){return this.items.item(Zn(this,Pn,"f"))}get activeIndex(){return Zn(this,Pn,"f")}connectedCallback(){const{contextual:e}=this;e&&Zn(this,Sn,"m",Cn).call(this)}};Pn=new WeakMap,In=new WeakMap,Sn=new WeakSet,Cn=function(){const{contextX:e,contextY:t}=this,{style:n}=this,{width:s,height:o}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window,a=e+i,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,p=c+o-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${p>0?c-o:c}px`)},Rn=function(){Array.from(this.items.values()).forEach((e=>{e.expanded&&e.collapse()}))},Nn=function(e){return e instanceof En?NodeFilter.FILTER_ACCEPT:e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ln=function(){const e=Zn(this,In,"f");return e.currentNode=e.root,e.firstChild()},On=function(){const e=Zn(this,In,"f");return e.currentNode=e.root,e.lastChild()},jn=function(e){const t=Zn(this,In,"f");return t.currentNode=e,t.previousNode()},Mn=function(e){const t=Zn(this,In,"f");return t.currentNode=e,t.nextNode()},An=function(e){const{menu:t}=e;return t instanceof Jn?Zn(t,Sn,"m",Ln).call(t):null},Wn=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0,Qn(this,Pn,Array.from(n.values()).indexOf(e),"f")),null==e&&Qn(this,Pn,-1,"f")},Fn=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;s&&s.trigger()},Dn=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;s&&Zn(this,Sn,"m",Wn).call(this,s)},_n=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Zn(this,Sn,"m",Wn).call(this,null)}}},Bn=async function(e,t){return new Promise(((n,s)=>{const o=setTimeout((()=>{n(void 0)}),t??0);Xn.set(e,{clear:()=>{clearTimeout(o),s()}})})).then((()=>{Xn.delete(e)}))},Hn=function(e){const t=Xn.get(e);void 0!==t&&(Xn.delete(e),t.clear())},Kn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Zn(this,Sn,"m",jn).call(this,n)??Zn(this,Sn,"m",On).call(this):Zn(this,Sn,"m",Ln).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Zn(this,Sn,"m",Mn).call(this,n)??Zn(this,Sn,"m",Ln).call(this):Zn(this,Sn,"m",Ln).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Zn(this,Sn,"m",Ln).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Zn(this,Sn,"m",On).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Zn(this,Sn,"m",An).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof is))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Zn(this,Sn,"m",An).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Vn=function(e){const{target:t,relatedTarget:n}=e,{items:s}=this,o=Array.from(s.values()).find((e=>e.contains(t)))??null;if("submenu"!=o?.type||o.expanded||Zn(this,Sn,"m",Hn).call(this,o),e.composedPath().find((e=>e instanceof is))==this){const{clientX:t,clientY:s}=e,{left:o,right:i,top:r,bottom:a}=this.getBoundingClientRect(),c=!(o>t||i<t||r>s||a<s),l=this.contains(n);if(c&&l)if(n instanceof is&&n!==this)n.focus({preventScroll:!0});else{const e=Zn(this,Pn,"f");this.focus({preventScroll:!0}),Zn(this,Sn,"m",Wn).call(this,null),Qn(this,Pn,e,"f")}c||(this.focus({preventScroll:!0}),Zn(this,Sn,"m",Wn).call(this,null))}},$n=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;if("submenu"==s?.type&&s.expanded&&Zn(this,Sn,"m",Hn).call(this,s),e.composedPath().find((e=>e instanceof is))==this){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Zn(this,Sn,"m",Hn).call(this,e),Zn(this,Sn,"m",Bn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==s&&(Zn(this,Sn,"m",Wn).call(this,s),s.focus({preventScroll:!0}),"submenu"==s.type&&(s.expanded?s.menu?.focus({preventScroll:!0}):(Zn(this,Sn,"m",Hn).call(this,s),Zn(this,Sn,"m",Bn).call(this,s,200).then((()=>{const{activeItem:e}=this;Zn(this,Sn,"m",Rn).call(this),e&&(Zn(this,Sn,"m",Hn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},qn=function(e){const{target:t}=e,n=e.composedPath(),{contextual:s}=this;if(t instanceof En){if(n.find((e=>e instanceof is))==this){const{type:e,name:n,value:s}=t;"radio"==e&&Array.from(this.items.values()).filter((e=>"radio"==e.type&&e.name===n)).forEach((e=>{e.checked=e.value==s}))}if(s)try{this.remove()}catch(e){}}},Un=X("template",{content:[X("slot")]}),Xn=new WeakMap,Gn([V({type:String})],es.prototype,"name",void 0),Gn([V({type:Boolean})],es.prototype,"contextual",void 0),Gn([V({type:Number,defaultValue:0})],es.prototype,"contextX",void 0),Gn([V({type:Number,defaultValue:0})],es.prototype,"contextY",void 0),es=Jn=Gn([$({name:"e-menu"})],es);var ts,ns,ss,os,is=es,rs=Object.assign((function(e){const{name:t,children:n}=e;return X("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:is.prototype}),as=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},cs=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},ls=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let hs=class extends HTMLElement{constructor(){super(),ts.add(this),ns.set(this,void 0),cs(this,ns,null,"f"),this.cells=new ws(this);const e=this.attachShadow({mode:"open"});e.append(os.content.cloneNode(!0)),e.addEventListener("slotchange",ls(this,ts,"m",ss).bind(this))}get menu(){return ls(this,ns,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};ns=new WeakMap,ts=new WeakSet,ss=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];cs(this,ns,e instanceof is?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))}},(os=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),X("slot"),X("slot",{properties:{name:"menu"}})),as([V({type:String})],hs.prototype,"name",void 0),as([V({type:Boolean})],hs.prototype,"active",void 0),as([V({type:Boolean})],hs.prototype,"selected",void 0),as([V({type:Number})],hs.prototype,"posinset",void 0),hs=as([$({name:"e-gridrow"})],hs);var ds,ps,fs,us=hs,ms=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};ps=new WeakMap,ds=new WeakSet,fs=function(e){return e instanceof Ut?NodeFilter.FILTER_ACCEPT:e instanceof Rs||e instanceof an||e instanceof us?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var gs,vs,bs,ws=class{constructor(e){ds.add(this),ps.set(this,void 0),function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?o.call(e,n):o?o.value=n:t.set(e,n)}(this,ps,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ms(this,ds,"m",fs).bind(this)),"f")}get length(){const e=ms(this,ps,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ms(this,ps,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ms(this,ps,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ms(this,ps,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ys=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};vs=new WeakMap,gs=new WeakSet,bs=function(e){return e instanceof Rs?NodeFilter.FILTER_SKIP:e instanceof us?NodeFilter.FILTER_ACCEPT:e instanceof an?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Es,xs,ks,Ts=class{constructor(e){gs.add(this),vs.set(this,void 0),function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?o.call(e,n):o?o.value=n:t.set(e,n)}(this,vs,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ys(this,gs,"m",bs).bind(this)),"f")}get length(){const e=ys(this,vs,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ys(this,vs,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ys(this,vs,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ys(this,vs,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let Ss=class extends HTMLElement{constructor(){super(),Es.add(this),this.cells=new ws(this),this.rows=new Ts(this);const e=this.attachShadow({mode:"open"});e.append(ks.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Es,"m",xs).bind(this))}};Es=new WeakSet,xs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(ks=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),X("slot")),Ss=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-gridbody"})],Ss);var Ps,Is,Cs,Rs=Ss;let Ns=class extends HTMLElement{constructor(){super(),Ps.add(this),this.cells=new ws(this),this.rows=new Ts(this);const e=this.attachShadow({mode:"open"});e.append(Cs.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ps,"m",Is).bind(this))}};Ps=new WeakSet,Is=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(Cs=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),X("slot")),Ns=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-gridhead"})],Ns);var Ls,Os,js,Ms,As,Ws,Fs,Ds,_s,Bs,Hs,Ks,Vs,$s,qs,Js,Us,Xs,Ys,zs,Gs,Zs,Qs,eo,to,no,so,oo,io,ro,ao,co,lo,ho,po,fo,uo,mo,go,vo,bo,wo,yo=Ns,Eo=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},xo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ko=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};class To extends HTMLElement{constructor(){super(),Ls.add(this),As.set(this,void 0),Ws.set(this,void 0),Fs.set(this,void 0),Ds.set(this,void 0),_s.set(this,void 0),Bs.set(this,void 0),ko(this,_s,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,xo(this,Ls,"m",Hs).bind(this)),"f"),ko(this,Bs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,xo(this,Ls,"m",Ks).bind(this)),"f"),ko(this,As,-1,"f"),ko(this,Ws,-1,"f"),ko(this,Fs,!1,"f"),ko(this,Ds,!1,"f"),this.cells=new ws(this),this.rows=new Ts(this);const e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[xo(To,Os,"f",Ms)],e.append(xo(To,Os,"f",js).content.cloneNode(!0)),this.addEventListener("contextmenu",xo(this,Ls,"m",fo).bind(this)),this.addEventListener("click",xo(this,Ls,"m",uo).bind(this)),this.addEventListener("focus",xo(this,Ls,"m",go).bind(this)),this.addEventListener("focusin",xo(this,Ls,"m",vo).bind(this)),this.addEventListener("keydown",xo(this,Ls,"m",mo).bind(this)),this.addEventListener("select",xo(this,Ls,"m",bo).bind(this)),e.addEventListener("slotchange",xo(this,Ls,"m",wo).bind(this))}get activeCellIndex(){return xo(this,As,"f")}get activeCell(){return this.cells.item(xo(this,As,"f"))??null}get activeRowIndex(){return xo(this,Ws,"f")}get activeRow(){return this.rows.item(xo(this,Ws,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof Rs))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof yo))??null}beginSelection(){ko(this,Fs,!0,"f")}endSelection(){ko(this,Fs,!1,"f"),xo(this,Ds,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ko(this,Ds,!1,"f"))}clearSelection(){xo(this,Ls,"m",Gs).call(this),xo(this,Ls,"m",Zs).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}}Os=To,As=new WeakMap,Ws=new WeakMap,Fs=new WeakMap,Ds=new WeakMap,_s=new WeakMap,Bs=new WeakMap,Ls=new WeakSet,Hs=function(e){return e instanceof Ut&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Rs||e instanceof an||e instanceof us?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ks=function(e){return e instanceof us&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Rs||e instanceof an?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Vs=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),o=n.indexOf(t);return s>-1&&o>-1?e==t?[e]:n.slice(Math.min(s,o),Math.max(s,o)+1):[]},$s=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=xo(this,Ls,"m",lo).call(this,e);for(;s&&s!==t;)n.push(s),s=xo(this,Ls,"m",lo).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=xo(this,Ls,"m",co).call(this,e);for(;s&&s!==t;)n.push(s),s=xo(this,Ls,"m",co).call(this,s);return n.push(t),n}return[]},qs=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Js=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Us=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Xs=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ys=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},zs=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Gs=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Zs=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Qs=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),xo(this,_s,"f").currentNode=e,e.active=!0,e.tabIndex=0;const s=xo(this,Ls,"m",io).call(this,e);s&&xo(this,Ls,"m",eo).call(this,s),ko(this,As,Array.from(n.values()).indexOf(e),"f")},eo=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),xo(this,Bs,"f").currentNode=e,e.active=!0,e.tabIndex=0,ko(this,Ws,Array.from(n.values()).indexOf(e),"f")},to=function(e){const t=xo(this,_s,"f");return t.currentNode=e,t.firstChild()},no=function(e){const t=xo(this,_s,"f");return t.currentNode=e,t.lastChild()},so=function(e){const t=xo(this,_s,"f");return t.currentNode=e,t.previousNode()},oo=function(e){const t=xo(this,_s,"f");return t.currentNode=e,t.nextNode()},io=function(e){const t=xo(this,Bs,"f");return t.currentNode=e,t.parentNode()},ro=function(){const e=xo(this,Bs,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},ao=function(){const e=xo(this,Bs,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},co=function(e){const t=xo(this,Bs,"f");return t.currentNode=e,t.previousNode()},lo=function(e){const t=xo(this,Bs,"f");return t.currentNode=e,t.nextNode()},ho=function(e){const t=xo(this,Ls,"m",io).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),o=xo(this,Ls,"m",co).call(this,t);if(o){const{cells:e}=o;return e.item(Math.min(s,e.length))}}return null},po=function(e){const t=xo(this,Ls,"m",io).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),o=xo(this,Ls,"m",lo).call(this,t);if(o){const{cells:e}=o;return e.item(Math.min(s,e.length))}}return null},fo=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof Rs))?t.find((e=>e instanceof Ut)):null;n instanceof Ut&&(this.selectedCells().includes(n)||xo(this,Ls,"m",qs).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof Rs))?t.find((e=>e instanceof us)):null;n instanceof us&&(this.selectedRows().includes(n)||xo(this,Ls,"m",Js).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},uo=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),o=s.find((e=>e instanceof Rs))?s.find((e=>e instanceof Ut)):null,i=this.selectedCells();if(o instanceof Ut)if(n||t){if(t)o.selected?xo(this,Ls,"m",Ys).call(this,o):xo(this,Ls,"m",Us).call(this,o),e.stopPropagation();else if(n){const t=i[i.length-1];if(t){const e=xo(this,Ls,"m",Vs).call(this,t,o);e&&(i.includes(o)?xo(this,Ls,"m",Ys).call(this,...e):xo(this,Ls,"m",Us).call(this,...e))}else xo(this,Ls,"m",qs).call(this,o);e.stopPropagation()}}else xo(this,Ls,"m",qs).call(this,o);break}case"row":{const s=this.selectedRows(),o=e.composedPath(),i=o.find((e=>e instanceof Rs))?o.find((e=>e instanceof us)):null;if(i instanceof us)if(n||t){if(t)i.selected?xo(this,Ls,"m",zs).call(this,i):xo(this,Ls,"m",Xs).call(this,i),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=xo(this,Ls,"m",$s).call(this,t,i);e&&(s.includes(i)?xo(this,Ls,"m",zs).call(this,...e):xo(this,Ls,"m",Xs).call(this,...e))}else xo(this,Ls,"m",Js).call(this,i);e.stopPropagation()}}else xo(this,Ls,"m",Js).call(this,i);break}}},mo=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:o}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=xo(this,Ls,"m",ro).call(this),t=e?xo(this,Ls,"m",to).call(this,e):null,n=xo(this,Ls,"m",ao).call(this),s=n?xo(this,Ls,"m",no).call(this,n):null;if(t&&s){const e=xo(this,Ls,"m",Vs).call(this,t,s);e&&xo(this,Ls,"m",qs).call(this,...e)}break}case"row":{const e=xo(this,Ls,"m",ro).call(this),t=xo(this,Ls,"m",ao).call(this);if(e&&t){const n=xo(this,Ls,"m",$s).call(this,e,t);n&&xo(this,Ls,"m",Js).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=xo(this,Ls,"m",so).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?xo(this,Ls,"m",Ys).call(this,t):xo(this,Ls,"m",Us).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=xo(this,Ls,"m",oo).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?xo(this,Ls,"m",Ys).call(this,t):xo(this,Ls,"m",Us).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=o??xo(this,Ls,"m",ro).call(this),n=s?xo(this,Ls,"m",ho).call(this,s):t?xo(this,Ls,"m",to).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?xo(this,Ls,"m",Ys).call(this,n):xo(this,Ls,"m",Us).call(this,n))}break}case"row":{const t=o?xo(this,Ls,"m",co).call(this,o):xo(this,Ls,"m",ro).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?xo(this,Ls,"m",zs).call(this,t):xo(this,Ls,"m",Xs).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=o??xo(this,Ls,"m",ao).call(this),n=s?xo(this,Ls,"m",po).call(this,s):t?xo(this,Ls,"m",no).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?xo(this,Ls,"m",Ys).call(this,n):xo(this,Ls,"m",Us).call(this,n))}}break;case"row":{const t=o?xo(this,Ls,"m",lo).call(this,o):xo(this,Ls,"m",ao).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?xo(this,Ls,"m",zs).call(this,t):xo(this,Ls,"m",Xs).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(o){const e=xo(this,Ls,"m",to).call(this,o);e&&e.focus({preventScroll:!0})}break;case"row":{const e=xo(this,Ls,"m",ro).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(o){const e=xo(this,Ls,"m",no).call(this,o);e&&e.focus({preventScroll:!0})}break;case"row":{const e=xo(this,Ls,"m",ao).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(xo(this,Ls,"m",qs).call(this,s),s.click());break;case"row":o&&(xo(this,Ls,"m",Js).call(this,o),o.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":xo(this,Ls,"m",Gs).call(this);break;case"row":xo(this,Ls,"m",Zs).call(this)}this.focus(),e.stopPropagation()}},go=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},vo=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof Ut&&xo(this,Ls,"m",Qs).call(this,t);break;case"row":t instanceof us&&xo(this,Ls,"m",eo).call(this,t)}},bo=function(){xo(this,Fs,"f")?ko(this,Ds,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},wo=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof us)).forEach(((e,t)=>{e.posinset=t}))},$({name:"e-grid"})(Os),js={value:X("template",{content:[X("slot")]})},Ms={value:function(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}(function(e){const t=e.indexOf("\n"),n=(e=e.substring(t+1)).match(/^[\s]*/);if(n){const t=e.substring(0,n[0].length);e=e.replaceAll(t,"").trimEnd()}return e}("\n            :host {\n                display: table;\n            }\n\n            :host([droptarget]) {\n                background-color: gainsboro;\n            }\n        "))},Eo([V({type:String})],To.prototype,"name",void 0),Eo([V({type:String,defaultValue:"cell"})],To.prototype,"selectby",void 0);var So,Po,Io,Co,Ro,No,Lo,Oo,jo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Mo=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};class Ao{constructor(e){So.add(this),Po.set(this,void 0),Mo(this,Po,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,jo(this,So,"m",Io).bind(this)),"f")}get length(){const e=jo(this,Po,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=jo(this,Po,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=jo(this,Po,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return"radio"==s?.type?new Fo(n,e):s}*values(){const e=jo(this,Po,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}Po=new WeakMap,So=new WeakSet,Io=function(e){return e instanceof En?NodeFilter.FILTER_ACCEPT:e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ao.HTMLEMenuItemRadioListBase=(Oo=class{constructor(e,t){Co.add(this),Ro.set(this,void 0),No.set(this,void 0),Mo(this,Ro,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,jo(this,Co,"m",Lo).bind(this)),"f"),Mo(this,No,t,"f")}get value(){const e=jo(this,No,"f"),t=jo(this,Ro,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=jo(this,No,"f"),t=jo(this,Ro,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:s,type:o}=n;s==e&&"radio"==o&&(yield n),n=t.nextNode()}}},Ro=new WeakMap,No=new WeakMap,Co=new WeakSet,Lo=function(e){return e instanceof En?NodeFilter.FILTER_ACCEPT:e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Oo);var Wo=Ao,Fo=Ao.HTMLEMenuItemRadioListBase;delete Ao.HTMLEMenuItemRadioListBase;var Do,_o,Bo,Ho,Ko,Vo,$o,qo,Jo,Uo,Xo,Yo,zo,Go,Zo,Qo,ei,ti=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ni=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},si=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let oi=class extends HTMLElement{constructor(){super(),Do.add(this),_o.set(this,void 0),Bo.set(this,void 0),si(this,Bo,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ni(this,Do,"m",Ho).bind(this)),"f"),this.items=new Wo(this),si(this,_o,-1,"f"),this.attachShadow({mode:"open"}).append(ei.content.cloneNode(!0)),this.addEventListener("click",ni(this,Do,"m",Go).bind(this)),this.addEventListener("focusin",ni(this,Do,"m",Xo).bind(this)),this.addEventListener("focusout",ni(this,Do,"m",Yo).bind(this)),this.addEventListener("mouseover",ni(this,Do,"m",zo).bind(this)),this.addEventListener("keydown",ni(this,Do,"m",Zo).bind(this)),this.addEventListener("trigger",ni(this,Do,"m",Qo).bind(this))}get activeIndex(){return ni(this,_o,"f")}get activeItem(){return this.items.item(ni(this,_o,"f"))??null}};_o=new WeakMap,Bo=new WeakMap,Do=new WeakSet,Ho=function(e){return e instanceof En?NodeFilter.FILTER_ACCEPT:e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ko=function(){const e=ni(this,Bo,"f");return e.currentNode=e.root,e.firstChild()},Vo=function(){const e=ni(this,Bo,"f");return e.currentNode=e.root,e.lastChild()},$o=function(e){const t=ni(this,Bo,"f");return t.currentNode=e,t.previousSibling()},qo=function(e){const t=ni(this,Bo,"f");return t.currentNode=e,t.nextSibling()},Jo=function(e){const{menu:t}=e;return t?t.items.item(0):null},Uo=function(e){const{activeItem:t,active:n,items:s}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,si(this,_o,Array.from(s.values()).indexOf(e),"f")):si(this,_o,-1,"f")},Xo=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;ni(this,Do,"m",Uo).call(this,s)},Yo=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),ni(this,Do,"m",Uo).call(this,null),this.active=!1}},zo=function(e){const{target:t}=e,{active:n,activeItem:s,items:o}=this;if(t instanceof En&&Array.from(o.values()).includes(t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Go=function(e){const{target:t}=e,{active:n,activeItem:s,items:o}=this;if(t instanceof En&&Array.from(o.values()).includes(t)){const e=!n;if(this.active=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Zo=function(e){const{key:t}=e,{active:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?ni(this,Do,"m",$o).call(this,s)??ni(this,Do,"m",Vo).call(this):ni(this,Do,"m",Ko).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&ni(this,Do,"m",Jo).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?ni(this,Do,"m",qo).call(this,s)??ni(this,Do,"m",Ko).call(this):ni(this,Do,"m",Vo).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&ni(this,Do,"m",Jo).call(this,s)?.focus({preventScroll:!0});break;case"Enter":s&&(this.active=!n,ni(this,Do,"m",Jo).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.active=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},Qo=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.active=!1,this.focus({preventScroll:!0})},(ei=X("template")).content.append(X("slot")),ti([V({type:String})],oi.prototype,"name",void 0),ti([V({type:Boolean})],oi.prototype,"active",void 0),oi=ti([$({name:"e-menubar"})],oi);var ii,ri,ai,ci,li,hi,di,pi,fi=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ui=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},mi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let gi=class extends HTMLElement{constructor(){super(),ii.add(this),ri.set(this,void 0),ui(this,ri,null,"f");const e=this.attachShadow({mode:"open"});e.append(X("span",{part:["content"],children:[X("span",{part:["icon"]}),X("span",{part:["label"]})]}),X("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",mi(this,ii,"m",hi).bind(this)),this.addEventListener("click",mi(this,ii,"m",ci).bind(this)),this.addEventListener("focusout",mi(this,ii,"m",li).bind(this)),this.addEventListener("trigger",mi(this,ii,"m",pi).bind(this)),e.addEventListener("slotchange",mi(this,ii,"m",di).bind(this))}get menu(){return mi(this,ri,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,mi(this,ii,"m",ai).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};ri=new WeakMap,ii=new WeakSet,ai=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:o,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=i+r-h,f=n+a-d;t.setProperty("left",`${p>0?l+i-r:l+o}px`),t.setProperty("top",`${f>0?c+n-a:c+s}px`)}},ci=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},li=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},hi=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},di=function(e){const{target:t}=e,n=t.assignedElements()[0];ui(this,ri,n instanceof is?n:null,"f")},pi=function(){this.collapse(),this.focus({preventScroll:!0})},fi([V({type:String})],gi.prototype,"name",void 0),fi([V({type:Boolean})],gi.prototype,"disabled",void 0),fi([V({type:Boolean})],gi.prototype,"expanded",void 0),gi=fi([$({name:"e-menubutton"})],gi);var vi,bi=gi,wi=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",X("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:bi.prototype}),yi=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Ei=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(vi.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(vi=X("template")).content.append(X("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),X("span",{part:["content"],children:[X("span",{part:["label"]})]})),yi([V({type:String})],Ei.prototype,"name",void 0),yi([V({type:String})],Ei.prototype,"value",void 0),yi([V({type:String,observed:!0})],Ei.prototype,"label",void 0),yi([V({type:String})],Ei.prototype,"description",void 0),yi([V({type:Boolean})],Ei.prototype,"disabled",void 0),yi([V({type:Boolean})],Ei.prototype,"active",void 0),yi([V({type:Boolean})],Ei.prototype,"selected",void 0),yi([V({type:Boolean})],Ei.prototype,"default",void 0),Ei=yi([$({name:"e-option"})],Ei);var xi,ki=Ei;let Ti=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(xi.content.cloneNode(!0))}};(xi=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),X("slot")),Ti=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-optiongroup"})],Ti);var Si,Pi,Ii,Ci=Ti,Ri=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Pi=new WeakMap,Si=new WeakSet,Ii=function(e){return e instanceof ki?NodeFilter.FILTER_ACCEPT:e instanceof Ci?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Ni,Li,Oi,ji,Mi,Ai,Wi,Fi,Di,_i,Bi,Hi,Ki,Vi,$i,qi,Ji,Ui,Xi,Yi,zi=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Gi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Zi=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let Qi=class extends Bt{constructor(){super(),Ni.add(this),Li.set(this,void 0),Oi.set(this,void 0),ji.set(this,void 0),Zi(this,Li,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Gi(this,Ni,"m",Mi).bind(this)),"f"),Zi(this,Oi,-1,"f"),Zi(this,ji,-1,"f"),this.options=new class{constructor(e){Si.add(this),Pi.set(this,void 0),function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?o.call(e,n):o?o.value=n:t.set(e,n)}(this,Pi,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Ri(this,Si,"m",Ii).bind(this)),"f")}get length(){const e=Ri(this,Pi,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=Ri(this,Pi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=Ri(this,Pi,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Ri(this,Pi,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=Ri(this,Pi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(Yi.content.cloneNode(!0)),this.addEventListener("click",Gi(this,Ni,"m",Vi).bind(this)),this.addEventListener("focusin",Gi(this,Ni,"m",$i).bind(this)),this.addEventListener("focusout",Gi(this,Ni,"m",qi).bind(this)),this.addEventListener("keydown",Gi(this,Ni,"m",Ji).bind(this)),this.addEventListener("mouseover",Gi(this,Ni,"m",Ui).bind(this)),e.addEventListener("slotchange",Gi(this,Ni,"m",Xi).bind(this))}get activeIndex(){return Gi(this,Oi,"f")}get selectedIndex(){return Gi(this,ji,"f")}get activeOption(){return this.options.item(Gi(this,Oi,"f"))??null}get selectedOption(){return this.options.item(Gi(this,ji,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Gi(this,Ni,"m",Hi).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Gi(this,Ni,"m",Ki).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};Li=new WeakMap,Oi=new WeakMap,ji=new WeakMap,Ni=new WeakSet,Mi=function(e){return e instanceof ki?NodeFilter.FILTER_ACCEPT:e instanceof Ci?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ai=function(){const e=Gi(this,Li,"f");return e.currentNode=e.root,e.firstChild()},Wi=function(){const e=Gi(this,Li,"f");return e.currentNode=e.root,e.lastChild()},Fi=function(e){const t=Gi(this,Li,"f");return t.currentNode=e,t.previousNode()},Di=function(e){const t=Gi(this,Li,"f");return t.currentNode=e,t.nextNode()},_i=function(e){e&&!e.disabled&&(this.value=e.value)},Bi=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),Zi(this,Oi,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else Zi(this,Oi,-1,"f")},Hi=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,o=n.querySelector("[part='value']");o&&(o.textContent=e.label),e.selected=!0,s&&(s.selected=!1),Zi(this,ji,Array.from(t.values()).indexOf(e),"f")}}else Zi(this,Oi,-1,"f")},Ki=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:o}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window;n.setProperty("top",`${s+r}px`),n.setProperty("left",`${o+i}px`)},Vi=function(e){const{target:t}=e;t instanceof ki?(Gi(this,Ni,"m",_i).call(this,t),this.collapse()):t==this&&this.toggle()},$i=function(e){const{target:t}=e,{expanded:n}=this;t instanceof ki&&(n||this.expand(),Gi(this,Ni,"m",Bi).call(this,t))},qi=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Gi(this,Ni,"m",Bi).call(this,null))},Ji=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:o,selectedIndex:i,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==s){const e=Gi(this,Ni,"m",Fi).call(this,s)??Gi(this,Ni,"m",Ai).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==o){const e=Gi(this,Ni,"m",Fi).call(this,o)??Gi(this,Ni,"m",Ai).call(this);e&&Gi(this,Ni,"m",_i).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==s){const e=Gi(this,Ni,"m",Di).call(this,s)??Gi(this,Ni,"m",Wi).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==o){const e=Gi(this,Ni,"m",Di).call(this,o)??Gi(this,Ni,"m",Wi).call(this);e&&Gi(this,Ni,"m",_i).call(this,e)}e.stopPropagation();break;case"Home":{const t=Gi(this,Ni,"m",Ai).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Gi(this,Ni,"m",_i).call(this,t)),e.stopPropagation();break}case"End":{const t=Gi(this,Ni,"m",Wi).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Gi(this,Ni,"m",_i).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==s&&Gi(this,Ni,"m",_i).call(this,s);else{const e=n.item(i);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:o}=t;if(1==o){const o=t.charCodeAt(0),i=Array.from(n.values()),r=i.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==o)),a=i.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==o&&t>s)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},Ui=function(e){const{target:t}=e;t instanceof ki&&t.focus({preventScroll:!0})},Xi=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof ki));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Gi(this,Ni,"m",Ai).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&Gi(this,Ni,"m",Hi).call(this,e)}},(Yi=X("template")).content.append(X("div",{part:["content"],children:[X("label",{part:["label"]}),X("output",{part:["value"]})]}),X("div",{part:["options"],children:[X("slot"),X("hr",{part:["separator"]}),X("span",{part:["description"]})]})),zi([V({type:String})],Qi.prototype,"name",void 0),zi([V({type:String,observed:!0})],Qi.prototype,"label",void 0),zi([V({type:String,observed:!0})],Qi.prototype,"value",void 0),zi([V({type:String,defaultValue:"select",observed:!0})],Qi.prototype,"type",void 0),zi([V({type:Boolean})],Qi.prototype,"expanded",void 0),Qi=zi([$({name:"e-select"})],Qi);var er,tr,nr,sr,or,ir,rr,ar,cr,lr,hr,dr,pr,fr,ur=Qi,mr=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},gr=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},vr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let br=class extends Bt{constructor(){super(),er.add(this),tr.set(this,void 0),nr.set(this,void 0),gr(this,tr,null,"f"),gr(this,nr,null,"f");const e=this.attachShadow({mode:"open"});e.append(dr.content.cloneNode(!0)),e.addEventListener("slotchange",vr(this,er,"m",hr).bind(this))}get menubutton(){return vr(this,tr,"f")}get select(){return vr(this,nr,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&vr(this,er,"m",sr).call(this);break}}}};tr=new WeakMap,nr=new WeakMap,er=new WeakSet,sr=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},or=function(e){const t=vr(this,er,"m",cr).bind(this);pr.set(e,t),e.addEventListener("keydown",t)},ir=function(e){const t=pr.get(e);t&&e.removeEventListener("keydown",t)},rr=function(e){const t=vr(this,er,"m",lr).bind(this);fr.set(e,t),e.addEventListener("trigger",t)},ar=function(e){const t=fr.get(e);t&&e.removeEventListener("trigger",t)},cr=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},lr=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},hr=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=vr(this,tr,"f");null!==e&&(vr(this,er,"m",ar).call(this,e),vr(this,er,"m",ir).call(this,e));const n=t.assignedElements()[0];e=n instanceof bi?n:null,null!==e&&(vr(this,er,"m",rr).call(this,e),vr(this,er,"m",or).call(this,e)),gr(this,tr,e,"f");break}case"select":{let e=vr(this,nr,"f");null!==e&&vr(this,er,"m",ir).call(this,e);const n=t.assignedElements()[0];e=n instanceof ur?n:null,null!==e&&vr(this,er,"m",or).call(this,e),gr(this,nr,e,"f");break}}},dr=X("template",{content:[X("span",{part:["content"],children:[X("span",{part:["icon"]}),X("span",{part:["label"]}),X("slot",{properties:{name:"select"}}),X("slot",{properties:{name:"menubutton"}})]})]}),pr=new WeakMap,fr=new WeakMap,mr([V({type:Boolean})],br.prototype,"active",void 0),mr([V({type:String,observed:!0})],br.prototype,"value",void 0),mr([V({type:String})],br.prototype,"name",void 0),mr([V({type:String,observed:!0})],br.prototype,"label",void 0),mr([V({type:String})],br.prototype,"type",void 0),br=mr([$({name:"e-toolbaritem"})],br);var wr,yr=br,Er=Object.assign((function(e){const{label:t,name:n,type:s,value:o,trigger:i,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),X("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:o,type:s},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:i}})}),{prototype:yr.prototype,button:e=>new Er({...e,type:"button"}),checkbox:e=>new Er({...e,type:"checkbox"}),radio:e=>new Er({...e,type:"radio"}),menubutton:e=>new Er({...e,type:"menubutton"}),select:e=>new Er({...e,type:"select"})}),xr=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let kr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(wr.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(wr=X("template")).content.append(X("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),X("slot")),xr([V({type:String})],kr.prototype,"name",void 0),xr([V({type:String,observed:!0})],kr.prototype,"label",void 0),xr([V({type:Boolean,observed:!0})],kr.prototype,"disabled",void 0),kr=xr([$({name:"e-toolbaritemgroup"})],kr);var Tr,Sr,Pr,Ir,Cr,Rr,Nr,Lr,Or=kr,jr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Mr=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};class Ar{constructor(e){Tr.add(this),Sr.set(this,void 0),Mr(this,Sr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,jr(this,Tr,"m",Pr).bind(this)),"f")}get length(){const e=jr(this,Sr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=jr(this,Sr,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=jr(this,Sr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new Fr(t.root,e):n}*values(){const e=jr(this,Sr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}Sr=new WeakMap,Tr=new WeakSet,Pr=function(e){return e instanceof yr?NodeFilter.FILTER_ACCEPT:e instanceof Or?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ar.HTMLEToolBarItemRadioListBase=(Lr=class{constructor(e,t){Ir.add(this),Cr.set(this,void 0),Rr.set(this,void 0),Mr(this,Cr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,jr(this,Ir,"m",Nr).bind(this)),"f"),Mr(this,Rr,t,"f")}get value(){const e=jr(this,Rr,"f"),t=jr(this,Cr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=jr(this,Rr,"f"),t=jr(this,Cr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:s,type:o}=n;s==e&&"radio"==o&&(yield n),n=t.nextNode()}}},Cr=new WeakMap,Rr=new WeakMap,Ir=new WeakSet,Nr=function(e){return e instanceof yr?NodeFilter.FILTER_ACCEPT:e instanceof Or?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Lr);var Wr=Ar,Fr=Ar.HTMLEToolBarItemRadioListBase;delete Ar.HTMLEToolBarItemRadioListBase;var Dr,_r,Br,Hr,Kr,Vr,$r,qr,Jr,Ur,Xr,Yr,zr,Gr,Zr,Qr,ea=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ta=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},na=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let sa=class extends HTMLElement{constructor(){super(),Dr.add(this),_r.set(this,void 0),Br.set(this,void 0),ta(this,Br,-1,"f"),ta(this,_r,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,na(this,Dr,"m",Hr).bind(this)),"f"),this.items=new Wr(this),this.attachShadow({mode:"open"}).append(Qr.content.cloneNode(!0)),this.addEventListener("change",na(this,Dr,"m",Ur).bind(this)),this.addEventListener("click",na(this,Dr,"m",Xr).bind(this)),this.addEventListener("focusin",na(this,Dr,"m",Yr).bind(this)),this.addEventListener("focusout",na(this,Dr,"m",zr).bind(this)),this.addEventListener("keydown",na(this,Dr,"m",Gr).bind(this)),this.addEventListener("trigger",na(this,Dr,"m",Zr).bind(this))}get activeItem(){return this.items.item(na(this,Br,"f"))??null}get activeIndex(){return na(this,Br,"f")}};_r=new WeakMap,Br=new WeakMap,Dr=new WeakSet,Hr=function(e){return e instanceof yr?NodeFilter.FILTER_ACCEPT:e instanceof Or?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Kr=function(){const e=na(this,_r,"f");return e.currentNode=e.root,e.firstChild()},Vr=function(){const e=na(this,_r,"f");return e.currentNode=e.root,e.lastChild()},$r=function(e){const t=na(this,_r,"f");return t.currentNode=e,t.previousSibling()},qr=function(e){const t=na(this,_r,"f");return t.currentNode=e,t.nextSibling()},Jr=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,ta(this,Br,Array.from(n.values()).indexOf(e),"f")):ta(this,Br,-1,"f")},Ur=function(e){const{target:t}=e;if(t instanceof ur){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},Xr=function(e){const{target:t}=e;if(t instanceof yr){const{type:e}=t;t.trigger()}},Yr=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;na(this,Dr,"m",Jr).call(this,s)},zr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&na(this,Dr,"m",Jr).call(this,null)},Gr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=na(this,Dr,"m",$r).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=na(this,Dr,"m",Kr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=na(this,Dr,"m",qr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=na(this,Dr,"m",Vr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=na(this,Dr,"m",Kr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=na(this,Dr,"m",Vr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Zr=function(e){const{target:t}=e;if(t instanceof yr){const{type:e,name:n,value:s}=t;"radio"==e&&Array.from(new Fr(this,n).values()).forEach((e=>{e.checked=e.value==s}))}},(Qr=X("template")).content.append(X("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),X("slot")),ea([V({type:String})],sa.prototype,"name",void 0),ea([V({type:String})],sa.prototype,"orientation",void 0),sa=ea([$({name:"e-toolbar"})],sa);var oa=sa,ia=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let ra=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),X("slot"))}};ia([V({type:String})],ra.prototype,"name",void 0),ra=ia([$({name:"e-tabpanel"})],ra);var aa,ca=ra,la=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ha=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},da=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let pa=class extends HTMLElement{constructor(){super(),aa.set(this,void 0),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),X("slot")),ha(this,aa,null,"f")}get panel(){return da(this,aa,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==da(this,aa,"f")&&e instanceof ca&&ha(this,aa,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof ca&&ha(this,aa,e,"f"),e&&(e.hidden=!this.active)}}};aa=new WeakMap,la([V({type:String})],pa.prototype,"name",void 0),la([V({type:Boolean})],pa.prototype,"disabled",void 0),la([V({type:Boolean,observed:!0})],pa.prototype,"active",void 0),la([V({type:String,observed:!0})],pa.prototype,"controls",void 0),pa=la([$({name:"e-tab"})],pa);var fa,ua=pa,ma=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},ga=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let va=class extends HTMLElement{constructor(){super(),fa.set(this,void 0),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),X("slot")),this.tabs=[],ma(this,fa,1,"f")}get activeIndex(){return ga(this,fa,"f")}get activeTab(){return this.tabs[ga(this,fa,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof ua));this.tabs=t,ma(this,fa,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof ua&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);ma(this,fa,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(ma(this,fa,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};fa=new WeakMap,va=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-tablist"})],va);var ba,wa,ya,Ea,xa,ka,Ta=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Sa=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Pa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ia=class extends HTMLElement{constructor(){super(),ba.add(this),wa.set(this,void 0),ya.set(this,void 0),Ea.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(ka.content.cloneNode(!0)),Sa(this,wa,null,"f"),Sa(this,Ea,null,"f"),Sa(this,ya,null,"f"),e.addEventListener("slotchange",Pa(this,ba,"m",xa).bind(this))}get badge(){return Pa(this,wa,"f")}get toolbar(){return Pa(this,ya,"f")}get menu(){return Pa(this,Ea,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};wa=new WeakMap,ya=new WeakMap,Ea=new WeakMap,ba=new WeakSet,xa=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Sa(this,ya,e instanceof oa?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Sa(this,wa,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Sa(this,Ea,e instanceof is?e:null,"f");break}}},(ka=X("template")).content.append(X("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                            user-select: none;\n                        }\n                        \n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        [part="content"]:hover {\n                            background-color: whitesmoke;\n                        }\n\n                        :host([active]) [part="content"] {\n                            background-color: whitesmoke;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) [part="content"] {\n                            background-color: gainsboro;\n                        }\n\n                        [part="content"] {\n                            display: flex;\n                            line-height: 22px;\n                        }\n                        \n                        [part="label"] {\n                            order: 0;\n                            margin-right: auto;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="toolbar"]) {\n                            order: 1;\n                        }\n\n                        ::slotted([slot="badge"]) {\n                            order: 2;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="menu"]) {\n                            position: absolute;\n                        }\n                    '}}),X("div",{part:["content"],children:[X("span",{part:["label"]}),X("slot",{properties:{name:"toolbar"}}),X("slot",{properties:{name:"badge"}})]}),X("slot",{properties:{name:"menu"}})),Ta([V({type:String})],Ia.prototype,"name",void 0),Ta([V({type:Number})],Ia.prototype,"posinset",void 0),Ta([V({type:String,observed:!0})],Ia.prototype,"label",void 0),Ta([V({type:Boolean})],Ia.prototype,"droptarget",void 0),Ta([V({type:Boolean})],Ia.prototype,"active",void 0),Ta([V({type:Boolean,observed:!0})],Ia.prototype,"selected",void 0),Ia=Ta([$({name:"e-listitem"})],Ia);var Ca,Ra,Na,La=Ia;let Oa=class extends HTMLElement{constructor(){super(),Ca.add(this);const e=this.attachShadow({mode:"open"});e.append(Na.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ca,"m",Ra).bind(this))}};Ca=new WeakSet,Ra=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof La)).forEach(((e,t)=>{e.posinset=t}))},(Na=X("template")).content.append(X("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),X("slot")),Oa=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"e-listitemgroup"})],Oa);var ja,Ma,Aa,Wa,Fa,Da,_a,Ba,Ha,Ka,Va,$a,qa,Ja,Ua,Xa,Ya,za,Ga,Za,Qa,ec,tc,nc,sc,oc,ic,rc,ac,cc,lc,hc,dc=Oa,pc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},fc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},uc=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let mc=class extends HTMLElement{constructor(){super(),ja.add(this),Ma.set(this,void 0),Aa.set(this,void 0),Wa.set(this,void 0),Fa.set(this,void 0),Da.set(this,void 0),uc(this,Da,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,fc(this,ja,"m",_a).bind(this)),"f"),uc(this,Aa,-1,"f"),uc(this,Ma,-1,"f"),uc(this,Wa,!1,"f"),uc(this,Fa,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(hc.content.cloneNode(!0)),this.addEventListener("contextmenu",fc(this,ja,"m",Ga).bind(this)),this.addEventListener("click",fc(this,ja,"m",Za).bind(this)),this.addEventListener("dragend",fc(this,ja,"m",Qa).bind(this)),this.addEventListener("dragenter",fc(this,ja,"m",ec).bind(this)),this.addEventListener("dragover",fc(this,ja,"m",tc).bind(this)),this.addEventListener("dragleave",fc(this,ja,"m",nc).bind(this)),this.addEventListener("dragstart",fc(this,ja,"m",sc).bind(this)),this.addEventListener("drop",fc(this,ja,"m",oc).bind(this)),this.addEventListener("focus",fc(this,ja,"m",rc).bind(this)),this.addEventListener("focusin",fc(this,ja,"m",ac).bind(this)),this.addEventListener("keydown",fc(this,ja,"m",ic).bind(this)),this.addEventListener("select",fc(this,ja,"m",cc).bind(this)),e.addEventListener("slotchange",fc(this,ja,"m",lc).bind(this))}get dropTargetItem(){return this.items[fc(this,Ma,"f")]??null}get activeIndex(){return fc(this,Aa,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){uc(this,Wa,!0,"f")}endSelection(){uc(this,Wa,!1,"f"),fc(this,Fa,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),uc(this,Fa,!1,"f"))}selectedItems(){const e=[],t=fc(this,Da,"f");t.currentNode=t.root;let n=fc(this,ja,"m",Ua).call(this);for(;null!==n;)n.selected&&e.push(n),n=fc(this,ja,"m",za).call(this,n);return e}};Ma=new WeakMap,Aa=new WeakMap,Wa=new WeakMap,Fa=new WeakMap,Da=new WeakMap,ja=new WeakSet,_a=function(e){return e instanceof La?NodeFilter.FILTER_ACCEPT:e instanceof dc?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ba=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),o=n.indexOf(t);return s>-1&&o>-1?e==t?[e]:n.slice(Math.min(s,o),Math.max(s,o)+1):[]},Ha=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ka=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Va=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},$a=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},qa=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),e.active=!0,e.tabIndex=0,uc(this,Aa,Array.from(n).indexOf(e),"f")},Ja=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,uc(this,Ma,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,uc(this,Ma,-1,"f"))},Ua=function(){const e=fc(this,Da,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Xa=function(){const e=fc(this,Da,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ya=function(e){const t=fc(this,Da,"f");return t.currentNode=e,t.previousNode()},za=function(e){const t=fc(this,Da,"f");return t.currentNode=e,t.nextNode()},Ga=function(e){const{target:t}=e;t instanceof La&&(this.selectedItems().includes(t)||fc(this,ja,"m",Ha).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},Za=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,o=this.selectedItems();if(t instanceof La)if(s||n){if(n)t.selected?fc(this,ja,"m",Va).call(this,t):fc(this,ja,"m",Ka).call(this,t),e.stopPropagation();else if(s){const n=o[o.length-1];if(n){const e=fc(this,ja,"m",Ba).call(this,n,t);e&&(o.includes(t)?fc(this,ja,"m",Va).call(this,...e):fc(this,ja,"m",Ka).call(this,...e))}else fc(this,ja,"m",Ha).call(this,t);e.stopPropagation()}}else fc(this,ja,"m",Ha).call(this,t)},Qa=function(){fc(this,ja,"m",Ja).call(this,null)},ec=function(e){const{target:t}=e;t instanceof La&&fc(this,ja,"m",Ja).call(this,t),e.preventDefault()},tc=function(e){e.preventDefault()},nc=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||fc(this,ja,"m",Ja).call(this,null)},sc=function(e){const{target:t}=e;t instanceof La&&(this.selectedItems().includes(t)||fc(this,ja,"m",Ha).call(this,t))},oc=function(){fc(this,ja,"m",Ja).call(this,null)},ic=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=fc(this,Da,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),o=fc(this,ja,"m",Ba).call(this,n,s);o&&fc(this,ja,"m",Ha).call(this,...o)}e.preventDefault();break}case"ArrowUp":if(n){const t=fc(this,ja,"m",Ya).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fc(this,ja,"m",Va).call(this,t):fc(this,ja,"m",Ka).call(this,t))}}else{const e=fc(this,ja,"m",Ua).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=fc(this,ja,"m",za).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?fc(this,ja,"m",Va).call(this,t):fc(this,ja,"m",Ka).call(this,t))}}else{const e=fc(this,ja,"m",Xa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=fc(this,ja,"m",Ua).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=fc(this,ja,"m",Xa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(fc(this,ja,"m",Ha).call(this,t),t.click()),e.stopPropagation();break}case"Escape":fc(this,ja,"m",$a).call(this),this.focus(),e.stopPropagation()}},rc=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},ac=function(e){const{target:t}=e;t instanceof La&&fc(this,ja,"m",qa).call(this,t)},cc=function(){fc(this,Wa,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},lc=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof La)).forEach(((e,t)=>{e.posinset=t}))},(hc=X("template")).content.append(X("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),X("slot",{children:[X("slot")]})),pc([V({type:String})],mc.prototype,"name",void 0),pc([V({type:Boolean})],mc.prototype,"droptarget",void 0),mc=pc([$({name:"e-list"})],mc);var gc,vc=mc,bc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},wc=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let yc=class extends HTMLElement{constructor(){super(),gc.set(this,void 0),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),X("div",{part:["container"],children:[X("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],wc(this,gc,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,gc,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return wc(e,gc,this,"f"),e}};gc=new WeakMap,bc([V({type:Boolean})],yc.prototype,"selected",void 0),bc([V({type:Boolean})],yc.prototype,"dragovered",void 0),bc([V({type:Boolean})],yc.prototype,"dragged",void 0),bc([V({type:Boolean})],yc.prototype,"disabled",void 0),yc=bc([$({name:"e-draggable"})],yc);var Ec,xc,kc=yc,Tc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Sc=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Pc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ic=class extends HTMLElement{constructor(){super(),Ec.set(this,void 0),xc.set(this,void 0),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),X("div",{part:["container"],children:[X("slot")]})),Sc(this,Ec,[],"f"),Sc(this,xc,[],"f")}get draggables(){return Pc(this,Ec,"f")}get selectedDraggables(){return Pc(this,xc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Sc(this,xc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof kc));Sc(this,Ec,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),o=s>0?0:this.draggables.length-1,i=s>0?this.draggables.length-1:0,r=s>0?n:e,a=s>0?e:n;for(let e=o;e!==i+s;e+=s)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};Ec=new WeakMap,xc=new WeakMap,Tc([V({type:Boolean})],Ic.prototype,"disabled",void 0),Ic=Tc([$({name:"e-dragzone"})],Ic);var Cc=Ic,Rc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Nc=class extends Cc{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(X("div",{part:["appendarea"],children:[X("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof Cc){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof Lc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],o=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),o=o<0?t:o):(this.appendChild(n),o=o<0?this.draggables.length-1:o),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),o=0}const i=this.shadowRoot?.querySelector("slot");return i&&i.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:o}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};Rc([V({type:String})],Nc.prototype,"name",void 0),Rc([V({type:String})],Nc.prototype,"dragovered",void 0),Rc([V({type:String,observed:!0})],Nc.prototype,"placeholder",void 0),Rc([V({type:Boolean})],Nc.prototype,"multiple",void 0),Nc=Rc([$({name:"e-dropzone"})],Nc);var Lc=Nc,Oc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let jc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(X("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),X("div",{part:["header"],children:[X("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),X("hr",{part:["separator"]}),X("div",{part:["body"],children:[X("slot")]}),X("hr",{part:["separator"]}),X("div",{part:["actions"],children:[X("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),X("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),X("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};Oc([V({type:String})],jc.prototype,"type",void 0),jc=Oc([$({name:"e-dialog"})],jc);var Mc,Ac,Wc,Fc,Dc,_c,Bc,Hc=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Kc=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Vc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let $c=class extends HTMLElement{constructor(){super(),Mc.add(this),Ac.set(this,void 0),Wc.set(this,void 0),this.attachShadow({mode:"open"}).append(Bc.content.cloneNode(!0)),Kc(this,Ac,null,"f"),Kc(this,Wc,!1,"f"),this.addEventListener("pointerdown",Vc(this,Mc,"m",Dc).bind(this)),this.addEventListener("pointermove",Vc(this,Mc,"m",_c).bind(this)),this.addEventListener("pointerup",Vc(this,Mc,"m",Fc).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;Kc(this,Ac,document.getElementById(e),"f");break}}}};Ac=new WeakMap,Wc=new WeakMap,Mc=new WeakSet,Fc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Kc(this,Wc,!1,"f")},Dc=function(e){const{pointerId:t}=e,{controls:n}=this;Kc(this,Ac,document.getElementById(n),"f"),this.setPointerCapture(t),Kc(this,Wc,!0,"f")},_c=function(e){if(Vc(this,Wc,"f")){const t=Vc(this,Ac,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:o}=e,{width:i,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(p+s),l-i)),u=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(u+o),d-r));t.style.setProperty("left",`${f}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Bc=X("template")).content.append(X("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),Hc([V({type:String,observed:!0})],$c.prototype,"controls",void 0),$c=Hc([$({name:"e-handle"})],$c);var qc,Jc,Uc,Xc,Yc,zc,Gc,Zc,Qc,el,tl=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},nl=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},sl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ol=class extends HTMLElement{constructor(){super(),qc.add(this),Jc.set(this,void 0),Uc.set(this,void 0),Xc.set(this,void 0),Yc.set(this,void 0),this.attachShadow({mode:"open"}).append(el.content.cloneNode(!0)),nl(this,Jc,null,"f"),nl(this,Xc,null,"f"),nl(this,Yc,0,"f"),nl(this,Uc,!1,"f"),this.addEventListener("pointerdown",sl(this,qc,"m",Gc).bind(this)),this.addEventListener("pointermove",sl(this,qc,"m",Zc).bind(this)),this.addEventListener("pointerup",sl(this,qc,"m",zc).bind(this))}get target(){return sl(this,Jc,"f")}};Jc=new WeakMap,Uc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,qc=new WeakSet,zc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),nl(this,Uc,!1,"f")},Gc=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();nl(this,Jc,s.getElementById(n),"f"),this.setPointerCapture(t),nl(this,Uc,!0,"f")},Zc=function(e){sl(this,Uc,"f")&&(null==sl(this,Xc,"f")?(nl(this,Yc,e.movementY,"f"),nl(this,Xc,sl(this,qc,"m",Qc).bind(this),"f"),requestAnimationFrame(sl(this,Xc,"f"))):nl(this,Yc,sl(this,Yc,"f")+e.movementY,"f"))},Qc=function(){const e=sl(this,Jc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=sl(this,Yc,"f"),o=parseFloat(t.getPropertyValue("height")),i=Math.trunc(o+("top"==n?-1:1)*s);e.style.setProperty("height",`${i}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}nl(this,Xc,null,"f")},(el=X("template")).content.append(X("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),tl([V({type:String})],ol.prototype,"controls",void 0),tl([V({type:String,defaultValue:"top"})],ol.prototype,"growdir",void 0),ol=tl([$({name:"e-hsash"})],ol);var il,rl,al=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let cl=class extends HTMLElement{constructor(){super(...arguments),il.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,il,"m",rl).call(this,e)}};il=new WeakSet,rl=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},al([V({type:String})],cl.prototype,"src",void 0),cl=al([$({name:"e-import"})],cl);var ll,hl,dl,pl,fl,ul=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ml=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},gl=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let vl=class extends HTMLElement{constructor(){super(),ll.add(this),hl.set(this,void 0),this.attachShadow({mode:"open"}),ml(this,ll,"m",dl).call(this),gl(this,hl,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":ml(this,ll,"m",dl).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),gl(this,hl,e,"f")}get promise(){return ml(this,hl,"f")}};hl=new WeakMap,ll=new WeakSet,dl=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(fl.content.cloneNode(!0));break;case"bar":t.replaceChildren(pl.content.cloneNode(!0))}},(()=>{const e=X("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(pl=X("template")).content.append(t,X("div",{part:["bar"],children:[X("div",{part:["slider"],children:[X("div",{part:["cursor"]})]})]})),(fl=X("template")).content.append(n,X("div",{part:["circle"]}))})(),ul([V({type:String,defaultValue:"bar",observed:!0})],vl.prototype,"type",void 0),vl=ul([$({name:"e-loader"})],vl);var bl,wl,yl,El,xl,kl,Tl,Sl,Pl,Il,Cl=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Rl=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Nl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ll=class extends HTMLElement{constructor(){super(),bl.add(this),wl.set(this,void 0),yl.set(this,void 0),El.set(this,void 0),xl.set(this,void 0),this.attachShadow({mode:"open"}).append(Il.content.cloneNode(!0)),Rl(this,wl,null,"f"),Rl(this,El,null,"f"),Rl(this,xl,0,"f"),Rl(this,yl,!1,"f"),this.addEventListener("pointerdown",Nl(this,bl,"m",Tl).bind(this)),this.addEventListener("pointermove",Nl(this,bl,"m",Sl).bind(this)),this.addEventListener("pointerup",Nl(this,bl,"m",kl).bind(this))}get target(){return Nl(this,wl,"f")}setWidth(e){const t=Nl(this,wl,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};wl=new WeakMap,yl=new WeakMap,El=new WeakMap,xl=new WeakMap,bl=new WeakSet,kl=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Rl(this,yl,!1,"f")},Tl=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Rl(this,wl,s.getElementById(n),"f"),this.setPointerCapture(t),Rl(this,yl,!0,"f")},Sl=function(e){Nl(this,yl,"f")&&(null==Nl(this,El,"f")&&(Rl(this,El,Nl(this,bl,"m",Pl).bind(this),"f"),requestAnimationFrame(Nl(this,El,"f"))),Rl(this,xl,Nl(this,xl,"f")+e.movementX,"f"))},Pl=function(){const e=Nl(this,wl,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Nl(this,xl,"f"),o=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(o),this.dispatchEvent(new Event("resize"))}Rl(this,xl,0,"f"),Rl(this,El,null,"f")},(Il=X("template")).content.append(X("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Cl([V({type:String,observed:!0})],Ll.prototype,"controls",void 0),Cl([V({type:String,defaultValue:"right"})],Ll.prototype,"growdir",void 0),Cl([V({type:Boolean})],Ll.prototype,"max",void 0),Ll=Cl([$({name:"e-wsash"})],Ll);var Ol,jl,Ml=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,jl=new WeakMap,Ol=new WeakSet;var Al,Wl,Fl,Dl,_l,Bl,Hl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Kl=class extends T{constructor(){super(_l.content.cloneNode(!0).firstChild),Al.add(this),Bl.set(this.element,this)}get checked(){return this.element.hasAttribute("aria-checked")}set checked(e){this.element.toggleAttribute("aria-checked",e)}get label(){return Hl(this,Al,"a",Wl).textContent??""}set label(e){Hl(this,Al,"a",Wl).textContent=e}get type(){return this.element.dataset.type??"button"}set type(e){this.element.dataset.type=e}get active(){return this.element.hasAttribute("aria-active")}set active(e){this.element.toggleAttribute("aria-active",e)}get hasPopup(){return this.element.hasAttribute("aria-haspopup")}set hasPopup(e){this.element.setAttribute("aria-haspopup",e.toString())}get expanded(){return this.element.hasAttribute("aria-expanded")}set expanded(e){this.element.toggleAttribute("aria-expanded",e)}get menu(){return fh.get(Hl(this,Al,"a",Fl))??null}trigger(){const{type:e,element:t}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}t.dispatchEvent(new Event("trigger",{bubbles:!0}))}toggle(e){const{element:t,type:n}=this;switch(n){case"menu":case"submenu":{const n=e??!this.expanded;this.expanded=n,n&&Hl(this,Al,"m",Dl).call(this),t.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e||(this.expanded=!0,Hl(this,Al,"m",Dl).call(this));break}}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e&&(this.expanded=!1);break}}}};Al=new WeakSet,Wl=function(){return this.element.querySelector(":scope > .content > .label")},Fl=function(){return this.element.querySelector(":scope > .menu")},Dl=function(){const{element:e,menu:t}=this;if(null!==t){const{element:n}=t,{style:s}=n,{top:o,bottom:i,left:r,right:a}=e.getBoundingClientRect(),{width:c,height:l}=n.getBoundingClientRect(),{scrollY:h,scrollX:d}=window,{clientWidth:p,clientHeight:f}=document.body,{type:u}=this;if("menu"==u){const e=a+c-p,t=o+l-f;s.setProperty("left",`${e>0?d+r-c:d+r}px`),s.setProperty("top",`${t>0?h+o-l:h+i}px`)}else{const t=e.closest(".menu");if(null!==t){const{top:e,left:h}=t.getBoundingClientRect(),d=a+c-p,u=o+l-f;s.setProperty("left",(d>0?r-c-h:a-h)+"px");const m=window.getComputedStyle(n),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);s.setProperty("top",`${u>0?i-l-e+w:o-e-b}px`)}}}},_l=X("template",{content:[X("button",{properties:{className:"menuitem"},attributes:{role:"menuitem"},children:[X("span",{properties:{className:"content"},children:[X("span",{properties:{className:"icon"}}),X("span",{properties:{className:"label"}}),X("span",{properties:{className:"arrow"}})]})]})]}),Bl=new WeakMap,Kl=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"menuitem"})],Kl);var Vl,$l,ql,Jl,Ul,Xl,Yl,zl,Gl,Zl,Ql,eh,th,nh,sh,oh,ih,rh,ah,ch,lh,hh,dh,ph,fh,uh,mh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},gh=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n};let vh=class extends T{constructor(){super(ph.content.cloneNode(!0).firstChild),Vl.add(this),ql.set(this,void 0),Jl.set(this,void 0),Ul.set(this,void 0);const{element:e}=this;gh(this,Ul,new fn(e,mh(this,Vl,"m",Xl).bind(this)),"f"),gh(this,ql,null,"f"),gh(this,Jl,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,mh(this,Vl,"m",Xl).bind(this)),"f"),e.addEventListener("click",mh(this,Vl,"m",nh).bind(this)),e.addEventListener("mouseover",mh(this,Vl,"m",hh).bind(this)),e.addEventListener("mouseout",mh(this,Vl,"m",lh).bind(this)),e.addEventListener("focusin",mh(this,Vl,"m",sh).bind(this)),e.addEventListener("focusout",mh(this,Vl,"m",oh).bind(this)),e.addEventListener("keydown",mh(this,Vl,"m",ah).bind(this)),e.addEventListener("trigger",mh(this,Vl,"m",dh).bind(this)),fh.set(e,this)}get items(){return Array.from(mh(this,Vl,"a",$l)).map((e=>Bl.get(e))).filter((e=>void 0!==e))}get activeItem(){return mh(this,ql,"f")}insertItems(e,...t){const{items:n,element:s}=this;n.length>e?n[e].element.after(...t.map((e=>e.element))):s.append(...t.map((e=>e.element)))}};ql=new WeakMap,Jl=new WeakMap,Ul=new WeakMap,Vl=new WeakSet,$l=function(){return mh(this,Ul,"f").values()},Xl=function(e){const{classList:t}=e;return t.contains("menuitem")?NodeFilter.FILTER_ACCEPT:t.contains("menuitemgroup")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Yl=function(){this.items.forEach((e=>{e.collapse()}))},zl=function(){const e=mh(this,Jl,"f");return e.currentNode=e.root,e.firstChild()},Gl=function(){const e=mh(this,Jl,"f");return e.currentNode=e.root,e.lastChild()},Zl=function(e){const t=mh(this,Jl,"f");return t.currentNode=e.element,t.previousNode()},Ql=function(e){const t=mh(this,Jl,"f");return t.currentNode=e.element,t.nextNode()},eh=function(e){const{menu:t}=e;if(null==t)return null;const n=mh(this,Jl,"f");return n.currentNode=t.element,n.firstChild()},th=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&t!==e&&(e.active=!0),gh(this,ql,e,"f")},nh=function(e){const{target:t}=e;if(t instanceof HTMLButtonElement){const n=Bl.get(t);void 0!==n&&n.trigger(),e.stopPropagation()}},sh=function(e){const{target:t}=e;if(t instanceof HTMLButtonElement){const n=Bl.get(t);void 0!==n&&mh(this,Vl,"m",th).call(this,n),e.stopPropagation()}},oh=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.collapse(),mh(this,Vl,"m",th).call(this,null)}},ih=async function(e,t){return new Promise(((n,s)=>{const o=setTimeout((()=>{n(void 0)}),t??0);uh.set(e,{clear:()=>{clearTimeout(o),s()}})})).then((()=>{uh.delete(e)}))},rh=function(e){const t=uh.get(e);void 0!==t&&(uh.delete(e),t.clear())},ah=function(e){const{key:t}=e,{element:n,activeItem:s}=this;switch(t){case"ArrowUp":(s?mh(this,Vl,"m",Zl).call(this,s)??mh(this,Vl,"m",Gl).call(this):mh(this,Vl,"m",zl).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(s?mh(this,Vl,"m",Ql).call(this,s)??mh(this,Vl,"m",zl).call(this):mh(this,Vl,"m",zl).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":mh(this,Vl,"m",zl).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":mh(this,Vl,"m",Gl).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(s){const{hasPopup:t}=s;t?(s.expand(),s.expanded&&mh(this,Vl,"m",eh).call(this,s)?.focus({preventScroll:!0})):s.click(),e.stopPropagation()}break;case"Escape":case"ArrowLeft":s&&(e.composedPath().find((e=>e instanceof HTMLMenuElement))==n||(s.collapse(),s.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(s){const{hasPopup:t}=s;t&&(s.expand(),mh(this,Vl,"m",eh).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation())}}e.preventDefault()},ch=function(e){const{element:t}=this,n=e.closest(".menuitem");if(null!==n&&t.contains(n)){const e=Bl.get(n);if(void 0!==e)return e}return null},lh=function(e){const{target:t,relatedTarget:n}=e,{element:s}=this,o=t instanceof Element?mh(this,Vl,"m",ch).call(this,t):null;if(o?.hasPopup&&!o.expanded&&mh(this,Vl,"m",rh).call(this,o),e.composedPath().find((e=>e instanceof HTMLMenuElement))==s){const{clientX:t,clientY:o}=e,{left:i,right:r,top:a,bottom:c}=s.getBoundingClientRect(),l=!(i>t||r<t||a>o||c<o),h=s.contains(n);l&&h&&(n instanceof HTMLMenuElement&&n!==s?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),mh(this,Vl,"m",th).call(this,null))),l||(this.focus({preventScroll:!0}),mh(this,Vl,"m",th).call(this,null))}},hh=function(e){const{target:t}=e,{element:n}=this,s=t instanceof Element?mh(this,Vl,"m",ch).call(this,t):null;if(s?.hasPopup&&s.expanded&&mh(this,Vl,"m",rh).call(this,s),e.composedPath().find((e=>e instanceof HTMLMenuElement))==n){const{activeItem:e}=this;e?.hasPopup&&e.expanded&&!e.contains(t)&&(mh(this,Vl,"m",rh).call(this,e),mh(this,Vl,"m",ih).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==s&&(mh(this,Vl,"m",th).call(this,s),s.focus({preventScroll:!0}),s.hasPopup&&(s.expanded?e&&e.menu?.focus({preventScroll:!0}):(mh(this,Vl,"m",rh).call(this,s),mh(this,Vl,"m",ih).call(this,s,200).then((()=>{const{activeItem:e}=this;mh(this,Vl,"m",Yl).call(this),e&&(mh(this,Vl,"m",rh).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},dh=function(e){const{target:t}=e},ph=X("template",{content:[X("menu",{properties:{className:"menu",tabIndex:-1},attributes:{role:"menu"}})]}),fh=new WeakMap,uh=new WeakMap,vh=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"menu"})],vh);var bh,wh,yh,Eh,xh,kh,Th,Sh=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Ph=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Ih=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Ch extends _{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new B(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Rh{constructor(e){bh.set(this,void 0),Ph(this,bh,e,"f")}static from(e){return new Rh(e)}show(){Ih(this,bh,"f").forEach((e=>{e.show()}))}hide(){Ih(this,bh,"f").forEach((e=>{e.hide()}))}display(){const e=Ih(this,bh,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Ih(this,bh,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ch){const{items:s}=n,o=e.get(s);o?o.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}bh=new WeakMap;class Nh extends _{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Ch?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Ch){const{items:t}=e;t&&t.remove(this)}}}Sh([W()],Nh.prototype,"visibility",void 0);let Lh=class extends Pt{constructor(e){super(),wh.add(this),yh.set(this,void 0),Eh.set(this,void 0),this.attachShadow({mode:"open"}),Ph(this,yh,new WeakMap,"f"),Ph(this,Eh,new WeakMap,"f"),this.setModel(e??new Ch)}getListElement(){const{model:e}=this;return Ih(this,yh,"f").get(e)?.deref()??null}getListItemElement(e){return Ih(this,Eh,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return U(X("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),X("slot"))}renderLight(){const{model:e}=this,t=X("e-list",{properties:{tabIndex:0},children:[X("e-listitemgroup",{children:se(e.items,(e=>Ih(this,wh,"m",xh).call(this,e)))})],eventListeners:{contextmenu:Ih(this,wh,"m",kh).bind(this),keydown:Ih(this,wh,"m",Th).bind(this)}});return Ih(this,yh,"f").set(e,new WeakRef(t)),t}};yh=new WeakMap,Eh=new WeakMap,wh=new WeakSet,xh=function(e){const t=X("e-listitem",{properties:{tabIndex:-1,label:e.label,name:e.label,draggable:!0},dataset:{index:e.index},children:[X("e-toolbar",{properties:{slot:"toolbar",tabIndex:0},children:[X("e-toolbaritemgroup",{children:[Er.menubutton({name:"settings",label:"Actions",menubutton:new wi({menu:Q(e,new rs({children:[new zn({items:[xn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),xn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new zn({items:[xn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{const{items:o}=e}))})}),Q(e,X("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return Ih(this,Eh,"f").set(e,new WeakRef(t)),t},kh=function(e){const{clientX:t,clientY:n,currentTarget:s,target:o}=e,{model:i}=this;if(s instanceof vc&&o instanceof La){const s=i.getItemByIndex(parseInt(o.dataset.index)),r=X("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n,slot:"menu"},children:[X("e-menuitemgroup",{properties:{tabIndex:-1},children:[X("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Rh.from(this.selectedItems()).display()}}}),X("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Rh.from(this.selectedItems()).remove()}}})]}),X("e-menuitemgroup",{properties:{tabIndex:-1},children:[X("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Rh.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{o.focus({preventScroll:!0})}}});o.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},Th=function(e){const{currentTarget:t,key:n}=e;if(t instanceof vc)switch(n){case"Delete":Rh.from(this.selectedItems()).remove(),e.preventDefault()}},Lh=Sh([$({name:"v-list"})],Lh);var Oh,jh,Mh,Ah,Wh,Fh,Dh,_h,Bh,Hh,Kh,Vh=Lh,$h=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},qh=function(e,t,n,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,n):o?o.value=n:t.set(e,n),n},Jh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Uh extends _{constructor(e){super();const t=new B(e?.rows??[]);t.setParent(this),this.rows=t;const n=new B(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,s)=>{const o=e.extract(n).toString(),i=e.extract(s).toString();return t*o.localeCompare(i)}))}}class Xh extends _{constructor(e){super();const{name:t,label:n,type:s,extract:o}=e;this.name=t,this.label=n,this.type=s,this.extract=o,this.filters=e.filters??[],this.sortorder=1}}$h([W()],Xh.prototype,"sortorder",void 0);class Yh extends _{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}$h([W()],Yh.prototype,"name",void 0),$h([W()],Yh.prototype,"age",void 0);let zh=class extends Pt{constructor(e){super(),Oh.add(this),jh.set(this,void 0),Mh.set(this,void 0),Ah.set(this,void 0),Wh.set(this,void 0),Fh.set(this,void 0),qh(this,Ah,[],"f"),qh(this,Wh,null,"f"),qh(this,Fh,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Uh),qh(this,Mh,((e,t)=>X("label",{properties:{textContent:t.extract(e)}})),"f"),qh(this,jh,(e=>X("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){qh(this,jh,e,"f")}setCellDelegate(e){qh(this,Mh,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Jh(this,Fh,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return U(X("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),X("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),X("div",{children:[X("input",{properties:{type:"search"},eventListeners:{input:Jh(this,Oh,"m",Hh).bind(this)}})]}),X("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[X("e-gridhead",{children:[X("e-gridrow",{children:se(e.columns,(e=>Jh(this,Oh,"m",Dh).call(this,e)))})]}),X("e-gridbody",{children:se(e.rows,(e=>Jh(this,Oh,"m",_h).call(this,e)))})]}))}setSearchFilter(e){qh(this,Wh,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Jh(this,Ah,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Jh(this,Ah,"f").includes(e)||(Jh(this,Ah,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Jh(this,Ah,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Jh(this,Ah,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Jh(this,Ah,"f").every((t=>t.filter(e))))})));const{gridElement:s}=this;s.beginSelection(),s.selectedRows().forEach((e=>e.selected=!1)),s.endSelection()}};jh=new WeakMap,Mh=new WeakMap,Ah=new WeakMap,Wh=new WeakMap,Fh=new WeakMap,Oh=new WeakSet,Dh=function(e){const{model:t}=this;return Q(e,X("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[X("span",{properties:{className:"gridcell-content"},children:[X("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:Jh(this,Oh,"m",Kh).bind(this)}}),X("e-toolbar",{properties:{tabIndex:-1},children:[X("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[X("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[X("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[X("e-menuitem",{properties:{type:"button",textContent:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),X("e-menuitem",{properties:{type:"submenu",textContent:"Sort",tabIndex:-1},children:[Q(e,X("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[X("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Ascending",value:"1",tabIndex:-1}}),X("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:s}=n,o=s.value;t.sortByColumn(e,parseInt(o))}}}),["sortorder"],((e,t,n,s)=>{}))]}),X("e-menuitem",{properties:{type:"submenu",textContent:"Filter",tabIndex:-1},children:[X("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>X("e-menuitem",{properties:{tabIndex:-1,textContent:e.name,type:"checkbox",checked:Jh(this,Ah,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof En){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[X("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":void 0!==s?e.dataset.sortorder=s.toString():delete e.dataset.sortorder}}))},_h=function(e){const{model:t}=this,n=X("e-gridrow",{properties:{tabIndex:-1},children:se(t.columns,(t=>Jh(this,Oh,"m",Bh).call(this,e,t)))});return Jh(this,Fh,"f").set(e,new WeakRef(n)),n},Bh=function(e,t){return X("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[Jh(this,Mh,"f").call(this,e,t)]})},Hh=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Kh=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:s}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(s.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},$h([V({type:Boolean,observed:!0})],zh.prototype,"resizable",void 0),$h([V({type:Boolean,observed:!0})],zh.prototype,"sortable",void 0),zh=$h([$({name:"v-grid"})],zh);var Gh,Zh,Qh,ed=zh,td=function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},nd=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class sd extends _{constructor(e){super(),this.name=e?.name,this.items=new B(e?.items??[])}}td([W()],sd.prototype,"items",void 0),td([W()],sd.prototype,"name",void 0);class od extends _{constructor(e){super();const{name:t,label:n,type:s,menu:o}=e;this.name=t,this.label=n,this.type=s,this.menu=o}}td([W()],od.prototype,"name",void 0),td([W()],od.prototype,"label",void 0),td([W()],od.prototype,"type",void 0),td([W()],od.prototype,"menu",void 0);let id=class extends Pt{constructor(e){super(),Gh.add(this),this.setModel(e??new sd)}renderLight(){const{model:e}=this;return nd(this,Gh,"m",Zh).call(this,e)}};Gh=new WeakSet,Zh=function(e){return Y("menu",{children:se(e.items,(e=>nd(this,Gh,"m",Qh).call(this,e)))}).element},Qh=function(e){const{type:t,menu:n}=e;return Q(e,Y("menuitem",{properties:{type:t,hasPopup:void 0!==n},children:void 0!==n?[nd(this,Gh,"m",Zh).call(this,n)]:void 0}),["label","name"],((e,t,n,s)=>{switch(t){case"label":e.label=s}})).element},id=td([$({name:"v-menu"})],id);var rd=id;async function ad(){const e=new Mt,t=new Nt({items:[new Ot({label:"TI 0",type:"parent",items:[new Ot({label:"TI 1A",type:"parent",items:[new Ot({type:"leaf",label:"TI 1AX"})]}),new Ot({type:"parent",label:"TI 1B"})]}),new Ot({label:"TI 1",type:"parent",items:[new Ot({label:"TI 1A",type:"parent",items:[new Ot({type:"leaf",label:"TI 1AX"})]}),new Ot({type:"parent",label:"TI 1B"})]}),new Ot({type:"leaf",label:"TI 2"}),new Ot({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Ot({label:"yo",type:"parent",items:[new Ot({type:"leaf",label:"plop"})]}));const n=new Vh;n.setModel(new Ch({items:[new Nh({label:"Hey"}),new Nh({label:"Yo"})]})),document.body.append(n);const s=new ed;s.resizable=!0,s.sortable=!0,s.setColumnDelegate((e=>U(X("label",{properties:{textContent:e.label}})))),s.setModel(new Uh({columns:[new Xh({name:"name",label:"Name",type:String,extract:e=>e.name}),new Xh({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Yh({name:"Denis",age:13}),new Yh({name:"Jean-Charles",age:32}),new Yh({name:"Charles",age:25})]}));const o=new rd(new sd({items:[new od({name:"MenuItem A1",label:"MenuItem A1",type:"submenu",menu:new sd({name:"MenuItem A2",items:[new od({name:"MenuItem B1",label:"MenuItem B1",type:"checkbox"}),new od({name:"MenuItem B2",label:"MenuItem B2",type:"checkbox"})]})})]}));document.body.append(o);const i=[Y("menuitem",{properties:{type:"checkbox",label:"First"}}),Y("menuitem",{properties:{type:"button",label:"Second"}})],r=Y("menu");r.insertItems(0,...i);const a=Y("menu",{children:[Y("menuitem",{properties:{type:"checkbox",label:"Hello, World!"}}).element,X("div",{properties:{className:"menuitemgroup"},children:[Y("menuitem",{properties:{type:"submenu",label:"Submenu",hasPopup:!0},children:[r.element]}).element]})]});console.log(Array.from(a.items.values())),window.showItems=()=>{console.log(Array.from(a.items.values()))},document.body.append(a.element),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(J(e)).forEach((e=>{e instanceof Bt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(J(e)).forEach((e=>{e instanceof Bt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){e.element.addEventListener("focusin",this),this._widgets.push(e)}unregisterWidget(e){this._widgets.includes(e)&&(e.element.removeEventListener("focusin",this),this._widgets.splice(this._widgets.indexOf(e),1))}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:o}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,o);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof Bt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const o=s?.hotkey,i=s?.key,r=s?.value,a=s?.checked,c={name:e,trigger:t,key:i,type:n};r&&(c.value=r),void 0!==i&&void 0!==r&&localStorage.setItem(i,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return o&&(this._hotkeys[l]=o),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const o=this._actions[s];let i;switch(t){case"radio":i=o.value??"";break;case"checkbox":i=o.value??!1}o.trigger(i,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:o}=e;e.value=t,o&&localStorage.setItem(o,t);const i=this._actionElements[n];if(i)switch(s){case"radio":i.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":i.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:o,value:i,checked:r}=s;switch(o){case"radio":"radio"==t.type?t.checked=t.value==i:"select"==t.type&&(t.value=i);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map