var main;(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{function n(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}e.r(t),e.d(t,{main:()=>me});const i=function(e){return t=>{const{name:n,options:i}=e;return customElements.get(n)||customElements.define(n,t,i),t}},s=function(e){return(t,i)=>{const s=e.type,o=i.toString(),r=n(o);switch(s){case"boolean":Object.defineProperty(t.constructor.prototype,o,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case"json":Object.defineProperty(t.constructor.prototype,o,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):null},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case"number":Object.defineProperty(t.constructor.prototype,o,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):e},set:function(e){e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case"string":default:Object.defineProperty(t.constructor.prototype,o,{get:function(){return this.getAttribute(r)},set:function(e){e?this.setAttribute(r,e):this.removeAttribute(r)}})}}};function o(e,t){const i=document.createElement(e,null==t?void 0:t.options);if(t&&t.options&&t.options.is&&i.setAttribute("is",t.options.is),t){const{properties:e,part:s,exportparts:o,attributes:r,dataset:a,children:c,listeners:l,styles:d}=t;e&&Object.keys(e).forEach((t=>{const n=e[t];void 0!==e[t]&&Object.assign(i,{[t]:n})})),s&&s.forEach((e=>{i.part.add(e)})),o&&i.setAttribute("exportparts",o.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&i.setAttribute(n(e),""):i.setAttribute(n(e),t.toString())})),d&&Object.keys(d).forEach((e=>{Array.isArray(d[e])?i.style.setProperty(e,d[e][0],d[e][1]):i.style.setProperty(e,d[e])})),a&&Object.keys(a).forEach((e=>{i.dataset[e]=a[e]})),c&&("function"==typeof c?i.replaceChildren(...c(i)):i.replaceChildren(...Array.isArray(c)?c:Array.from(c))),l&&Object.entries(l).forEach((e=>{Array.isArray(e[1])?i.addEventListener(e[0],e[1][0],e[1][1]):i.addEventListener(e[0],e[1])}))}return i}function r(e){return"object"==typeof e._reactiveNodeAttributes&&"function"==typeof e._reactiveNodeAttributes.addReactListener&&"function"==typeof e._reactiveNodeAttributes.removeReactListener}function a(e){return"object"==typeof e._reactiveParentNodeAttributes&&"function"==typeof e._reactiveParentNodeAttributes.addReactListener&&"function"==typeof e._reactiveParentNodeAttributes.removeReactListener}function c(e,t,n){return i=>{const s=e=>{const n=t(e);return n instanceof DocumentFragment?(console.warn("DocumentFragment with several child nodes are not supported in ReactiveChildNodes map."),n.firstChild||""):n},o=t=>{const o=e.length();if(o===t.detail.addedItems.length&&i.replaceChildren(""),t.detail.removedItems.length)for(let e=0;e<t.detail.removedItems.length;e++)i.childNodes.length>t.detail.index&&i.childNodes.item(t.detail.index).remove();if(t.detail.addedItems.length){const e=t.detail.addedItems.map(s);t.detail.index>=o-t.detail.addedItems.length?i.append(...e):i.childNodes.item(t.detail.index-t.detail.removedItems.length).before(...e)}0===o&&n&&i.replaceChildren(n)};return Object.assign(i,{_reactiveParentNodeAttributes:{addReactListener:()=>{e.addEventListener("listmodelchange",o)},removeReactListener:()=>{e.removeEventListener("listmodelchange",o)}}}),0===e.length()&&n?[n]:e.getAll().map(s)}}var l=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let d=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{textContent:'\n                        :host {\n                            position: relative;\n                            display: inline-block;\n                            user-select: none;\n                        }\n                        \n                        :host(:not([label])) [part~="label"] {\n                            display: none;\n                        }\n        \n                        [part~="label"] {\n                            white-space: nowrap;\n                            padding: 2px 6px 6px 6px;\n                            font-weight: bold;\n                        }\n        \n                        [part~="container"] {\n                            display: flex;\n                            flex-direction: column;\n                        }\n        \n                        [part~="separator"] {\n                            margin: 6px 0;\n                        }\n        \n                        :host(:first-child) [part~="separator"] {\n                            display: none;\n                        }\n                    '}}),o("hr",{part:["separator"]}),o("span",{part:["label"]}),o("div",{part:["container"],children:[o("slot")]})),this._activeIndex=-1,this.parentMenu=null,this.items=[]}static get observedAttributes(){return["label"]}get activeIndex(){return this._activeIndex}get activeItem(){return this.items[this.activeIndex]||null}connectedCallback(){this.tabIndex=this.tabIndex,this.shadowRoot.addEventListener("slotchange",this),this.addEventListener("mousedown",this),this.addEventListener("mouseover",this),this.addEventListener("mouseout",this),this.addEventListener("focusin",this),this.addEventListener("focusout",this),this.addEventListener("click",this),this.addEventListener("keydown",this)}handleEvent(e){var t;const n=e.target;switch(e.type){case"slotchange":this.items=n.assignedElements().filter((e=>e instanceof x));break;case"click":if(n instanceof x&&"radio"===n.type&&!n.checked){const e=this.findItem((e=>"radio"===e.type&&e.checked));e&&(e.checked=!1),n.checked=!0}break;case"focusout":const i=e.relatedTarget;i instanceof Element&&!this.contains(i)&&this.reset();break;case"mouseover":const s=this.items.indexOf(n);this===n?(this.reset(),this.focus()):s>=0&&this.focusItemAt(this.items.indexOf(n),!0);break;case"mouseout":const o=this.getBoundingClientRect(),r=!(o.left>e.clientX||o.right<e.clientX||o.top>e.clientY||o.bottom<e.clientY);this!==n&&!this.items.includes(n)||r||(this.reset(),this.focus());break;case"focusin":n instanceof Element&&(this._activeIndex=this.items.findIndex((e=>e.contains(n))));break;case"keydown":switch(e.key){case"ArrowUp":this.activeIndex>0&&(this.focusItemAt(this.activeIndex-1),e.stopPropagation());break;case"ArrowDown":this.activeIndex<this.items.length-1&&(this.focusItemAt(this.activeIndex+1),e.stopPropagation());break;case"Enter":this.activeItem&&(this.activeItem.click(),e.stopPropagation());break;case"ArrowRight":this.items.includes(e.target)&&(null===(t=this.activeItem)||void 0===t?void 0:t.childMenu)&&(this.activeItem.childMenu.focusItemAt(0),e.stopPropagation());break;case"Home":this.focusItemAt(0);break;case"End":this.focusItemAt(this.items.length-1);break;case"Escape":this.reset()}}}attributeChangedCallback(e,t,n){var i;if(t!==n)switch(e){case"label":if(t!==n){const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("[part~=label]");e&&(e.textContent=n)}}}focusItemAt(e,t){const n=this.items[e];n&&(this._activeIndex=e,n.focus(),t&&n.childMenu&&n.childMenu.focus())}reset(){const e=this.activeItem;this._activeIndex=-1,(null==e?void 0:e.childMenu)&&e.childMenu.reset()}findItem(e,t){let n=null;for(let i of this.items){if(e(i))return i;if(t&&i.childMenu&&(n=i.childMenu.findItem(e,t),n&&n))return n}return n}};l([s({type:"string"})],d.prototype,"name",void 0),l([s({type:"string"})],d.prototype,"label",void 0),d=l([i({name:"e-menuitemgroup"})],d);var h=d,p=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let u=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            user-select: none;\n        \n                            padding: 6px 0;\n                            background-color: white;\n                            cursor: initial;\n                            width: max-content;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        [part="container"] {\n                            display: flex;\n                            flex-direction: column;\n                        }\n        \n                        ::slotted(hr) {\n                            margin: 6px 0;\n                        }\n                    '}}),o("div",{part:["container"],children:[o("slot")]})),this.parentItem=null,this.items=[],this._activeIndex=-1}static get observedAttributes(){return["expanded"]}get activeIndex(){return this._activeIndex}get activeItem(){return this.items[this.activeIndex]||null}connectedCallback(){this.tabIndex=this.tabIndex,this.parentItem=this.parentElement instanceof x?this.parentElement:null,this.shadowRoot.addEventListener("slotchange",this),this.addEventListener("mousedown",this),this.addEventListener("mouseover",this),this.addEventListener("mouseout",this),this.addEventListener("focusin",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}handleEvent(e){const t=e.target;switch(e.type){case"slotchange":this.items=t.assignedElements().filter((e=>e instanceof x||e instanceof h));break;case"mousedown":t instanceof x&&this.items.includes(t)&&t.click();break;case"mouseover":const n=this.items.indexOf(t);this===t?(this.reset(),this.focus()):n>=0&&(t instanceof x?this.focusItemAt(n,!0):this._activeIndex=n);break;case"mouseout":const i=this.getBoundingClientRect(),s=!(i.left>e.clientX||i.right<e.clientX||i.top>e.clientY||i.bottom<e.clientY);this!==t&&!this.items.includes(t)||s||(this.reset(),this.focus());break;case"focusin":this._activeIndex=this.items.findIndex((e=>e.contains(t))),this.expanded=!0;break;case"focusout":const o=e.relatedTarget;o instanceof Element&&!this.contains(o)&&(this.reset(),this.expanded=!1);break;case"keydown":switch(e.key){case"ArrowUp":this.focusItemAt(this.activeIndex<=0?this.items.length-1:this.activeIndex-1),this.activeItem instanceof h&&this.activeItem.focusItemAt(this.activeItem.items.length-1),e.stopPropagation();break;case"ArrowDown":this.focusItemAt(this.activeIndex>=this.items.length-1?0:this.activeIndex+1),this.activeItem instanceof h&&this.activeItem.focusItemAt(0),e.stopPropagation();break;case"Home":this.focusItemAt(0),this.activeItem instanceof h&&this.activeItem.focusItemAt(0),e.stopPropagation();break;case"End":this.focusItemAt(this.items.length-1),this.activeItem instanceof h&&this.activeItem.focusItemAt(this.activeItem.items.length-1),e.stopPropagation();break;case"Enter":this.activeItem instanceof x&&(this.activeItem.click(),e.stopPropagation());break;case"Escape":if(this.parentItem){const t=this.parentItem.group,n=t?t.parentMenu:this.parentItem.parentMenu;n instanceof f&&(t?t.focusItemAt(t.activeIndex):n.focusItemAt(n.activeIndex),this.reset(),e.stopPropagation())}else document.body.focus();break;case"ArrowLeft":if(this.parentItem){const t=this.parentItem.group,n=t?t.parentMenu:this.parentItem.parentMenu;n instanceof f&&(t?t.focusItemAt(t.activeIndex):n.focusItemAt(n.activeIndex),this.reset(),e.stopPropagation())}break;case"ArrowRight":this.items.includes(e.target)&&this.activeItem instanceof x&&this.activeItem.childMenu&&(this.activeItem.childMenu.focusItemAt(0),e.stopPropagation())}}}attributeChangedCallback(e,t,n){if(n!==t)switch(e){case"expanded":null!==n?this.getBoundingClientRect().right>document.body.clientWidth&&(this.overflowing=!0):this.overflowing=!1}}focusItemAt(e,t){const n=this.items[e];n&&(this._activeIndex=e,n.focus(),n instanceof x?t&&n.childMenu&&n.childMenu.focus():n.focusItemAt(0))}reset(){const e=this.activeItem;this._activeIndex=-1,e instanceof x&&e.childMenu&&e.childMenu.reset()}findItem(e,t){let n=null;for(let i of this.items)if(i instanceof x){if(e(i))return i;if(t&&i.childMenu&&(n=i.childMenu.findItem(e,t),n))return n}else if(i instanceof h&&(n=i.findItem(e,t),n))return n;return n}};p([s({type:"string"})],u.prototype,"name",void 0),p([s({type:"boolean"})],u.prototype,"expanded",void 0),p([s({type:"boolean"})],u.prototype,"overflowing",void 0),u=p([i({name:"e-menu"})],u);var f=u,g=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let m=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            position: relative;\n                            display: block;\n                            user-select: none;\n                        }\n        \n                        :host(:not(:focus-within)) ::slotted(:hover) {\n                            color: black;\n                            background-color: gainsboro;\n                        }\n        \n                        [part="container"] {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    '}}),o("div",{part:["container"],children:[o("slot")]})),this.items=[],this._activeIndex=-1}get activeIndex(){return this._activeIndex}get activeItem(){return this.items[this.activeIndex]||null}connectedCallback(){this.tabIndex=this.tabIndex,this.shadowRoot.addEventListener("slotchange",this),this.addEventListener("mouseover",this),this.addEventListener("keydown",this),this.addEventListener("mousedown",this),this.addEventListener("focus",this)}handleEvent(e){var t,n,i;const s=e.target;switch(e.type){case"slotchange":this.items=s.assignedElements().filter((e=>e instanceof x));break;case"focus":this._activeIndex=0;break;case"mousedown":if(s instanceof x){const t=this.items.indexOf(s);t>=0&&(this.contains(document.activeElement)?(this.active=!1,document.body.focus()):(this.active=!0,this.focusItemAt(t,!0)),e.preventDefault())}break;case"mouseover":if(s instanceof x){const e=this.items.indexOf(s);e>=0&&this.contains(document.activeElement)&&(this.active?this.focusItemAt(e,!0):this._activeIndex=e)}break;case"keydown":switch(e.key){case"ArrowLeft":this.focusItemAt(this.activeIndex<=0?this.items.length-1:this.activeIndex-1),this.active&&(null===(t=this.activeItem)||void 0===t?void 0:t.childMenu)&&this.activeItem.childMenu.focusItemAt(0);break;case"ArrowRight":this.focusItemAt(this.activeIndex>=this.items.length-1?0:this.activeIndex+1),this.active&&(null===(n=this.activeItem)||void 0===n?void 0:n.childMenu)&&this.activeItem.childMenu.focusItemAt(0);break;case"ArrowDown":this.focusItemAt(this.activeIndex),this.active&&(null===(i=this.activeItem)||void 0===i?void 0:i.childMenu)&&this.activeItem.childMenu.focusItemAt(0);break;case"Enter":this.active=!0,this.activeItem&&this.activeItem.click();break;case"Escape":this.focusItemAt(this.activeIndex),this.active=!1}}}focusItemAt(e,t){const n=this.items[e];n&&(this._activeIndex=e,n.focus(),t&&n.childMenu&&n.childMenu.focus())}reset(){const e=this.activeItem;this._activeIndex=-1,(null==e?void 0:e.childMenu)&&e.childMenu.reset()}findItem(e,t){let n=null;for(let i of this.items){if(e(i))return i;if(t&&i.childMenu&&(n=i.childMenu.findItem(e,t),n))return n}return n}};g([s({type:"string"})],m.prototype,"name",void 0),g([s({type:"boolean"})],m.prototype,"active",void 0),m=g([i({name:"e-menubar"})],m);var b=m,v=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let y=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            position: relative;\n                            display: inline-block;\n        \n                            user-select: none;\n                            white-space: nowrap;\n        \n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n        \n                        :host(:not([type="menu"])) {\n                            padding-left: 12px;\n                            padding-right: 12px;\n                        }\n        \n                        :host(:focus-within) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: dimgray;\n                        }\n        \n                        :host([type="submenu"]) ::slotted([slot="menu"]),\n                        :host([type="menu"]) ::slotted([slot="menu"]) {\n                            z-index: 1;\n                            position: absolute;\n                            color: initial;\n                        }\n        \n                        :host([type="menu"]) ::slotted([slot="menu"]) {\n                            top: 100%;\n                            left: 0;\n                        }\n                        \n                        :host([type="submenu"]) ::slotted([slot="menu"]) {\n                            left: 100%;\n                            top: -6px;\n                        }\n                        \n                        :host([type="submenu"]) ::slotted([slot="menu"][overflowing]) {\n                            right: 100%;\n                            left: auto;\n                        }\n                        \n                        :host([type="menu"]) ::slotted([slot="menu"][overflowing]) {\n                            right: 0;\n                            left: auto;\n                        }\n        \n                        :host([type="menu"]) ::slotted([slot="menu"]:not([expanded])),\n                        :host([type="submenu"]) ::slotted([slot="menu"]:not([expanded])) {\n                            opacity: 0;\n                            pointer-events: none !important;\n                        }\n        \n                        [part~="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n        \n                        [part~="input"] {\n                            display: inline-block;\n                            flex: none;\n                            width: 16px;\n                            height: 16px;\n                            margin: 2px;\n                        }\n        \n                        [part~="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n        \n                        [part~="hotkey"] {\n                            flex: none;\n                            text-align: right;\n                            margin-left: 16px;\n                        }\n        \n                        [part~="hotkey"]:empty {\n                            display: none !important;\n                        }\n        \n                        [part~="arrow"] {\n                            display: inline-block;\n                            flex: none;\n                            margin: auto;\n                            color: inherit;\n                            text-align: center;\n                            font-weight: bold;\n                            width: 18px;\n                            height: 18px;\n                        }\n        \n                        [part~="arrow"]::after {\n                            display: inline-block;\n                            text-align: center;\n                            width: 18px;\n                            height: 18px;\n                            position: absolute;\n                            content: "►";\n                            color: dimgray;\n                        }\n        \n                        :host([type="menu"]) [part~="arrow"],\n                        :host([type="menu"]) [part~="input"] {\n                            display: none;\n                        }\n        \n                        :host(:not([type="menu"])) [part~="label"] {\n                            padding-left: 10px;\n                            padding-right: 12px;\n                        }\n                        \n                        :host(:not([type="checkbox"]):not([type="radio"])) [part~="input"] {\n                            visibility: hidden;\n                            pointer-events: none;\n                        }\n                        \n                        :host(:not([type="submenu"])) [part~="arrow"] {\n                            visibility: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),o("span",{part:["content"],children:[o("input",{part:["input"],properties:{type:"button",tabIndex:-1}}),o("span",{part:["label"]}),o("span",{part:["hotkey"]}),o("span",{part:["arrow"]})]}),o("slot",{properties:{name:"menu"}})),this.childMenu=null,this.parentMenu=null,this.group=null,this.command=null,this._hotkey=null}static get observedAttributes(){return["label","checked","type"]}get hotkey(){return this._hotkey}set hotkey(e){var t;this.dispatchEvent(new CustomEvent("e_hotkeychange",{bubbles:!0,detail:{oldHotKey:this._hotkey,newHotKey:e}})),this._hotkey=e;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("[part~=hotkey]");n&&(n.textContent=e?e.toString():"")}connectedCallback(){this.tabIndex=this.tabIndex,this.setAttribute("aria-label",this.label),this.group=this.parentElement instanceof h?this.parentElement:null,this.parentMenu=this.parentElement instanceof f||this.parentElement instanceof b?this.parentElement:null,this.shadowRoot.addEventListener("slotchange",this)}handleEvent(e){const t=e.target;switch(e.type){case"slotchange":const e=t.assignedElements()[0];this.childMenu=e instanceof f?e:null}}attributeChangedCallback(e,t,n){var i,s,o;if(n!==t)switch(e){case"label":if(t!==n){const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("[part~=label]");e&&(e.textContent=n)}break;case"checked":if(t!==n){const e=null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector("[part~=input]");e&&(e.checked=null!==n,this.dispatchEvent(new CustomEvent("e_change",{bubbles:!0})))}break;case"type":if(t!==n){const e=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelector("[part~=input]");if(e)switch(this.type){case"radio":e.type="radio";break;case"menu":e.type="hidden";break;default:e.type="checkbox"}}}}click(){if(super.click(),!this.disabled)switch(this.type){case"checkbox":this.checked=!this.checked;break;case"menu":this.childMenu&&this.childMenu.focusItemAt(0)}}};v([s({type:"string"})],y.prototype,"name",void 0),v([s({type:"string"})],y.prototype,"label",void 0),v([s({type:"string"})],y.prototype,"type",void 0),v([s({type:"boolean"})],y.prototype,"disabled",void 0),v([s({type:"boolean"})],y.prototype,"checked",void 0),y=v([i({name:"e-menuitem"})],y);var x=y;class I extends CustomEvent{constructor(e){super("objectmodelchange",e)}}var w=I;class E extends EventTarget{constructor(){return super(),this._listmodelListeners=new Map,new Proxy(this,{get:(e,t,n)=>{const i=Reflect.get(e,t,n);return"function"==typeof i?i.bind(e):i},set:(e,t,n,i)=>{const s=Reflect.get(e,t,i);if(s instanceof j&&this._listmodelListeners.has(t)){const e=this._listmodelListeners.get(t);s.removeEventListener("listmodelchange",e),this._listmodelListeners.delete(t)}if(n instanceof j){const i=()=>{e.dispatchEvent(new w({detail:{property:t,oldValue:n,newValue:n}}))};this._listmodelListeners.set(t,i),n.addEventListener("listmodelchange",i)}return e.dispatchEvent(new w({detail:{property:t,oldValue:s,newValue:n}})),Reflect.set(e,t,n,i)}})}}var k=E;class R extends CustomEvent{constructor(e){super("listmodelchange",e)}}var _=R;class L extends EventTarget{constructor(e=[]){super(),this._items=e.slice()}get(e){return this._items[e]}getAll(){return this._items.slice()}length(){return this._items.length}set(e,t){e>=0&&e<this._items.length&&(this._items[e]=t,this.dispatchEvent(new _({detail:{addedItems:[t],removedItems:[],index:e}})))}setAll(e){this._items=e.slice()}push(...e){const t=this._items.push(...e);return this.dispatchEvent(new _({detail:{addedItems:e,removedItems:[],index:t-e.length}})),t}pop(){const e=this._items.pop();return e&&this.dispatchEvent(new _({detail:{addedItems:[],removedItems:[e],index:this._items.length}})),e}insert(e,...t){e>this._items.length?e=this._items.length:e<0&&(e=e<-this._items.length?0:this._items.length+e),this._items.splice(e,0,...t),this.dispatchEvent(new _({detail:{addedItems:t,removedItems:[],index:e}}))}remove(e){const t=this._items.indexOf(e);t>-1&&(this._items.splice(t,1),this.dispatchEvent(new _({detail:{addedItems:[],removedItems:[e],index:t}})))}clear(){const e=this._items.slice();this._items.splice(0,this._items.length),this.dispatchEvent(new _({detail:{addedItems:[],removedItems:e,index:0}}))}}var A,O,C,j=L;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(A||(A={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(O||(O={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(C||(C={}));var P=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let D=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            position: relative;\n                            display: inline-block;\n        \n                            user-select: none;\n                            white-space: nowrap;\n                            cursor: pointer;\n                            padding: 2px;\n                        }\n        \n                        :host(:hover) {\n                            background-color: gainsboro;\n                        }\n        \n                        :host(:focus-within:not(:focus)) {\n                            background-color: gainsboro;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n        \n                        ::slotted([slot="menu"]) {\n                            z-index: 1;\n                            position: absolute;\n                            color: initial;\n                        }\n        \n                        ::slotted([slot="menu"]) {\n                            top: 100%;\n                            left: 0;\n                        }\n                        \n                        ::slotted([slot="menu"][overflowing]) {\n                            right: 0;\n                            left: auto;\n                        }\n        \n                        ::slotted([slot="menu"]:not([expanded])) {\n                            opacity: 0;\n                            pointer-events: none !important;\n                        }\n        \n                        [part~="toggle_arrow"] {\n                            position: relative;\n                            display: inline-block;\n                            flex: auto;\n                            width: 18px;\n                            height: 18px;\n                        }\n        \n                        [part~="toggle_arrow"]::after {\n                            display: inline-block;\n                            text-align: center;\n                            width: 18px;\n                            position: absolute;\n                            content: "▼";\n                            color: dimgray;\n                        }\n                    '}}),o("span",{part:["toggle_arrow"]}),o("slot",{properties:{name:"menu"}})),this.childMenu=null}static get observedAttributes(){return["label"]}connectedCallback(){this.tabIndex=this.tabIndex,this.shadowRoot.addEventListener("slotchange",this),this.addEventListener("keydown",this),this.addEventListener("click",this),this.addEventListener("focusout",this)}handleEvent(e){const t=e.target;switch(e.type){case"slotchange":const n=t.assignedElements()[0];this.childMenu=n instanceof f?n:null;break;case"click":t instanceof Element&&this.childMenu&&!this.childMenu.contains(t)&&this.toggle();break;case"focusout":const i=e.relatedTarget;i instanceof Element&&!this.contains(i)&&(this.active=!1);break;case"keydown":switch(e.key){case"Enter":this.active||(this.active=!0,this.childMenu&&this.childMenu.focusItemAt(0));break;case"Escape":this.focus(),this.active=!1}}}toggle(){this.active?this.active=!1:(this.active=!0,this.childMenu&&this.childMenu.focusItemAt(0))}attributeChangedCallback(e,t,n){var i;if(n!==t)switch(e){case"label":if(t!==n){const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("[part~=label]");e&&(e.textContent=n)}}}};P([s({type:"string"})],D.prototype,"name",void 0),P([s({type:"string"})],D.prototype,"label",void 0),P([s({type:"boolean"})],D.prototype,"disabled",void 0),P([s({type:"boolean"})],D.prototype,"active",void 0),D=P([i({name:"e-menubutton"})],D);var S=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let T=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),o("slot"))}connectedCallback(){this.tabIndex=this.tabIndex}};S([s({type:"string"})],T.prototype,"name",void 0),T=S([i({name:"e-tabpanel"})],T);var M=T,H=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let N=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            position: relative;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 6px;\n                            border-left: 3px solid transparent;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: grey;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            border-left: 3px solid dimgray;\n                            background-color: whitesmoke;\n                        }\n        \n                        ::slotted(*) {\n                            pointer-events: none;\n                        }\n                    "}}),o("slot")),this.panel=null}static get observedAttributes(){return["active","controls"]}connectedCallback(){this.tabIndex=this.tabIndex;const e=document.getElementById(this.controls);e!==this.panel&&e instanceof M&&(this.panel=e),this.panel&&(this.panel.hidden=!this.active)}attributeChangedCallback(e,t,n){if(n!==t)switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof M&&(this.panel=e),this.panel&&(this.panel.hidden=!this.active)}}};H([s({type:"string"})],N.prototype,"name",void 0),H([s({type:"boolean"})],N.prototype,"disabled",void 0),H([s({type:"boolean"})],N.prototype,"active",void 0),H([s({type:"string"})],N.prototype,"controls",void 0),N=H([i({name:"e-tab"})],N);var B=N;let q=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),o("slot")),this.tabs=[],this._activeIndex=1}get activeIndex(){return this._activeIndex}get activeTab(){return this.tabs[this._activeIndex]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof B));this.tabs=t,this._activeIndex=this.tabs.findIndex((e=>e.active))})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof B&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);this._activeIndex=t,this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(this._activeIndex=e,t.focus())}findTab(e){return this.tabs.find(e)||null}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};q=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([i({name:"e-tablist"})],q);var V=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let z=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            position: relative;\n                            user-select: none;\n                        }\n        \n                        [part~="container"] {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    '}}),o("div",{part:["container"],children:[o("slot")]})),this.items=[],this._activeItem=null,this._selectedItem=null}get activeItem(){return this._activeItem}get selectedItem(){return this._selectedItem}connectedCallback(){this.tabIndex=this.tabIndex,this.shadowRoot.addEventListener("slotchange",this),this.addEventListener("click",this),this.addEventListener("focusin",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}handleEvent(e){const t=e.target;switch(e.type){case"slotchange":t instanceof Element&&t.matches("slot:not([name])")&&(this.items=e.target.assignedElements().filter((e=>e instanceof X)));break;case"click":t instanceof X&&this.selectItem(t);break;case"focusin":if(this.active||(this.active=!0),t instanceof Element){const e=t.closest("e-treeitem");e&&this.contains(e)&&this.focusItem(e)}break;case"focusout":const n=e.relatedTarget;n instanceof Element&&!this.contains(n)&&(this.active=!1,this.activeItem&&(this.activeItem.active=!1));case"keydown":switch(e.key){case"ArrowLeft":this.activeItem&&(this.activeItem.expanded?this.activeItem.toggle():this.activeItem.parent instanceof X&&this.focusItem(this.activeItem.parent)),e.preventDefault();break;case"ArrowRight":this.activeItem&&(this.activeItem.expanded?this.activeItem.items.length>0&&this.focusItem(this.activeItem.items[0]):this.activeItem.toggle()),e.preventDefault();break;case"ArrowUp":this.activeItem?this.focusItem(this.activeItem.previousVisibleItem()):this.items.length>0&&this.focusItem(this.items[0]),e.preventDefault();break;case"ArrowDown":this.activeItem?this.focusItem(this.activeItem.nextVisibleItem()):this.items.length>0&&this.focusItem(this.items[this.items.length-1]),e.preventDefault();break;case"Home":this.items.length>0&&this.focusItem(this.items[0]),e.preventDefault();break;case"End":this.items.length>0&&this.focusItem(this.items[this.items.length-1].deepestVisibleChildItem()),e.preventDefault();break;case"Enter":this.activeItem&&(this.selectItem(this.activeItem),this.activeItem.click());break;case"Escape":this.active=!1,this.reset(),this.focus()}}}focusItem(e){this.activeItem&&(this.activeItem.active=!1),this._activeItem=e,this._activeItem.active=!0,e.focus()}selectItem(e){this._selectedItem&&(this._selectedItem.selected=!1),this._selectedItem=e,this._selectedItem.selected=!0}reset(){this.activeItem&&(this.activeItem.active=!1),this._selectedItem&&(this._selectedItem.selected=!1)}findItem(e,t){let n=null;for(let i of this.items){if(e(i))return i;if(t&&i.items)for(let s of i.items)if(n=s.findItem(e,t),n)return n}return n}};V([s({type:"boolean"})],z.prototype,"active",void 0),V([s({type:"string"})],z.prototype,"name",void 0),z=V([i({name:"e-tree"})],z);var K=z,F=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let W=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{textContent:'\n                        :host {\n                            display: inline-block;\n                        \n                            user-select: none;\n                            white-space: nowrap;\n                        \n                            padding: 0;\n                            cursor: pointer;\n                        \n                            --indent-width: 6px;\n                        }\n                        \n                        [part~="content"]:hover,\n                        :host([active]:not([selected])) [part~="content"] {\n                            background-color: whitesmoke;\n                        }\n                        \n                        :host([selected]) [part~="content"] {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:not([expanded])) [part~="container"] {\n                            display: none;\n                        }\n                        \n                        [part~="content"] {\n                            font-size: 1em;\n                            display: flex;\n                            padding-left: calc(var(--tree-indent) * var(--indent-width));\n                            pointer-events: auto;\n                        }\n                        \n                        [part~="label"],\n                        ::slotted([slot="label"]) {\n                            display: block;\n                            width: 100%;\n                            pointer-events: none;\n                            overflow: hidden;\n                            white-space: nowrap;\n                            text-overflow: ellipsis;\n                        }\n                        \n                        :host([leaf]) [part~="container"],\n                        [part~="container"]:empty {\n                            display: none;\n                        }\n                        \n                        [part~="toggle-arrow"] {\n                            flex: none;\n                            display: inline-block;\n                            width: 18px;\n                            height: 18px;\n                            margin: 2px;\n                            margin-right: 6px;\n                            border-radius: 2px;\n                        }\n                        \n                        :host([leaf]) [part~="toggle-arrow"] {\n                            visibility: hidden;\n                        }\n                        \n                        [part~="toggle-arrow"]::after {\n                            display: inline-block;\n                            width: 18px;\n                            height: 18px;\n                            position: absolute;\n                            color: dimgray;\n                            text-align: center;\n                        }\n                        \n                        :host(:not([expanded])) [part~="toggle-arrow"]::after {\n                            content: "►";\n                        }\n                        \n                        :host([expanded]) [part~="toggle-arrow"]::after {\n                            content: "▼";\n                        }\n                        \n                        [part~="state"] {\n                            flex: none;\n                        }\n                        \n                        [part~="container"] {\n                            display: flex;\n                            flex-direction: column;\n                            pointer-events: none;\n                        }\n                    '}}),o("span",{part:["content"],children:[o("span",{part:["toggle-arrow"]}),o("slot",{properties:{name:"label"},children:[o("span",{part:["label"]})]})]}),o("div",{part:["container"],children:[o("slot")]})),this.items=[],this.parent=null}static get observedAttributes(){return["label","expanded","indent"]}connectedCallback(){this.tabIndex=this.tabIndex,this.indent=(()=>{let e=0,t=this;for(;t.parentElement instanceof X;)e++,t=t.parentElement;return t.parentElement instanceof K&&e++,e})(),this.parent=this.parentElement instanceof X||this.parentElement instanceof K?this.parentElement:null,this.shadowRoot.addEventListener("click",this),this.shadowRoot.addEventListener("slotchange",this)}handleEvent(e){if(!(e.target instanceof Element))throw new Error("Target must be of type Element.");switch(e.type){case"click":e.target.matches("[part~=content]")&&(this.leaf||this.toggle());break;case"slotchange":e.target.matches("slot:not([name])")&&(this.items=e.target.assignedElements().filter((e=>e instanceof X)))}}attributeChangedCallback(e,t,n){if(n!==t)switch(e){case"label":const e=this.shadowRoot.querySelector("[part~=label]");e&&(e.textContent=n);break;case"expanded":this.dispatchEvent(new CustomEvent("e_toggle",{bubbles:!0}));break;case"indent":this.style.setProperty("--tree-indent",n)}}deepestVisibleChildItem(){return this.expanded&&this.items.length>0?this.items[this.items.length-1].deepestVisibleChildItem():this}previousVisibleItem(){if(this.parent){let e=this.parent.items.indexOf(this);return e>0?this.parent.items[e-1].deepestVisibleChildItem():this.parent instanceof X?this.parent:this}return this}nextVisibleItem(){if(this.expanded&&this.items.length>0)return this.items[0];let e=this.nearestParentItem();if(e.parent){let t=e.parent.items.indexOf(e);if(t<e.parent.items.length-1)return e.parent.items[t+1]}return this}nearestParentItem(){return this.parent instanceof X&&this.parent.items.indexOf(this)===this.parent.items.length-1?this.parent.nearestParentItem():this}toggle(){this.expanded=!this.expanded}findItem(e,t){let n=null;for(let i of this.items){if(e(i))return i;if(t&&i.items)for(let s of i.items)if(n=s.findItem(e,t),n)return n}return n}};F([s({type:"string"})],W.prototype,"name",void 0),F([s({type:"string"})],W.prototype,"label",void 0),F([s({type:"number"})],W.prototype,"indent",void 0),F([s({type:"boolean"})],W.prototype,"expanded",void 0),F([s({type:"string"})],W.prototype,"value",void 0),F([s({type:"boolean"})],W.prototype,"selected",void 0),F([s({type:"boolean"})],W.prototype,"active",void 0),F([s({type:"boolean"})],W.prototype,"leaf",void 0),W=F([i({name:"e-treeitem"})],W);var X=W,U=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Y=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: gray;\n                            border-color: gray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),o("div",{part:["container"],children:[o("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],this._referee=null}get referee(){return this._referee}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return e._referee=this,e}};U([s({type:"boolean"})],Y.prototype,"selected",void 0),U([s({type:"boolean"})],Y.prototype,"dragovered",void 0),U([s({type:"boolean"})],Y.prototype,"dragged",void 0),U([s({type:"boolean"})],Y.prototype,"disabled",void 0),Y=U([i({name:"e-draggable"})],Y);var G=Y,J=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Z=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part~="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),o("div",{part:["container"],children:[o("slot")]})),this.draggables=[],this.selectedDraggables=[]}selectDraggable(e){e.selected=!0,this.selectedDraggables.includes(e)||this.selectedDraggables.push(e)}unselectDraggable(e){let t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected=!1,this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),this.selectedDraggables=[]}connectedCallback(){var e;this.tabIndex=this.tabIndex;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("slot");t&&t.addEventListener("slotchange",(()=>{const e=t.assignedElements().filter((e=>e instanceof G));this.draggables=e,this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0===e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){let e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),i=Math.sign(e-n),s=i>0?0:this.draggables.length-1,o=i>0?this.draggables.length-1:0,r=i>0?n:e,a=i>0?e:n;for(let e=s;e!==o+i;e+=i)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0===e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};J([s({type:"boolean"})],Z.prototype,"disabled",void 0),Z=J([i({name:"e-dragzone"})],Z);var $=Z,Q=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ee=class extends ${constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(o("div",{part:["appendarea"],children:[o("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}static get observedAttributes(){return["placeholder"]}selectDraggable(e){e.selected=!0,this.selectedDraggables.includes(e)||this.selectedDraggables.push(e)}unselectDraggable(e){let t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected=!1,this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),this.selectedDraggables=[]}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,i=t.target;(i==this||this.draggables.includes(i))&&(i==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):i.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const i=e.dataTransfer;if(i){const e=i.getData("text/plain"),t=document.getElementById(e);if(t instanceof $){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof te&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){var i;if(n!==t)switch(e){case"placeholder":if(t!==n){const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("[part~=placeholder]");e&&(e.textContent=n)}}}addDraggables(e,t){var n;if(e.length>0){let i=!0;this.droptest&&(i=this.droptest(this,e));let s=[],o=-1;if(i)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),o=o<0?t:o):(this.appendChild(n),o=o<0?this.draggables.length-1:o),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),o=0}const r=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("slot");return r&&r.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:o}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){var t;let n=this.draggables.filter(((t,n)=>e(t,n))),i=this.draggables.indexOf(n[0]);n.forEach((e=>{e.remove()}));const s=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:n,position:i}}))}),{once:!0})}};Q([s({type:"string"})],ee.prototype,"name",void 0),Q([s({type:"string"})],ee.prototype,"dragovered",void 0),Q([s({type:"string"})],ee.prototype,"placeholder",void 0),Q([s({type:"boolean"})],ee.prototype,"multiple",void 0),ee=Q([i({name:"e-dropzone"})],ee);var te=ee,ne=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ie=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part~="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part~="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part~="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part~="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part~="cancel-button"],\n                        :host([type="alert"]) [part~="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),o("div",{part:["header"],children:[o("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),o("hr",{part:["separator"]}),o("div",{part:["body"],children:[o("slot")]}),o("hr",{part:["separator"]}),o("div",{part:["actions"],children:[o("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),o("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),o("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]})),this._closeButton=this.shadowRoot.querySelector("[part~=close-button]"),this._cancelButton=this.shadowRoot.querySelector("[part~=cancel-button]"),this._confirmButton=this.shadowRoot.querySelector("[part~=confirm-button]"),this._okButton=this.shadowRoot.querySelector("[part~=ok-button]")}connectedCallback(){this.tabIndex=this.tabIndex,this.shadowRoot.addEventListener("mousedown",(e=>{let t=e.target;t===this._closeButton||t===this._cancelButton?this.cancel():t!==this._confirmButton&&t!==this._okButton||this.confirm()}))}open(){this.dispatchEvent(new CustomEvent("e_open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("e_close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("e_cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("e_confirm",{bubbles:!0})),this.close()}};ne([s({type:"string"})],ie.prototype,"type",void 0),ie=ne([i({name:"e-dialog"})],ie);var se=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let oe=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            z-index: 1;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(0, 128, 255);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),this._target=null,this._targetStyle=null}static get observedAttributes(){return["controls"]}connectedCallback(){this.tabIndex=this.tabIndex;let e=e=>{if(this._target&&this._targetStyle){let t=parseFloat(this._targetStyle.getPropertyValue("height")),n=Math.trunc(t+("top"===this.growdir?-1:1)*e.movementY);this._target.style.setProperty("height",`${n}px`),this.dispatchEvent(new CustomEvent("e_resize"))}};this.addEventListener("pointerdown",(t=>{const n=document.getElementById(this.controls);n&&this._target!==n&&(this._target=n,this._targetStyle=window.getComputedStyle(n)),this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e),this.addEventListener("pointerup",(t=>{this.removeEventListener("pointermove",e),this.releasePointerCapture(t.pointerId)}))}))}attributeChangedCallback(e,t,n){if(n!==t)switch(e){case"controls":if(t!==n){const e=document.getElementById(this.controls);e&&(this._target=e,this._targetStyle=window.getComputedStyle(e))}}}};se([s({type:"string"})],oe.prototype,"controls",void 0),se([s({type:"string"})],oe.prototype,"growdir",void 0),oe=se([i({name:"e-hsash"})],oe);var re=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ae=class extends HTMLElement{constructor(){super()}connectedCallback(){this.src&&(async e=>{this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new CustomEvent("e_load"))})(this.src)}};re([s({type:"string"})],ae.prototype,"src",void 0),ae=re([i({name:"e-import"})],ae);var ce=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let le=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                        }\n                        \n                        :host([type="bar"]) {\n                            display: inline-block;\n                            width: 64px;\n                        }\n        \n                        :host([type]:not([type="circle"])) [part~="circle"] {\n                            display: none !important;\n                        }\n                        \n                        :host(:not([type="bar"])) [part~="bar"] {\n                            display: none !important;\n                        }\n        \n                        [part~="circle"] {\n                            position: relative;\n                            width: 12px;\n                            height: 12px;\n                            border-top: 4px solid var(--loader-color, rgb(0, 128, 255));\n                            border-right: 4px solid var(--loader-color, rgb(0, 128, 255));\n                            border-left: 4px solid transparent;\n                            border-bottom: 4px solid transparent;\n                            border-radius: 50%;\n                            animation-duration: 1s;\n                            animation-name: circle;\n                            animation-timing-function: linear;\n                            animation-iteration-count: infinite;\n                        }\n        \n                        @keyframes circle {\n                            0% {\n                                transform: rotate(0);\n                            }\n                            100% {\n                                transform: rotate(360deg);\n                            }\n                        }\n        \n                        [part~="bar"] {\n                            display: block;\n                            position: relative;\n                            overflow: hidden;\n                        }\n        \n                        [part~="slider"] {\n                            position: relative;\n                            display: flex;\n                            will-change: transform;\n                            animation-duration: 1s;\n                            animation-name: slider;\n                            animation-timing-function: linear;\n                            animation-iteration-count: infinite;\n                        }\n        \n                        [part~="cursor"] {\n                            position: relative;\n                            display: inline-block;\n                            width: 32px;\n                            height: 4px;\n                            background-color: var(--loader-color, rgb(0, 128, 255));\n                            border-radius: 4px;\n        \n                            will-change: transform;\n                            animation-duration: 1s;\n                            animation-name: cursor;\n                            animation-timing-function: linear;\n                            animation-iteration-count: infinite;\n                        }\n        \n                        @keyframes slider {\n                            0% {\n                                transform: translateX(0);\n                            }\n                            100% {\n                                transform: translateX(100%);\n                            }\n                        }\n        \n                        @keyframes cursor {\n                            0% {\n                                transform: translateX(-100%);\n                            }\n                            100% {\n                                transform: translateX(100%);\n                            }\n                        }\n                    '}}),o("div",{part:["bar"],children:[o("div",{part:["slider"],children:[o("div",{part:["cursor"]})]})]}),o("div",{part:["circle"]})),this._promise=null}set promise(e){e&&e.finally((()=>{this.remove()})),this._promise=e}get promise(){return this._promise}};ce([s({type:"string"})],le.prototype,"type",void 0),le=ce([i({name:"e-loader"})],le);var de=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let he=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(o("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            z-index: 1;\n        \n                            min-width: 4px;\n                            width: 4px;\n                            max-width: 4px;\n        \n                            margin-left: -2px;\n                            margin-right: -2px;\n                            \n                            background-color: rgb(0, 128, 255);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),this._target=null,this._targetStyle=null}static get observedAttributes(){return["controls"]}connectedCallback(){this.tabIndex=this.tabIndex;let e=e=>{if(this._target&&this._targetStyle){let t=parseFloat(this._targetStyle.getPropertyValue("width")),n=Math.trunc(t+("left"===this.growdir?-1:1)*e.movementX);this._target.style.setProperty("width",`${n}px`),this.dispatchEvent(new CustomEvent("e_resize"))}};this.addEventListener("pointerdown",(t=>{const n=document.getElementById(this.controls);n&&this._target!==n&&(this._target=n,this._targetStyle=window.getComputedStyle(n)),this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e),this.addEventListener("pointerup",(()=>{this.removeEventListener("pointermove",e),this.releasePointerCapture(t.pointerId)}))}))}attributeChangedCallback(e,t,n){if(n!==t)switch(e){case"controls":if(t!==n){const e=document.getElementById(this.controls);e&&(this._target=e,this._targetStyle=window.getComputedStyle(e))}}}};de([s({type:"string"})],he.prototype,"controls",void 0),de([s({type:"string"})],he.prototype,"growdir",void 0),he=de([i({name:"e-wsash"})],he);class pe extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"});(new class{constructor(){this._observer=new MutationObserver(this.callback.bind(this))}callback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{this.addReactListenersInSubtree(e)})),e.removedNodes.forEach((e=>{this.removeReactListenersInSubtree(e)}))}))}observe(e){this._observer.observe(e,{childList:!0,subtree:!0}),this.addReactListenersInSubtree(e)}disconnect(){this._observer.disconnect()}addReactListenersInSubtree(e){r(e)&&e._reactiveNodeAttributes.addReactListener(),a(e)&&e._reactiveParentNodeAttributes.addReactListener();let t=0;for(;t<e.childNodes.length;){const n=e.childNodes.item(t);null!==n&&this.addReactListenersInSubtree(n),t++}}removeReactListenersInSubtree(e){r(e)&&e._reactiveNodeAttributes.removeReactListener(),a(e)&&e._reactiveParentNodeAttributes.removeReactListener();let t=0;for(;t<e.childNodes.length;){const n=e.childNodes.item(t);null!==n&&this.removeReactListenersInSubtree(n),t++}}}).observe(e),setTimeout((()=>{this.refresh()}))}refresh(){const e=this.constructor.styles;void 0!==e?this.shadowRoot.replaceChildren(o("style",{properties:{textContent:e}}),this.render()):this.shadowRoot.replaceChildren(this.render())}}class ue extends k{constructor(e=[]){super(),this.items=new j(e)}}class fe extends k{constructor(e,t=[]){super(),this.label=e,this.items=new j(t)}}let ge=class extends pe{constructor(){super(),this.model=new ue}renderTreeItem(e){return function(e,t,n){if("clear"in e){const i=e=>{n(t,e.detail.addedItems,e.detail.removedItems,e.detail.index)};Object.assign(t,{_reactiveNodeAttributes:{addReactListener:()=>{e.addEventListener("listmodelchange",i)},removeReactListener:()=>{e.removeEventListener("listmodelchange",i)}}})}else{const i=e=>{n(t,e.detail.property,e.detail.oldValue,e.detail.newValue)};Object.assign(t,{_reactiveNodeAttributes:{addReactListener:()=>{e.addEventListener("objectmodelchange",i)},removeReactListener:()=>{e.removeEventListener("objectmodelchange",i)}}})}return t}(e,o("e-treeitem",{part:["treeitem"],exportparts:["content: treeitem-content","container: treeitem-container"],properties:{label:e.label,leaf:0===e.items.length()},children:c(e.items,(e=>this.renderTreeItem(e)))}),((e,t,n,i)=>{switch(t){case"label":e.label=i;break;case"items":e.leaf=0===i.length()}}))}render(){return o("e-tree",{part:["tree"],exportparts:["container: tree-container"],children:c(this.model.items,(e=>this.renderTreeItem(e)))})}};async function me(){document.body.append(o("v-treeview",{properties:{model:new ue([new fe("TI 1",[new fe("TI 1A",[new fe("TI 1AX")]),new fe("TI 1B")]),new fe("TI 2"),new fe("TI 3")])}}))}ge=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([i({name:"v-treeview"})],ge)})(),main=t})();
//# sourceMappingURL=main.js.map