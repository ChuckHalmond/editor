var main;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>$h});var n,o=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};n=new WeakMap;var s,i,r,a,c,l,h,d,p,f,u,m,g,v,b,w,y,E,x,k=new class{constructor(){n.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,n,new Map,"f")}define(e,t){o(this,n,"f").set(e,t)}create(e){const t=o(this,n,"f").get(e);if(void 0!==t)return new t;throw new Error}},T=class{constructor(){this.rootElement=this.renderRoot()}click(){this.rootElement.click()}focus(e){this.rootElement.focus(e)}blur(){this.rootElement.blur()}contains(e){return this.rootElement.contains(e)}renderRoot(){throw new Error}},S=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},P=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class I{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new R(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new R(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return I.PROPERTY_CHANGE}get LIST_REMOVE(){return I.LIST_REMOVE}get LIST_INSERT(){return I.LIST_INSERT}get LIST_SORT(){return I.LIST_SORT}}var C=I;s=new WeakMap;var R=class{constructor(e){s.set(this,void 0),S(this,s,e.slice(),"f")}get length(){return P(this,s,"f").length}item(e){return P(this,s,"f")[e]??null}values(){return P(this,s,"f").values()}};class N{constructor(e){i.set(this,void 0),r.set(this,void 0),this.type=e,S(this,i,null,"f"),S(this,r,null,"f")}get currentTarget(){return P(this,i,"f")}get target(){return P(this,r,"f")}}i=new WeakMap,r=new WeakMap,N.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof N&&S(e,i,t,"f")}setTarget(e,t){e instanceof N&&S(e,r,t,"f")}};var L=N.ModelEventTargetAccessor;delete N.ModelEventTargetAccessor;var O=N;a=new WeakMap;class M extends class{constructor(){a.set(this,void 0),S(this,a,new Map,"f")}receiveEvent(e){const{type:t}=e,n=P(this,a,"f").get(t);L.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=P(this,a,"f").get(e);n?n.push(t):P(this,a,"f").set(e,[t])}removeEventListener(e,t){const n=P(this,a,"f").get(e);if(n){const o=n.findIndex((e=>e==t));o>-1&&n.splice(o,1),0==n.length&&P(this,a,"f").delete(e)}}dispatchEvent(e){L.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),c.add(this),l.set(this,void 0),h.set(this,void 0),d.set(this,void 0),S(this,l,null,"f"),S(this,h,[],"f"),S(this,d,!1,"f")}get parentNode(){return P(this,l,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");S(this,l,e,"f")}else S(this,l,null,"f")}beginChanges(){S(this,d,!0,"f")}endChanges(){this.dispatchEvent(new O("modelchange")),P(this,h,"f").splice(0),S(this,d,!1,"f")}getRecords(){return P(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}l=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakSet,p=function(e,t,n){const o=P(this,h,"f"),s=new C({target:this,changeType:C.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});o.push(s),this.dispatchEvent(new O("modelchange")),o.splice(0)},f=function(e){P(this,h,"f").push(e),P(this,d,"f")||(this.dispatchEvent(new O("modelchange")),P(this,h,"f").splice(0))},M.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,o){e instanceof M&&P(e,c,"m",p).call(e,t,n,o)}handleRecord(e,t){e instanceof M&&P(e,c,"m",f).call(e,t)}};var j=M.ModelNodeRecordsAccessor;delete M.ModelNodeRecordsAccessor;var A=M;const W=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:o}=n;Object.defineProperty(o,t,{set:function(e){const n=D.getProperty(this,t);return D.setProperty(this,t,e),e!==n&&j.triggerChange(this,t,n,e),!0},get:function(){return D.getProperty(this,t)},enumerable:!0})}};class F extends M{constructor(){super(),u.set(this,void 0),S(this,u,new Map,"f")}}u=new WeakMap,F.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof F&&P(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof F)return P(e,u,"f").get(t)}};var D=F.ModelObjectPropertiesAccessor;delete F.ModelObjectPropertiesAccessor;var _=F;m=new WeakMap;var B=class extends M{constructor(e){super(),m.set(this,void 0),S(this,m,e?.slice()??[],"f")}setParent(e){super.setParent(e),P(this,m,"f").forEach((t=>{t.setParent(e)}))}get length(){return P(this,m,"f").length}get(e){return P(this,m,"f")[e]??null}index(e,t){return P(this,m,"f").indexOf(e,t)}values(){return P(this,m,"f").values()}sort(e){const t=P(this,m,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),S(this,m,t.map((e=>e.item)),"f");const n=new C({target:this,changeType:C.LIST_SORT,sortedIndices:t.map((e=>e.index))});j.handleRecord(this,n)}prepend(...e){const t=P(this,m,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const o=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:0,insertedItems:e});j.handleRecord(this,o)}append(...e){const t=P(this,m,"f"),{length:n}=t,{parentNode:o}=this;o&&e.forEach((e=>{e.setParent(o)})),t.push(...e);const s=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:n,insertedItems:e});j.handleRecord(this,s)}insert(e,...t){const n=P(this,m,"f"),{length:o}=n;if(Math.abs(e)<=o){if(e>=0){const{parentNode:s}=this;t.forEach((e=>{e.setParent(s)})),e<o?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=o-e;const{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(s)})),n.splice(e,0,...t)}const s=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});j.handleRecord(this,s)}}remove(e){const t=P(this,m,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:o}=this;o&&e.setParent(null);const s=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:n,removedItems:[e]});j.handleRecord(this,s)}}clear(){const e=P(this,m,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const o=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:0,removedItems:t});j.handleRecord(this,o)}}};v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap,g=new WeakSet,E=function(){const e=P(this,b,"f").splice(0);e.length>0&&P(this,v,"f").call(this,e)},x=function(e){if(!P(this,w,"f")){const{target:t,currentTarget:n}=e,o=P(this,y,"f").get(n);if(o){const{options:e}=o,{properties:s,propertiesFilter:i,childList:r,subtree:a}=e;a?s&&t instanceof A?(i?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):t==n&&(s&&t instanceof A?(i?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,g,"m",E).call(this)))}}};var H=class{constructor(e){g.add(this),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),y.set(this,void 0),S(this,v,e,"f"),S(this,b,[],"f"),S(this,w,!1,"f"),S(this,y,new WeakMap,"f")}observe(e,t){S(this,w,!1,"f");const n=P(this,y,"f");let o=n.get(e);if(o)n.set(e,o);else{const s=P(this,g,"m",x).bind(this);e.addEventListener("modelchange",s),o={listener:s,options:t},n.set(e,o)}}unobserve(e){let t=P(this,y,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){P(this,b,"f").splice(0),S(this,w,!0,"f")}};function K(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const V=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:s}=o,i=n.toString(),r=K(i),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(o,"observedAttributes",o);Array.isArray(e)?e.push(r):Object.defineProperty(o,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(s,i,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},q=function(e){return t=>{const{name:n,options:o}=e;return customElements.get(n)||customElements.define(n,t,o),t}},$=function(e){return t=>{const{name:n}=e;return k.define(n,t),t}};function*X(e){yield e;const t=e.childNodes,n=t.length;let o=0;for(;o<n;){const e=t.item(o);null!==e&&(yield*X(e)),o++}}function Y(...e){const t=document.createDocumentFragment();return t.append(...e),t}function U(e,t){if(t){const{options:n,properties:o,part:s,exportParts:i,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(d,{[e]:t})})),s){const{part:e}=d;s.forEach((t=>{e.add(t)}))}if(i&&d.setAttribute("exportparts",i.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(K(e),""):d.setAttribute(K(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.append(...c(d)):d.append(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}function z(e,t){const n=k.create(e);if(t){const{rootElement:e}=n,{properties:o,part:s,exportParts:i,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t;if(o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(n,{[e]:t})})),s){const{part:t}=e;s.forEach((e=>{t.add(e)}))}if(i&&e.setAttribute("exportparts",i.join(", ")),r&&Object.keys(r).forEach((t=>{const n=r[t];"boolean"==typeof n?n&&e.setAttribute(K(t),""):e.setAttribute(K(t),n.toString())})),h){const{style:t}=e;Object.keys(h).forEach((e=>{Array.isArray(h[e])?t.setProperty(e,h[e][0],h[e][1]):t.setProperty(e,h[e])}))}if(a){const{dataset:t}=e;Object.keys(a).forEach((e=>{t[e]=a[e].toString()}))}c&&("function"==typeof c?e.append(...c(e)):e.append(...Array.from(c))),l&&Object.entries(l).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return n}const J=new WeakMap,G=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,o=J.get(t);if(o){const{reactiveElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),Z=new H((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:o,newValue:s}=e,{reactiveElementsArray:i}=J.get(t);i.forEach((e=>{const{elementRef:t,react:i,properties:r}=e,a=t.deref();a&&r.includes(n)&&i(a,n,o,s)}))}))}));function Q(e,t,n,o){const s={elementRef:new WeakRef(t),react:o,properties:n},i=J.get(e);if(G.register(t,{model:e,reactiveElement:s}),i){const{reactiveElementsArray:e,observerOptions:t}=i,{propertiesFilter:o}=t;e.push(s),t.propertiesFilter=o?o.concat(n.filter((e=>!o.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},o=[s];J.set(e,{observerOptions:t,reactiveElementsArray:o}),Z.observe(e,t)}return n.forEach((n=>{if(n in e){const s=Reflect.get(e,n,e);void 0!==s&&o(t,n,void 0,s)}})),t}const ee=new WeakMap,te=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,o=ee.get(t);if(o){const{reactiveChildElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),ne=new H((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,o=n,{length:s}=o,{reactiveChildElementsArray:i}=ee.get(o);i.forEach((n=>{const{parentRef:o,mapping:i,placeholder:r}=n,a=o.deref();if(a){const{firstChild:n,children:o}=a,{length:c}=o;r&&s>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,s=Array.from(n.values()).map(i),{length:r}=o;t<r?o[t].before(...s):a.append(...s);break}case d:{const{removedIndex:n,removedItems:s}=e,{length:i}=s;t=t??document.createRange();const r=n+(i-1);r<c&&(t.setStartBefore(o[n]),t.setEndAfter(o[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(o);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==s&&r&&a.append(r)}}))}))}));function oe(e,t,n){return o=>{const s=new WeakRef(o),i=ee.get(e),r={parentRef:s,mapping:t,placeholder:n};if(te.register(o,{list:e,reactiveChildElement:r}),i){const{reactiveChildElementsArray:e}=i;e.push(r)}else{const t=[r];ee.set(e,{reactiveChildElementsArray:t}),ne.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function se(e,t,n,o,s){if(t==o)switch(e){case"boolean":return""==n&&""==s;case"string":return""!==n&&n==s;case"list":return""!==n&&null!==s&&new RegExp(`${n}s*?`,"g").test(s)}return!1}var ie,re,ae;let ce=class extends HTMLElement{constructor(){super(),ie.add(this);const e=this.attachShadow({mode:"open"});e.append(ae.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ie,"m",re).bind(this))}};ie=new WeakSet,re=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t}))},(ae=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot")),ce=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-treeitemgroup"})],ce);var le,he,de,pe,fe,ue=ce,me=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ge=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},ve=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let be=class extends HTMLElement{constructor(){super(),le.add(this),he.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(fe.content.cloneNode(!0)),e.addEventListener("slotchange",ge(this,le,"m",pe).bind(this)),this.addEventListener("click",ge(this,le,"m",de).bind(this)),ve(this,he,null,"f")}get group(){return ge(this,he,"f")}connectedCallback(){this.level=(()=>{let e=0,{parentElement:t}=this;for(;t instanceof ue;){if(e++,({parentElement:t}=t),!(t instanceof Qe))return e;({parentElement:t}=t)}return t instanceof at&&e++,e})()}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};he=new WeakMap,le=new WeakSet,de=function(e){const{target:t,shiftKey:n,ctrlKey:o}=e,{type:s}=this;this!=t||"parent"!=s||n||o||this.toggle()},pe=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ve(this,he,e instanceof ue?e:null,"f");break}}},fe=U("template",{content:[U("div",{part:["content"],children:[U("span",{part:["arrow"]}),U("slot")]}),U("slot",{properties:{name:"group"}})]}),me([V({type:String})],be.prototype,"name",void 0),me([V({type:Number})],be.prototype,"posinset",void 0),me([V({type:String,observed:!0})],be.prototype,"label",void 0),me([V({type:Boolean,observed:!0})],be.prototype,"expanded",void 0),me([V({type:Boolean})],be.prototype,"droptarget",void 0),me([V({type:Boolean})],be.prototype,"active",void 0),me([V({type:Boolean,observed:!0})],be.prototype,"selected",void 0),me([V({type:Number,observed:!0})],be.prototype,"level",void 0),me([V({type:String,defaultValue:"leaf"})],be.prototype,"type",void 0),be=me([q({name:"e-treeitem"})],be);var we,ye,Ee,xe,ke,Te,Se,Pe,Ie,Ce,Re,Ne,Le,Oe,Me,je,Ae,We,Fe,De,_e,Be,He,Ke,Ve,qe,$e,Xe,Ye,Ue,ze,Je,Ge,Ze,Qe=be,et=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},tt=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},nt=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let ot=class extends HTMLElement{constructor(){super(),we.add(this),ye.set(this,void 0),Ee.set(this,void 0),xe.set(this,void 0),ke.set(this,void 0),Te.set(this,void 0),nt(this,Te,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,tt(this,we,"m",Se).bind(this)),"f"),nt(this,ye,-1,"f"),nt(this,Ee,-1,"f"),nt(this,xe,!1,"f"),nt(this,ke,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Ze.content.cloneNode(!0)),this.addEventListener("click",tt(this,we,"m",De).bind(this)),this.addEventListener("contextmenu",tt(this,we,"m",_e).bind(this),!0),this.addEventListener("dragend",tt(this,we,"m",Be).bind(this)),this.addEventListener("dragenter",tt(this,we,"m",He).bind(this)),this.addEventListener("dragleave",tt(this,we,"m",Ve).bind(this)),this.addEventListener("dragover",tt(this,we,"m",Ke).bind(this)),this.addEventListener("dragstart",tt(this,we,"m",qe).bind(this)),this.addEventListener("drop",tt(this,we,"m",$e).bind(this)),this.addEventListener("focus",tt(this,we,"m",Ye).bind(this)),this.addEventListener("focusin",tt(this,we,"m",Ue).bind(this)),this.addEventListener("focusout",tt(this,we,"m",ze).bind(this)),this.addEventListener("keydown",tt(this,we,"m",Xe).bind(this)),this.addEventListener("select",tt(this,we,"m",Je).bind(this)),e.addEventListener("slotchange",tt(this,we,"m",Ge).bind(this))}get activeIndex(){return tt(this,ye,"f")}get activeItem(){return this.items.item(tt(this,ye,"f"))??null}get dropTargetItem(){return this.items.item(tt(this,Ee,"f"))??null}selectedItems(){const e=[],t=tt(this,Te,"f");t.currentNode=t.root;let n=tt(this,we,"m",Me).call(this);for(;null!==n;)n.selected&&e.push(n),n=tt(this,we,"m",We).call(this,n);return e}beginSelection(){nt(this,xe,!0,"f")}endSelection(){nt(this,xe,!1,"f"),tt(this,ke,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),nt(this,ke,!1,"f"))}};ye=new WeakMap,Ee=new WeakMap,xe=new WeakMap,ke=new WeakMap,Te=new WeakMap,we=new WeakSet,Se=function(e){return e instanceof Qe?NodeFilter.FILTER_ACCEPT:e instanceof ue?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pe=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=tt(this,we,"m",We).call(this,e);for(;o&&o!==t;)n.push(o),o=tt(this,we,"m",We).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=tt(this,we,"m",Ae).call(this,e);for(;o&&o!==t;)n.push(o),o=tt(this,we,"m",Ae).call(this,o);return n.push(t),n}return[]},Ie=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ce=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Re=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ne=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Le=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e?(tt(this,Te,"f").currentNode=e,e.active=!0,e.tabIndex=0,nt(this,ye,Array.from(n).indexOf(e),"f")):nt(this,ye,-1,"f")},Oe=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,nt(this,Ee,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,nt(this,Ee,-1,"f"))},Me=function(){const e=tt(this,Te,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},je=function(){const e=tt(this,Te,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ae=function(e){const t=tt(this,Te,"f");t.currentNode=e;const n=t.previousSibling();return n?tt(this,we,"m",Fe).call(this,n):t.parentNode()},We=function(e){const t=tt(this,Te,"f");t.currentNode=e;const{type:n,expanded:o}=e;return"leaf"===n||o?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Fe=function e(t){if(t.expanded){const t=tt(this,Te,"f").lastChild();if(t)return tt(this,we,"m",e).call(this,t)}return t},De=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,s=this.selectedItems();if(t instanceof Qe)if(o||n){if(n){const{selected:n}=t;n&&t.blur(),n?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t),e.stopPropagation()}else if(o){const n=s[s.length-1];if(n){const e=tt(this,we,"m",Pe).call(this,n,t);e&&(s.includes(t)?tt(this,we,"m",Re).call(this,...e):tt(this,we,"m",Ce).call(this,...e))}else tt(this,we,"m",Ie).call(this,t);e.stopPropagation()}}else tt(this,we,"m",Ie).call(this,t)},_e=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,we,"m",Ie).call(this,t),e.preventDefault())},Be=function(){tt(this,we,"m",Oe).call(this,null)},He=function(e){const{target:t}=e;if(t instanceof Qe){const{type:e}=t;"parent"==e&&t.toggle(!0),tt(this,we,"m",Oe).call(this,t)}e.preventDefault()},Ke=function(e){e.preventDefault()},Ve=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||tt(this,we,"m",Oe).call(this,null)}},qe=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,we,"m",Ie).call(this,t))},$e=function(){tt(this,we,"m",Oe).call(this,null)},Xe=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=tt(this,Te,"f"),{root:t}=e;e.currentNode=n;const o=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild());if(o&&s){const e=tt(this,we,"m",Pe).call(this,o,tt(this,we,"m",Fe).call(this,s));e&&tt(this,we,"m",Ie).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=tt(this,Te,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=tt(this,we,"m",Ae).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t))}}else{const e=tt(this,we,"m",Me).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=tt(this,we,"m",We).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,we,"m",Re).call(this,t):tt(this,we,"m",Ce).call(this,t))}}else{const e=tt(this,we,"m",je).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=tt(this,we,"m",Me).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=tt(this,we,"m",je).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(tt(this,we,"m",Ie).call(this,n),n.click()),e.stopPropagation();break;case"Escape":tt(this,we,"m",Ne).call(this),tt(this,we,"m",Le).call(this,null),this.focus(),e.stopPropagation()}},Ye=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ue=function(e){const{target:t}=e;t instanceof Qe&&(tt(this,we,"m",Le).call(this,t),this.tabIndex=-1)},ze=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Je=function(){tt(this,xe,"f")?nt(this,ke,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ge=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t}))},(Ze=U("template")).content.append(U("slot")),et([V({type:Boolean})],ot.prototype,"droptarget",void 0),et([V({type:String})],ot.prototype,"name",void 0),ot=et([q({name:"e-tree"})],ot);var st,it,rt,at=ot,ct=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},lt=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class ht extends HTMLElement{constructor(){super(),st.add(this),it.set(this,void 0),ct(this,it,null,"f")}get model(){return lt(this,it,"f")}setModel(e){ct(this,it,e,"f"),lt(this,st,"m",rt).call(this)}renderLight(){}renderShadow(){}refresh(){lt(this,st,"m",rt).call(this)}}it=new WeakMap,st=new WeakSet,rt=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t instanceof T?t.rootElement:t);const n=this.renderLight();n&&this.replaceChildren(n instanceof T?n.rootElement:n)};var dt,pt,ft,ut,mt,gt,vt,bt,wt,yt,Et,xt,kt,Tt,St,Pt=ht,It=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Ct=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Rt=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class Nt extends _{constructor(e){super(),dt.add(this);const t=new B(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new B(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Ct(this,dt,"m",pt).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Nt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:o}=e;for(let s=0;s<n;s++){const n=t.get(s),{uri:i}=n,{length:r}=i;if(e.startsWith(i)){if("/"==e.charAt(r))return Nt.prototype.getItemByUri.call(n,e);if(r==o)return n}}return null}}dt=new WeakSet,pt=function(e){const{target:t}=e,{items:n,sortFunction:o,flattenItems:s}=this;t instanceof B&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:i}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...s.call(e)))),a=Array.from(i.values()).flatMap((e=>Array.of(e,...s.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),o&&n.sort(o),n.endChanges()}))};class Lt{constructor(e){ft.set(this,void 0),Rt(this,ft,e,"f")}static from(e){return new Lt(e)}static of(...e){return new Lt(e)}show(){console.log(Ct(this,ft,"f")),Ct(this,ft,"f").forEach((e=>e.show()))}hide(){Ct(this,ft,"f").forEach((e=>e.hide()))}display(){const e=Ct(this,ft,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Ct(this,ft,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ot||n instanceof Nt){const{childItems:o}=n,s=e.get(o);s?s.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ft=new WeakMap;class Ot extends _{constructor(e){super(),ut.add(this);const{label:t,type:n}=e,o=new B(e.items??[]);o.setParent(this),this.childItems=o,this.label=t,this.type=n,this.childCount=o.length,this.visibility=!0,this.addEventListener("modelchange",Ct(this,ut,"m",mt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Ot?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Ot?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Ot||e instanceof Nt){const{childItems:t}=e;t&&t.remove(this)}}}ut=new WeakSet,mt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},It([W()],Ot.prototype,"childCount",void 0),It([W()],Ot.prototype,"visibility",void 0);let Mt=class extends Pt{constructor(e){super(),gt.add(this),vt.set(this,void 0),bt.set(this,void 0),wt.set(this,void 0),Rt(this,wt,new WeakMap,"f"),Rt(this,bt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Nt)}getTreeElement(){return Ct(this,vt,"f")?.deref()??null}getTreeItemElement(e){return Ct(this,wt,"f").get(e)?.deref()??null}getDragImageElement(e){return Ct(this,bt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=U("e-tree",{properties:{tabIndex:0},children:oe(e.childItems,(e=>Ct(this,gt,"m",yt).call(this,e))),eventListeners:{dragstart:Ct(this,gt,"m",xt).bind(this),drop:Ct(this,gt,"m",kt).bind(this),contextmenu:Ct(this,gt,"m",Tt).bind(this),keydown:Ct(this,gt,"m",St).bind(this)}});return Rt(this,vt,new WeakRef(t),"f"),Y(U("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),U("link",{properties:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,U("div",{properties:{className:"offscreen",hidden:!0},children:oe(e.items,(e=>Ct(this,gt,"m",Et).call(this,e)))}))}};vt=new WeakMap,bt=new WeakMap,wt=new WeakMap,gt=new WeakSet,yt=function e(t){const n=Q(t,U("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:("parent"==t.type?[U("e-treeitemgroup",{properties:{slot:"group"},children:oe(t.childItems,(t=>Ct(this,gt,"m",e).call(this,t)))})]:[]).concat([U("span",{properties:{className:"label"}})]).concat("parent"==t.type?[U("span",{properties:{className:"badge"}})]:[]).concat([U("e-toolbar",{properties:{tabIndex:0},children:[U("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,o)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=o);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${o})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=o?"Hide":"Show",e.checked=o)}}}}));return Ct(this,wt,"f").set(t,new WeakRef(n)),n},Et=function(e){const t=Q(e,U("span",{properties:{className:"dragimage"}}),["label"],((e,t,n,o)=>{e.textContent=o}));return Ct(this,bt,"f").set(e,new WeakRef(t)),t},xt=function(e){const{currentTarget:t,target:n}=e,{model:o}=this;if(t instanceof at&&n instanceof Qe){const{dataTransfer:n}=e,s=t.selectedItems(),{length:i}=s;if(i>0){const e=s.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),i=e[e.length-1],r=o.getItemByUri(i);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},kt=function(e){const{currentTarget:t,target:n}=e,{model:o}=this,{sortFunction:s}=o;if(t instanceof at&&n instanceof Qe){const{dataTransfer:i}=e;if(i){const e=n.dataset.uri,r=o.getItemByUri(e),a=i.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>o.getItemByUri(e))).filter((e=>null!==e)),{type:i,parentItem:c}=r,l="parent"==i?r.childItems:c?c.childItems:o.childItems;Lt.from(e).remove(),s?(l.beginChanges(),l.append(...e),l.sort(s),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},Tt=function(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,{model:i}=this;if(o instanceof at&&s instanceof Qe){const o=i.getItemByUri(s.dataset.uri),r=U("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n},children:[U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Lt.from(this.selectedItems()).display()}}}),U("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Lt.from(this.selectedItems()).remove()}}})]}),U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Lt.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{s.focus({preventScroll:!0})}}});document.body.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},St=function(e){const{currentTarget:t,key:n}=e;if(t instanceof at)switch(n){case"Delete":Lt.from(this.selectedItems()).remove(),e.preventDefault()}},Mt=It([q({name:"v-tree"})],Mt);var jt=Mt,At=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};class Wt extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}At([V({type:String})],Wt.prototype,"name",void 0),At([V({type:String})],Wt.prototype,"value",void 0),At([V({type:String})],Wt.prototype,"hotkey",void 0),At([V({type:String,defaultValue:"button"})],Wt.prototype,"type",void 0),At([V({type:Boolean})],Wt.prototype,"disabled",void 0),At([V({type:Boolean})],Wt.prototype,"checked",void 0);var Ft,Dt,_t,Bt=Wt;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Ft||(Ft={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Dt||(Dt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(_t||(_t={})),new WeakSet;var Ht,Kt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Vt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Ht.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Ht=U("template")).content.append(U("slot")),Kt([V({type:String})],Vt.prototype,"name",void 0),Kt([V({type:String})],Vt.prototype,"headers",void 0),Kt([V({type:String})],Vt.prototype,"type",void 0),Kt([V({type:Number})],Vt.prototype,"posinset",void 0),Kt([V({type:Boolean})],Vt.prototype,"droptarget",void 0),Kt([V({type:Boolean})],Vt.prototype,"active",void 0),Kt([V({type:Boolean,observed:!0})],Vt.prototype,"selected",void 0),Vt=Kt([q({name:"e-gridcell"})],Vt);var qt,$t,Xt,Yt=Vt;let Ut=class extends HTMLElement{constructor(){super(),qt.add(this);const e=this.attachShadow({mode:"open"});e.append(Xt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,qt,"m",$t).bind(this))}};qt=new WeakSet,$t=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Yt)).forEach(((e,t)=>{e.posinset=t}))},(Xt=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),U("slot")),Ut=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridrowgroup"})],Ut);var zt,Jt,Gt,Zt=Ut,Qt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},en=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let tn=class extends Bt{constructor(){super(),zt.add(this),this.attachShadow({mode:"open"}).append(Gt.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&en(this,zt,"m",Jt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,en(this,zt,"m",Jt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var nn;zt=new WeakSet,Jt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:s,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=i+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+s-r:l+s}px`),t.setProperty("top",`${p>0?c+n-a:c+o}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),f=i+r-h,u=n+a-d;t.setProperty("left",(f>0?s-r-p:i-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${u>0?o-a-l+w:n-l-b}px`)}}}},Gt=U("template",{content:[U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"],children:[U("slot")]}),U("span",{part:["arrow"]})]}),U("slot",{properties:{name:"menu"}})]}),Qt([V({type:Boolean})],tn.prototype,"active",void 0),Qt([V({type:Number})],tn.prototype,"index",void 0),Qt([V({type:Boolean})],tn.prototype,"expanded",void 0),Qt([V({type:String,defaultValue:"button",observed:!0})],tn.prototype,"type",void 0),Qt([(nn={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:o}=n,s=t.toString(),{selector:i}=nn,r=nn.withinShadowRoot?function(){return this.shadowRoot.querySelector(i)}:function(){return this.querySelector(i)};Object.defineProperty(o,s,{get:r})})],tn.prototype,"menu",void 0),tn=Qt([q({name:"e-menuitem"})],tn);var on,sn,rn,an=tn,cn=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:i,menu:r}=e;return r&&(r.slot="menu"),U("e-menuitem",{properties:{tabIndex:-1,title:t,name:n,value:s,type:o,textContent:t},children:r?[r]:void 0,eventListeners:{trigger:i}})}),{prototype:an.prototype,button:e=>new cn({...e,type:"button"}),checkbox:e=>new cn({...e,type:"checkbox"}),radio:e=>new cn({...e,type:"radio"}),menu:e=>new cn({...e,type:"menu"}),submenu:e=>new cn({...e,type:"submenu"})}),ln=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let hn=class extends HTMLElement{constructor(){super(),on.add(this);const e=this.attachShadow({mode:"open"});e.append(rn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,on,"m",sn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};on=new WeakSet,sn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof an)).forEach(((e,t)=>{e.index=t}))},(rn=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),U("slot")),ln([V({type:String})],hn.prototype,"name",void 0),ln([V({type:String,observed:!0})],hn.prototype,"label",void 0),hn=ln([q({name:"e-menuitemgroup"})],hn);var dn,pn,fn,un,mn,gn,vn,bn,wn,yn,En,xn,kn,Tn,Sn,Pn,In,Cn,Rn,Nn,Ln,On,Mn,jn,An=hn,Wn=Object.assign((function(e){const{name:t,items:n}=e;return U("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:An.prototype,radios:e=>{const{name:t,items:n}=e;return U("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new cn({name:t,label:e,type:"radio",value:n})))})}}),Fn=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Dn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},_n=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let Bn=On=class extends HTMLElement{constructor(){super(),dn.add(this),pn.set(this,void 0),fn.set(this,void 0),_n(this,fn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Dn(this,dn,"m",gn).bind(this)),"f"),_n(this,pn,-1,"f"),this.items=this.getElementsByTagName("e-menuitem"),this.attachShadow({mode:"open"}).append(Mn.content.cloneNode(!0)),this.addEventListener("click",Dn(this,dn,"m",kn).bind(this)),this.addEventListener("mouseover",Dn(this,dn,"m",Nn).bind(this)),this.addEventListener("mouseout",Dn(this,dn,"m",Rn).bind(this)),this.addEventListener("focusin",Dn(this,dn,"m",Tn).bind(this)),this.addEventListener("focusout",Dn(this,dn,"m",Sn).bind(this)),this.addEventListener("keydown",Dn(this,dn,"m",Cn).bind(this)),this.addEventListener("trigger",Dn(this,dn,"m",Ln).bind(this))}get activeItem(){return this.items.item(Dn(this,pn,"f"))}get activeIndex(){return Dn(this,pn,"f")}connectedCallback(){const{contextual:e}=this;e&&Dn(this,dn,"m",un).call(this)}};pn=new WeakMap,fn=new WeakMap,dn=new WeakSet,un=function(){const{contextX:e,contextY:t}=this,{style:n}=this,{width:o,height:s}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window,a=e+i,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+o-l,p=c+s-h;n.setProperty("left",`${d>0?a-o:a}px`),n.setProperty("top",`${p>0?c-s:c}px`)},mn=function(){Array.from(this.items).forEach((e=>{e.expanded&&e.collapse()}))},gn=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},vn=function(){const e=Dn(this,fn,"f");return e.currentNode=e.root,e.firstChild()},bn=function(){const e=Dn(this,fn,"f");return e.currentNode=e.root,e.lastChild()},wn=function(e){const t=Dn(this,fn,"f");return t.currentNode=e,t.previousNode()},yn=function(e){const t=Dn(this,fn,"f");return t.currentNode=e,t.nextNode()},En=function(e){const{menu:t}=e;return t instanceof On?Dn(t,dn,"m",vn).call(t):null},xn=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0,_n(this,pn,Array.from(n).indexOf(e),"f")),null==e&&_n(this,pn,-1,"f")},kn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;o&&o.trigger()},Tn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;o&&Dn(this,dn,"m",xn).call(this,o)},Sn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Dn(this,dn,"m",xn).call(this,null)}}},Pn=async function(e,t){return new Promise(((n,o)=>{const s=setTimeout((()=>{n(void 0)}),t??0);jn.set(e,{clear:()=>{clearTimeout(s),o()}})})).then((()=>{jn.delete(e)}))},In=function(e){const t=jn.get(e);void 0!==t&&(jn.delete(e),t.clear())},Cn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Dn(this,dn,"m",wn).call(this,n)??Dn(this,dn,"m",bn).call(this):Dn(this,dn,"m",vn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Dn(this,dn,"m",yn).call(this,n)??Dn(this,dn,"m",vn).call(this):Dn(this,dn,"m",vn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Dn(this,dn,"m",vn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Dn(this,dn,"m",bn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Dn(this,dn,"m",En).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof $n))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Dn(this,dn,"m",En).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Rn=function(e){const{target:t,relatedTarget:n}=e,{items:o}=this,s=Array.from(o).find((e=>e.contains(t)))??null;if("submenu"!=s?.type||s.expanded||Dn(this,dn,"m",In).call(this,s),e.composedPath().find((e=>e instanceof $n))==this){const{clientX:t,clientY:o}=e,{left:s,right:i,top:r,bottom:a}=this.getBoundingClientRect(),c=!(s>t||i<t||r>o||a<o),l=this.contains(n);if(c&&l)if(n instanceof $n&&n!==this)n.focus({preventScroll:!0});else{const e=Dn(this,pn,"f");this.focus({preventScroll:!0}),Dn(this,dn,"m",xn).call(this,null),_n(this,pn,e,"f")}c||(this.focus({preventScroll:!0}),Dn(this,dn,"m",xn).call(this,null))}},Nn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;if("submenu"==o?.type&&o.expanded&&Dn(this,dn,"m",In).call(this,o),e.composedPath().find((e=>e instanceof $n))==this){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Dn(this,dn,"m",In).call(this,e),Dn(this,dn,"m",Pn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==o&&(Dn(this,dn,"m",xn).call(this,o),o.focus({preventScroll:!0}),"submenu"==o.type&&(o.expanded?o.menu?.focus({preventScroll:!0}):(Dn(this,dn,"m",In).call(this,o),Dn(this,dn,"m",Pn).call(this,o,200).then((()=>{const{activeItem:e}=this;Dn(this,dn,"m",mn).call(this),e&&(Dn(this,dn,"m",In).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},Ln=function(e){const{target:t}=e,n=e.composedPath(),{contextual:o}=this;if(t instanceof an){if(n.find((e=>e instanceof $n))==this){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(this.items).filter((e=>"radio"==e.type&&e.name===n)).forEach((e=>{e.checked=e.value==o}))}if(o)try{this.remove()}catch(e){}}},Mn=U("template",{content:[U("slot")]}),jn=new WeakMap,Fn([V({type:String})],Bn.prototype,"name",void 0),Fn([V({type:Boolean})],Bn.prototype,"contextual",void 0),Fn([V({type:Number,defaultValue:0})],Bn.prototype,"contextX",void 0),Fn([V({type:Number,defaultValue:0})],Bn.prototype,"contextY",void 0),Bn=On=Fn([q({name:"e-menu"})],Bn);var Hn,Kn,Vn,qn,$n=Bn,Xn=Object.assign((function(e){const{name:t,children:n}=e;return U("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:$n.prototype}),Yn=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Un=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},zn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Jn=class extends HTMLElement{constructor(){super(),Hn.add(this),Kn.set(this,void 0),Un(this,Kn,null,"f"),this.cells=new io(this);const e=this.attachShadow({mode:"open"});e.append(qn.content.cloneNode(!0)),e.addEventListener("slotchange",zn(this,Hn,"m",Vn).bind(this))}get menu(){return zn(this,Kn,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};Kn=new WeakMap,Hn=new WeakSet,Vn=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];Un(this,Kn,e instanceof $n?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof Yt)).forEach(((e,t)=>{e.posinset=t}))}},(qn=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),U("slot"),U("slot",{properties:{name:"menu"}})),Yn([V({type:String})],Jn.prototype,"name",void 0),Yn([V({type:Boolean})],Jn.prototype,"active",void 0),Yn([V({type:Boolean})],Jn.prototype,"selected",void 0),Yn([V({type:Number})],Jn.prototype,"posinset",void 0),Jn=Yn([q({name:"e-gridrow"})],Jn);var Gn,Zn,Qn,eo=Jn,to=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};Zn=new WeakMap,Gn=new WeakSet,Qn=function(e){return e instanceof Yt?NodeFilter.FILTER_ACCEPT:e instanceof go||e instanceof Zt||e instanceof eo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var no,oo,so,io=class{constructor(e){Gn.add(this),Zn.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Zn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,to(this,Gn,"m",Qn).bind(this)),"f")}get length(){const e=to(this,Zn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=to(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=to(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=to(this,Zn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ro=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};oo=new WeakMap,no=new WeakSet,so=function(e){return e instanceof go?NodeFilter.FILTER_SKIP:e instanceof eo?NodeFilter.FILTER_ACCEPT:e instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ao,co,lo,ho=class{constructor(e){no.add(this),oo.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,oo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ro(this,no,"m",so).bind(this)),"f")}get length(){const e=ro(this,oo,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ro(this,oo,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=ro(this,oo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ro(this,oo,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let po=class extends HTMLElement{constructor(){super(),ao.add(this),this.cells=new io(this),this.rows=new ho(this);const e=this.attachShadow({mode:"open"});e.append(lo.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ao,"m",co).bind(this))}};ao=new WeakSet,co=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Yt)).forEach(((e,t)=>{e.posinset=t}))},(lo=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),U("slot")),po=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridbody"})],po);var fo,uo,mo,go=po;let vo=class extends HTMLElement{constructor(){super(),fo.add(this),this.cells=new io(this),this.rows=new ho(this);const e=this.attachShadow({mode:"open"});e.append(mo.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,fo,"m",uo).bind(this))}};fo=new WeakSet,uo=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Yt)).forEach(((e,t)=>{e.posinset=t}))},(mo=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),U("slot")),vo=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridhead"})],vo);var bo,wo,yo,Eo,xo,ko,To,So,Po,Io,Co,Ro,No,Lo,Oo,Mo,jo,Ao,Wo,Fo,Do,_o,Bo,Ho,Ko,Vo,qo,$o,Xo,Yo,Uo,zo,Jo,Go,Zo,Qo,es,ts,ns,os,ss,is,rs=vo,as=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},cs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},ls=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class hs extends HTMLElement{constructor(){super(),bo.add(this),xo.set(this,void 0),ko.set(this,void 0),To.set(this,void 0),So.set(this,void 0),Po.set(this,void 0),Io.set(this,void 0),ls(this,Po,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,cs(this,bo,"m",Co).bind(this)),"f"),ls(this,Io,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,cs(this,bo,"m",Ro).bind(this)),"f"),ls(this,xo,-1,"f"),ls(this,ko,-1,"f"),ls(this,To,!1,"f"),ls(this,So,!1,"f"),this.cells=new io(this),this.rows=new ho(this);const e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[cs(hs,wo,"f",Eo)],e.append(cs(hs,wo,"f",yo).content.cloneNode(!0)),this.addEventListener("contextmenu",cs(this,bo,"m",Qo).bind(this)),this.addEventListener("click",cs(this,bo,"m",es).bind(this)),this.addEventListener("focus",cs(this,bo,"m",ns).bind(this)),this.addEventListener("focusin",cs(this,bo,"m",os).bind(this)),this.addEventListener("keydown",cs(this,bo,"m",ts).bind(this)),this.addEventListener("select",cs(this,bo,"m",ss).bind(this)),e.addEventListener("slotchange",cs(this,bo,"m",is).bind(this))}get activeCellIndex(){return cs(this,xo,"f")}get activeCell(){return this.cells.item(cs(this,xo,"f"))??null}get activeRowIndex(){return cs(this,ko,"f")}get activeRow(){return this.rows.item(cs(this,ko,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof go))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof rs))??null}beginSelection(){ls(this,To,!0,"f")}endSelection(){ls(this,To,!1,"f"),cs(this,So,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ls(this,So,!1,"f"))}clearSelection(){cs(this,bo,"m",Do).call(this),cs(this,bo,"m",_o).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}}wo=hs,xo=new WeakMap,ko=new WeakMap,To=new WeakMap,So=new WeakMap,Po=new WeakMap,Io=new WeakMap,bo=new WeakSet,Co=function(e){return e instanceof Yt&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof go||e instanceof Zt||e instanceof eo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ro=function(e){return e instanceof eo&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof go||e instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},No=function(e,t){const n=Array.from(this.cells.values()),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]},Lo=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=cs(this,bo,"m",Jo).call(this,e);for(;o&&o!==t;)n.push(o),o=cs(this,bo,"m",Jo).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=cs(this,bo,"m",zo).call(this,e);for(;o&&o!==t;)n.push(o),o=cs(this,bo,"m",zo).call(this,o);return n.push(t),n}return[]},Oo=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Mo=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},jo=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ao=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Wo=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Fo=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Do=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},_o=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Bo=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),cs(this,Po,"f").currentNode=e,e.active=!0,e.tabIndex=0;const o=cs(this,bo,"m",Xo).call(this,e);o&&cs(this,bo,"m",Ho).call(this,o),ls(this,xo,Array.from(n.values()).indexOf(e),"f")},Ho=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),cs(this,Io,"f").currentNode=e,e.active=!0,e.tabIndex=0,ls(this,ko,Array.from(n.values()).indexOf(e),"f")},Ko=function(e){const t=cs(this,Po,"f");return t.currentNode=e,t.firstChild()},Vo=function(e){const t=cs(this,Po,"f");return t.currentNode=e,t.lastChild()},qo=function(e){const t=cs(this,Po,"f");return t.currentNode=e,t.previousNode()},$o=function(e){const t=cs(this,Po,"f");return t.currentNode=e,t.nextNode()},Xo=function(e){const t=cs(this,Io,"f");return t.currentNode=e,t.parentNode()},Yo=function(){const e=cs(this,Io,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Uo=function(){const e=cs(this,Io,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},zo=function(e){const t=cs(this,Io,"f");return t.currentNode=e,t.previousNode()},Jo=function(e){const t=cs(this,Io,"f");return t.currentNode=e,t.nextNode()},Go=function(e){const t=cs(this,bo,"m",Xo).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),s=cs(this,bo,"m",zo).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(o,e.length))}}return null},Zo=function(e){const t=cs(this,bo,"m",Xo).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),s=cs(this,bo,"m",Jo).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(o,e.length))}}return null},Qo=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof go))?t.find((e=>e instanceof Yt)):null;n instanceof Yt&&(this.selectedCells().includes(n)||cs(this,bo,"m",Oo).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof go))?t.find((e=>e instanceof eo)):null;n instanceof eo&&(this.selectedRows().includes(n)||cs(this,bo,"m",Mo).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},es=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:o}=this;switch(o){case"cell":{const o=e.composedPath(),s=o.find((e=>e instanceof go))?o.find((e=>e instanceof Yt)):null,i=this.selectedCells();if(s instanceof Yt)if(n||t){if(t)s.selected?cs(this,bo,"m",Wo).call(this,s):cs(this,bo,"m",jo).call(this,s),e.stopPropagation();else if(n){const t=i[i.length-1];if(t){const e=cs(this,bo,"m",No).call(this,t,s);e&&(i.includes(s)?cs(this,bo,"m",Wo).call(this,...e):cs(this,bo,"m",jo).call(this,...e))}else cs(this,bo,"m",Oo).call(this,s);e.stopPropagation()}}else cs(this,bo,"m",Oo).call(this,s);break}case"row":{const o=this.selectedRows(),s=e.composedPath(),i=s.find((e=>e instanceof go))?s.find((e=>e instanceof eo)):null;if(i instanceof eo)if(n||t){if(t)i.selected?cs(this,bo,"m",Fo).call(this,i):cs(this,bo,"m",Ao).call(this,i),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=cs(this,bo,"m",Lo).call(this,t,i);e&&(o.includes(i)?cs(this,bo,"m",Fo).call(this,...e):cs(this,bo,"m",Ao).call(this,...e))}else cs(this,bo,"m",Mo).call(this,i);e.stopPropagation()}}else cs(this,bo,"m",Mo).call(this,i);break}}},ts=function(e){const{key:t}=e,{selectby:n,activeCell:o,activeRow:s}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=cs(this,bo,"m",Yo).call(this),t=e?cs(this,bo,"m",Ko).call(this,e):null,n=cs(this,bo,"m",Uo).call(this),o=n?cs(this,bo,"m",Vo).call(this,n):null;if(t&&o){const e=cs(this,bo,"m",No).call(this,t,o);e&&cs(this,bo,"m",Oo).call(this,...e)}break}case"row":{const e=cs(this,bo,"m",Yo).call(this),t=cs(this,bo,"m",Uo).call(this);if(e&&t){const n=cs(this,bo,"m",Lo).call(this,e,t);n&&cs(this,bo,"m",Mo).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&o){const t=cs(this,bo,"m",qo).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?cs(this,bo,"m",Wo).call(this,t):cs(this,bo,"m",jo).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&o){const t=cs(this,bo,"m",$o).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?cs(this,bo,"m",Wo).call(this,t):cs(this,bo,"m",jo).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=s??cs(this,bo,"m",Yo).call(this),n=o?cs(this,bo,"m",Go).call(this,o):t?cs(this,bo,"m",Ko).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?cs(this,bo,"m",Wo).call(this,n):cs(this,bo,"m",jo).call(this,n))}break}case"row":{const t=s?cs(this,bo,"m",zo).call(this,s):cs(this,bo,"m",Yo).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?cs(this,bo,"m",Fo).call(this,t):cs(this,bo,"m",Ao).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=s??cs(this,bo,"m",Uo).call(this),n=o?cs(this,bo,"m",Zo).call(this,o):t?cs(this,bo,"m",Vo).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?cs(this,bo,"m",Wo).call(this,n):cs(this,bo,"m",jo).call(this,n))}}break;case"row":{const t=s?cs(this,bo,"m",Jo).call(this,s):cs(this,bo,"m",Uo).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?cs(this,bo,"m",Fo).call(this,t):cs(this,bo,"m",Ao).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(s){const e=cs(this,bo,"m",Ko).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=cs(this,bo,"m",Yo).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(s){const e=cs(this,bo,"m",Vo).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=cs(this,bo,"m",Uo).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":o&&(cs(this,bo,"m",Oo).call(this,o),o.click());break;case"row":s&&(cs(this,bo,"m",Mo).call(this,s),s.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":cs(this,bo,"m",Do).call(this);break;case"row":cs(this,bo,"m",_o).call(this)}this.focus(),e.stopPropagation()}},ns=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},os=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof Yt&&cs(this,bo,"m",Bo).call(this,t);break;case"row":t instanceof eo&&cs(this,bo,"m",Ho).call(this,t)}},ss=function(){cs(this,To,"f")?ls(this,So,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},is=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof eo)).forEach(((e,t)=>{e.posinset=t}))},q({name:"e-grid"})(wo),yo={value:U("template",{content:[U("slot")]})},Eo={value:function(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}(function(e){const t=e.indexOf("\n"),n=(e=e.substring(t+1)).match(/^[\s]*/);if(n){const t=e.substring(0,n[0].length);e=e.replaceAll(t,"").trimEnd()}return e}("\n            :host {\n                display: table;\n            }\n\n            :host([droptarget]) {\n                background-color: gainsboro;\n            }\n        "))},as([V({type:String})],hs.prototype,"name",void 0),as([V({type:String,defaultValue:"cell"})],hs.prototype,"selectby",void 0);var ds,ps,fs,us,ms,gs,vs,bs,ws=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},ys=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class Es{constructor(e){ds.add(this),ps.set(this,void 0),ys(this,ps,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ws(this,ds,"m",fs).bind(this)),"f")}get length(){const e=ws(this,ps,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ws(this,ps,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=ws(this,ps,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return"radio"==o?.type?new ks(n,e):o}*values(){const e=ws(this,ps,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}ps=new WeakMap,ds=new WeakSet,fs=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Es.HTMLEMenuItemRadioListBase=(bs=class{constructor(e,t){us.add(this),ms.set(this,void 0),gs.set(this,void 0),ys(this,ms,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ws(this,us,"m",vs).bind(this)),"f"),ys(this,gs,t,"f")}get value(){const e=ws(this,gs,"f"),t=ws(this,ms,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=ws(this,gs,"f"),t=ws(this,ms,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:s}=n;o==e&&"radio"==s&&(yield n),n=t.nextNode()}}},ms=new WeakMap,gs=new WeakMap,us=new WeakSet,vs=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},bs);var xs=Es,ks=Es.HTMLEMenuItemRadioListBase;delete Es.HTMLEMenuItemRadioListBase;var Ts,Ss,Ps,Is,Cs,Rs,Ns,Ls,Os,Ms,js,As,Ws,Fs,Ds,_s,Bs,Hs=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Ks=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Vs=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let qs=class extends HTMLElement{constructor(){super(),Ts.add(this),Ss.set(this,void 0),Ps.set(this,void 0),Vs(this,Ps,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ks(this,Ts,"m",Is).bind(this)),"f"),this.items=new xs(this),Vs(this,Ss,-1,"f"),this.attachShadow({mode:"open"}).append(Bs.content.cloneNode(!0)),this.addEventListener("click",Ks(this,Ts,"m",Fs).bind(this)),this.addEventListener("focusin",Ks(this,Ts,"m",js).bind(this)),this.addEventListener("focusout",Ks(this,Ts,"m",As).bind(this)),this.addEventListener("mouseover",Ks(this,Ts,"m",Ws).bind(this)),this.addEventListener("keydown",Ks(this,Ts,"m",Ds).bind(this)),this.addEventListener("trigger",Ks(this,Ts,"m",_s).bind(this))}get activeIndex(){return Ks(this,Ss,"f")}get activeItem(){return this.items.item(Ks(this,Ss,"f"))??null}};Ss=new WeakMap,Ps=new WeakMap,Ts=new WeakSet,Is=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Cs=function(){const e=Ks(this,Ps,"f");return e.currentNode=e.root,e.firstChild()},Rs=function(){const e=Ks(this,Ps,"f");return e.currentNode=e.root,e.lastChild()},Ns=function(e){const t=Ks(this,Ps,"f");return t.currentNode=e,t.previousSibling()},Ls=function(e){const t=Ks(this,Ps,"f");return t.currentNode=e,t.nextSibling()},Os=function(e){const{menu:t}=e;return t?t.items.item(0):null},Ms=function(e){const{activeItem:t,active:n,items:o}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Vs(this,Ss,Array.from(o.values()).indexOf(e),"f")):Vs(this,Ss,-1,"f")},js=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Ks(this,Ts,"m",Ms).call(this,o)},As=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Ks(this,Ts,"m",Ms).call(this,null),this.active=!1}},Ws=function(e){const{target:t}=e,{active:n,activeItem:o,items:s}=this;if(t instanceof an&&Array.from(s.values()).includes(t)&&t!==o&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Fs=function(e){const{target:t}=e,{active:n,activeItem:o,items:s}=this;if(t instanceof an&&Array.from(s.values()).includes(t)){const e=!n;if(this.active=e,e){o&&!o.expanded&&o.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Ds=function(e){const{key:t}=e,{active:n}=this;let{activeItem:o}=this;switch(t){case"ArrowLeft":(o?Ks(this,Ts,"m",Ns).call(this,o)??Ks(this,Ts,"m",Rs).call(this):Ks(this,Ts,"m",Cs).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Ks(this,Ts,"m",Os).call(this,o)?.focus({preventScroll:!0});break;case"ArrowRight":(o?Ks(this,Ts,"m",Ls).call(this,o)??Ks(this,Ts,"m",Cs).call(this):Ks(this,Ts,"m",Rs).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Ks(this,Ts,"m",Os).call(this,o)?.focus({preventScroll:!0});break;case"Enter":o&&(this.active=!n,Ks(this,Ts,"m",Os).call(this,o)?.focus({preventScroll:!0}));break;case"Escape":n?(this.active=!1,o&&(o.collapse(),o.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},_s=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.active=!1,this.focus({preventScroll:!0})},(Bs=U("template")).content.append(U("slot")),Hs([V({type:String})],qs.prototype,"name",void 0),Hs([V({type:Boolean})],qs.prototype,"active",void 0),qs=Hs([q({name:"e-menubar"})],qs);var $s,Xs,Ys,Us,zs,Js,Gs,Zs,Qs=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ei=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},ti=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ni=class extends HTMLElement{constructor(){super(),$s.add(this),Xs.set(this,void 0),ei(this,Xs,null,"f");const e=this.attachShadow({mode:"open"});e.append(U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"]})]}),U("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",ti(this,$s,"m",Js).bind(this)),this.addEventListener("click",ti(this,$s,"m",Us).bind(this)),this.addEventListener("focusout",ti(this,$s,"m",zs).bind(this)),this.addEventListener("trigger",ti(this,$s,"m",Zs).bind(this)),e.addEventListener("slotchange",ti(this,$s,"m",Gs).bind(this))}get menu(){return ti(this,Xs,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,ti(this,$s,"m",Ys).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};Xs=new WeakMap,$s=new WeakSet,Ys=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:s,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=i+r-h,f=n+a-d;t.setProperty("left",`${p>0?l+i-r:l+s}px`),t.setProperty("top",`${f>0?c+n-a:c+o}px`)}},Us=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},zs=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Js=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Gs=function(e){const{target:t}=e,n=t.assignedElements()[0];ei(this,Xs,n instanceof $n?n:null,"f")},Zs=function(){this.collapse(),this.focus({preventScroll:!0})},Qs([V({type:String})],ni.prototype,"name",void 0),Qs([V({type:Boolean})],ni.prototype,"disabled",void 0),Qs([V({type:Boolean})],ni.prototype,"expanded",void 0),ni=Qs([q({name:"e-menubutton"})],ni);var oi,si=ni,ii=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",U("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:si.prototype}),ri=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let ai=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(oi.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(oi=U("template")).content.append(U("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),U("span",{part:["content"],children:[U("span",{part:["label"]})]})),ri([V({type:String})],ai.prototype,"name",void 0),ri([V({type:String})],ai.prototype,"value",void 0),ri([V({type:String,observed:!0})],ai.prototype,"label",void 0),ri([V({type:String})],ai.prototype,"description",void 0),ri([V({type:Boolean})],ai.prototype,"disabled",void 0),ri([V({type:Boolean})],ai.prototype,"active",void 0),ri([V({type:Boolean})],ai.prototype,"selected",void 0),ri([V({type:Boolean})],ai.prototype,"default",void 0),ai=ri([q({name:"e-option"})],ai);var ci,li=ai;let hi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ci.content.cloneNode(!0))}};(ci=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot")),hi=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-optiongroup"})],hi);var di,pi,fi,ui=hi,mi=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};pi=new WeakMap,di=new WeakSet,fi=function(e){return e instanceof li?NodeFilter.FILTER_ACCEPT:e instanceof ui?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var gi,vi,bi,wi,yi,Ei,xi,ki,Ti,Si,Pi,Ii,Ci,Ri,Ni,Li,Oi,Mi,ji,Ai,Wi=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Fi=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Di=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let _i=class extends Bt{constructor(){super(),gi.add(this),vi.set(this,void 0),bi.set(this,void 0),wi.set(this,void 0),Di(this,vi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Fi(this,gi,"m",yi).bind(this)),"f"),Di(this,bi,-1,"f"),Di(this,wi,-1,"f"),this.options=new class{constructor(e){di.add(this),pi.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,pi,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,mi(this,di,"m",fi).bind(this)),"f")}get length(){const e=mi(this,pi,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=mi(this,pi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=mi(this,pi,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=mi(this,pi,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return o}*values(){const e=mi(this,pi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(Ai.content.cloneNode(!0)),this.addEventListener("click",Fi(this,gi,"m",Ri).bind(this)),this.addEventListener("focusin",Fi(this,gi,"m",Ni).bind(this)),this.addEventListener("focusout",Fi(this,gi,"m",Li).bind(this)),this.addEventListener("keydown",Fi(this,gi,"m",Oi).bind(this)),this.addEventListener("mouseover",Fi(this,gi,"m",Mi).bind(this)),e.addEventListener("slotchange",Fi(this,gi,"m",ji).bind(this))}get activeIndex(){return Fi(this,bi,"f")}get selectedIndex(){return Fi(this,wi,"f")}get activeOption(){return this.options.item(Fi(this,bi,"f"))??null}get selectedOption(){return this.options.item(Fi(this,wi,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Fi(this,gi,"m",Ii).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Fi(this,gi,"m",Ci).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};vi=new WeakMap,bi=new WeakMap,wi=new WeakMap,gi=new WeakSet,yi=function(e){return e instanceof li?NodeFilter.FILTER_ACCEPT:e instanceof ui?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ei=function(){const e=Fi(this,vi,"f");return e.currentNode=e.root,e.firstChild()},xi=function(){const e=Fi(this,vi,"f");return e.currentNode=e.root,e.lastChild()},ki=function(e){const t=Fi(this,vi,"f");return t.currentNode=e,t.previousNode()},Ti=function(e){const t=Fi(this,vi,"f");return t.currentNode=e,t.nextNode()},Si=function(e){e&&!e.disabled&&(this.value=e.value)},Pi=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,o=n.querySelector("[part='description']");o&&(o.textContent=e.description),Di(this,bi,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else Di(this,bi,-1,"f")},Ii=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:o}=this,s=n.querySelector("[part='value']");s&&(s.textContent=e.label),e.selected=!0,o&&(o.selected=!1),Di(this,wi,Array.from(t.values()).indexOf(e),"f")}}else Di(this,bi,-1,"f")},Ci=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:o,left:s}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window;n.setProperty("top",`${o+r}px`),n.setProperty("left",`${s+i}px`)},Ri=function(e){const{target:t}=e;t instanceof li?(Fi(this,gi,"m",Si).call(this,t),this.collapse()):t==this&&this.toggle()},Ni=function(e){const{target:t}=e,{expanded:n}=this;t instanceof li&&(n||this.expand(),Fi(this,gi,"m",Pi).call(this,t))},Li=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Fi(this,gi,"m",Pi).call(this,null))},Oi=function(e){const{key:t}=e,{options:n,activeOption:o,selectedOption:s,selectedIndex:i,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==o){const e=Fi(this,gi,"m",ki).call(this,o)??Fi(this,gi,"m",Ei).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=Fi(this,gi,"m",ki).call(this,s)??Fi(this,gi,"m",Ei).call(this);e&&Fi(this,gi,"m",Si).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==o){const e=Fi(this,gi,"m",Ti).call(this,o)??Fi(this,gi,"m",xi).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=Fi(this,gi,"m",Ti).call(this,s)??Fi(this,gi,"m",xi).call(this);e&&Fi(this,gi,"m",Si).call(this,e)}e.stopPropagation();break;case"Home":{const t=Fi(this,gi,"m",Ei).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Fi(this,gi,"m",Si).call(this,t)),e.stopPropagation();break}case"End":{const t=Fi(this,gi,"m",xi).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Fi(this,gi,"m",Si).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==o&&Fi(this,gi,"m",Si).call(this,o);else{const e=n.item(i);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:o}=this,{length:s}=t;if(1==s){const s=t.charCodeAt(0),i=Array.from(n.values()),r=i.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==s)),a=i.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==s&&t>o)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},Mi=function(e){const{target:t}=e;t instanceof li&&t.focus({preventScroll:!0})},ji=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof li));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Fi(this,gi,"m",Ei).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&Fi(this,gi,"m",Ii).call(this,e)}},(Ai=U("template")).content.append(U("div",{part:["content"],children:[U("label",{part:["label"]}),U("output",{part:["value"]})]}),U("div",{part:["options"],children:[U("slot"),U("hr",{part:["separator"]}),U("span",{part:["description"]})]})),Wi([V({type:String})],_i.prototype,"name",void 0),Wi([V({type:String,observed:!0})],_i.prototype,"label",void 0),Wi([V({type:String,observed:!0})],_i.prototype,"value",void 0),Wi([V({type:String,defaultValue:"select",observed:!0})],_i.prototype,"type",void 0),Wi([V({type:Boolean})],_i.prototype,"expanded",void 0),_i=Wi([q({name:"e-select"})],_i);var Bi,Hi,Ki,Vi,qi,$i,Xi,Yi,Ui,zi,Ji,Gi,Zi,Qi,er=_i,tr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},nr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},or=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let sr=class extends Bt{constructor(){super(),Bi.add(this),Hi.set(this,void 0),Ki.set(this,void 0),nr(this,Hi,null,"f"),nr(this,Ki,null,"f");const e=this.attachShadow({mode:"open"});e.append(Gi.content.cloneNode(!0)),e.addEventListener("slotchange",or(this,Bi,"m",Ji).bind(this))}get menubutton(){return or(this,Hi,"f")}get select(){return or(this,Ki,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&or(this,Bi,"m",Vi).call(this);break}}}};Hi=new WeakMap,Ki=new WeakMap,Bi=new WeakSet,Vi=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},qi=function(e){const t=or(this,Bi,"m",Ui).bind(this);Zi.set(e,t),e.addEventListener("keydown",t)},$i=function(e){const t=Zi.get(e);t&&e.removeEventListener("keydown",t)},Xi=function(e){const t=or(this,Bi,"m",zi).bind(this);Qi.set(e,t),e.addEventListener("trigger",t)},Yi=function(e){const t=Qi.get(e);t&&e.removeEventListener("trigger",t)},Ui=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},zi=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},Ji=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=or(this,Hi,"f");null!==e&&(or(this,Bi,"m",Yi).call(this,e),or(this,Bi,"m",$i).call(this,e));const n=t.assignedElements()[0];e=n instanceof si?n:null,null!==e&&(or(this,Bi,"m",Xi).call(this,e),or(this,Bi,"m",qi).call(this,e)),nr(this,Hi,e,"f");break}case"select":{let e=or(this,Ki,"f");null!==e&&or(this,Bi,"m",$i).call(this,e);const n=t.assignedElements()[0];e=n instanceof er?n:null,null!==e&&or(this,Bi,"m",qi).call(this,e),nr(this,Ki,e,"f");break}}},Gi=U("template",{content:[U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"]}),U("slot",{properties:{name:"select"}}),U("slot",{properties:{name:"menubutton"}})]})]}),Zi=new WeakMap,Qi=new WeakMap,tr([V({type:Boolean})],sr.prototype,"active",void 0),tr([V({type:String,observed:!0})],sr.prototype,"value",void 0),tr([V({type:String})],sr.prototype,"name",void 0),tr([V({type:String,observed:!0})],sr.prototype,"label",void 0),tr([V({type:String})],sr.prototype,"type",void 0),sr=tr([q({name:"e-toolbaritem"})],sr);var ir,rr=sr,ar=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:i,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),U("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:s,type:o},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:i}})}),{prototype:rr.prototype,button:e=>new ar({...e,type:"button"}),checkbox:e=>new ar({...e,type:"checkbox"}),radio:e=>new ar({...e,type:"radio"}),menubutton:e=>new ar({...e,type:"menubutton"}),select:e=>new ar({...e,type:"select"})}),cr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let lr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ir.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(ir=U("template")).content.append(U("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),U("slot")),cr([V({type:String})],lr.prototype,"name",void 0),cr([V({type:String,observed:!0})],lr.prototype,"label",void 0),cr([V({type:Boolean,observed:!0})],lr.prototype,"disabled",void 0),lr=cr([q({name:"e-toolbaritemgroup"})],lr);var hr,dr,pr,fr,ur,mr,gr,vr,br=lr,wr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},yr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class Er{constructor(e){hr.add(this),dr.set(this,void 0),yr(this,dr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,wr(this,hr,"m",pr).bind(this)),"f")}get length(){const e=wr(this,dr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=wr(this,dr,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=wr(this,dr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new kr(t.root,e):n}*values(){const e=wr(this,dr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}dr=new WeakMap,hr=new WeakSet,pr=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Er.HTMLEToolBarItemRadioListBase=(vr=class{constructor(e,t){fr.add(this),ur.set(this,void 0),mr.set(this,void 0),yr(this,ur,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,wr(this,fr,"m",gr).bind(this)),"f"),yr(this,mr,t,"f")}get value(){const e=wr(this,mr,"f"),t=wr(this,ur,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=wr(this,mr,"f"),t=wr(this,ur,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:s}=n;o==e&&"radio"==s&&(yield n),n=t.nextNode()}}},ur=new WeakMap,mr=new WeakMap,fr=new WeakSet,gr=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},vr);var xr=Er,kr=Er.HTMLEToolBarItemRadioListBase;delete Er.HTMLEToolBarItemRadioListBase;var Tr,Sr,Pr,Ir,Cr,Rr,Nr,Lr,Or,Mr,jr,Ar,Wr,Fr,Dr,_r,Br=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Hr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Kr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Vr=class extends HTMLElement{constructor(){super(),Tr.add(this),Sr.set(this,void 0),Pr.set(this,void 0),Hr(this,Pr,-1,"f"),Hr(this,Sr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Kr(this,Tr,"m",Ir).bind(this)),"f"),this.items=new xr(this),this.attachShadow({mode:"open"}).append(_r.content.cloneNode(!0)),this.addEventListener("change",Kr(this,Tr,"m",Mr).bind(this)),this.addEventListener("click",Kr(this,Tr,"m",jr).bind(this)),this.addEventListener("focusin",Kr(this,Tr,"m",Ar).bind(this)),this.addEventListener("focusout",Kr(this,Tr,"m",Wr).bind(this)),this.addEventListener("keydown",Kr(this,Tr,"m",Fr).bind(this)),this.addEventListener("trigger",Kr(this,Tr,"m",Dr).bind(this))}get activeItem(){return this.items.item(Kr(this,Pr,"f"))??null}get activeIndex(){return Kr(this,Pr,"f")}};Sr=new WeakMap,Pr=new WeakMap,Tr=new WeakSet,Ir=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Cr=function(){const e=Kr(this,Sr,"f");return e.currentNode=e.root,e.firstChild()},Rr=function(){const e=Kr(this,Sr,"f");return e.currentNode=e.root,e.lastChild()},Nr=function(e){const t=Kr(this,Sr,"f");return t.currentNode=e,t.previousSibling()},Lr=function(e){const t=Kr(this,Sr,"f");return t.currentNode=e,t.nextSibling()},Or=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Hr(this,Pr,Array.from(n.values()).indexOf(e),"f")):Hr(this,Pr,-1,"f")},Mr=function(e){const{target:t}=e;if(t instanceof er){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:o}=e;if(t==n&&n&&"select"==o){const{value:t}=e,{value:o}=n;t!==o&&(e.value=o,e.trigger())}}}},jr=function(e){const{target:t}=e;if(t instanceof rr){const{type:e}=t;t.trigger()}},Ar=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Kr(this,Tr,"m",Or).call(this,o)},Wr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Kr(this,Tr,"m",Or).call(this,null)},Fr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Kr(this,Tr,"m",Nr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Kr(this,Tr,"m",Cr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Kr(this,Tr,"m",Lr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Kr(this,Tr,"m",Rr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Kr(this,Tr,"m",Cr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Kr(this,Tr,"m",Rr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Dr=function(e){const{target:t}=e;if(t instanceof rr){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(new kr(this,n).values()).forEach((e=>{e.checked=e.value==o}))}},(_r=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),U("slot")),Br([V({type:String})],Vr.prototype,"name",void 0),Br([V({type:String})],Vr.prototype,"orientation",void 0),Vr=Br([q({name:"e-toolbar"})],Vr);var qr=Vr,$r=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Xr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),U("slot"))}};$r([V({type:String})],Xr.prototype,"name",void 0),Xr=$r([q({name:"e-tabpanel"})],Xr);var Yr,Ur=Xr,zr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Jr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Gr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Zr=class extends HTMLElement{constructor(){super(),Yr.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),U("slot")),Jr(this,Yr,null,"f")}get panel(){return Gr(this,Yr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Gr(this,Yr,"f")&&e instanceof Ur&&Jr(this,Yr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Ur&&Jr(this,Yr,e,"f"),e&&(e.hidden=!this.active)}}};Yr=new WeakMap,zr([V({type:String})],Zr.prototype,"name",void 0),zr([V({type:Boolean})],Zr.prototype,"disabled",void 0),zr([V({type:Boolean,observed:!0})],Zr.prototype,"active",void 0),zr([V({type:String,observed:!0})],Zr.prototype,"controls",void 0),Zr=zr([q({name:"e-tab"})],Zr);var Qr,ea=Zr,ta=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},na=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let oa=class extends HTMLElement{constructor(){super(),Qr.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),U("slot")),this.tabs=[],ta(this,Qr,1,"f")}get activeIndex(){return na(this,Qr,"f")}get activeTab(){return this.tabs[na(this,Qr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof ea));this.tabs=t,ta(this,Qr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof ea&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);ta(this,Qr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(ta(this,Qr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Qr=new WeakMap,oa=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-tablist"})],oa);var sa,ia,ra,aa,ca,la,ha=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},da=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},pa=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let fa=class extends HTMLElement{constructor(){super(),sa.add(this),ia.set(this,void 0),ra.set(this,void 0),aa.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(la.content.cloneNode(!0)),da(this,ia,null,"f"),da(this,aa,null,"f"),da(this,ra,null,"f"),e.addEventListener("slotchange",pa(this,sa,"m",ca).bind(this))}get badge(){return pa(this,ia,"f")}get toolbar(){return pa(this,ra,"f")}get menu(){return pa(this,aa,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};ia=new WeakMap,ra=new WeakMap,aa=new WeakMap,sa=new WeakSet,ca=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];da(this,ra,e instanceof qr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];da(this,ia,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];da(this,aa,e instanceof $n?e:null,"f");break}}},(la=U("template")).content.append(U("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                            user-select: none;\n                        }\n                        \n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        [part="content"]:hover {\n                            background-color: whitesmoke;\n                        }\n\n                        :host([active]) [part="content"] {\n                            background-color: whitesmoke;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) [part="content"] {\n                            background-color: gainsboro;\n                        }\n\n                        [part="content"] {\n                            display: flex;\n                            line-height: 22px;\n                        }\n                        \n                        [part="label"] {\n                            order: 0;\n                            margin-right: auto;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="toolbar"]) {\n                            order: 1;\n                        }\n\n                        ::slotted([slot="badge"]) {\n                            order: 2;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="menu"]) {\n                            position: absolute;\n                        }\n                    '}}),U("div",{part:["content"],children:[U("span",{part:["label"]}),U("slot",{properties:{name:"toolbar"}}),U("slot",{properties:{name:"badge"}})]}),U("slot",{properties:{name:"menu"}})),ha([V({type:String})],fa.prototype,"name",void 0),ha([V({type:Number})],fa.prototype,"posinset",void 0),ha([V({type:String,observed:!0})],fa.prototype,"label",void 0),ha([V({type:Boolean})],fa.prototype,"droptarget",void 0),ha([V({type:Boolean})],fa.prototype,"active",void 0),ha([V({type:Boolean,observed:!0})],fa.prototype,"selected",void 0),fa=ha([q({name:"e-listitem"})],fa);var ua,ma,ga,va=fa;let ba=class extends HTMLElement{constructor(){super(),ua.add(this);const e=this.attachShadow({mode:"open"});e.append(ga.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ua,"m",ma).bind(this))}};ua=new WeakSet,ma=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof va)).forEach(((e,t)=>{e.posinset=t}))},(ga=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot")),ba=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-listitemgroup"})],ba);var wa,ya,Ea,xa,ka,Ta,Sa,Pa,Ia,Ca,Ra,Na,La,Oa,Ma,ja,Aa,Wa,Fa,Da,_a,Ba,Ha,Ka,Va,qa,$a,Xa,Ya,Ua,za,Ja,Ga=ba,Za=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Qa=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},ec=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let tc=class extends HTMLElement{constructor(){super(),wa.add(this),ya.set(this,void 0),Ea.set(this,void 0),xa.set(this,void 0),ka.set(this,void 0),Ta.set(this,void 0),ec(this,Ta,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Qa(this,wa,"m",Sa).bind(this)),"f"),ec(this,Ea,-1,"f"),ec(this,ya,-1,"f"),ec(this,xa,!1,"f"),ec(this,ka,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Ja.content.cloneNode(!0)),this.addEventListener("contextmenu",Qa(this,wa,"m",Fa).bind(this)),this.addEventListener("click",Qa(this,wa,"m",Da).bind(this)),this.addEventListener("dragend",Qa(this,wa,"m",_a).bind(this)),this.addEventListener("dragenter",Qa(this,wa,"m",Ba).bind(this)),this.addEventListener("dragover",Qa(this,wa,"m",Ha).bind(this)),this.addEventListener("dragleave",Qa(this,wa,"m",Ka).bind(this)),this.addEventListener("dragstart",Qa(this,wa,"m",Va).bind(this)),this.addEventListener("drop",Qa(this,wa,"m",qa).bind(this)),this.addEventListener("focus",Qa(this,wa,"m",Xa).bind(this)),this.addEventListener("focusin",Qa(this,wa,"m",Ya).bind(this)),this.addEventListener("keydown",Qa(this,wa,"m",$a).bind(this)),this.addEventListener("select",Qa(this,wa,"m",Ua).bind(this)),e.addEventListener("slotchange",Qa(this,wa,"m",za).bind(this))}get dropTargetItem(){return this.items[Qa(this,ya,"f")]??null}get activeIndex(){return Qa(this,Ea,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){ec(this,xa,!0,"f")}endSelection(){ec(this,xa,!1,"f"),Qa(this,ka,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ec(this,ka,!1,"f"))}selectedItems(){const e=[],t=Qa(this,Ta,"f");t.currentNode=t.root;let n=Qa(this,wa,"m",Ma).call(this);for(;null!==n;)n.selected&&e.push(n),n=Qa(this,wa,"m",Wa).call(this,n);return e}};ya=new WeakMap,Ea=new WeakMap,xa=new WeakMap,ka=new WeakMap,Ta=new WeakMap,wa=new WeakSet,Sa=function(e){return e instanceof va?NodeFilter.FILTER_ACCEPT:e instanceof Ga?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pa=function(e,t){const n=Array.from(this.items),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]},Ia=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ca=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ra=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Na=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},La=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),e.active=!0,e.tabIndex=0,ec(this,Ea,Array.from(n).indexOf(e),"f")},Oa=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,ec(this,ya,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,ec(this,ya,-1,"f"))},Ma=function(){const e=Qa(this,Ta,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},ja=function(){const e=Qa(this,Ta,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Aa=function(e){const t=Qa(this,Ta,"f");return t.currentNode=e,t.previousNode()},Wa=function(e){const t=Qa(this,Ta,"f");return t.currentNode=e,t.nextNode()},Fa=function(e){const{target:t}=e;t instanceof va&&(this.selectedItems().includes(t)||Qa(this,wa,"m",Ia).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},Da=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,s=this.selectedItems();if(t instanceof va)if(o||n){if(n)t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t),e.stopPropagation();else if(o){const n=s[s.length-1];if(n){const e=Qa(this,wa,"m",Pa).call(this,n,t);e&&(s.includes(t)?Qa(this,wa,"m",Ra).call(this,...e):Qa(this,wa,"m",Ca).call(this,...e))}else Qa(this,wa,"m",Ia).call(this,t);e.stopPropagation()}}else Qa(this,wa,"m",Ia).call(this,t)},_a=function(){Qa(this,wa,"m",Oa).call(this,null)},Ba=function(e){const{target:t}=e;t instanceof va&&Qa(this,wa,"m",Oa).call(this,t),e.preventDefault()},Ha=function(e){e.preventDefault()},Ka=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),o=n instanceof ShadowRoot?n.host:t;this.contains(o)||Qa(this,wa,"m",Oa).call(this,null)},Va=function(e){const{target:t}=e;t instanceof va&&(this.selectedItems().includes(t)||Qa(this,wa,"m",Ia).call(this,t))},qa=function(){Qa(this,wa,"m",Oa).call(this,null)},$a=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Qa(this,Ta,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),o=(e.currentNode=e.parentNode()??t,e.lastChild()),s=Qa(this,wa,"m",Pa).call(this,n,o);s&&Qa(this,wa,"m",Ia).call(this,...s)}e.preventDefault();break}case"ArrowUp":if(n){const t=Qa(this,wa,"m",Aa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t))}}else{const e=Qa(this,wa,"m",Ma).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Qa(this,wa,"m",Wa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t))}}else{const e=Qa(this,wa,"m",ja).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Qa(this,wa,"m",Ma).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Qa(this,wa,"m",ja).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Qa(this,wa,"m",Ia).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Qa(this,wa,"m",Na).call(this),this.focus(),e.stopPropagation()}},Xa=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ya=function(e){const{target:t}=e;t instanceof va&&Qa(this,wa,"m",La).call(this,t)},Ua=function(){Qa(this,xa,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},za=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof va)).forEach(((e,t)=>{e.posinset=t}))},(Ja=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),U("slot",{children:[U("slot")]})),Za([V({type:String})],tc.prototype,"name",void 0),Za([V({type:Boolean})],tc.prototype,"droptarget",void 0),tc=Za([q({name:"e-list"})],tc);var nc,oc=tc,sc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ic=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let rc=class extends HTMLElement{constructor(){super(),nc.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),U("div",{part:["container"],children:[U("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],ic(this,nc,null,"f")}get referee(){return function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,nc,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return ic(e,nc,this,"f"),e}};nc=new WeakMap,sc([V({type:Boolean})],rc.prototype,"selected",void 0),sc([V({type:Boolean})],rc.prototype,"dragovered",void 0),sc([V({type:Boolean})],rc.prototype,"dragged",void 0),sc([V({type:Boolean})],rc.prototype,"disabled",void 0),rc=sc([q({name:"e-draggable"})],rc);var ac,cc,lc=rc,hc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},dc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},pc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let fc=class extends HTMLElement{constructor(){super(),ac.set(this,void 0),cc.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),U("div",{part:["container"],children:[U("slot")]})),dc(this,ac,[],"f"),dc(this,cc,[],"f")}get draggables(){return pc(this,ac,"f")}get selectedDraggables(){return pc(this,cc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),dc(this,cc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof lc));dc(this,ac,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),o=Math.sign(e-n),s=o>0?0:this.draggables.length-1,i=o>0?this.draggables.length-1:0,r=o>0?n:e,a=o>0?e:n;for(let e=s;e!==i+o;e+=o)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};ac=new WeakMap,cc=new WeakMap,hc([V({type:Boolean})],fc.prototype,"disabled",void 0),fc=hc([q({name:"e-dragzone"})],fc);var uc=fc,mc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let gc=class extends uc{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(U("div",{part:["appendarea"],children:[U("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,o=t.target;(o==this||this.draggables.includes(o))&&(o==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):o.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const o=e.dataTransfer;if(o){const e=o.getData("text/plain"),t=document.getElementById(e);if(t instanceof uc){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof vc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let o=[],s=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),s=s<0?t:s):(this.appendChild(n),s=s<0?this.draggables.length-1:s),o.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),o.push(t),s=0}const i=this.shadowRoot?.querySelector("slot");return i&&i.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:o,position:s}}))}),{once:!0}),o}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const o=this.shadowRoot?.querySelector("slot");o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};mc([V({type:String})],gc.prototype,"name",void 0),mc([V({type:String})],gc.prototype,"dragovered",void 0),mc([V({type:String,observed:!0})],gc.prototype,"placeholder",void 0),mc([V({type:Boolean})],gc.prototype,"multiple",void 0),gc=mc([q({name:"e-dropzone"})],gc);var vc=gc,bc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let wc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),U("div",{part:["header"],children:[U("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),U("hr",{part:["separator"]}),U("div",{part:["body"],children:[U("slot")]}),U("hr",{part:["separator"]}),U("div",{part:["actions"],children:[U("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),U("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),U("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};bc([V({type:String})],wc.prototype,"type",void 0),wc=bc([q({name:"e-dialog"})],wc);var yc,Ec,xc,kc,Tc,Sc,Pc,Ic=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Cc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Rc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Nc=class extends HTMLElement{constructor(){super(),yc.add(this),Ec.set(this,void 0),xc.set(this,void 0),this.attachShadow({mode:"open"}).append(Pc.content.cloneNode(!0)),Cc(this,Ec,null,"f"),Cc(this,xc,!1,"f"),this.addEventListener("pointerdown",Rc(this,yc,"m",Tc).bind(this)),this.addEventListener("pointermove",Rc(this,yc,"m",Sc).bind(this)),this.addEventListener("pointerup",Rc(this,yc,"m",kc).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;Cc(this,Ec,document.getElementById(e),"f");break}}}};Ec=new WeakMap,xc=new WeakMap,yc=new WeakSet,kc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Cc(this,xc,!1,"f")},Tc=function(e){const{pointerId:t}=e,{controls:n}=this;Cc(this,Ec,document.getElementById(n),"f"),this.setPointerCapture(t),Cc(this,xc,!0,"f")},Sc=function(e){if(Rc(this,xc,"f")){const t=Rc(this,Ec,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:o,movementY:s}=e,{width:i,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(p+o),l-i)),u=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(u+s),d-r));t.style.setProperty("left",`${f}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Pc=U("template")).content.append(U("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),Ic([V({type:String,observed:!0})],Nc.prototype,"controls",void 0),Nc=Ic([q({name:"e-handle"})],Nc);var Lc,Oc,Mc,jc,Ac,Wc,Fc,Dc,_c,Bc,Hc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Kc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Vc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let qc=class extends HTMLElement{constructor(){super(),Lc.add(this),Oc.set(this,void 0),Mc.set(this,void 0),jc.set(this,void 0),Ac.set(this,void 0),this.attachShadow({mode:"open"}).append(Bc.content.cloneNode(!0)),Kc(this,Oc,null,"f"),Kc(this,jc,null,"f"),Kc(this,Ac,0,"f"),Kc(this,Mc,!1,"f"),this.addEventListener("pointerdown",Vc(this,Lc,"m",Fc).bind(this)),this.addEventListener("pointermove",Vc(this,Lc,"m",Dc).bind(this)),this.addEventListener("pointerup",Vc(this,Lc,"m",Wc).bind(this))}get target(){return Vc(this,Oc,"f")}};Oc=new WeakMap,Mc=new WeakMap,jc=new WeakMap,Ac=new WeakMap,Lc=new WeakSet,Wc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Kc(this,Mc,!1,"f")},Fc=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();Kc(this,Oc,o.getElementById(n),"f"),this.setPointerCapture(t),Kc(this,Mc,!0,"f")},Dc=function(e){Vc(this,Mc,"f")&&(null==Vc(this,jc,"f")?(Kc(this,Ac,e.movementY,"f"),Kc(this,jc,Vc(this,Lc,"m",_c).bind(this),"f"),requestAnimationFrame(Vc(this,jc,"f"))):Kc(this,Ac,Vc(this,Ac,"f")+e.movementY,"f"))},_c=function(){const e=Vc(this,Oc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=Vc(this,Ac,"f"),s=parseFloat(t.getPropertyValue("height")),i=Math.trunc(s+("top"==n?-1:1)*o);e.style.setProperty("height",`${i}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Kc(this,jc,null,"f")},(Bc=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Hc([V({type:String})],qc.prototype,"controls",void 0),Hc([V({type:String,defaultValue:"top"})],qc.prototype,"growdir",void 0),qc=Hc([q({name:"e-hsash"})],qc);var $c,Xc,Yc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Uc=class extends HTMLElement{constructor(){super(...arguments),$c.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,$c,"m",Xc).call(this,e)}};$c=new WeakSet,Xc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Yc([V({type:String})],Uc.prototype,"src",void 0),Uc=Yc([q({name:"e-import"})],Uc);var zc,Jc,Gc,Zc,Qc,el=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},tl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},nl=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let ol=class extends HTMLElement{constructor(){super(),zc.add(this),Jc.set(this,void 0),this.attachShadow({mode:"open"}),tl(this,zc,"m",Gc).call(this),nl(this,Jc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":tl(this,zc,"m",Gc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),nl(this,Jc,e,"f")}get promise(){return tl(this,Jc,"f")}};Jc=new WeakMap,zc=new WeakSet,Gc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Qc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Zc.content.cloneNode(!0))}},(()=>{const e=U("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Zc=U("template")).content.append(t,U("div",{part:["bar"],children:[U("div",{part:["slider"],children:[U("div",{part:["cursor"]})]})]})),(Qc=U("template")).content.append(n,U("div",{part:["circle"]}))})(),el([V({type:String,defaultValue:"bar",observed:!0})],ol.prototype,"type",void 0),ol=el([q({name:"e-loader"})],ol);var sl,il,rl,al,cl,ll,hl,dl,pl,fl,ul=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ml=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},gl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let vl=class extends HTMLElement{constructor(){super(),sl.add(this),il.set(this,void 0),rl.set(this,void 0),al.set(this,void 0),cl.set(this,void 0),this.attachShadow({mode:"open"}).append(fl.content.cloneNode(!0)),ml(this,il,null,"f"),ml(this,al,null,"f"),ml(this,cl,0,"f"),ml(this,rl,!1,"f"),this.addEventListener("pointerdown",gl(this,sl,"m",hl).bind(this)),this.addEventListener("pointermove",gl(this,sl,"m",dl).bind(this)),this.addEventListener("pointerup",gl(this,sl,"m",ll).bind(this))}get target(){return gl(this,il,"f")}setWidth(e){const t=gl(this,il,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};il=new WeakMap,rl=new WeakMap,al=new WeakMap,cl=new WeakMap,sl=new WeakSet,ll=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),ml(this,rl,!1,"f")},hl=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();ml(this,il,o.getElementById(n),"f"),this.setPointerCapture(t),ml(this,rl,!0,"f")},dl=function(e){gl(this,rl,"f")&&(null==gl(this,al,"f")&&(ml(this,al,gl(this,sl,"m",pl).bind(this),"f"),requestAnimationFrame(gl(this,al,"f"))),ml(this,cl,gl(this,cl,"f")+e.movementX,"f"))},pl=function(){const e=gl(this,il,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=gl(this,cl,"f"),s=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*o;this.setWidth(s),this.dispatchEvent(new Event("resize"))}ml(this,cl,0,"f"),ml(this,al,null,"f")},(fl=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),ul([V({type:String,observed:!0})],vl.prototype,"controls",void 0),ul([V({type:String,defaultValue:"right"})],vl.prototype,"growdir",void 0),ul([V({type:Boolean})],vl.prototype,"max",void 0),vl=ul([q({name:"e-wsash"})],vl);var bl,wl,yl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};new WeakMap,wl=new WeakMap,bl=new WeakSet;var El,xl,kl,Tl,Sl,Pl,Il=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Cl=class extends T{constructor(){super(),El.add(this),xl.set(this,null),Pl.set(this.rootElement,this)}renderRoot(){return U("button",{properties:{className:"menuitem"},attributes:{role:"menuitem"},children:[U("span",{properties:{className:"content"},children:[U("span",{properties:{className:"icon"}}),U("span",{properties:{className:"label"}}),U("span",{properties:{className:"arrow"}})]})]})}get checked(){return this.rootElement.hasAttribute("aria-checked")}set checked(e){this.rootElement.toggleAttribute("aria-checked",e)}get label(){return Il(this,El,"a",kl).textContent??""}set label(e){Il(this,El,"a",kl).textContent=e}get type(){return this.rootElement.dataset.type??"button"}set type(e){this.rootElement.dataset.type=e}get active(){return this.rootElement.hasAttribute("aria-active")}set active(e){this.rootElement.toggleAttribute("aria-active",e)}get hasPopup(){return this.rootElement.hasAttribute("aria-haspopup")}set hasPopup(e){this.rootElement.setAttribute("aria-haspopup",e.toString())}get expanded(){return this.rootElement.hasAttribute("aria-expanded")}set expanded(e){this.rootElement.toggleAttribute("aria-expanded",e)}get menu(){return Zl.get(Il(this,El,"a",Tl))??null}setMenu(e){const t=Il(this,xl,"f");null!==t&&null!==e?(t.rootElement.replaceWith(e.rootElement),this.hasPopup=!0):(null!==t&&(t.rootElement.remove(),this.hasPopup=!1),null!==e&&(this.rootElement.append(e.rootElement),this.hasPopup=!0))}trigger(){const{type:e,rootElement:t}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}t.dispatchEvent(new Event("trigger",{bubbles:!0}))}toggle(e){const{rootElement:t,type:n}=this;switch(n){case"menu":case"submenu":{const n=e??!this.expanded;this.expanded=n,n&&Il(this,El,"m",Sl).call(this),t.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e||(this.expanded=!0,Il(this,El,"m",Sl).call(this));break}}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e&&(this.expanded=!1);break}}}};xl=new WeakMap,El=new WeakSet,kl=function(){return this.rootElement.querySelector(":scope > .content > .label")},Tl=function(){return this.rootElement.querySelector(":scope > .menu")},Sl=function(){const{rootElement:e,menu:t}=this;if(null!==t){const{rootElement:n}=t,{style:o}=n,{top:s,bottom:i,left:r,right:a}=e.getBoundingClientRect(),{width:c,height:l}=n.getBoundingClientRect(),{scrollY:h,scrollX:d}=window,{clientWidth:p,clientHeight:f}=document.body,{type:u}=this;if("menu"==u){const e=a+c-p,t=s+l-f;o.setProperty("left",`${e>0?d+r-c:d+r}px`),o.setProperty("top",`${t>0?h+s-l:h+i}px`)}else{const t=e.closest(".menu");if(null!==t){const{top:e,left:h}=t.getBoundingClientRect(),d=a+c-p,u=s+l-f;o.setProperty("left",(d>0?r-c-h:a-h)+"px");const m=window.getComputedStyle(n),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);o.setProperty("top",`${u>0?i-l-e+w:s-e-b}px`)}}}},Pl=new WeakMap,Cl=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"menuitem"})],Cl);var Rl,Nl,Ll,Ol,Ml,jl,Al,Wl,Fl,Dl,_l,Bl,Hl,Kl,Vl,ql,$l,Xl,Yl,Ul,zl,Jl,Gl,Zl,Ql=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},eh=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let th=class extends T{constructor(){super(),Rl.add(this),Ll.set(this,void 0),Ol.set(this,void 0),Ml.set(this,void 0);const{rootElement:e}=this;Ql(this,Ll,null,"f"),Ql(this,Ol,new WeakMap,"f"),Ql(this,Ml,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,eh(this,Rl,"m",jl).bind(this)),"f"),e.addEventListener("click",eh(this,Rl,"m",Kl).bind(this)),e.addEventListener("mouseover",eh(this,Rl,"m",Jl).bind(this)),e.addEventListener("mouseout",eh(this,Rl,"m",zl).bind(this)),e.addEventListener("focusin",eh(this,Rl,"m",Vl).bind(this)),e.addEventListener("focusout",eh(this,Rl,"m",ql).bind(this)),e.addEventListener("keydown",eh(this,Rl,"m",Yl).bind(this)),e.addEventListener("trigger",eh(this,Rl,"m",Gl).bind(this)),Zl.set(e,this)}get items(){return Array.from(eh(this,Rl,"a",Nl)).map((e=>Pl.get(e)))}get activeItem(){return eh(this,Ll,"f")}renderRoot(){return U("menu",{properties:{className:"menu",tabIndex:-1},attributes:{role:"menu"}})}insertItem(e,...t){const{rootElement:n}=this;0===n.children.length?n.append(...t.map((e=>e.rootElement))):n.children.item(Math.max(n.children.length,e)).before(...t.map((e=>e.rootElement)))}};Ll=new WeakMap,Ol=new WeakMap,Ml=new WeakMap,Rl=new WeakSet,Nl=function(){return this.rootElement.querySelectorAll(":scope > .menuitem, :scope > .menuitemgroup > .menuitem")},jl=function(e){const{classList:t}=e;return t.contains("menuitem")?NodeFilter.FILTER_ACCEPT:t.contains("menuitemgroup")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Al=function(){this.items.forEach((e=>{e.collapse()}))},Wl=function(){const e=eh(this,Ml,"f");return e.currentNode=e.root,e.firstChild()},Fl=function(){const e=eh(this,Ml,"f");return e.currentNode=e.root,e.lastChild()},Dl=function(e){const t=eh(this,Ml,"f");return t.currentNode=e.rootElement,t.previousNode()},_l=function(e){const t=eh(this,Ml,"f");return t.currentNode=e.rootElement,t.nextNode()},Bl=function(e){const{menu:t}=e;if(null==t)return null;const n=eh(this,Ml,"f");return n.currentNode=t.rootElement,n.firstChild()},Hl=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&t!==e&&(e.active=!0),Ql(this,Ll,e,"f")},Kl=function(e){const{target:t}=e;if(t instanceof HTMLButtonElement){const n=Pl.get(t);void 0!==n&&n.trigger(),e.stopPropagation()}},Vl=function(e){const{target:t}=e;if(t instanceof HTMLButtonElement){const n=Pl.get(t);void 0!==n&&eh(this,Rl,"m",Hl).call(this,n),e.stopPropagation()}},ql=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.collapse(),eh(this,Rl,"m",Hl).call(this,null)}},$l=async function(e,t){return new Promise(((n,o)=>{const s=setTimeout((()=>{n(void 0)}),t??0);eh(this,Ol,"f").set(e,{clear:()=>{clearTimeout(s),o()}})})).then((()=>{eh(this,Ol,"f").delete(e)}))},Xl=function(e){const t=eh(this,Ol,"f").get(e);void 0!==t&&(eh(this,Ol,"f").delete(e),t.clear())},Yl=function(e){const{key:t}=e,{rootElement:n,activeItem:o}=this;switch(t){case"ArrowUp":(o?eh(this,Rl,"m",Dl).call(this,o)??eh(this,Rl,"m",Fl).call(this):eh(this,Rl,"m",Wl).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(o?eh(this,Rl,"m",_l).call(this,o)??eh(this,Rl,"m",Wl).call(this):eh(this,Rl,"m",Wl).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":eh(this,Rl,"m",Wl).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":eh(this,Rl,"m",Fl).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(o){const{hasPopup:t}=o;t?(o.expand(),o.expanded&&eh(this,Rl,"m",Bl).call(this,o)?.focus({preventScroll:!0})):o.click(),e.stopPropagation()}break;case"Escape":case"ArrowLeft":o&&(e.composedPath().find((e=>e instanceof HTMLMenuElement))==n||(o.collapse(),o.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(o){const{hasPopup:t}=o;t&&(o.expand(),eh(this,Rl,"m",Bl).call(this,o)?.focus({preventScroll:!0}),e.stopPropagation())}}},Ul=function(e){const{rootElement:t}=this,n=e.closest(".menuitem");if(null!==n&&t.contains(n)){const e=Pl.get(n);if(void 0!==e)return e}return null},zl=function(e){const{target:t,relatedTarget:n}=e,{rootElement:o}=this,s=t instanceof Element?eh(this,Rl,"m",Ul).call(this,t):null;if(s?.hasPopup&&!s.expanded&&eh(this,Rl,"m",Xl).call(this,s),e.composedPath().find((e=>e instanceof HTMLMenuElement))==o){const{clientX:t,clientY:s}=e,{left:i,right:r,top:a,bottom:c}=o.getBoundingClientRect(),l=!(i>t||r<t||a>s||c<s),h=o.contains(n);l&&h&&(n instanceof HTMLMenuElement&&n!==o?n.focus({preventScroll:!0}):this.focus({preventScroll:!0})),l||this.focus({preventScroll:!0})}},Jl=function(e){const{target:t}=e,{rootElement:n}=this,o=t instanceof Element?eh(this,Rl,"m",Ul).call(this,t):null;if(o?.hasPopup&&o.expanded&&eh(this,Rl,"m",Xl).call(this,o),e.composedPath().find((e=>e instanceof HTMLMenuElement))==n){const{activeItem:e}=this;e?.hasPopup&&e.expanded&&!e.contains(t)&&(eh(this,Rl,"m",Xl).call(this,e),eh(this,Rl,"m",$l).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==o&&(eh(this,Rl,"m",Hl).call(this,o),o.focus({preventScroll:!0}),o.hasPopup&&(o.expanded?e&&e.menu?.focus({preventScroll:!0}):(eh(this,Rl,"m",Xl).call(this,o),eh(this,Rl,"m",$l).call(this,o,200).then((()=>{const{activeItem:e}=this;eh(this,Rl,"m",Al).call(this),e&&(eh(this,Rl,"m",Xl).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},Gl=function(e){const{target:t}=e},Zl=new WeakMap,th=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([$({name:"menu"})],th);var nh,oh,sh,ih,rh,ah,ch,lh=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},hh=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},dh=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class ph extends _{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new B(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class fh{constructor(e){nh.set(this,void 0),hh(this,nh,e,"f")}static from(e){return new fh(e)}show(){dh(this,nh,"f").forEach((e=>{e.show()}))}hide(){dh(this,nh,"f").forEach((e=>{e.hide()}))}display(){const e=dh(this,nh,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=dh(this,nh,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof ph){const{items:o}=n,s=e.get(o);s?s.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}nh=new WeakMap;class uh extends _{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof ph?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof ph){const{items:t}=e;t&&t.remove(this)}}}lh([W()],uh.prototype,"visibility",void 0);let mh=class extends Pt{constructor(e){super(),oh.add(this),sh.set(this,void 0),ih.set(this,void 0),this.attachShadow({mode:"open"}),hh(this,sh,new WeakMap,"f"),hh(this,ih,new WeakMap,"f"),this.setModel(e??new ph)}getListElement(){const{model:e}=this;return dh(this,sh,"f").get(e)?.deref()??null}getListItemElement(e){return dh(this,ih,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return Y(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot"))}renderLight(){const{model:e}=this,t=U("e-list",{properties:{tabIndex:0},children:[U("e-listitemgroup",{children:oe(e.items,(e=>dh(this,oh,"m",rh).call(this,e)))})],eventListeners:{contextmenu:dh(this,oh,"m",ah).bind(this),keydown:dh(this,oh,"m",ch).bind(this)}});return dh(this,sh,"f").set(e,new WeakRef(t)),t}};sh=new WeakMap,ih=new WeakMap,oh=new WeakSet,rh=function(e){const t=U("e-listitem",{properties:{tabIndex:-1,label:e.label,name:e.label,draggable:!0},dataset:{index:e.index},children:[U("e-toolbar",{properties:{slot:"toolbar",tabIndex:0},children:[U("e-toolbaritemgroup",{children:[ar.menubutton({name:"settings",label:"Actions",menubutton:new ii({menu:Q(e,new Xn({children:[new Wn({items:[cn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),cn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new Wn({items:[cn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,o)=>{const{items:s}=e;switch(t){case"visibility":{const e=s.namedItem("visibility");e.textContent=o?"Hide":"Show",e.title=o?"Hide":"Show"}}}))})}),Q(e,U("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,o)=>{e.title=o?"Hide":"Show",e.checked=o}))]})]})]});return dh(this,ih,"f").set(e,new WeakRef(t)),t},ah=function(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,{model:i}=this;if(o instanceof oc&&s instanceof va){const o=i.getItemByIndex(parseInt(s.dataset.index)),r=U("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n,slot:"menu"},children:[U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{fh.from(this.selectedItems()).display()}}}),U("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{fh.from(this.selectedItems()).remove()}}})]}),U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=fh.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{s.focus({preventScroll:!0})}}});s.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},ch=function(e){const{currentTarget:t,key:n}=e;if(t instanceof oc)switch(n){case"Delete":fh.from(this.selectedItems()).remove(),e.preventDefault()}},mh=lh([q({name:"v-list"})],mh);var gh,vh,bh,wh,yh,Eh,xh,kh,Th,Sh,Ph,Ih=mh,Ch=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Rh=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Nh=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Lh extends _{constructor(e){super();const t=new B(e?.rows??[]);t.setParent(this),this.rows=t;const n=new B(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,o)=>{const s=e.extract(n).toString(),i=e.extract(o).toString();return t*s.localeCompare(i)}))}}class Oh extends _{constructor(e){super();const{name:t,label:n,type:o,extract:s}=e;this.name=t,this.label=n,this.type=o,this.extract=s,this.filters=e.filters??[],this.sortorder=1}}Ch([W()],Oh.prototype,"sortorder",void 0);class Mh extends _{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}Ch([W()],Mh.prototype,"name",void 0),Ch([W()],Mh.prototype,"age",void 0);let jh=class extends Pt{constructor(e){super(),gh.add(this),vh.set(this,void 0),bh.set(this,void 0),wh.set(this,void 0),yh.set(this,void 0),Eh.set(this,void 0),Rh(this,wh,[],"f"),Rh(this,yh,null,"f"),Rh(this,Eh,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Lh),Rh(this,bh,((e,t)=>U("label",{properties:{textContent:t.extract(e)}})),"f"),Rh(this,vh,(e=>U("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){Rh(this,vh,e,"f")}setCellDelegate(e){Rh(this,bh,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Nh(this,Eh,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return Y(U("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),U("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),U("div",{children:[U("input",{properties:{type:"search"},eventListeners:{input:Nh(this,gh,"m",Sh).bind(this)}})]}),U("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[U("e-gridhead",{children:[U("e-gridrow",{children:oe(e.columns,(e=>Nh(this,gh,"m",xh).call(this,e)))})]}),U("e-gridbody",{children:oe(e.rows,(e=>Nh(this,gh,"m",kh).call(this,e)))})]}))}setSearchFilter(e){Rh(this,yh,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Nh(this,wh,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Nh(this,wh,"f").includes(e)||(Nh(this,wh,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Nh(this,wh,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Nh(this,wh,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Nh(this,wh,"f").every((t=>t.filter(e))))})));const{gridElement:o}=this;o.beginSelection(),o.selectedRows().forEach((e=>e.selected=!1)),o.endSelection()}};vh=new WeakMap,bh=new WeakMap,wh=new WeakMap,yh=new WeakMap,Eh=new WeakMap,gh=new WeakSet,xh=function(e){const{model:t}=this;return Q(e,U("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[U("span",{properties:{className:"gridcell-content"},children:[U("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:Nh(this,gh,"m",Ph).bind(this)}}),U("e-toolbar",{properties:{tabIndex:-1},children:[U("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[U("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[U("e-menuitem",{properties:{type:"button",textContent:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),U("e-menuitem",{properties:{type:"submenu",textContent:"Sort",tabIndex:-1},children:[Q(e,U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[U("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Ascending",value:"1",tabIndex:-1}}),U("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:o}=n,s=o.value;t.sortByColumn(e,parseInt(s))}}}),["sortorder"],((e,t,n,o)=>{Array.from(e.items).filter((e=>e.name.startsWith("sort"))).forEach((e=>{e.checked=parseInt(e.value)===o}))}))]}),U("e-menuitem",{properties:{type:"submenu",textContent:"Filter",tabIndex:-1},children:[U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>U("e-menuitem",{properties:{tabIndex:-1,textContent:e.name,type:"checkbox",checked:Nh(this,wh,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof an){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[U("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,o)=>{switch(t){case"sortorder":void 0!==o?e.dataset.sortorder=o.toString():delete e.dataset.sortorder}}))},kh=function(e){const{model:t}=this,n=U("e-gridrow",{properties:{tabIndex:-1},children:oe(t.columns,(t=>Nh(this,gh,"m",Th).call(this,e,t)))});return Nh(this,Eh,"f").set(e,new WeakRef(n)),n},Th=function(e,t){return U("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[Nh(this,bh,"f").call(this,e,t)]})},Sh=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Ph=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:o}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(o.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Ch([V({type:Boolean,observed:!0})],jh.prototype,"resizable",void 0),Ch([V({type:Boolean,observed:!0})],jh.prototype,"sortable",void 0),jh=Ch([q({name:"v-grid"})],jh);var Ah,Wh,Fh,Dh=jh,_h=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Bh=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Hh extends _{constructor(e){super(),this.name=e?.name,this.items=new B(e?.items??[])}}_h([W()],Hh.prototype,"items",void 0),_h([W()],Hh.prototype,"name",void 0);class Kh extends _{constructor(e){super();const{name:t,label:n,type:o,menu:s}=e;this.name=t,this.label=n,this.type=o,this.menu=s}}_h([W()],Kh.prototype,"name",void 0),_h([W()],Kh.prototype,"label",void 0),_h([W()],Kh.prototype,"type",void 0),_h([W()],Kh.prototype,"menu",void 0);let Vh=class extends Pt{constructor(e){super(),Ah.add(this),this.setModel(e??new Hh)}renderLight(){const{model:e}=this;return Bh(this,Ah,"m",Wh).call(this,e)}};Ah=new WeakSet,Wh=function(e){return z("menu",{children:oe(e.items,(e=>Bh(this,Ah,"m",Fh).call(this,e)))}).rootElement},Fh=function(e){return Q(e,z("menuitem",{properties:{type:e.type,hasPopup:void 0!==e.menu},children:e.menu?[Bh(this,Ah,"m",Wh).call(this,e.menu)]:[]}).rootElement,["label","name"],((e,t,n,o)=>{const s=Pl.get(e);if(void 0!==s)switch(t){case"label":s.label=o}}))},Vh=_h([q({name:"v-menu"})],Vh);var qh=Vh;async function $h(){const e=new jt,t=new Nt({items:[new Ot({label:"TI 0",type:"parent",items:[new Ot({label:"TI 1A",type:"parent",items:[new Ot({type:"leaf",label:"TI 1AX"})]}),new Ot({type:"parent",label:"TI 1B"})]}),new Ot({label:"TI 1",type:"parent",items:[new Ot({label:"TI 1A",type:"parent",items:[new Ot({type:"leaf",label:"TI 1AX"})]}),new Ot({type:"parent",label:"TI 1B"})]}),new Ot({type:"leaf",label:"TI 2"}),new Ot({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:o}=t;return o.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Ot({label:"yo",type:"parent",items:[new Ot({type:"leaf",label:"plop"})]}));const n=new Ih;n.setModel(new ph({items:[new uh({label:"Hey"}),new uh({label:"Yo"})]})),document.body.append(n);const o=new Dh;o.resizable=!0,o.sortable=!0,o.setColumnDelegate((e=>Y(U("label",{properties:{textContent:e.label}})))),o.setModel(new Lh({columns:[new Oh({name:"name",label:"Name",type:String,extract:e=>e.name}),new Oh({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Mh({name:"Denis",age:13}),new Mh({name:"Jean-Charles",age:32}),new Mh({name:"Charles",age:25})]}));const s=new qh(new Hh({items:[new Kh({name:"MenuItem A1",label:"MenuItem A1",type:"submenu",menu:new Hh({name:"MenuItem A2",items:[new Kh({name:"MenuItem B1",label:"MenuItem B1",type:"checkbox"}),new Kh({name:"MenuItem B2",label:"MenuItem B2",type:"checkbox"})]})})]}));document.body.append(s);const i=z("menu"),r=[z("menuitem",{properties:{type:"checkbox",label:"Hello, World!"}})];i.insertItem(0,...r),document.body.append(i.rootElement),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(X(e)).forEach((e=>{e instanceof Bt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(X(e)).forEach((e=>{e instanceof Bt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){e.rootElement.addEventListener("focusin",this),this._widgets.push(e)}unregisterWidget(e){this._widgets.includes(e)&&(e.rootElement.removeEventListener("focusin",this),this._widgets.splice(this._widgets.indexOf(e),1))}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:o,checked:s}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,s);break;case"radio":this.executeRadioAction(t,o)}}));break;case"trigger":if(t instanceof Bt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,o){const s=o?.hotkey,i=o?.key,r=o?.value,a=o?.checked,c={name:e,trigger:t,key:i,type:n};r&&(c.value=r),void 0!==i&&void 0!==r&&localStorage.setItem(i,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return s&&(this._hotkeys[l]=s),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const o=this._actions.findIndex((t=>t.name==e));if(o>-1){const s=this._actions[o];let i;switch(t){case"radio":i=s.value??"";break;case"checkbox":i=s.value??!1}s.trigger(i,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:o,key:s}=e;e.value=t,s&&localStorage.setItem(s,t);const i=this._actionElements[n];if(i)switch(o){case"radio":i.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":i.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const o=this._actions[n],{type:s,value:i,checked:r}=o;switch(s){case"radio":"radio"==t.type?t.checked=t.value==i:"select"==t.type&&(t.value=i);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map