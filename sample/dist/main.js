var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>uu});var n,s,i,o,r,a,c,l,h,d,u,p,f,m,b,g,w,v,y,E=new WeakMap,x=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const e=E.get(t);e&&e.forEach((e=>{const[n,s]=e,i=n.slottedCallback;"function"==typeof i&&i(s.deref(),t)}));break}}}))})),T=new WeakMap,k=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=e,i=T.get(t);if(i){const e=i.attributeChangedCallback;"function"==typeof e&&e(t,n,s,t.getAttribute(n))}break}}}))})),S=class{constructor(){const e=this;this.create=new Proxy(this.create,{apply:(t,n,s)=>{const i=Reflect.apply(t,n,s),{slots:o}=e;[null].concat(o).map((t=>e.slot(i,t))).forEach((t=>{if(t){x.observe(t,{childList:!0});const n=E.get(t);Array.isArray(n)?n.push([e,new WeakRef(i)]):E.set(t,new Array([e,new WeakRef(i)]))}}));const r=e.observedAttributes;return Array.isArray(r)&&(T.set(i,e),k.observe(i,{attributes:!0,attributeFilter:r,attributeOldValue:!0})),i}})}create(){throw new Error("create method is not implemented")}slot(e){return e}get slots(){return[]}},P=new Map,C=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},L=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class R{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new I(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new I(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return R.PROPERTY_CHANGE}get LIST_REMOVE(){return R.LIST_REMOVE}get LIST_INSERT(){return R.LIST_INSERT}get LIST_SORT(){return R.LIST_SORT}}var N=R;n=new WeakMap;var I=class{constructor(e){n.set(this,void 0),C(this,n,e.slice(),"f")}get length(){return L(this,n,"f").length}item(e){return L(this,n,"f")[e]??null}values(){return L(this,n,"f").values()}};class A{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,C(this,s,null,"f"),C(this,i,null,"f")}get currentTarget(){return L(this,s,"f")}get target(){return L(this,i,"f")}}s=new WeakMap,i=new WeakMap,A.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof A&&C(e,s,t,"f")}setTarget(e,t){e instanceof A&&C(e,i,t,"f")}};var M=A.ModelEventTargetAccessor;delete A.ModelEventTargetAccessor;var O=A;o=new WeakMap;class j extends class{constructor(){o.set(this,void 0),C(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,n=L(this,o,"f").get(t);M.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=L(this,o,"f").get(e);n?n.push(t):L(this,o,"f").set(e,[t])}removeEventListener(e,t){const n=L(this,o,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&L(this,o,"f").delete(e)}}dispatchEvent(e){M.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),r.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),C(this,a,null,"f"),C(this,c,[],"f"),C(this,l,!1,"f")}get parentNode(){return L(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");C(this,a,e,"f")}else C(this,a,null,"f")}beginChanges(){C(this,l,!0,"f")}endChanges(){this.dispatchEvent(new O("modelchange")),L(this,c,"f").splice(0),C(this,l,!1,"f")}getRecords(){return L(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,r=new WeakSet,h=function(e,t,n){const s=L(this,c,"f"),i=new N({target:this,changeType:N.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new O("modelchange")),s.splice(0)},d=function(e){L(this,c,"f").push(e),L(this,l,"f")||(this.dispatchEvent(new O("modelchange")),L(this,c,"f").splice(0))},j.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof j&&L(e,r,"m",h).call(e,t,n,s)}handleRecord(e,t){e instanceof j&&L(e,r,"m",d).call(e,t)}};var W=j.ModelNodeRecordsAccessor;delete j.ModelNodeRecordsAccessor;var D=j;const F=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=H.getProperty(this,t);return H.setProperty(this,t,e),e!==n&&W.triggerChange(this,t,n,e),!0},get:function(){return H.getProperty(this,t)},enumerable:!0})}};class _ extends j{constructor(){super(),u.set(this,void 0),C(this,u,new Map,"f")}}u=new WeakMap,_.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof _&&L(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof _)return L(e,u,"f").get(t)}};var H=_.ModelObjectPropertiesAccessor;delete _.ModelObjectPropertiesAccessor;var B=_;p=new WeakMap;var q=class extends j{constructor(e){super(),p.set(this,void 0),C(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),L(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return L(this,p,"f").length}get(e){return L(this,p,"f")[e]??null}index(e,t){return L(this,p,"f").indexOf(e,t)}values(){return L(this,p,"f").values()}sort(e){const t=L(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),C(this,p,t.map((e=>e.item)),"f");const n=new N({target:this,changeType:N.LIST_SORT,sortedIndices:t.map((e=>e.index))});W.handleRecord(this,n)}prepend(...e){const t=L(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new N({target:this,changeType:N.LIST_INSERT,insertedIndex:0,insertedItems:e});W.handleRecord(this,s)}append(...e){const t=L(this,p,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new N({target:this,changeType:N.LIST_INSERT,insertedIndex:n,insertedItems:e});W.handleRecord(this,i)}insert(e,...t){const n=L(this,p,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new N({target:this,changeType:N.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});W.handleRecord(this,i)}}remove(e){const t=L(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new N({target:this,changeType:N.LIST_REMOVE,removedIndex:n,removedItems:[e]});W.handleRecord(this,i)}}clear(){const e=L(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new N({target:this,changeType:N.LIST_REMOVE,removedIndex:0,removedItems:t});W.handleRecord(this,s)}}};m=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,v=function(){const e=L(this,b,"f").splice(0);e.length>0&&L(this,m,"f").call(this,e)},y=function(e){if(!L(this,g,"f")){const{target:t,currentTarget:n}=e,s=L(this,w,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:o,childList:r,subtree:a}=e;a?i&&t instanceof D?(o?L(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):L(this,b,"f").push(...t.getRecords()),L(this,f,"m",v).call(this)):r&&t instanceof q&&(L(this,b,"f").push(...t.getRecords()),L(this,f,"m",v).call(this)):t==n&&(i&&t instanceof D?(o?L(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):L(this,b,"f").push(...t.getRecords()),L(this,f,"m",v).call(this)):r&&t instanceof q&&(L(this,b,"f").push(...t.getRecords()),L(this,f,"m",v).call(this)))}}};var K=class{constructor(e){f.add(this),m.set(this,void 0),b.set(this,void 0),g.set(this,void 0),w.set(this,void 0),C(this,m,e,"f"),C(this,b,[],"f"),C(this,g,!1,"f"),C(this,w,new WeakMap,"f")}observe(e,t){C(this,g,!1,"f");const n=L(this,w,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=L(this,f,"m",y).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=L(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){L(this,b,"f").splice(0),C(this,g,!0,"f")}};function $(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const V=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,o=n.toString(),r=$(o),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(r):Object.defineProperty(s,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},U=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}},z=function(e){return t=>{const{name:n}=e;return P.set(n,new t),t}};function*X(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*X(e)),s++}}function Y(...e){const t=document.createDocumentFragment();return t.append(...e),t}function J(e,t){if(t){const{options:n,attributes:s,dataset:i,children:o,listeners:r}=t,a=document.createElement(e,n);if(s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==t&&("boolean"==typeof t?a.toggleAttribute($(e),t):a.setAttribute($(e),t.toString()))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=i[t].toString()}))}return o&&("function"==typeof o?a.append(...o(a)):a.append(...Array.from(o))),r&&Object.entries(r).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}function G(e,t){const n=P.get(e);if(n){const e=n.create(t?.properties);if(t){const{attributes:s,dataset:i,slotted:o,listeners:r}=t;if(s&&Object.keys(s).forEach((t=>{const n=s[t];void 0!==n&&("boolean"==typeof n?e.toggleAttribute($(t),n):e.setAttribute($(t),n.toString()))})),i){const{dataset:t}=e;Object.keys(i).forEach((e=>{t[e]=i[e].toString()}))}if(o)if("function"==typeof o||Array.isArray(o)||o instanceof NodeList){const t=n.slot(e,null);t&&("function"==typeof o?t.append(...o(e)):t.append(...Array.from(o)))}else Object.entries(o).forEach((([t,s])=>{const i=n.slot(e,t);i&&("function"==typeof s?i.append(...s(e)):i.append(...Array.from(s)))}));r&&Object.entries(r).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return e}throw new Error(`Unknown widget ${e}.`)}const Z=new WeakMap,Q=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=Z.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),ee=new K((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:o}=Z.get(t);o.forEach((e=>{const{elementRef:t,react:o,properties:r}=e,a=t.deref();a&&r.includes(n)&&o(a,n,s,i)}))}))}));function te(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},o=Z.get(e);if(Q.register(t,{model:e,reactiveElement:i}),o){const{reactiveElementsArray:e,observerOptions:t}=o,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];Z.set(e,{observerOptions:t,reactiveElementsArray:s}),ee.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const ne=new WeakMap,se=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=ne.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),ie=new K((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:o}=ne.get(s);o.forEach((n=>{const{parentRef:s,mapping:o,placeholder:r}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;r&&i>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map(o),{length:r}=s;t<r?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:o}=i;t=t??document.createRange();const r=n+(o-1);r<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[r]),t.deleteContents());break}case u:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&r&&a.append(r)}}))}))}));function oe(e,t,n){return s=>{const i=new WeakRef(s),o=ne.get(e),r={parentRef:i,mapping:t,placeholder:n};if(se.register(s,{list:e,reactiveChildElement:r}),o){const{reactiveChildElementsArray:e}=o;e.push(r)}else{const t=[r];ne.set(e,{reactiveChildElementsArray:t}),ie.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function re(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var ae,ce,le;let he=class extends HTMLElement{constructor(){super(),ae.add(this);const e=this.attachShadow({mode:"open"});e.append(le.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ae,"m",ce).bind(this))}};ae=new WeakSet,ce=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},(le=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot")),he=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-treeitemgroup"})],he);var de,ue,pe,fe,me,be=he,ge=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},we=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ve=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ye=class extends HTMLElement{constructor(){super(),de.add(this),ue.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(me.content.cloneNode(!0)),e.addEventListener("slotchange",we(this,de,"m",fe).bind(this)),this.addEventListener("click",we(this,de,"m",pe).bind(this)),ve(this,ue,null,"f")}get group(){return we(this,ue,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};ue=new WeakMap,de=new WeakSet,pe=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},fe=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ve(this,ue,e instanceof be?e:null,"f");break}}},(me=J("template")).content.append(J("div",{attributes:{part:"content"},children:[J("span",{attributes:{part:"arrow"}}),J("slot")]}),J("slot",{attributes:{name:"group"}})),ge([V({type:String})],ye.prototype,"name",void 0),ge([V({type:Number})],ye.prototype,"posinset",void 0),ge([V({type:String,observed:!0})],ye.prototype,"label",void 0),ge([V({type:Boolean,observed:!0})],ye.prototype,"expanded",void 0),ge([V({type:Boolean})],ye.prototype,"droptarget",void 0),ge([V({type:Boolean})],ye.prototype,"active",void 0),ge([V({type:Boolean,observed:!0})],ye.prototype,"selected",void 0),ge([V({type:Number,observed:!0})],ye.prototype,"level",void 0),ge([V({type:String,defaultValue:"leaf"})],ye.prototype,"type",void 0),ye=ge([U({name:"e-treeitem"})],ye);var Ee,xe,Te,ke,Se,Pe,Ce,Le,Re,Ne,Ie,Ae,Me,Oe,je,We,De,Fe,_e,He,Be,qe,Ke,$e,Ve,Ue,ze,Xe,Ye,Je,Ge,Ze,Qe=ye,et=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},nt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let st=class extends HTMLElement{constructor(){super(),Ee.add(this),xe.set(this,void 0),Te.set(this,void 0),ke.set(this,void 0),nt(this,ke,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,tt(this,Ee,"m",Se).bind(this)),"f"),nt(this,xe,!1,"f"),nt(this,Te,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Ze.content.cloneNode(!0)),this.addEventListener("click",tt(this,Ee,"m",Fe).bind(this)),this.addEventListener("contextmenu",tt(this,Ee,"m",_e).bind(this),!0),this.addEventListener("dragend",tt(this,Ee,"m",He).bind(this)),this.addEventListener("dragenter",tt(this,Ee,"m",Be).bind(this)),this.addEventListener("dragleave",tt(this,Ee,"m",Ke).bind(this)),this.addEventListener("dragover",tt(this,Ee,"m",qe).bind(this)),this.addEventListener("dragstart",tt(this,Ee,"m",$e).bind(this)),this.addEventListener("drop",tt(this,Ee,"m",Ve).bind(this)),this.addEventListener("focus",tt(this,Ee,"m",ze).bind(this)),this.addEventListener("focusin",tt(this,Ee,"m",Xe).bind(this)),this.addEventListener("focusout",tt(this,Ee,"m",Ye).bind(this)),this.addEventListener("keydown",tt(this,Ee,"m",Ue).bind(this)),this.addEventListener("select",tt(this,Ee,"m",Je).bind(this)),e.addEventListener("slotchange",tt(this,Ee,"m",Ge).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=tt(this,ke,"f");t.currentNode=t.root;let n=tt(this,Ee,"m",Me).call(this);for(;null!==n;)n.selected&&e.push(n),n=tt(this,Ee,"m",We).call(this,n);return e}beginSelection(){nt(this,xe,!0,"f")}endSelection(){nt(this,xe,!1,"f"),tt(this,Te,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),nt(this,Te,!1,"f"))}};xe=new WeakMap,Te=new WeakMap,ke=new WeakMap,Ee=new WeakSet,Se=function(e){return e instanceof Qe?NodeFilter.FILTER_ACCEPT:e instanceof be?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pe=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=tt(this,Ee,"m",We).call(this,e);for(;s&&s!==t;)n.push(s),s=tt(this,Ee,"m",We).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=tt(this,Ee,"m",je).call(this,e);for(;s&&s!==t;)n.push(s),s=tt(this,Ee,"m",je).call(this,s);return n.push(t),n}return[]},Ce=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Le=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Re=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ne=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Ie=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(tt(this,ke,"f").currentNode=e,e.active=!0,e.tabIndex=0)},Ae=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Me=function(){const e=tt(this,ke,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Oe=function(){const e=tt(this,ke,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},je=function(e){const t=tt(this,ke,"f");t.currentNode=e;const n=t.previousSibling();return n?tt(this,Ee,"m",De).call(this,n):t.parentNode()},We=function(e){const t=tt(this,ke,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},De=function e(t){if(t.expanded){const t=tt(this,ke,"f").lastChild();if(t)return tt(this,Ee,"m",e).call(this,t)}return t},Fe=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof Qe)if(s||n){if(n){const{selected:n}=t;n&&t.blur(),n?tt(this,Ee,"m",Re).call(this,t):tt(this,Ee,"m",Le).call(this,t),e.stopPropagation()}else if(s){const n=i[i.length-1];if(n){const e=tt(this,Ee,"m",Pe).call(this,n,t);e&&(i.includes(t)?tt(this,Ee,"m",Re).call(this,...e):tt(this,Ee,"m",Le).call(this,...e))}else tt(this,Ee,"m",Ce).call(this,t);e.stopPropagation()}}else tt(this,Ee,"m",Ce).call(this,t)},_e=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,Ee,"m",Ce).call(this,t),e.preventDefault())},He=function(){tt(this,Ee,"m",Ae).call(this,null)},Be=function(e){const{target:t}=e;if(t instanceof Qe){const{type:e}=t;"parent"==e&&t.toggle(!0),tt(this,Ee,"m",Ae).call(this,t)}e.preventDefault()},qe=function(e){e.preventDefault()},Ke=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||tt(this,Ee,"m",Ae).call(this,null)}},$e=function(e){const{target:t}=e;t instanceof Qe&&(this.selectedItems().includes(t)||tt(this,Ee,"m",Ce).call(this,t))},Ve=function(){tt(this,Ee,"m",Ae).call(this,null)},Ue=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=tt(this,ke,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=tt(this,Ee,"m",Pe).call(this,s,tt(this,Ee,"m",De).call(this,i));e&&tt(this,Ee,"m",Ce).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=tt(this,ke,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=tt(this,Ee,"m",je).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,Ee,"m",Re).call(this,t):tt(this,Ee,"m",Le).call(this,t))}}else{const e=tt(this,Ee,"m",Me).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=tt(this,Ee,"m",We).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?tt(this,Ee,"m",Re).call(this,t):tt(this,Ee,"m",Le).call(this,t))}}else{const e=tt(this,Ee,"m",Oe).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=tt(this,Ee,"m",Me).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=tt(this,Ee,"m",Oe).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(tt(this,Ee,"m",Ce).call(this,n),n.click()),e.stopPropagation();break;case"Escape":tt(this,Ee,"m",Ne).call(this),tt(this,Ee,"m",Ie).call(this,null),this.focus(),e.stopPropagation()}},ze=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Xe=function(e){const{target:t}=e;t instanceof Qe&&(tt(this,Ee,"m",Ie).call(this,t),this.tabIndex=-1)},Ye=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Je=function(){tt(this,xe,"f")?nt(this,Te,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ge=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Qe)).forEach(((e,t)=>{e.posinset=t,e.level=0}))},(Ze=J("template")).content.append(J("slot")),et([V({type:Boolean})],st.prototype,"droptarget",void 0),et([V({type:String})],st.prototype,"name",void 0),st=et([U({name:"e-tree"})],st);var it,ot,rt,at=st,ct=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},lt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class ht extends HTMLElement{constructor(){super(),it.add(this),ot.set(this,void 0),ct(this,ot,null,"f")}get model(){return lt(this,ot,"f")}setModel(e){ct(this,ot,e,"f"),lt(this,it,"m",rt).call(this)}renderLight(){}renderShadow(){}refresh(){lt(this,it,"m",rt).call(this)}}ot=new WeakMap,it=new WeakSet,rt=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var dt,ut,pt,ft,mt,bt,gt,wt,vt,yt,Et,xt,Tt,kt,St=ht,Pt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ct=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Lt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class Rt extends B{constructor(e){super(),dt.add(this);const t=new q(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new q(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Ct(this,dt,"m",ut).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Rt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:o}=n,{length:r}=o;if(e.startsWith(o)){if("/"==e.charAt(r))return Rt.prototype.getItemByUri.call(n,e);if(r==s)return n}}return null}}dt=new WeakSet,ut=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof q&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:o}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(o.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class Nt{constructor(e){this.items=e}get count(){return this.items.length}static from(e){return new Nt(e)}static of(...e){return new Nt(e)}show(){this.items.forEach((e=>e.show()))}hide(){this.items.forEach((e=>e.hide()))}display(){const e=this.items.reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof It||n instanceof Rt){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class It extends B{constructor(e){super(),pt.add(this);const{label:t,type:n}=e,s=new q(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",Ct(this,pt,"m",ft).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof It?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof It?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof It||e instanceof Rt){const{childItems:t}=e;t&&t.remove(this)}}}pt=new WeakSet,ft=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},Pt([F()],It.prototype,"childCount",void 0),Pt([F()],It.prototype,"visibility",void 0);let At=class extends St{constructor(e){super(),mt.add(this),bt.set(this,void 0),gt.set(this,void 0),wt.set(this,void 0),Lt(this,wt,new WeakMap,"f"),Lt(this,gt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Rt)}getTreeElement(){return Ct(this,bt,"f")?.deref()??null}getTreeItemElement(e){return Ct(this,wt,"f").get(e)?.deref()??null}getDragImageElement(e){return Ct(this,gt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=J("e-tree",{attributes:{tabindex:0},children:oe(e.childItems,(e=>Ct(this,mt,"m",vt).call(this,e))),listeners:{dragstart:Ct(this,mt,"m",Et).bind(this),drop:Ct(this,mt,"m",xt).bind(this),contextmenu:Ct(this,mt,"m",Tt).bind(this),keydown:Ct(this,mt,"m",kt).bind(this)}});return Lt(this,bt,new WeakRef(t),"f"),Y(J("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),J("link",{attributes:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,J("div",{attributes:{class:"offscreen",hidden:!0},children:oe(e.items,(e=>Ct(this,mt,"m",yt).call(this,e)))}))}};bt=new WeakMap,gt=new WeakMap,wt=new WeakMap,mt=new WeakSet,vt=function e(t){const n=te(t,J("e-treeitem",{attributes:{tabindex:-1,label:t.label,type:t.type,draggable:"true"},dataset:{uri:t.uri},children:("parent"==t.type?[J("e-treeitemgroup",{attributes:{slot:"group"},children:oe(t.childItems,(t=>Ct(this,mt,"m",e).call(this,t)))})]:[]).concat([J("span",{attributes:{class:"label"}})]).concat("parent"==t.type?[J("span",{attributes:{class:"badge"}})]:[]).concat([J("e-toolbar",{attributes:{tabindex:0},children:[J("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{click:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=s);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${s})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.querySelector("e-toolbaritem[name=visibility]");e&&(e.title=s?"Hide":"Show",e.checked=s)}}}}));return Ct(this,wt,"f").set(t,new WeakRef(n)),n},yt=function(e){const t=te(e,J("span",{attributes:{class:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return Ct(this,gt,"f").set(e,new WeakRef(t)),t},Et=function(e){const{currentTarget:t,target:n}=e,{model:s}=this;if(t instanceof at&&n instanceof Qe){const{dataTransfer:n}=e,i=t.selectedItems(),{length:o}=i;if(o>0){const e=i.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),o=e[e.length-1],r=s.getItemByUri(o);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},xt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,{sortFunction:i}=s;if(t instanceof at&&n instanceof Qe){const{dataTransfer:o}=e;if(o){const e=n.dataset.uri,r=s.getItemByUri(e),a=o.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>s.getItemByUri(e))).filter((e=>null!==e)),{type:o,parentItem:c}=r,l="parent"==o?r.childItems:c?c.childItems:s.childItems;Array.from(l.values()).forEach((t=>{const n=e.findIndex((e=>e.label==t.label));n>-1&&(confirm(`Replace ${t.label}?`)?l.remove(t):(e.copyWithin(n,n+1),e.length--))})),Nt.from(e).remove(),i?(l.beginChanges(),l.append(...e),l.sort(i),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},Tt=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof at&&i instanceof Qe){const r=o.getItemByUri(i.dataset.uri),a=J("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{click:()=>{Nt.from(this.selectedItems()).display()}}}),J("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{click:()=>{const e=Nt.from(this.selectedItems()),{count:t}=e;confirm(`Remove ${t} items?`)&&e.remove(),s.focus()}}})]}),J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[r.visibility?"Hide":"Show"],listeners:{click:()=>{const e=Nt.from(this.selectedItems());r.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{i.focus({preventScroll:!0})}}});document.body.append(a),a.positionContextual(t,n),a.focus({preventScroll:!0}),e.preventDefault()}},kt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof at)switch(n){case"Delete":{const n=Nt.from(this.selectedItems()),{count:s}=n;confirm(`Remove ${s} items?`)&&n.remove(),t.focus(),e.preventDefault();break}}},At=Pt([U({name:"v-tree"})],At);var Mt=At,Ot=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};class jt extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}Ot([V({type:String})],jt.prototype,"name",void 0),Ot([V({type:String})],jt.prototype,"value",void 0),Ot([V({type:String})],jt.prototype,"hotkey",void 0),Ot([V({type:String,defaultValue:"button"})],jt.prototype,"type",void 0),Ot([V({type:Boolean})],jt.prototype,"disabled",void 0),Ot([V({type:Boolean})],jt.prototype,"checked",void 0);var Wt,Dt,Ft,_t=jt;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Wt||(Wt={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Dt||(Dt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Ft||(Ft={})),new WeakSet;var Ht,Bt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let qt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Ht.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Ht=J("template")).content.append(J("slot")),Bt([V({type:String})],qt.prototype,"name",void 0),Bt([V({type:String})],qt.prototype,"headers",void 0),Bt([V({type:String})],qt.prototype,"type",void 0),Bt([V({type:Number})],qt.prototype,"posinset",void 0),Bt([V({type:Boolean})],qt.prototype,"droptarget",void 0),Bt([V({type:Boolean})],qt.prototype,"active",void 0),Bt([V({type:Boolean,observed:!0})],qt.prototype,"selected",void 0),qt=Bt([U({name:"e-gridcell"})],qt);var Kt,$t,Vt,Ut=qt;let zt=class extends HTMLElement{constructor(){super(),Kt.add(this);const e=this.attachShadow({mode:"open"});e.append(Vt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Kt,"m",$t).bind(this))}};Kt=new WeakSet,$t=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(Vt=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),J("slot")),zt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-gridrowgroup"})],zt);var Xt,Yt,Jt,Gt,Zt=zt,Qt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},en=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let tn=class extends HTMLElement{constructor(){super(),Xt.add(this),this.attachShadow({mode:"open"}).append(Gt.content.cloneNode(!0)),this.addEventListener("click",en(this,Xt,"m",Jt).bind(this))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&en(this,Xt,"m",Yt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,en(this,Xt,"m",Yt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var nn;Xt=new WeakSet,Yt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const e=o+r-h,u=n+a-d;t.setProperty("left",`${e>0?l+i-r:l+i}px`),t.setProperty("top",`${u>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),p=o+r-h,f=n+a-d;t.setProperty("left",(p>0?i-r-u:o-u)+"px");const m=window.getComputedStyle(e),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);t.setProperty("top",`${f>0?s-a-l+v:n-l-w}px`)}}}},Jt=function(e){const{target:t}=e;if(t==this){const{type:e}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}}},(Gt=J("template")).content.append(J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"},children:[J("slot")]}),J("span",{attributes:{part:"arrow"}}),J("slot",{attributes:{name:"menu"}})),Qt([V({type:String})],tn.prototype,"name",void 0),Qt([V({type:String})],tn.prototype,"value",void 0),Qt([V({type:String})],tn.prototype,"hotkey",void 0),Qt([V({type:Boolean})],tn.prototype,"disabled",void 0),Qt([V({type:Boolean})],tn.prototype,"checked",void 0),Qt([V({type:Boolean})],tn.prototype,"expanded",void 0),Qt([V({type:String,defaultValue:"button",observed:!0})],tn.prototype,"type",void 0),Qt([(nn={selector:":scope > e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,i=t.toString(),{selector:o}=nn,r=nn.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(s,i,{get:r})})],tn.prototype,"menu",void 0),tn=Qt([U({name:"e-menuitem"})],tn);var sn,on,rn,an=tn,cn=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menu:r}=e;return r&&(r.slot="menu"),J("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:r?[t,r]:[t],listeners:{trigger:o}})}),{prototype:an.prototype,button:e=>new cn({...e,type:"button"}),checkbox:e=>new cn({...e,type:"checkbox"}),radio:e=>new cn({...e,type:"radio"}),menu:e=>new cn({...e,type:"menu"}),submenu:e=>new cn({...e,type:"submenu"})}),ln=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let hn=class extends HTMLElement{constructor(){super(),sn.add(this);const e=this.attachShadow({mode:"open"});e.append(rn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,sn,"m",on).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};sn=new WeakSet,on=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof an)).forEach(((e,t)=>{}))},(rn=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),J("slot")),ln([V({type:String})],hn.prototype,"name",void 0),ln([V({type:String,observed:!0})],hn.prototype,"label",void 0),hn=ln([U({name:"e-menuitemgroup"})],hn);var dn,un,pn,fn,mn,bn,gn,wn,vn,yn,En,xn,Tn,kn,Sn,Pn,Cn,Ln,Rn,Nn,In,An,Mn,On,jn=hn,Wn=Object.assign((function(e){const{name:t,items:n}=e;return J("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:jn.prototype,radios:e=>{const{name:t,items:n}=e;return J("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new cn({name:t,label:e,type:"radio",value:n})))})}}),Dn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},_n=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Hn=An=class extends HTMLElement{constructor(){super(),dn.add(this),un.set(this,void 0),pn.set(this,void 0);const e=this.attachShadow({mode:"open"});Fn(this,pn,-1,"f"),e.append(Mn.content.cloneNode(!0)),Fn(this,un,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,_n(this,dn,"m",gn).bind(this)),"f"),this.addEventListener("click",_n(this,dn,"m",Pn).bind(this)),this.addEventListener("mouseover",_n(this,dn,"m",In).bind(this)),this.addEventListener("mouseout",_n(this,dn,"m",Nn).bind(this)),this.addEventListener("focusin",_n(this,dn,"m",Cn).bind(this)),this.addEventListener("focusout",_n(this,dn,"m",Ln).bind(this)),this.addEventListener("keydown",_n(this,dn,"m",Rn).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return _n(this,pn,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}positionContextual(e,t){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window,a=e+o,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,u=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${u>0?c-i:c}px`)}};un=new WeakMap,pn=new WeakMap,dn=new WeakSet,fn=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},mn=function(e){return e.closest(":is(e-menu)")==this},bn=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},gn=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},wn=function(){const e=_n(this,un,"f");return e.currentNode=e.root,e.firstChild()},vn=function(){const e=_n(this,un,"f");return e.currentNode=e.root,e.lastChild()},yn=function(e){const t=_n(this,un,"f");return t.currentNode=e,t.previousNode()},En=function(e){const t=_n(this,un,"f");return t.currentNode=e,t.nextNode()},xn=function(e){const{menu:t}=e;return t instanceof An?_n(t,dn,"m",wn).call(t):null},Tn=function(e){null!==e&&Fn(this,pn,this.items().indexOf(e),"f")},kn=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);On.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{On.delete(e)}))},Sn=function(e){const t=On.get(e);void 0!==t&&(On.delete(e),t.clear())},Pn=function(e){const{target:t}=e;if(t instanceof an){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else if(_n(this,dn,"m",mn).call(this,t)){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}}},Cn=function(e){const{target:t}=e;if(t instanceof an){const e=_n(this,dn,"m",bn).call(this,t);e&&_n(this,dn,"m",Tn).call(this,e)}},Ln=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),_n(this,dn,"m",Tn).call(this,null)}}},Rn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?_n(this,dn,"m",yn).call(this,n)??_n(this,dn,"m",vn).call(this):_n(this,dn,"m",wn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?_n(this,dn,"m",En).call(this,n)??_n(this,dn,"m",wn).call(this):_n(this,dn,"m",wn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":_n(this,dn,"m",wn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":_n(this,dn,"m",vn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&_n(this,dn,"m",xn).call(this,n)?.focus({preventScroll:!0})}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Vn))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),_n(this,dn,"m",xn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Nn=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof an){const s=_n(this,dn,"m",bn).call(this,t);if(null!==s&&("submenu"!=s.type||s.expanded||_n(this,dn,"m",Sn).call(this,s),e.composedPath().find((e=>e instanceof Vn))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(_n(this,dn,"m",Sn).call(this,t),_n(this,dn,"m",kn).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=e,{left:o,right:r,top:a,bottom:c}=this.getBoundingClientRect(),l=!(o>s||r<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof Vn&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),_n(this,dn,"m",Tn).call(this,null))),l||(this.focus({preventScroll:!0}),_n(this,dn,"m",Tn).call(this,null))}}},In=function(e){const{target:t}=e;if(t instanceof an){const n=_n(this,dn,"m",bn).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&_n(this,dn,"m",Sn).call(this,n),e.composedPath().find((e=>e instanceof Vn))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(_n(this,dn,"m",Sn).call(this,e),_n(this,dn,"m",kn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),_n(this,dn,"m",Tn).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(_n(this,dn,"m",Sn).call(this,n),_n(this,dn,"m",kn).call(this,n,200).then((()=>{const{activeItem:e}=this;_n(this,dn,"m",fn).call(this),e&&(_n(this,dn,"m",Sn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},(Mn=J("template")).content.append(J("slot")),On=new WeakMap,Dn([V({type:String})],Hn.prototype,"name",void 0),Dn([V({type:Boolean})],Hn.prototype,"contextual",void 0),Hn=An=Dn([U({name:"e-menu"})],Hn);var Bn,qn,Kn,$n,Vn=Hn,Un=Object.assign((function(e){const{name:t,children:n}=e;return J("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:Vn.prototype}),zn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Xn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Yn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Jn=class extends HTMLElement{constructor(){super(),Bn.add(this),qn.set(this,void 0),Xn(this,qn,null,"f"),this.cells=new os(this);const e=this.attachShadow({mode:"open"});e.append($n.content.cloneNode(!0)),e.addEventListener("slotchange",Yn(this,Bn,"m",Kn).bind(this))}get menu(){return Yn(this,qn,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};qn=new WeakMap,Bn=new WeakSet,Kn=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];Xn(this,qn,e instanceof Vn?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))}},($n=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),J("slot"),J("slot",{attributes:{name:"menu"}})),zn([V({type:String})],Jn.prototype,"name",void 0),zn([V({type:Boolean})],Jn.prototype,"active",void 0),zn([V({type:Boolean})],Jn.prototype,"selected",void 0),zn([V({type:Number})],Jn.prototype,"posinset",void 0),Jn=zn([U({name:"e-gridrow"})],Jn);var Gn,Zn,Qn,es=Jn,ts=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Zn=new WeakMap,Gn=new WeakSet,Qn=function(e){return e instanceof Ut?NodeFilter.FILTER_ACCEPT:e instanceof Zs||e instanceof Zt||e instanceof es?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ns,ss,is,os=class{constructor(e){Gn.add(this),Zn.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Zn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ts(this,Gn,"m",Qn).bind(this)),"f")}get length(){const e=ts(this,Zn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ts(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ts(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ts(this,Zn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},rs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};ss=new WeakMap,ns=new WeakSet,is=function(e){return e instanceof Zs?NodeFilter.FILTER_SKIP:e instanceof es?NodeFilter.FILTER_ACCEPT:e instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var as,cs,ls,hs=class{constructor(e){ns.add(this),ss.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ss,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,rs(this,ns,"m",is).bind(this)),"f")}get length(){const e=rs(this,ss,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=rs(this,ss,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=rs(this,ss,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=rs(this,ss,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let ds=class extends HTMLElement{constructor(){super(),as.add(this),this.cells=new os(this),this.rows=new hs(this);const e=this.attachShadow({mode:"open"});e.append(ls.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,as,"m",cs).bind(this))}};as=new WeakSet,cs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(ls=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),J("slot")),ds=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-gridbody"})],ds);var us,ps,fs,ms,bs,gs,ws,vs,ys,Es,xs,Ts,ks,Ss,Ps,Cs,Ls,Rs,Ns,Is,As,Ms,Os,js,Ws,Ds,Fs,_s,Hs,Bs,qs,Ks,$s,Vs,Us,zs,Xs,Ys,Js,Gs,Zs=ds,Qs=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ei=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ti=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ni=class extends HTMLElement{constructor(){super(),us.add(this),ps.set(this,void 0),fs.set(this,void 0),ms.set(this,void 0),bs.set(this,void 0),gs.set(this,void 0),ws.set(this,void 0),ti(this,gs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ei(this,us,"m",vs).bind(this)),"f"),ti(this,ws,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ei(this,us,"m",ys).bind(this)),"f"),ti(this,ps,-1,"f"),ti(this,fs,-1,"f"),ti(this,ms,!1,"f"),ti(this,bs,!1,"f"),this.cells=new os(this),this.rows=new hs(this);const e=this.attachShadow({mode:"open"});e.append(Gs.content.cloneNode(!0)),this.addEventListener("contextmenu",ei(this,us,"m",$s).bind(this)),this.addEventListener("click",ei(this,us,"m",Vs).bind(this)),this.addEventListener("focus",ei(this,us,"m",zs).bind(this)),this.addEventListener("focusin",ei(this,us,"m",Xs).bind(this)),this.addEventListener("keydown",ei(this,us,"m",Us).bind(this)),this.addEventListener("select",ei(this,us,"m",Ys).bind(this)),e.addEventListener("slotchange",ei(this,us,"m",Js).bind(this))}get activeCellIndex(){return ei(this,ps,"f")}get activeCell(){return this.cells.item(ei(this,ps,"f"))??null}get activeRowIndex(){return ei(this,fs,"f")}get activeRow(){return this.rows.item(ei(this,fs,"f"))??null}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}beginSelection(){ti(this,ms,!0,"f")}endSelection(){ti(this,ms,!1,"f"),ei(this,bs,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ti(this,bs,!1,"f"))}clearSelection(){ei(this,us,"m",Rs).call(this),ei(this,us,"m",Ns).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};ps=new WeakMap,fs=new WeakMap,ms=new WeakMap,bs=new WeakMap,gs=new WeakMap,ws=new WeakMap,us=new WeakSet,vs=function(e){return e instanceof Ut&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Zs||e instanceof Zt||e instanceof es?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ys=function(e){return e instanceof es&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Zs||e instanceof Zt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Es=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},xs=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ei(this,us,"m",Bs).call(this,e);for(;s&&s!==t;)n.push(s),s=ei(this,us,"m",Bs).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ei(this,us,"m",Hs).call(this,e);for(;s&&s!==t;)n.push(s),s=ei(this,us,"m",Hs).call(this,s);return n.push(t),n}return[]},Ts=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},ks=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ss=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ps=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Cs=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ls=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Rs=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Ns=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Is=function(e){const{activeCell:t,cells:n}=this;if(null!==t&&t!==e)t.active=!1,t.tabIndex=-1;else if(null!==e){ei(this,gs,"f").currentNode=e,e.active=!0,e.tabIndex=0;const t=ei(this,us,"m",Ds).call(this,e);t&&ei(this,us,"m",As).call(this,t),ti(this,ps,Array.from(n.values()).indexOf(e),"f")}else ti(this,ps,-1,"f")},As=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e?(t.active=!1,t.tabIndex=-1):null!==e?(ei(this,ws,"f").currentNode=e,e.active=!0,e.tabIndex=0,ti(this,fs,Array.from(n.values()).indexOf(e),"f")):ti(this,fs,-1,"f")},Ms=function(e){const t=ei(this,gs,"f");return t.currentNode=e,t.firstChild()},Os=function(e){const t=ei(this,gs,"f");return t.currentNode=e,t.lastChild()},js=function(e){const t=ei(this,gs,"f");return t.currentNode=e,t.previousNode()},Ws=function(e){const t=ei(this,gs,"f");return t.currentNode=e,t.nextNode()},Ds=function(e){const t=ei(this,ws,"f");return t.currentNode=e,t.parentNode()},Fs=function(){const e=ei(this,ws,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},_s=function(){const e=ei(this,ws,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Hs=function(e){const t=ei(this,ws,"f");return t.currentNode=e,t.previousNode()},Bs=function(e){const t=ei(this,ws,"f");return t.currentNode=e,t.nextNode()},qs=function(e){const t=ei(this,us,"m",Ds).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ei(this,us,"m",Hs).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Ks=function(e){const t=ei(this,us,"m",Ds).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ei(this,us,"m",Bs).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},$s=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof Zs))?t.find((e=>e instanceof Ut)):null;n instanceof Ut&&(this.selectedCells().includes(n)||ei(this,us,"m",Ts).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof Zs))?t.find((e=>e instanceof es)):null;n instanceof es&&(this.selectedRows().includes(n)||ei(this,us,"m",ks).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},Vs=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof Zs))?s.find((e=>e instanceof Ut)):null,o=this.selectedCells();if(i instanceof Ut)if(n||t){if(t)i.selected?ei(this,us,"m",Cs).call(this,i):ei(this,us,"m",Ss).call(this,i),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=ei(this,us,"m",Es).call(this,t,i);e&&(o.includes(i)?ei(this,us,"m",Cs).call(this,...e):ei(this,us,"m",Ss).call(this,...e))}else ei(this,us,"m",Ts).call(this,i);e.stopPropagation()}}else ei(this,us,"m",Ts).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),o=i.find((e=>e instanceof Zs))?i.find((e=>e instanceof es)):null;if(o instanceof es)if(n||t){if(t)o.selected?ei(this,us,"m",Ls).call(this,o):ei(this,us,"m",Ps).call(this,o),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=ei(this,us,"m",xs).call(this,t,o);e&&(s.includes(o)?ei(this,us,"m",Ls).call(this,...e):ei(this,us,"m",Ps).call(this,...e))}else ei(this,us,"m",ks).call(this,o);e.stopPropagation()}}else ei(this,us,"m",ks).call(this,o);break}}},Us=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=ei(this,us,"m",Fs).call(this),t=e?ei(this,us,"m",Ms).call(this,e):null,n=ei(this,us,"m",_s).call(this),s=n?ei(this,us,"m",Os).call(this,n):null;if(t&&s){const e=ei(this,us,"m",Es).call(this,t,s);e&&ei(this,us,"m",Ts).call(this,...e)}break}case"row":{const e=ei(this,us,"m",Fs).call(this),t=ei(this,us,"m",_s).call(this);if(e&&t){const n=ei(this,us,"m",xs).call(this,e,t);n&&ei(this,us,"m",ks).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=ei(this,us,"m",js).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ei(this,us,"m",Cs).call(this,t):ei(this,us,"m",Ss).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=ei(this,us,"m",Ws).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ei(this,us,"m",Cs).call(this,t):ei(this,us,"m",Ss).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??ei(this,us,"m",Fs).call(this),n=s?ei(this,us,"m",qs).call(this,s):t?ei(this,us,"m",Ms).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ei(this,us,"m",Cs).call(this,n):ei(this,us,"m",Ss).call(this,n))}break}case"row":{const t=i?ei(this,us,"m",Hs).call(this,i):ei(this,us,"m",Fs).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ei(this,us,"m",Ls).call(this,t):ei(this,us,"m",Ps).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??ei(this,us,"m",_s).call(this),n=s?ei(this,us,"m",Ks).call(this,s):t?ei(this,us,"m",Os).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ei(this,us,"m",Cs).call(this,n):ei(this,us,"m",Ss).call(this,n))}}break;case"row":{const t=i?ei(this,us,"m",Bs).call(this,i):ei(this,us,"m",_s).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ei(this,us,"m",Ls).call(this,t):ei(this,us,"m",Ps).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=ei(this,us,"m",Ms).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ei(this,us,"m",Fs).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=ei(this,us,"m",Os).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ei(this,us,"m",_s).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(ei(this,us,"m",Ts).call(this,s),s.click());break;case"row":i&&(ei(this,us,"m",ks).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":ei(this,us,"m",Rs).call(this),ei(this,us,"m",Is).call(this,null);break;case"row":ei(this,us,"m",Ns).call(this),ei(this,us,"m",As).call(this,null)}this.focus(),e.stopPropagation()}},zs=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},Xs=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof Ut&&ei(this,us,"m",Is).call(this,t);break;case"row":t instanceof es&&ei(this,us,"m",As).call(this,t)}},Ys=function(){ei(this,ms,"f")?ti(this,bs,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Js=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof es)).forEach(((e,t)=>{e.posinset=t}))},(Gs=J("template")).content.append(J("slot")),Qs([V({type:String})],ni.prototype,"name",void 0),Qs([V({type:String,defaultValue:"cell"})],ni.prototype,"selectby",void 0),ni=Qs([U({name:"e-grid"})],ni);var si,ii,oi;let ri=class extends HTMLElement{constructor(){super(),si.add(this),this.cells=new os(this),this.rows=new hs(this);const e=this.attachShadow({mode:"open"});e.append(oi.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,si,"m",ii).bind(this))}};si=new WeakSet,ii=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ut)).forEach(((e,t)=>{e.posinset=t}))},(oi=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),J("slot")),ri=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-gridhead"})],ri);var ai,ci,li,hi,di,ui,pi,fi,mi,bi,gi,wi,vi,yi,Ei,xi,Ti,ki,Si,Pi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ci=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Li=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ri=class extends HTMLElement{constructor(){super(),ai.add(this),ci.set(this,void 0),li.set(this,void 0),Li(this,li,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ci(this,ai,"m",hi).bind(this)),"f"),Li(this,ci,-1,"f"),this.attachShadow({mode:"open"}).append(Si.content.cloneNode(!0)),this.addEventListener("click",Ci(this,ai,"m",Ti).bind(this)),this.addEventListener("focusin",Ci(this,ai,"m",yi).bind(this)),this.addEventListener("focusout",Ci(this,ai,"m",Ei).bind(this)),this.addEventListener("mouseover",Ci(this,ai,"m",xi).bind(this)),this.addEventListener("keydown",Ci(this,ai,"m",ki).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return Ci(this,ci,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}};ci=new WeakMap,li=new WeakMap,ai=new WeakSet,hi=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},di=function(){const e=Ci(this,li,"f");return e.currentNode=e.root,e.firstChild()},ui=function(){const e=Ci(this,li,"f");return e.currentNode=e.root,e.lastChild()},pi=function(e){const t=Ci(this,li,"f");return t.currentNode=e,t.previousSibling()},fi=function(e){const t=Ci(this,li,"f");return t.currentNode=e,t.nextSibling()},mi=function(e){const{menu:t}=e;if(t){const e=Ci(this,li,"f");return e.currentNode=t,e.firstChild()}return null},bi=function(e){const{activeItem:t,expanded:n}=this;null!==t&&t!==e&&t.collapse(),null!==e?(n&&e.expand(),Li(this,ci,this.items().indexOf(e),"f")):Li(this,ci,-1,"f")},gi=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},wi=function(e){return e.closest(":is(e-menubar, e-menu)")==this},vi=function(e){return Ci(this,ai,"a",gi).find((t=>t.contains(e)))??null},yi=function(e){const{target:t}=e;if(t instanceof Element){const e=Ci(this,ai,"m",vi).call(this,t);Ci(this,ai,"m",bi).call(this,e)}},Ei=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof HTMLElement&&!t.contains(n)){const e=Ci(this,ai,"m",vi).call(this,t);e&&e.collapse()}!this.contains(n)&&(this.expanded=!1)},xi=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof an&&Ci(this,ai,"m",wi).call(this,t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Ti=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof an&&Ci(this,ai,"m",wi).call(this,t)){const e=!n;if(this.expanded=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},ki=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?Ci(this,ai,"m",pi).call(this,s)??Ci(this,ai,"m",ui).call(this):Ci(this,ai,"m",di).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Ci(this,ai,"m",mi).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Ci(this,ai,"m",fi).call(this,s)??Ci(this,ai,"m",di).call(this):Ci(this,ai,"m",ui).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Ci(this,ai,"m",mi).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.expanded=!n,Ci(this,ai,"m",mi).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},(Si=J("template")).content.append(J("slot")),Pi([V({type:String})],Ri.prototype,"name",void 0),Pi([V({type:Boolean})],Ri.prototype,"expanded",void 0),Ri=Pi([U({name:"e-menubar"})],Ri);var Ni,Ii,Ai,Mi,Oi,ji,Wi,Di,Fi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},_i=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Hi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Bi=class extends HTMLElement{constructor(){super(),Ni.add(this),Ii.set(this,void 0),_i(this,Ii,null,"f");const e=this.attachShadow({mode:"open"});e.append(J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"}})]}),J("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",Hi(this,Ni,"m",ji).bind(this)),this.addEventListener("click",Hi(this,Ni,"m",Mi).bind(this)),this.addEventListener("focusout",Hi(this,Ni,"m",Oi).bind(this)),this.addEventListener("trigger",Hi(this,Ni,"m",Di).bind(this)),e.addEventListener("slotchange",Hi(this,Ni,"m",Wi).bind(this))}get menu(){return Hi(this,Ii,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,Hi(this,Ni,"m",Ai).call(this))}collapse(){this.expanded&&(this.expanded=!1)}get firstItem(){return this.querySelector(":scope > :is(e-menu, e-menu > e-menuitemgroup) > e-menuitem")}};Ii=new WeakMap,Ni=new WeakSet,Ai=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=o+r-h,p=n+a-d;t.setProperty("left",`${u>0?l+o-r:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}},Mi=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Oi=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},ji=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Wi=function(e){const{target:t}=e,n=t.assignedElements()[0];_i(this,Ii,n instanceof Vn?n:null,"f")},Di=function(){this.collapse(),this.focus({preventScroll:!0})},Fi([V({type:String})],Bi.prototype,"name",void 0),Fi([V({type:Boolean})],Bi.prototype,"disabled",void 0),Fi([V({type:Boolean})],Bi.prototype,"expanded",void 0),Bi=Fi([U({name:"e-menubutton"})],Bi);var qi,Ki=Bi,$i=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",J("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:Ki.prototype}),Vi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ui=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(qi.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(qi=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    ']}),J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"label"}})]})),Vi([V({type:String})],Ui.prototype,"name",void 0),Vi([V({type:String})],Ui.prototype,"value",void 0),Vi([V({type:String,observed:!0})],Ui.prototype,"label",void 0),Vi([V({type:String})],Ui.prototype,"description",void 0),Vi([V({type:Boolean})],Ui.prototype,"disabled",void 0),Vi([V({type:Boolean})],Ui.prototype,"active",void 0),Vi([V({type:Boolean})],Ui.prototype,"selected",void 0),Vi([V({type:Boolean})],Ui.prototype,"default",void 0),Ui=Vi([U({name:"e-option"})],Ui);var zi,Xi=Ui;let Yi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(zi.content.cloneNode(!0))}};(zi=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot")),Yi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-optiongroup"})],Yi);var Ji,Gi,Zi,Qi=Yi,eo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Gi=new WeakMap,Ji=new WeakSet,Zi=function(e){return e instanceof Xi?NodeFilter.FILTER_ACCEPT:e instanceof Qi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var to,no,so,io,oo,ro,ao,co,lo,ho,uo,po,fo,mo,bo,go,wo,vo,yo,Eo,xo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},To=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ko=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let So=class extends _t{constructor(){super(),to.add(this),no.set(this,void 0),so.set(this,void 0),io.set(this,void 0),ko(this,no,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,To(this,to,"m",oo).bind(this)),"f"),ko(this,so,-1,"f"),ko(this,io,-1,"f"),this.options=new class{constructor(e){Ji.add(this),Gi.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Gi,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,eo(this,Ji,"m",Zi).bind(this)),"f")}get length(){const e=eo(this,Gi,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=eo(this,Gi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=eo(this,Gi,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=eo(this,Gi,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=eo(this,Gi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(Eo.content.cloneNode(!0)),this.addEventListener("click",To(this,to,"m",mo).bind(this)),this.addEventListener("focusin",To(this,to,"m",bo).bind(this)),this.addEventListener("focusout",To(this,to,"m",go).bind(this)),this.addEventListener("keydown",To(this,to,"m",wo).bind(this)),this.addEventListener("mouseover",To(this,to,"m",vo).bind(this)),e.addEventListener("slotchange",To(this,to,"m",yo).bind(this))}get activeIndex(){return To(this,so,"f")}get selectedIndex(){return To(this,io,"f")}get activeOption(){return this.options.item(To(this,so,"f"))??null}get selectedOption(){return this.options.item(To(this,io,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(To(this,to,"m",po).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;To(this,to,"m",fo).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};no=new WeakMap,so=new WeakMap,io=new WeakMap,to=new WeakSet,oo=function(e){return e instanceof Xi?NodeFilter.FILTER_ACCEPT:e instanceof Qi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ro=function(){const e=To(this,no,"f");return e.currentNode=e.root,e.firstChild()},ao=function(){const e=To(this,no,"f");return e.currentNode=e.root,e.lastChild()},co=function(e){const t=To(this,no,"f");return t.currentNode=e,t.previousNode()},lo=function(e){const t=To(this,no,"f");return t.currentNode=e,t.nextNode()},ho=function(e){e&&!e.disabled&&(this.value=e.value)},uo=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),ko(this,so,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else ko(this,so,-1,"f")},po=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,s&&(s.selected=!1),ko(this,io,Array.from(t.values()).indexOf(e),"f")}}else ko(this,so,-1,"f")},fo=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window;n.setProperty("top",`${s+r}px`),n.setProperty("left",`${i+o}px`)},mo=function(e){const{target:t}=e;t instanceof Xi?(To(this,to,"m",ho).call(this,t),this.collapse()):t==this&&this.toggle()},bo=function(e){const{target:t}=e,{expanded:n}=this;t instanceof Xi&&(n||this.expand(),To(this,to,"m",uo).call(this,t))},go=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),To(this,to,"m",uo).call(this,null))},wo=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:i,selectedIndex:o,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==s){const e=To(this,to,"m",co).call(this,s)??To(this,to,"m",ro).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=To(this,to,"m",co).call(this,i)??To(this,to,"m",ro).call(this);e&&To(this,to,"m",ho).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==s){const e=To(this,to,"m",lo).call(this,s)??To(this,to,"m",ao).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=To(this,to,"m",lo).call(this,i)??To(this,to,"m",ao).call(this);e&&To(this,to,"m",ho).call(this,e)}e.stopPropagation();break;case"Home":{const t=To(this,to,"m",ro).call(this);null!==t&&(r?t.focus({preventScroll:!0}):To(this,to,"m",ho).call(this,t)),e.stopPropagation();break}case"End":{const t=To(this,to,"m",ao).call(this);null!==t&&(r?t.focus({preventScroll:!0}):To(this,to,"m",ho).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==s&&To(this,to,"m",ho).call(this,s);else{const e=n.item(o);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),o=Array.from(n.values()),r=o.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=o.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>s)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},vo=function(e){const{target:t}=e;t instanceof Xi&&t.focus({preventScroll:!0})},yo=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof Xi));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=To(this,to,"m",ro).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&To(this,to,"m",po).call(this,e)}},(Eo=J("template")).content.append(J("div",{attributes:{part:"content"},children:[J("label",{attributes:{part:"label"}}),J("output",{attributes:{part:"value"}})]}),J("div",{attributes:{part:"options"},children:[J("slot"),J("hr",{attributes:{part:"separator"}}),J("span",{attributes:{part:"description"}})]})),xo([V({type:String})],So.prototype,"name",void 0),xo([V({type:String,observed:!0})],So.prototype,"label",void 0),xo([V({type:String,observed:!0})],So.prototype,"value",void 0),xo([V({type:String,defaultValue:"select",observed:!0})],So.prototype,"type",void 0),xo([V({type:Boolean})],So.prototype,"expanded",void 0),So=xo([U({name:"e-select"})],So);var Po,Co,Lo,Ro,No,Io,Ao,Mo,Oo,jo,Wo,Do,Fo,_o,Ho=So,Bo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},qo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ko=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let $o=class extends _t{constructor(){super(),Po.add(this),Co.set(this,void 0),Lo.set(this,void 0),qo(this,Co,null,"f"),qo(this,Lo,null,"f");const e=this.attachShadow({mode:"open"});e.append(Do.content.cloneNode(!0)),e.addEventListener("slotchange",Ko(this,Po,"m",Wo).bind(this))}get menubutton(){return Ko(this,Co,"f")}get select(){return Ko(this,Lo,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.firstItem?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&Ko(this,Po,"m",Ro).call(this);break}}}};Co=new WeakMap,Lo=new WeakMap,Po=new WeakSet,Ro=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},No=function(e){const t=Ko(this,Po,"m",Oo).bind(this);Fo.set(e,t),e.addEventListener("keydown",t)},Io=function(e){const t=Fo.get(e);t&&e.removeEventListener("keydown",t)},Ao=function(e){const t=Ko(this,Po,"m",jo).bind(this);_o.set(e,t),e.addEventListener("trigger",t)},Mo=function(e){const t=_o.get(e);t&&e.removeEventListener("trigger",t)},Oo=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},jo=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},Wo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=Ko(this,Co,"f");null!==e&&(Ko(this,Po,"m",Mo).call(this,e),Ko(this,Po,"m",Io).call(this,e));const n=t.assignedElements()[0];e=n instanceof Ki?n:null,null!==e&&(Ko(this,Po,"m",Ao).call(this,e),Ko(this,Po,"m",No).call(this,e)),qo(this,Co,e,"f");break}case"select":{let e=Ko(this,Lo,"f");null!==e&&Ko(this,Po,"m",Io).call(this,e);const n=t.assignedElements()[0];e=n instanceof Ho?n:null,null!==e&&Ko(this,Po,"m",No).call(this,e),qo(this,Lo,e,"f");break}}},(Do=J("template")).content.append(J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"}}),J("slot",{attributes:{name:"select"}}),J("slot",{attributes:{name:"menubutton"}})]})),Fo=new WeakMap,_o=new WeakMap,Bo([V({type:Boolean})],$o.prototype,"active",void 0),Bo([V({type:String,observed:!0})],$o.prototype,"value",void 0),Bo([V({type:String})],$o.prototype,"name",void 0),Bo([V({type:String,observed:!0})],$o.prototype,"label",void 0),Bo([V({type:String})],$o.prototype,"type",void 0),$o=Bo([U({name:"e-toolbaritem"})],$o);var Vo,Uo=$o,zo=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),J("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:r?[r]:a?[a]:void 0,listeners:{trigger:o}})}),{prototype:Uo.prototype,button:e=>new zo({...e,type:"button"}),checkbox:e=>new zo({...e,type:"checkbox"}),radio:e=>new zo({...e,type:"radio"}),menubutton:e=>new zo({...e,type:"menubutton"}),select:e=>new zo({...e,type:"select"})}),Xo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Yo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Vo.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(Vo=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),J("slot")),Xo([V({type:String})],Yo.prototype,"name",void 0),Xo([V({type:String,observed:!0})],Yo.prototype,"label",void 0),Xo([V({type:Boolean,observed:!0})],Yo.prototype,"disabled",void 0),Yo=Xo([U({name:"e-toolbaritemgroup"})],Yo);var Jo,Go,Zo,Qo,er,tr,nr,sr,ir,or,rr,ar,cr,lr,hr,dr,ur=Yo,pr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},fr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},mr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let br=class extends HTMLElement{constructor(){super(),Jo.add(this),Go.set(this,void 0),Zo.set(this,void 0),fr(this,Zo,-1,"f"),fr(this,Go,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,mr(this,Jo,"m",Qo).bind(this)),"f"),this.attachShadow({mode:"open"}).append(dr.content.cloneNode(!0)),this.addEventListener("change",mr(this,Jo,"m",or).bind(this)),this.addEventListener("click",mr(this,Jo,"m",rr).bind(this)),this.addEventListener("focusin",mr(this,Jo,"m",ar).bind(this)),this.addEventListener("focusout",mr(this,Jo,"m",cr).bind(this)),this.addEventListener("keydown",mr(this,Jo,"m",lr).bind(this)),this.addEventListener("trigger",mr(this,Jo,"m",hr).bind(this))}get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}get activeIndex(){return mr(this,Zo,"f")}};Go=new WeakMap,Zo=new WeakMap,Jo=new WeakSet,Qo=function(e){return e instanceof Uo?NodeFilter.FILTER_ACCEPT:e instanceof ur?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},er=function(){const e=mr(this,Go,"f");return e.currentNode=e.root,e.firstChild()},tr=function(){const e=mr(this,Go,"f");return e.currentNode=e.root,e.lastChild()},nr=function(e){const t=mr(this,Go,"f");return t.currentNode=e,t.previousSibling()},sr=function(e){const t=mr(this,Go,"f");return t.currentNode=e,t.nextSibling()},ir=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,fr(this,Zo,this.items().indexOf(e),"f")):fr(this,Zo,-1,"f")},or=function(e){const{target:t}=e;if(t instanceof Ho){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},rr=function(e){const{target:t}=e;if(t instanceof Uo){const{type:e}=t;t.trigger()}},ar=function(e){const{target:t}=e,n=this.items().find((e=>e.contains(t)))??null;mr(this,Jo,"m",ir).call(this,n)},cr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&mr(this,Jo,"m",ir).call(this,null)},lr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.firstItem?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=mr(this,Jo,"m",nr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=mr(this,Jo,"m",er).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=mr(this,Jo,"m",sr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=mr(this,Jo,"m",tr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=mr(this,Jo,"m",er).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=mr(this,Jo,"m",tr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},hr=function(e){const{target:t}=e;if(t instanceof Uo){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}},(dr=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),J("slot")),pr([V({type:String})],br.prototype,"name",void 0),pr([V({type:String})],br.prototype,"orientation",void 0),br=pr([U({name:"e-toolbar"})],br);var gr=br,wr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let vr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),J("slot"))}};wr([V({type:String})],vr.prototype,"name",void 0),vr=wr([U({name:"e-tabpanel"})],vr);var yr,Er=vr,xr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Tr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},kr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Sr=class extends HTMLElement{constructor(){super(),yr.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),J("slot")),Tr(this,yr,null,"f")}get panel(){return kr(this,yr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==kr(this,yr,"f")&&e instanceof Er&&Tr(this,yr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Er&&Tr(this,yr,e,"f"),e&&(e.hidden=!this.active)}}};yr=new WeakMap,xr([V({type:String})],Sr.prototype,"name",void 0),xr([V({type:Boolean})],Sr.prototype,"disabled",void 0),xr([V({type:Boolean,observed:!0})],Sr.prototype,"active",void 0),xr([V({type:String,observed:!0})],Sr.prototype,"controls",void 0),Sr=xr([U({name:"e-tab"})],Sr);var Pr,Cr=Sr,Lr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Rr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Nr=class extends HTMLElement{constructor(){super(),Pr.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),J("slot")),this.tabs=[],Lr(this,Pr,1,"f")}get activeIndex(){return Rr(this,Pr,"f")}get activeTab(){return this.tabs[Rr(this,Pr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof Cr));this.tabs=t,Lr(this,Pr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof Cr&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Lr(this,Pr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Lr(this,Pr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Pr=new WeakMap,Nr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-tablist"})],Nr);var Ir,Ar,Mr,Or,jr,Wr,Dr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},_r=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Hr=class extends HTMLElement{constructor(){super(),Ir.add(this),Ar.set(this,void 0),Mr.set(this,void 0),Or.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Wr.content.cloneNode(!0)),Fr(this,Ar,null,"f"),Fr(this,Or,null,"f"),Fr(this,Mr,null,"f"),e.addEventListener("slotchange",_r(this,Ir,"m",jr).bind(this))}get badge(){return _r(this,Ar,"f")}get toolbar(){return _r(this,Mr,"f")}get menu(){return _r(this,Or,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};Ar=new WeakMap,Mr=new WeakMap,Or=new WeakMap,Ir=new WeakSet,jr=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Fr(this,Mr,e instanceof gr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Fr(this,Ar,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Fr(this,Or,e instanceof Vn?e:null,"f");break}}},(Wr=J("template")).content.append(J("slot")),Dr([V({type:String})],Hr.prototype,"name",void 0),Dr([V({type:Number})],Hr.prototype,"posinset",void 0),Dr([V({type:String,observed:!0})],Hr.prototype,"label",void 0),Dr([V({type:Boolean})],Hr.prototype,"droptarget",void 0),Dr([V({type:Boolean})],Hr.prototype,"active",void 0),Dr([V({type:Boolean,observed:!0})],Hr.prototype,"selected",void 0),Hr=Dr([U({name:"e-listitem"})],Hr);var Br,qr,Kr,$r=Hr;let Vr=class extends HTMLElement{constructor(){super(),Br.add(this);const e=this.attachShadow({mode:"open"});e.append(Kr.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Br,"m",qr).bind(this))}};Br=new WeakSet,qr=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $r)).forEach(((e,t)=>{e.posinset=t}))},(Kr=J("template")).content.append(J("slot")),Vr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([U({name:"e-listitemgroup"})],Vr);var Ur,zr,Xr,Yr,Jr,Gr,Zr,Qr,ea,ta,na,sa,ia,oa,ra,aa,ca,la,ha,da,ua,pa,fa,ma,ba,ga,wa,va,ya,Ea,xa,Ta,ka=Vr,Sa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Pa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ca=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let La=class extends HTMLElement{constructor(){super(),Ur.add(this),zr.set(this,void 0),Xr.set(this,void 0),Yr.set(this,void 0),Jr.set(this,void 0),Gr.set(this,void 0),Ca(this,Gr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Pa(this,Ur,"m",Zr).bind(this)),"f"),Ca(this,Xr,-1,"f"),Ca(this,zr,-1,"f"),Ca(this,Yr,!1,"f"),Ca(this,Jr,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Ta.content.cloneNode(!0)),this.addEventListener("contextmenu",Pa(this,Ur,"m",ha).bind(this)),this.addEventListener("click",Pa(this,Ur,"m",da).bind(this)),this.addEventListener("dragend",Pa(this,Ur,"m",ua).bind(this)),this.addEventListener("dragenter",Pa(this,Ur,"m",pa).bind(this)),this.addEventListener("dragover",Pa(this,Ur,"m",fa).bind(this)),this.addEventListener("dragleave",Pa(this,Ur,"m",ma).bind(this)),this.addEventListener("dragstart",Pa(this,Ur,"m",ba).bind(this)),this.addEventListener("drop",Pa(this,Ur,"m",ga).bind(this)),this.addEventListener("focus",Pa(this,Ur,"m",va).bind(this)),this.addEventListener("focusin",Pa(this,Ur,"m",ya).bind(this)),this.addEventListener("keydown",Pa(this,Ur,"m",wa).bind(this)),this.addEventListener("select",Pa(this,Ur,"m",Ea).bind(this)),e.addEventListener("slotchange",Pa(this,Ur,"m",xa).bind(this))}get dropTargetItem(){return this.items[Pa(this,zr,"f")]??null}get activeIndex(){return Pa(this,Xr,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){Ca(this,Yr,!0,"f")}endSelection(){Ca(this,Yr,!1,"f"),Pa(this,Jr,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Ca(this,Jr,!1,"f"))}selectedItems(){const e=[],t=Pa(this,Gr,"f");t.currentNode=t.root;let n=Pa(this,Ur,"m",ra).call(this);for(;null!==n;)n.selected&&e.push(n),n=Pa(this,Ur,"m",la).call(this,n);return e}};zr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Jr=new WeakMap,Gr=new WeakMap,Ur=new WeakSet,Zr=function(e){return e instanceof $r?NodeFilter.FILTER_ACCEPT:e instanceof ka?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Qr=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},ea=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},ta=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},na=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},sa=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},ia=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,Ca(this,Xr,Array.from(n).indexOf(e),"f"))},oa=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,Ca(this,zr,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,Ca(this,zr,-1,"f"))},ra=function(){const e=Pa(this,Gr,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},aa=function(){const e=Pa(this,Gr,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},ca=function(e){const t=Pa(this,Gr,"f");return t.currentNode=e,t.previousNode()},la=function(e){const t=Pa(this,Gr,"f");return t.currentNode=e,t.nextNode()},ha=function(e){const{target:t}=e;t instanceof $r&&(this.selectedItems().includes(t)||Pa(this,Ur,"m",ea).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},da=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof $r)if(s||n){if(n)t.selected?Pa(this,Ur,"m",na).call(this,t):Pa(this,Ur,"m",ta).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=Pa(this,Ur,"m",Qr).call(this,n,t);e&&(i.includes(t)?Pa(this,Ur,"m",na).call(this,...e):Pa(this,Ur,"m",ta).call(this,...e))}else Pa(this,Ur,"m",ea).call(this,t);e.stopPropagation()}}else Pa(this,Ur,"m",ea).call(this,t)},ua=function(){Pa(this,Ur,"m",oa).call(this,null)},pa=function(e){const{target:t}=e;t instanceof $r&&Pa(this,Ur,"m",oa).call(this,t),e.preventDefault()},fa=function(e){e.preventDefault()},ma=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||Pa(this,Ur,"m",oa).call(this,null)},ba=function(e){const{target:t}=e;t instanceof $r&&(this.selectedItems().includes(t)||Pa(this,Ur,"m",ea).call(this,t))},ga=function(){Pa(this,Ur,"m",oa).call(this,null)},wa=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Pa(this,Gr,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Pa(this,Ur,"m",Qr).call(this,n,s);i&&Pa(this,Ur,"m",ea).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Pa(this,Ur,"m",ca).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Pa(this,Ur,"m",na).call(this,t):Pa(this,Ur,"m",ta).call(this,t))}}else{const e=Pa(this,Ur,"m",ra).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Pa(this,Ur,"m",la).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Pa(this,Ur,"m",na).call(this,t):Pa(this,Ur,"m",ta).call(this,t))}}else{const e=Pa(this,Ur,"m",aa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Pa(this,Ur,"m",ra).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Pa(this,Ur,"m",aa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Pa(this,Ur,"m",ea).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Pa(this,Ur,"m",sa).call(this),Pa(this,Ur,"m",ia).call(this,null),this.focus(),e.stopPropagation()}},va=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},ya=function(e){const{target:t}=e;t instanceof $r&&Pa(this,Ur,"m",ia).call(this,t)},Ea=function(){Pa(this,Yr,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},xa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $r)).forEach(((e,t)=>{e.posinset=t}))},(Ta=J("template")).content.append(J("style",{children:["\n\n                    "]}),J("slot",{children:[J("slot")]})),Sa([V({type:String})],La.prototype,"name",void 0),Sa([V({type:Boolean})],La.prototype,"droptarget",void 0),La=Sa([U({name:"e-list"})],La);var Ra,Na=La,Ia=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Aa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ma=class extends HTMLElement{constructor(){super(),Ra.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),J("div",{attributes:{part:"container"},children:[J("slot",{children:["&nbsp;"]})]})),this.references=[],Aa(this,Ra,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ra,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return Aa(e,Ra,this,"f"),e}};Ra=new WeakMap,Ia([V({type:Boolean})],Ma.prototype,"selected",void 0),Ia([V({type:Boolean})],Ma.prototype,"dragovered",void 0),Ia([V({type:Boolean})],Ma.prototype,"dragged",void 0),Ia([V({type:Boolean})],Ma.prototype,"disabled",void 0),Ma=Ia([U({name:"e-draggable"})],Ma);var Oa,ja,Wa=Ma,Da=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},_a=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ha=class extends HTMLElement{constructor(){super(),Oa.set(this,void 0),ja.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),J("div",{attributes:{part:"container"},children:[J("slot")]})),Fa(this,Oa,[],"f"),Fa(this,ja,[],"f")}get draggables(){return _a(this,Oa,"f")}get selectedDraggables(){return _a(this,ja,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Fa(this,ja,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof Wa));Fa(this,Oa,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,o=s>0?this.draggables.length-1:0,r=s>0?n:e,a=s>0?e:n;for(let e=i;e!==o+s;e+=s)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};Oa=new WeakMap,ja=new WeakMap,Da([V({type:Boolean})],Ha.prototype,"disabled",void 0),Ha=Da([U({name:"e-dragzone"})],Ha);var Ba=Ha,qa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ka=class extends Ba{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(J("div",{attributes:{part:"appendarea"},children:[J("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof Ba){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof $a&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const o=this.shadowRoot?.querySelector("slot");return o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};qa([V({type:String})],Ka.prototype,"name",void 0),qa([V({type:String})],Ka.prototype,"dragovered",void 0),qa([V({type:String,observed:!0})],Ka.prototype,"placeholder",void 0),qa([V({type:Boolean})],Ka.prototype,"multiple",void 0),Ka=qa([U({name:"e-dropzone"})],Ka);var $a=Ka,Va=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ua=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),J("div",{attributes:{part:"header"},children:[J("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),J("hr",{attributes:{part:"separator"}}),J("div",{attributes:{part:"body"},children:[J("slot")]}),J("hr",{attributes:{part:"separator"}}),J("div",{attributes:{part:"actions"},children:[J("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),J("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),J("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};Va([V({type:String})],Ua.prototype,"type",void 0),Ua=Va([U({name:"e-dialog"})],Ua);var za,Xa,Ya,Ja,Ga,Za,Qa,ec=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},tc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},nc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let sc=class extends HTMLElement{constructor(){super(),za.add(this),Xa.set(this,void 0),Ya.set(this,void 0),this.attachShadow({mode:"open"}).append(Qa.content.cloneNode(!0)),tc(this,Xa,null,"f"),tc(this,Ya,!1,"f"),this.addEventListener("pointerdown",nc(this,za,"m",Ga).bind(this)),this.addEventListener("pointermove",nc(this,za,"m",Za).bind(this)),this.addEventListener("pointerup",nc(this,za,"m",Ja).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;tc(this,Xa,document.getElementById(e),"f");break}}}};Xa=new WeakMap,Ya=new WeakMap,za=new WeakSet,Ja=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),tc(this,Ya,!1,"f")},Ga=function(e){const{pointerId:t}=e,{controls:n}=this;tc(this,Xa,document.getElementById(n),"f"),this.setPointerCapture(t),tc(this,Ya,!0,"f")},Za=function(e){if(nc(this,Ya,"f")){const t=nc(this,Xa,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:o,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),p=Math.max(c,Math.min(Math.trunc(u+s),l-o)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+i),d-r));t.style.setProperty("left",`${p}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Qa=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),ec([V({type:String,observed:!0})],sc.prototype,"controls",void 0),sc=ec([U({name:"e-handle"})],sc);var ic,oc,rc,ac,cc,lc,hc,dc,uc,pc,fc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},mc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},bc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let gc=class extends HTMLElement{constructor(){super(),ic.add(this),oc.set(this,void 0),rc.set(this,void 0),ac.set(this,void 0),cc.set(this,void 0),this.attachShadow({mode:"open"}).append(pc.content.cloneNode(!0)),mc(this,oc,null,"f"),mc(this,ac,null,"f"),mc(this,cc,0,"f"),mc(this,rc,!1,"f"),this.addEventListener("pointerdown",bc(this,ic,"m",hc).bind(this)),this.addEventListener("pointermove",bc(this,ic,"m",dc).bind(this)),this.addEventListener("pointerup",bc(this,ic,"m",lc).bind(this))}get target(){return bc(this,oc,"f")}};oc=new WeakMap,rc=new WeakMap,ac=new WeakMap,cc=new WeakMap,ic=new WeakSet,lc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),mc(this,rc,!1,"f")},hc=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();mc(this,oc,s.getElementById(n),"f"),this.setPointerCapture(t),mc(this,rc,!0,"f")},dc=function(e){bc(this,rc,"f")&&(null==bc(this,ac,"f")?(mc(this,cc,e.movementY,"f"),mc(this,ac,bc(this,ic,"m",uc).bind(this),"f"),requestAnimationFrame(bc(this,ac,"f"))):mc(this,cc,bc(this,cc,"f")+e.movementY,"f"))},uc=function(){const e=bc(this,oc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=bc(this,cc,"f"),i=parseFloat(t.getPropertyValue("height")),o=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${o}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}mc(this,ac,null,"f")},(pc=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),fc([V({type:String})],gc.prototype,"controls",void 0),fc([V({type:String,defaultValue:"top"})],gc.prototype,"growdir",void 0),gc=fc([U({name:"e-hsash"})],gc);var wc,vc,yc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ec=class extends HTMLElement{constructor(){super(...arguments),wc.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,wc,"m",vc).call(this,e)}};wc=new WeakSet,vc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},yc([V({type:String})],Ec.prototype,"src",void 0),Ec=yc([U({name:"e-import"})],Ec);var xc,Tc,kc,Sc,Pc,Cc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Lc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Rc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Nc=class extends HTMLElement{constructor(){super(),xc.add(this),Tc.set(this,void 0),this.attachShadow({mode:"open"}),Lc(this,xc,"m",kc).call(this),Rc(this,Tc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":Lc(this,xc,"m",kc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Rc(this,Tc,e,"f")}get promise(){return Lc(this,Tc,"f")}};Tc=new WeakMap,xc=new WeakSet,kc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Pc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Sc.content.cloneNode(!0))}},(()=>{const e=J("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Sc=J("template")).content.append(t,J("div",{attributes:{part:"bar"},children:[J("div",{attributes:{part:"slider"},children:[J("div",{attributes:{part:"cursor"}})]})]})),(Pc=J("template")).content.append(n,J("div",{attributes:{part:"circle"}}))})(),Cc([V({type:String,defaultValue:"bar",observed:!0})],Nc.prototype,"type",void 0),Nc=Cc([U({name:"e-loader"})],Nc);var Ic,Ac,Mc,Oc,jc,Wc,Dc,Fc,_c,Hc,Bc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},qc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Kc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let $c=class extends HTMLElement{constructor(){super(),Ic.add(this),Ac.set(this,void 0),Mc.set(this,void 0),Oc.set(this,void 0),jc.set(this,void 0),this.attachShadow({mode:"open"}).append(Hc.content.cloneNode(!0)),qc(this,Ac,null,"f"),qc(this,Oc,null,"f"),qc(this,jc,0,"f"),qc(this,Mc,!1,"f"),this.addEventListener("pointerdown",Kc(this,Ic,"m",Dc).bind(this)),this.addEventListener("pointermove",Kc(this,Ic,"m",Fc).bind(this)),this.addEventListener("pointerup",Kc(this,Ic,"m",Wc).bind(this))}get target(){return Kc(this,Ac,"f")}setWidth(e){const t=Kc(this,Ac,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};Ac=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,jc=new WeakMap,Ic=new WeakSet,Wc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),qc(this,Mc,!1,"f")},Dc=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();qc(this,Ac,s.getElementById(n),"f"),this.setPointerCapture(t),qc(this,Mc,!0,"f")},Fc=function(e){Kc(this,Mc,"f")&&(null==Kc(this,Oc,"f")&&(qc(this,Oc,Kc(this,Ic,"m",_c).bind(this),"f"),requestAnimationFrame(Kc(this,Oc,"f"))),qc(this,jc,Kc(this,jc,"f")+e.movementX,"f"))},_c=function(){const e=Kc(this,Ac,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Kc(this,jc,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}qc(this,jc,0,"f"),qc(this,Oc,null,"f")},(Hc=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Bc([V({type:String,observed:!0})],$c.prototype,"controls",void 0),Bc([V({type:String,defaultValue:"right"})],$c.prototype,"growdir",void 0),Bc([V({type:Boolean})],$c.prototype,"max",void 0),$c=Bc([U({name:"e-wsash"})],$c);var Vc,Uc,zc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,Uc=new WeakMap,Vc=new WeakSet;var Xc,Yc,Jc,Gc,Zc,Qc,el,tl,nl,sl,il,ol,rl,al,cl,ll,hl,dl,ul,pl,fl,ml,bl,gl,wl,vl,yl,El,xl,Tl,kl,Sl,Pl,Cl,Ll,Rl,Nl,Il,Al,Ml,Ol,jl,Wl,Dl,Fl,_l,Hl,Bl,ql,Kl,$l,Vl,Ul,zl,Xl,Yl,Jl,Gl,Zl,Ql,eh,th,nh,sh,ih,oh,rh,ah,ch,lh,hh,dh,uh,ph,fh,mh,bh,gh,wh,vh,yh,Eh,xh,Th,kh,Sh,Ph,Ch,Lh,Rh,Nh,Ih,Ah,Mh,Oh,jh,Wh,Dh,Fh,_h,Hh,Bh,qh,Kh,$h,Vh,Uh,zh,Xh,Yh,Jh,Gh,Zh,Qh,ed,td,nd,sd,id,od,rd,ad,cd,ld,hd,dd,ud,pd,fd,md,bd,gd,wd,vd=(new(z({name:"separator"})((Yc=class extends S{constructor(){super(),Xc.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Xc,J("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Xc,"f").cloneNode(!0)}},Xc=new WeakMap,Yc))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),yd=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ed=new(z({name:"menuitem"})((rl=class extends S{constructor(){super(),Jc.add(this),Gc.set(this,void 0),Zc.set(this,void 0),Qc.set(this,void 0),el.set(this,void 0),tl.set(this,void 0),nl.set(this,void 0),vd(this,Gc,J("span",{attributes:{class:"icon"}}),"f"),vd(this,Zc,J("span",{attributes:{class:"arrow"}}),"f"),vd(this,Qc,J("span",{attributes:{class:"keyshortcuts"}}),"f"),vd(this,el,J("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[yd(this,Gc,"f").cloneNode(!0),J("span",{attributes:{class:"label"}})]}),"f"),vd(this,tl,["checkbox","radio","menu","submenu","button"],"f"),vd(this,nl,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(e){const t=yd(this,el,"f").cloneNode(!0);if(t.addEventListener("click",yd(this,Jc,"m",il).bind(this)),void 0!==e){const{keyshortcut:n,checked:s,type:i,label:o,name:r,value:a,disabled:c}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==s&&this.setChecked(t,s),void 0!==i&&this.setType(t,i),void 0!==o&&this.setLabel(t,o),void 0!==r&&this.setName(t,r),void 0!==a&&this.setValue(t,a),void 0!==c&&this.setDisabled(t,c)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",n.toString())}getMenu(e){return e.querySelector(":scope > .menu")}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){let n=e.querySelector(":scope > .keyshortcuts");if(null!==t){if(e.setAttribute("aria-keyshortcuts",t),!n){const t=yd(this,Jc,"m",sl).call(this,e);n=yd(this,Qc,"f").cloneNode(!0),t.after(n)}n.textContent=t}else e.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(e){return yd(this,Jc,"m",sl).call(this,e).textContent??""}setLabel(e,t){yd(this,Jc,"m",sl).call(this,e).textContent=t}getType(e){const t=yd(this,tl,"f"),{classList:n}=e;for(let e of t)if(n.contains(`menuitem-${e}`))return e;return null}setType(e,t){const n=yd(this,nl,"f"),s=yd(this,Gc,"f"),i=yd(this,Zc,"f"),{role:o,hasIcon:r,hasArrow:a}=n[t],c=this.getType(e),{classList:l}=e;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${t}`),e.setAttribute("role",o);const h=yd(this,Jc,"m",sl).call(this,e),d=e.querySelector(":scope > .icon"),u=e.querySelector(":scope > .arrow");r?!d&&h&&h.before(s.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(i.cloneNode(!0)):u&&u.remove()}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getChecked(e){return JSON.parse(e.getAttribute("aria-checked")??(!1).toString())}setChecked(e,t){e.setAttribute("aria-checked",t.toString())}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&yd(this,Jc,"m",ol).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),yd(this,Jc,"m",ol).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}},Gc=new WeakMap,Zc=new WeakMap,Qc=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,Jc=new WeakSet,sl=function(e){const t=e.querySelector(":scope > .label");if(!t)throw new Error("No label found.");return t},il=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".menuitem");if(s==n)switch(this.getType(s)){case"checkbox":this.setChecked(s,!this.getChecked(s));break;case"radio":this.setChecked(s,!0);break;case"menu":case"submenu":this.toggle(s)}},ol=function(e){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:o,right:r}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(e)){const e=r+a-d,t=s+c-u;n.setProperty("left",`${e>0?h+o-a:h+o}px`),n.setProperty("top",`${t>0?l+s-c:l+i}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),p=r+a-d,f=s+c-u;n.setProperty("left",(p>0?o-a-h:r-h)+"px");const m=window.getComputedStyle(t),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);n.setProperty("top",`${f>0?i-c-e+v:s-e-w}px`)}}}},rl))),xd=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Td=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},kd=(new(z({name:"menubar"})((kl=class extends S{constructor(){super(),al.add(this),cl.set(this,void 0),ll.set(this,void 0),xd(this,cl,J("div",{attributes:{class:"menubar",role:"menubar",tabindex:0}}),"f"),xd(this,ll,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Td(this,al,"m",hl).bind(this)),"f")}create(){const e=Td(this,cl,"f").cloneNode(!0);return e.addEventListener("click",Td(this,al,"m",xl).bind(this)),e.addEventListener("focusin",Td(this,al,"m",vl).bind(this)),e.addEventListener("focusout",Td(this,al,"m",yl).bind(this)),e.addEventListener("mouseover",Td(this,al,"m",El).bind(this)),e.addEventListener("keydown",Td(this,al,"m",Tl).bind(this)),e}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}},cl=new WeakMap,ll=new WeakMap,al=new WeakSet,hl=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Ed.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},dl=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},ul=function(e){const t=Td(this,ll,"f");return t.currentNode=e,t.firstChild()},pl=function(e){const t=Td(this,ll,"f");return t.currentNode=e,t.lastChild()},fl=function(e){const t=Td(this,ll,"f");return t.currentNode=e,t.previousSibling()},ml=function(e){const t=Td(this,ll,"f");return t.currentNode=e,t.nextSibling()},bl=function(e){const t=Ed.getMenu(e);if(t){const e=Td(this,ll,"f");return e.currentNode=t,e.firstChild()}return null},gl=function(e,t){return t.closest(":is(.menubar, .menu)")==e},wl=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},vl=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&this.getExpanded(s)){const e=Td(this,al,"m",wl).call(this,s,t);e&&Ed.expand(e)}},yl=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&!t.contains(s)){const e=Td(this,al,"m",wl).call(this,i,t);e&&Ed.collapse(e)}!i.contains(s)&&this.setExpanded(i,!1)},El=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=Td(this,al,"m",dl).call(this,s),n=this.getExpanded(s);if(Td(this,al,"m",gl).call(this,s,t)&&t!==e&&n){const e=Ed.getMenu(t);e?e.focus({preventScroll:!0}):t.focus({preventScroll:!0})}}},xl=function(e){const{target:t,currentTarget:n}=e,s=n,i=Td(this,al,"m",dl).call(this,s),o=this.getExpanded(s);if(t instanceof HTMLElement&&t.classList.contains("menuitem")&&Td(this,al,"m",gl).call(this,s,t)){const e=!o;this.setExpanded(s,e),e?(null===i||Ed.getExpanded(i)||Ed.expand(i),Ed.getMenu(t)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}},Tl=function(e){const{key:t,currentTarget:n}=e,s=n;let i=Td(this,al,"m",dl).call(this,s);const o=this.getExpanded(s);switch(t){case"ArrowLeft":(i?Td(this,al,"m",fl).call(this,i)??Td(this,al,"m",pl).call(this,s):Td(this,al,"m",ul).call(this,s))?.focus({preventScroll:!0}),i=Td(this,al,"m",dl).call(this,s),o&&i&&Td(this,al,"m",bl).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?Td(this,al,"m",ml).call(this,i)??Td(this,al,"m",ul).call(this,s):Td(this,al,"m",pl).call(this,s))?.focus({preventScroll:!0}),i=Td(this,al,"m",dl).call(this,s),o&&i&&Td(this,al,"m",bl).call(this,i)?.focus({preventScroll:!0});break;case"Enter":case" ":i&&(this.setExpanded(s,!o),Td(this,al,"m",bl).call(this,i)?.focus({preventScroll:!0}),e.preventDefault());break;case"Escape":o?(this.setExpanded(s,!1),i&&(Ed.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},kl))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Sd=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Pd=new(z({name:"menu"})((Ul=class extends S{constructor(){super(),Sl.add(this),Pl.set(this,void 0),Cl.set(this,void 0),Ll.set(this,void 0),kd(this,Pl,J("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),kd(this,Cl,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Sd(this,Sl,"m",Rl).bind(this)),"f"),kd(this,Ll,new WeakMap,"f")}create(e){const t=Sd(this,Pl,"f").cloneNode(!0);if(t.addEventListener("click",Sd(this,Sl,"m",Bl).bind(this)),t.addEventListener("mouseover",Sd(this,Sl,"m",Vl).bind(this)),t.addEventListener("mouseout",Sd(this,Sl,"m",$l).bind(this)),t.addEventListener("focusout",Sd(this,Sl,"m",ql).bind(this)),t.addEventListener("keydown",Sd(this,Sl,"m",Kl).bind(this)),void 0!==e){const{contextual:n}=e;void 0!==n&&this.setContextual(t,n)}return t}positionContextual(e,t,n){const{style:s}=e,{width:i,height:o}=e.getBoundingClientRect(),{scrollX:r,scrollY:a}=window,c=t+r,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+i-h,p=l+o-d;s.setProperty("left",`${u>0?c-i:c}px`),s.setProperty("top",`${p>0?l-o:l}px`)}getContextual(e){const{classList:t}=e;return t.contains("menu-contextual")}setContextual(e,t){const{classList:n}=e;t?n.add("menu-contextual"):n.remove("menu-contextual")}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},Pl=new WeakMap,Cl=new WeakMap,Ll=new WeakMap,Sl=new WeakSet,Rl=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Ed.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Nl=function(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>Ed.collapse(e)))},Il=function(e,t){return t.closest(".menu")==e},Al=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Ml=function(e){const t=Sd(this,Cl,"f");return t.currentNode=e,t.firstChild()},Ol=function(e){const t=Sd(this,Cl,"f");return t.currentNode=e,t.lastChild()},jl=function(e){const t=Sd(this,Cl,"f");return t.currentNode=e,t.previousSibling()},Wl=function(e){const t=Sd(this,Cl,"f");return t.currentNode=e,t.nextSibling()},Dl=function(e){const t=Ed.getMenu(e);if(t){const e=Sd(this,Cl,"f");return e.currentNode=t,e.firstChild()}return null},Fl=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},_l=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Sd(this,Ll,"f").set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Sd(this,Ll,"f").delete(e)}))},Hl=function(e){const t=Sd(this,Ll,"f").get(e);void 0!==t&&(Sd(this,Ll,"f").delete(e),t.clear())},Bl=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem"))if(this.getContextual(s))try{s.remove()}catch(e){}else if(Sd(this,Sl,"m",Il).call(this,s,t)){const e=Ed.getType(t),n=Ed.getName(t),i=Ed.getValue(t);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${n}]`).forEach((e=>{Ed.setChecked(e,Ed.getValue(e)==i)}))}},ql=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(!i.contains(s))if(this.getContextual(i))try{i.remove()}catch(e){}else{const e=Sd(this,Sl,"m",Al).call(this,i,t);e&&Ed.collapse(e)}},Kl=function(e){const{currentTarget:t,key:n}=e,s=t,i=Sd(this,Sl,"m",Fl).call(this,s);switch(n){case"ArrowUp":(i?Sd(this,Sl,"m",jl).call(this,i)??Sd(this,Sl,"m",Ol).call(this,s):Sd(this,Sl,"m",Ml).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(i?Sd(this,Sl,"m",Wl).call(this,i)??Sd(this,Sl,"m",Ml).call(this,s):Sd(this,Sl,"m",Ol).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Sd(this,Sl,"m",Ml).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Sd(this,Sl,"m",Ol).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(i){switch(Ed.getType(i)){case"submenu":Ed.expand(i),Sd(this,Sl,"m",Dl).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s||(Ed.collapse(i),i.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(i)switch(Ed.getType(i)){case"submenu":Ed.getExpanded(i)||(Ed.expand(i),Sd(this,Sl,"m",Dl).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation())}}},$l=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Sd(this,Sl,"m",Al).call(this,i,t);if(null!==n&&("submenu"!=Ed.getType(n)||Ed.getExpanded(n)||Sd(this,Sl,"m",Hl).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const t=Sd(this,Sl,"m",Fl).call(this,i);null!==t&&"submenu"==Ed.getType(t)&&Ed.getExpanded(t)&&(Sd(this,Sl,"m",Hl).call(this,t),Sd(this,Sl,"m",_l).call(this,t,400).then((()=>{Ed.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:o}=e,{left:r,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(r>n||a<n||c>o||l<o),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):i.focus({preventScroll:!0})),h||i.focus({preventScroll:!0})}}},Vl=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Sd(this,Sl,"m",Al).call(this,s,t);if(null!==n&&("submenu"==Ed.getType(n)&&Ed.getExpanded(n)&&Sd(this,Sl,"m",Hl).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const e=Sd(this,Sl,"m",Fl).call(this,s);null!==e&&"submenu"==Ed.getType(e)&&Ed.getExpanded(e)&&!e.contains(t)&&(Sd(this,Sl,"m",Hl).call(this,e),Sd(this,Sl,"m",_l).call(this,e,400).then((()=>{Ed.collapse(e)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==Ed.getType(n)&&(Ed.getExpanded(n)?Ed.getMenu(n)?.focus({preventScroll:!0}):(Sd(this,Sl,"m",Hl).call(this,n),Sd(this,Sl,"m",_l).call(this,n,200).then((()=>{const e=Sd(this,Sl,"m",Fl).call(this,s);Sd(this,Sl,"m",Nl).call(this,s),e&&(Sd(this,Sl,"m",Hl).call(this,e),Ed.expand(e),Ed.getMenu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},Ul))),Cd=(new(z({name:"menuitemgroup"})((Xl=class extends S{constructor(){super(),zl.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,zl,J("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,zl,"f").cloneNode(!0)}},zl=new WeakMap,Xl))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Ld=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Rd=new(z({name:"treeitem"})((nh=class extends S{constructor(){super(),Yl.add(this),Jl.set(this,void 0),Gl.set(this,void 0),Zl.set(this,void 0),Ql.set(this,void 0),Cd(this,Jl,J("span",{attributes:{class:"arrow"}}),"f"),Cd(this,Gl,J("li",{attributes:{class:"treeitem",role:"treeitem",type:"treeitem-leaf",tabindex:-1},children:[J("span",{attributes:{class:"content"},children:[J("span",{attributes:{class:"label"}})]})]}),"f"),Cd(this,Zl,["parent","leaf"],"f"),Cd(this,Ql,{parent:{role:"treeitem",hasArrow:!0},leaf:{role:"treeitem",hasArrow:!1}},"f")}getGroup(e){return e.querySelector(":scope > .treeitemgroup")}create(e){const t=Ld(this,Gl,"f").cloneNode(!0);if(t.addEventListener("click",Ld(this,Yl,"m",th).bind(this)),void 0!==e){const{type:n,label:s,disabled:i}=e;void 0!==n&&this.setType(t,n),void 0!==s&&this.setLabel(t,s),void 0!==i&&this.setDisabled(t,i)}return t}getLabel(e){return Ld(this,Yl,"m",eh).call(this,e).textContent??""}setLabel(e,t){Ld(this,Yl,"m",eh).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",t.toString())}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}getType(e){const t=Ld(this,Zl,"f"),{classList:n}=e;for(let e of t)if(n.contains(`treeitem-${e}`))return e;return null}setType(e,t){const n=Ld(this,Ql,"f"),s=Ld(this,Jl,"f"),{role:i,hasArrow:o}=n[t],r=this.getType(e),{classList:a}=e;r&&a.remove(`treeitem-${r}`),a.add(`treeitem-${t}`),e.setAttribute("role",i);const c=Ld(this,Yl,"m",eh).call(this,e),l=e.querySelector(":scope > .arrow");o?!l&&c&&c.before(s.cloneNode(!0)):l&&l.remove()}setExpanded(e,t){e.toggleAttribute("aria-expanded",t),e.dispatchEvent(new Event("toggle",{bubbles:!0}))}getExpanded(e){return e.hasAttribute("aria-expanded")}setActive(e,t){const{classList:n}=e;t?n.contains("active")||n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.contains("droptarget")||n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.toggleAttribute("aria-selected",t),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return e.hasAttribute("aria-selected")}setLevel(e,t){e.style.setProperty("--level",t.toString())}getLevel(e){return parseInt(e.style.getPropertyValue("--level"))}toggle(e,t){this.setExpanded(e,t??!this.getExpanded(e))}},Jl=new WeakMap,Gl=new WeakMap,Zl=new WeakMap,Ql=new WeakMap,Yl=new WeakSet,eh=function(e){const t=e.querySelector(":scope > .content > .label");if(!t)throw new Error("No label found.");return t},th=function(e){const{target:t,currentTarget:n,shiftKey:s,ctrlKey:i}=e,o=t.closest(".treeitem");o==n&&("parent"!=this.getType(o)||s||i||this.toggle(o))},nh))),Nd=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Id=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ad=(new(z({name:"tree"})((Dh=class extends S{constructor(){super(),sh.add(this),ih.set(this,void 0),oh.set(this,void 0),rh.set(this,void 0),ah.set(this,void 0),Nd(this,ih,J("ul",{attributes:{class:"tree",role:"tree",tabindex:0}}),"f"),Nd(this,rh,new WeakMap,"f"),Nd(this,ah,new WeakMap,"f"),Nd(this,oh,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Id(this,sh,"m",dh).bind(this)),"f")}create(){const e=Id(this,ih,"f").cloneNode(!0);return e.addEventListener("click",Id(this,sh,"m",kh).bind(this)),e.addEventListener("contextmenu",Id(this,sh,"m",Sh).bind(this),!0),e.addEventListener("dragend",Id(this,sh,"m",Ph).bind(this)),e.addEventListener("dragenter",Id(this,sh,"m",Ch).bind(this)),e.addEventListener("dragleave",Id(this,sh,"m",Rh).bind(this)),e.addEventListener("dragover",Id(this,sh,"m",Lh).bind(this)),e.addEventListener("dragstart",Id(this,sh,"m",Nh).bind(this)),e.addEventListener("drop",Id(this,sh,"m",Ih).bind(this)),e.addEventListener("focus",Id(this,sh,"m",Mh).bind(this)),e.addEventListener("focusin",Id(this,sh,"m",Oh).bind(this)),e.addEventListener("focusout",Id(this,sh,"m",jh).bind(this)),e.addEventListener("keydown",Id(this,sh,"m",Ah).bind(this)),e.addEventListener("select",Id(this,sh,"m",Wh).bind(this)),Id(this,rh,"f").set(e,!1),Id(this,ah,"f").set(e,!1),e}slot(e,t){return e}slottedCallback(e,t){Array.from(t.childNodes).forEach(((e,t)=>{e instanceof HTMLElement&&(Rd.setPosInSet(e,t),Rd.setLevel(e,0))}))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .treeitemgroup) > .treeitem"))}selectedItems(e){const t=[];Id(this,oh,"f").currentNode=e;let n=Id(this,sh,"m",vh).call(this,e);for(;null!==n;)Rd.getSelected(n)&&t.push(n),n=Id(this,sh,"m",xh).call(this,n);return t}beginSelection(e){Id(this,rh,"f").set(e,!0)}endSelection(e){Id(this,rh,"f").set(e,!1),Id(this,ah,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Id(this,ah,"f").set(e,!1))}},ih=new WeakMap,oh=new WeakMap,rh=new WeakMap,ah=new WeakMap,sh=new WeakSet,ch=function(e){return e.querySelector(".treeitem.active")},lh=function(e){return e.querySelector(".treeitem.droptarget")},hh=function(e,t){const{classList:n}=e;t?n.contains("droptarget")||n.add("droptarget"):n.remove("droptarget")},dh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("treeitem")&&!Rd.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("treeitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},uh=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=Id(this,sh,"m",xh).call(this,e);for(;s&&s!==t;)n.push(s),s=Id(this,sh,"m",xh).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=Id(this,sh,"m",Eh).call(this,e);for(;s&&s!==t;)n.push(s),s=Id(this,sh,"m",Eh).call(this,s);return n.push(t),n}return[]},ph=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||Rd.setSelected(e,!1)})),t.forEach((t=>{const n=Rd.getSelected(t);e.contains(t)&&!n&&Rd.setSelected(t,!0)})),this.endSelection(e)},fh=function(e,...t){this.beginSelection(e),t.forEach((e=>{Rd.getSelected(e)||Rd.setSelected(e,!0)})),this.endSelection(e)},mh=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&Rd.setSelected(e,!1)})),this.endSelection(e)},bh=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{Rd.setSelected(e,!1)})),this.endSelection(e)},gh=function(e,t){const n=Id(this,sh,"m",ch).call(this,e);null!==n&&n!==t&&(Rd.setActive(n,!1),n.tabIndex=-1),null!==t&&(Rd.setActive(t,!0),t.tabIndex=0)},wh=function(e,t){const n=Id(this,sh,"m",lh).call(this,e);null!==n&&n!==t&&Rd.setDropTarget(n,!1),null!==t?(Id(this,sh,"m",hh).call(this,e,!0),Rd.setDropTarget(t,!1)):Id(this,sh,"m",hh).call(this,e,!1)},vh=function(e){const t=Id(this,oh,"f");return t.currentNode=e,t.firstChild()},yh=function(e){const t=Id(this,oh,"f");return t.currentNode=e,t.lastChild()},Eh=function(e){const t=Id(this,oh,"f");t.currentNode=e;const n=t.previousSibling();return n?Id(this,sh,"m",Th).call(this,n):t.parentNode()},xh=function(e){const t=Id(this,oh,"f");t.currentNode=e;const n=Rd.getType(e),s=Rd.getExpanded(e);return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Th=function e(t){if(Rd.getExpanded(t)){const t=Id(this,oh,"f").lastChild();if(t)return Id(this,sh,"m",e).call(this,t)}return t},kh=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i}=e,o=t,r=n.closest(".treeitem"),a=this.selectedItems(o);if(r)if(i||s){if(s){const t=Rd.getSelected(r);t&&r.blur(),t?Id(this,sh,"m",mh).call(this,o,r):Id(this,sh,"m",fh).call(this,o,r),e.stopPropagation()}else if(i){const t=a[a.length-1];if(t){const e=Id(this,sh,"m",uh).call(this,t,r);e&&(a.includes(r)?Id(this,sh,"m",mh).call(this,o,...e):Id(this,sh,"m",fh).call(this,o,...e))}else Id(this,sh,"m",ph).call(this,o,r);e.stopPropagation()}}else Id(this,sh,"m",ph).call(this,o,r)},Sh=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&(this.selectedItems(i).includes(s)||Id(this,sh,"m",ph).call(this,i,s),e.preventDefault())},Ph=function(e){const{currentTarget:t}=e,n=t;Id(this,sh,"m",wh).call(this,n,null)},Ch=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&("parent"==Rd.getType(s)&&Rd.toggle(s,!0),Id(this,sh,"m",wh).call(this,i,s)),e.preventDefault()},Lh=function(e){e.preventDefault()},Rh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(n){const e=n.getRootNode(),t=e instanceof ShadowRoot?e.host:n;s.contains(t)||Id(this,sh,"m",wh).call(this,s,null)}},Nh=function(e){const{currentTarget:t,target:n}=e,s=t;n instanceof HTMLElement&&n.classList.contains("treeitem")&&(this.selectedItems(s).includes(n)||Id(this,sh,"m",ph).call(this,s,n))},Ih=function(e){const{currentTarget:t}=e,n=t;Id(this,sh,"m",wh).call(this,n,null)},Ah=function(e){const{currentTarget:t,key:n}=e,s=t,i=Id(this,sh,"m",ch).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=Id(this,oh,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=Id(this,sh,"m",uh).call(this,t,Id(this,sh,"m",Th).call(this,n));e&&Id(this,sh,"m",ph).call(this,s,...e)}}e.preventDefault();break}case"ArrowLeft":if(i)if(Rd.getExpanded(i))Rd.toggle(i);else{const e=Id(this,oh,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":i&&(Rd.getExpanded(i)||Rd.toggle(i)),e.stopPropagation();break;case"ArrowUp":if(i){const t=Id(this,sh,"m",Eh).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(Rd.getSelected(t)?Id(this,sh,"m",mh).call(this,s,t):Id(this,sh,"m",fh).call(this,s,t))}}else{const e=Id(this,sh,"m",vh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=Id(this,sh,"m",xh).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(Rd.getSelected(t)?Id(this,sh,"m",mh).call(this,s,t):Id(this,sh,"m",fh).call(this,s,t))}}else{const e=Id(this,sh,"m",yh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Id(this,sh,"m",vh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Id(this,sh,"m",yh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&(Id(this,sh,"m",ph).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":Id(this,sh,"m",bh).call(this,s),Id(this,sh,"m",gh).call(this,s,null),s.focus(),e.stopPropagation()}},Mh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=Id(this,sh,"m",ch).call(this,s);i&&n!==i&&i.focus()},Oh=function(e){const{currentTarget:t,target:n}=e,s=t;n instanceof HTMLElement&&n.classList.contains("treeitem")&&(Id(this,sh,"m",gh).call(this,s,n),s.tabIndex=-1)},jh=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},Wh=function(e){const{target:t}=e,n=t;t instanceof HTMLElement&&t.classList.contains("treeitem")&&(Id(this,rh,"f").get(n)?Id(this,ah,"f").set(t,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Dh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Md=(new(z({name:"treeitemgroup"})((_h=class extends S{constructor(){super(),Fh.set(this,void 0),Ad(this,Fh,J("ul",{attributes:{class:"treeitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Fh,"f").cloneNode(!0)}slot(e,t){return e}slottedCallback(e,t){Array.from(t.childNodes).forEach(((e,t)=>{e instanceof HTMLElement&&(Rd.setPosInSet(e,t),Rd.setLevel(e,(()=>{let t=-1,n=e;for(;null!==n&&n.matches(".tree :scope");)n=n.parentElement?.closest(".treeitem")??null,t++;return t})()))}))}},Fh=new WeakMap,_h))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Od=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},jd=new(z({name:"toolbaritem"})((Uh=class extends S{constructor(){super(),Hh.add(this),Bh.set(this,void 0),qh.set(this,void 0),Md(this,qh,["button","checkbox","radio","menubutton"],"f"),Md(this,Bh,J("button",{attributes:{class:"toolbaritem",role:"button",type:"button",tabindex:-1},children:[J("span",{attributes:{class:"label"}})]}),"f")}getMenu(e){return e.querySelector(":scope > .menu")}create(e){const t=Od(this,Bh,"f").cloneNode(!0);if(t.addEventListener("click",Od(this,Hh,"m",$h).bind(this)),void 0!==e){const{keyshortcut:n,pressed:s,type:i,label:o,name:r,value:a,disabled:c}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==s&&this.setPressed(t,s),void 0!==i&&this.setType(t,i),void 0!==o&&this.setLabel(t,o),void 0!==r&&this.setName(t,r),void 0!==a&&this.setValue(t,a),void 0!==c&&this.setDisabled(t,c)}return t}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",n.toString())}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}getLabel(e){return Od(this,Hh,"m",Kh).call(this,e).textContent??""}setLabel(e,t){Od(this,Hh,"m",Kh).call(this,e).textContent=t}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){null!==t?e.setAttribute("aria-keyshortcuts",t):e.removeAttribute("aria-keyshortcuts")}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&Od(this,Hh,"m",Vh).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),Od(this,Hh,"m",Vh).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}getType(e){const t=Od(this,qh,"f"),{classList:n}=e;for(let e of t)if(n.contains(`toolbaritem-${e}`))return e;return null}setType(e,t){const n=this.getType(e),{classList:s}=e;n&&s.remove(`toolbaritem-${n}`),s.add(`toolbaritem-${t}`)}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getPressed(e){return e.hasAttribute("aria-pressed")}setPressed(e,t){e.toggleAttribute("aria-pressed",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setActive(e,t){const{classList:n}=e;t?n.contains("active")||n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},Bh=new WeakMap,qh=new WeakMap,Hh=new WeakSet,Kh=function(e){const t=e.querySelector(":scope > .label");if(!t)throw new Error("No label found.");return t},$h=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".toolbaritem");if(s==n)switch(this.getType(s)){case"checkbox":this.setPressed(s,!this.getPressed(s));break;case"radio":this.setPressed(s,!0);break;case"menubutton":this.toggle(s)}},Vh=function(e){if("menubutton"==this.getType(e)){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:o,right:r}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body,p=r+a-d,f=s+c-u;n.setProperty("left",`${p>0?h+o-a:h+o}px`),n.setProperty("top",`${f>0?l+s-c:l+i}px`)}}},Uh))),Wd=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Dd=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Fd=(new(z({name:"toolbar"})((ld=class extends S{constructor(){super(),zh.add(this),Xh.set(this,void 0),Yh.set(this,void 0),Wd(this,Xh,J("div",{attributes:{class:"toolbar",role:"toolbar",tabindex:0}}),"f"),Wd(this,Yh,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Dd(this,zh,"m",Gh).bind(this)),"f")}create(){const e=Dd(this,Xh,"f").cloneNode(!0);return e.addEventListener("focus",Dd(this,zh,"m",id).bind(this)),e.addEventListener("focusin",Dd(this,zh,"m",od).bind(this)),e.addEventListener("focusout",Dd(this,zh,"m",rd).bind(this)),e.addEventListener("keydown",Dd(this,zh,"m",ad).bind(this)),e.addEventListener("click",Dd(this,zh,"m",cd).bind(this)),e}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem"))}setOrientation(e,t){e.setAttribute("aria-orientation",t)}getOrientation(e){return e.getAttribute("aria-orientation")??"horizontal"}},Xh=new WeakMap,Yh=new WeakMap,zh=new WeakSet,Jh=function(e){return e.querySelector(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active")},Gh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("toolbaritem")&&!jd.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("toolbaritemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Zh=function(e){const t=Dd(this,Yh,"f");return t.currentNode=e,t.firstChild()},Qh=function(e){const t=Dd(this,Yh,"f");return t.currentNode=e,t.lastChild()},ed=function(e){const t=Dd(this,Yh,"f");return t.currentNode=e,t.previousSibling()},td=function(e){const t=Dd(this,Yh,"f");return t.currentNode=e,t.nextSibling()},nd=function(e){const t=jd.getMenu(e);if(t){const e=Dd(this,Yh,"f");return e.currentNode=t,e.firstChild()}return null},sd=function(e,t){const n=Dd(this,zh,"m",Jh).call(this,e);null!==n&&n!==t&&(jd.setActive(n,!1),n.tabIndex=-1),null!==t&&(jd.setActive(t,!0),t.tabIndex=0)},id=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=Dd(this,zh,"m",Jh).call(this,s);i&&n!==i&&i.focus()},od=function(e){const{currentTarget:t,target:n}=e,s=t;n instanceof HTMLElement&&n.classList.contains("toolbaritem")&&(Dd(this,zh,"m",sd).call(this,s,n),s.tabIndex=-1)},rd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},ad=function(e){const{currentTarget:t,key:n}=e,s=t,i=Dd(this,zh,"m",Jh).call(this,s);switch(n){case"Enter":case" ":if(i){switch(jd.getType(i)){case"menubutton":jd.expand(i),Dd(this,zh,"m",nd).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"ArrowLeft":if(i){const e=Dd(this,zh,"m",ed).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Dd(this,zh,"m",Zh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(i){const e=Dd(this,zh,"m",td).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Dd(this,zh,"m",Qh).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Dd(this,zh,"m",Zh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Dd(this,zh,"m",Qh).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":Dd(this,zh,"m",sd).call(this,s,null),s.focus(),e.stopPropagation()}},cd=function(e){const{currentTarget:t,target:n}=e,s=t;if(n instanceof HTMLElement&&n.classList.contains("toolbaritem")){const e=jd.getType(n),t=jd.getName(n),i=jd.getType(n);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${t}]`).forEach((e=>{jd.setPressed(e,jd.getValue(e)==i)}))}},ld))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),_d=(new(z({name:"toolbaritemgroup"})((dd=class extends S{constructor(){super(),hd.set(this,void 0),Fd(this,hd,J("div",{attributes:{class:"toolbaritemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,hd,"f").cloneNode(!0)}},hd=new WeakMap,dd))),function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}),Hd=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Bd=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class qd extends B{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new q(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Kd{constructor(e){ud.set(this,void 0),Hd(this,ud,e,"f")}static from(e){return new Kd(e)}show(){Bd(this,ud,"f").forEach((e=>{e.show()}))}hide(){Bd(this,ud,"f").forEach((e=>{e.hide()}))}display(){const e=Bd(this,ud,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Bd(this,ud,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof qd){const{items:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ud=new WeakMap;class $d extends B{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof qd?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof qd){const{items:t}=e;t&&t.remove(this)}}}_d([F()],$d.prototype,"visibility",void 0);let Vd=class extends St{constructor(e){super(),pd.add(this),fd.set(this,void 0),md.set(this,void 0),this.attachShadow({mode:"open"}),Hd(this,fd,new WeakMap,"f"),Hd(this,md,new WeakMap,"f"),this.setModel(e??new qd)}getListElement(){const{model:e}=this;return Bd(this,fd,"f").get(e)?.deref()??null}getListItemElement(e){return Bd(this,md,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return Y(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot"))}renderLight(){const{model:e}=this,t=J("e-list",{attributes:{tabindex:0},children:[J("e-listitemgroup",{children:oe(e.items,(e=>Bd(this,pd,"m",bd).call(this,e)))})],listeners:{contextmenu:Bd(this,pd,"m",gd).bind(this),keydown:Bd(this,pd,"m",wd).bind(this)}});return Bd(this,fd,"f").set(e,new WeakRef(t)),t}};fd=new WeakMap,md=new WeakMap,pd=new WeakSet,bd=function(e){const t=J("e-listitem",{attributes:{tabindex:-1,name:e.label,draggable:"true"},dataset:{index:e.index},children:[J("span",{children:[e.label]}),J("e-toolbar",{attributes:{tabindex:0},children:[J("e-toolbaritemgroup",{children:[zo.menubutton({name:"settings",label:"Actions",menubutton:new $i({menu:te(e,new Un({children:[new Wn({items:[cn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),cn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new Wn({items:[cn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{}))})}),te(e,J("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return Bd(this,md,"f").set(e,new WeakRef(t)),t},gd=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof Na&&i instanceof $r){const s=o.getItemByIndex(parseInt(i.dataset.index)),r=J("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{trigger:()=>{Kd.from(this.selectedItems()).display()}}}),J("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{trigger:()=>{Kd.from(this.selectedItems()).remove()}}})]}),J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[s.visibility?"Hide":"Show"],listeners:{trigger:()=>{const e=Kd.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(r),r.positionContextual(t,n),r.focus({preventScroll:!0}),e.preventDefault()}},wd=function(e){const{currentTarget:t,key:n}=e;if(t instanceof Na)switch(n){case"Delete":Kd.from(this.selectedItems()).remove(),e.preventDefault()}},Vd=_d([U({name:"v-list"})],Vd);var Ud,zd,Xd,Yd,Jd,Gd,Zd,Qd,eu,tu,nu,su=Vd,iu=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ou=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ru=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class au extends B{constructor(e){super();const t=new q(e?.rows??[]);t.setParent(this),this.rows=t;const n=new q(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,s)=>{const i=e.extract(n).toString(),o=e.extract(s).toString();return t*i.localeCompare(o)}))}}class cu extends B{constructor(e){super();const{name:t,label:n,type:s,extract:i}=e;this.name=t,this.label=n,this.type=s,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}iu([F()],cu.prototype,"sortorder",void 0);class lu extends B{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}iu([F()],lu.prototype,"name",void 0),iu([F()],lu.prototype,"age",void 0);let hu=class extends St{constructor(e){super(),Ud.add(this),zd.set(this,void 0),Xd.set(this,void 0),Yd.set(this,void 0),Jd.set(this,void 0),Gd.set(this,void 0),ou(this,Yd,[],"f"),ou(this,Jd,null,"f"),ou(this,Gd,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new au),ou(this,Xd,((e,t)=>J("label",{children:[t.extract(e)]})),"f"),ou(this,zd,(e=>J("label",{children:[e.label]})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){ou(this,zd,e,"f")}setCellDelegate(e){ou(this,Xd,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return ru(this,Gd,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return Y(J("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),J("link",{attributes:{rel:"stylesheet",href:"css/views/gridview.css"}}),J("div",{children:[J("input",{attributes:{type:"search"},listeners:{input:ru(this,Ud,"m",tu).bind(this)}})]}),J("e-grid",{attributes:{tabindex:0,selectby:"row"},children:[J("e-gridhead",{children:[J("e-gridrow",{children:oe(e.columns,(e=>ru(this,Ud,"m",Zd).call(this,e)))})]}),J("e-gridbody",{children:oe(e.rows,(e=>ru(this,Ud,"m",Qd).call(this,e)))})]}))}setSearchFilter(e){ou(this,Jd,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!ru(this,Yd,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){ru(this,Yd,"f").includes(e)||(ru(this,Yd,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!ru(this,Yd,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=ru(this,Yd,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!ru(this,Yd,"f").every((t=>t.filter(e))))})));const{gridElement:s}=this;s.beginSelection(),s.selectedRows().forEach((e=>e.selected=!1)),s.endSelection()}};zd=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,Jd=new WeakMap,Gd=new WeakMap,Ud=new WeakSet,Zd=function(e){const{model:t}=this;return te(e,J("e-gridcell",{attributes:{tabindex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[J("span",{attributes:{class:"gridcell-content"},children:[J("label",{attributes:{class:"gridcell-label"},children:[e.label],listeners:{click:ru(this,Ud,"m",nu).bind(this)}}),J("e-toolbar",{attributes:{tabindex:-1},children:[J("e-toolbaritem",{attributes:{type:"menubutton",tabindex:-1},children:[J("e-menubutton",{attributes:{slot:"menubutton",tabindex:-1},children:[J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[J("e-menuitem",{attributes:{type:"button",tabindex:-1},children:["Resize Column"],listeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);if(t){const{style:n}=t;n.removeProperty("width"),n.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset"))}}}}),J("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Sort",te(e,J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[J("e-menuitem",{attributes:{type:"radio",name:"sort",value:"1",tabindex:-1},children:["Ascending"]}),J("e-menuitem",{attributes:{type:"radio",name:"sort",value:"-1",tabindex:-1},children:["Descending"]})],listeners:{trigger:n=>{const{target:s}=n,i=s.value;t.sortByColumn(e,parseInt(i))}}}),["sortorder"],((e,t,n,s)=>{e.querySelectorAll("e-menuitem[name^=sort]").forEach((e=>{e.checked=parseInt(e.value)===s}))}))]}),J("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Filter",J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:e.filters.map(((e,t)=>J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox",checked:ru(this,Yd,"f").includes(e)},children:[e.name],listeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof an){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[J("e-wsash",{attributes:{controls:`${e.name}-columnheader`},listeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":void 0!==s?e.dataset.sortorder=s.toString():delete e.dataset.sortorder}}))},Qd=function(e){const{model:t}=this,n=J("e-gridrow",{attributes:{tabindex:-1},children:oe(t.columns,(t=>ru(this,Ud,"m",eu).call(this,e,t)))});return ru(this,Gd,"f").set(e,new WeakRef(n)),n},eu=function(e,t){return J("e-gridcell",{attributes:{type:"gridcell",headers:t.name},children:[ru(this,Xd,"f").call(this,e,t)]})},tu=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},nu=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:s}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(s.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},iu([V({type:Boolean,observed:!0})],hu.prototype,"resizable",void 0),iu([V({type:Boolean,observed:!0})],hu.prototype,"sortable",void 0),hu=iu([U({name:"v-grid"})],hu);var du=hu;async function uu(){const e=new Mt,t=new Rt({items:[new It({label:"TI 0",type:"parent",items:[new It({label:"TI 1A",type:"parent",items:[new It({type:"leaf",label:"TI 1AX"})]}),new It({type:"parent",label:"TI 1B"})]}),new It({label:"TI 1",type:"parent",items:[new It({label:"TI 1A",type:"parent",items:[new It({type:"leaf",label:"TI 1AX"})]}),new It({type:"parent",label:"TI 1B"})]}),new It({type:"leaf",label:"TI 2"}),new It({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new It({label:"yo",type:"parent",items:[new It({type:"leaf",label:"plop"})]}));const n=new su;n.setModel(new qd({items:[new $d({label:"Hey"}),new $d({label:"Yo"})]})),document.body.append(n);const s=new du;s.resizable=!0,s.sortable=!0,s.setColumnDelegate((e=>Y(J("label",{children:[e.label]})))),s.setModel(new au({columns:[new cu({name:"name",label:"Name",type:String,extract:e=>e.name}),new cu({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new lu({name:"Denis",age:13}),new lu({name:"Jean-Charles",age:32}),new lu({name:"Charles",age:25})]})),document.body.append(s);const i=G("menubar",{slotted:[G("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu",disabled:!0},slotted:[G("menu",{slotted:[G("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),G("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},slotted:[G("menu",{slotted:[G("menuitemgroup",{slotted:[G("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B",disabled:!0,checked:!0}}),G("menuitem",{properties:{type:"button",label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),G("separator"),G("menuitem",{properties:{label:"Submenu",type:"submenu"},slotted:[G("menu",{slotted:[G("menuitem",{properties:{label:"MenuItem 1",type:"radio",name:"radio",value:"1"}}),G("menuitem",{properties:{type:"radio",label:"MenuItem 2",name:"radio",value:"2"}}),G("menuitem",{properties:{type:"radio",label:"MenuItem 3",name:"radio",value:"3"}})]})]})]})]})]});document.body.append(i);const o=G("tree",{slotted:[G("treeitem",{properties:{label:"treeitem 0",type:"parent"},slotted:[G("treeitemgroup",{slotted:[G("treeitem",{properties:{label:"treeitem 1",type:"leaf"}})]})],listeners:{contextmenu:e=>{const{target:t,clientX:n,clientY:s}=e,i=t.closest(".treeitem"),o=G("menu",{properties:{contextual:!0},slotted:[G("menuitemgroup",{slotted:[G("menuitem",{properties:{label:"Display"},listeners:{click:()=>{console.log(Rd.getLabel(i))}}}),G("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{i.remove()}}})]})]});i.append(o),Pd.positionContextual(o,n,s),o.focus({preventScroll:!0}),e.preventDefault()}}}),G("treeitem",{properties:{label:"treeitem 0",type:"parent",disabled:!0},slotted:[G("treeitemgroup",{slotted:[G("treeitem",{properties:{label:"treeitem 1",type:"leaf"}})]})]}),G("treeitem",{properties:{label:"treeitem 1",type:"leaf"}})]});document.body.append(o),document.body.append(G("toolbar",{slotted:[G("toolbaritem",{properties:{label:"First item",type:"button"}}),G("toolbaritem",{properties:{label:"Second item",type:"checkbox"}}),G("toolbaritem",{properties:{label:"Third item",type:"checkbox",disabled:!0}}),G("toolbaritem",{properties:{label:"Fourth item",type:"checkbox"}})]})),(new class{constructor(){this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(X(e)).forEach((e=>{e instanceof _t&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(X(e)).forEach((e=>{e instanceof _t&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof _t)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const i=s?.hotkey,o=s?.key,r=s?.value,a=s?.checked,c={name:e,trigger:t,key:o,type:n};r&&(c.value=r),void 0!==o&&void 0!==r&&localStorage.setItem(o,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const i=this._actions[s];let o;switch(t){case"radio":o=i.value??"";break;case"checkbox":o=i.value??!1}i.trigger(o,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const o=this._actionElements[n];if(o)switch(s){case"radio":o.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":o.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:i,value:o,checked:r}=s;switch(i){case"radio":"radio"==t.type?t.checked=t.value==o:"select"==t.type&&(t.value=o);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map