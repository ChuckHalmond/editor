var main;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>ch});var n,o=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};n=new WeakMap;var s,i,r,a,c,l,h,d,p,f,u,m,g,v,b,w,y,E,x,k=new class{constructor(){n.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,n,new Map,"f")}define(e,t){console.log(e),o(this,n,"f").set(e,t)}create(e){const t=o(this,n,"f").get(e);if(console.log(t),void 0!==t)return new t;throw new Error}},T=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},S=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class P{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new C(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new C(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return P.PROPERTY_CHANGE}get LIST_REMOVE(){return P.LIST_REMOVE}get LIST_INSERT(){return P.LIST_INSERT}get LIST_SORT(){return P.LIST_SORT}}var I=P;s=new WeakMap;var C=class{constructor(e){s.set(this,void 0),T(this,s,e.slice(),"f")}get length(){return S(this,s,"f").length}item(e){return S(this,s,"f")[e]??null}values(){return S(this,s,"f").values()}};class R{constructor(e){i.set(this,void 0),r.set(this,void 0),this.type=e,T(this,i,null,"f"),T(this,r,null,"f")}get currentTarget(){return S(this,i,"f")}get target(){return S(this,r,"f")}}i=new WeakMap,r=new WeakMap,R.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof R&&T(e,i,t,"f")}setTarget(e,t){e instanceof R&&T(e,r,t,"f")}};var N=R.ModelEventTargetAccessor;delete R.ModelEventTargetAccessor;var L=R;a=new WeakMap;class O extends class{constructor(){a.set(this,void 0),T(this,a,new Map,"f")}receiveEvent(e){const{type:t}=e,n=S(this,a,"f").get(t);N.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=S(this,a,"f").get(e);n?n.push(t):S(this,a,"f").set(e,[t])}removeEventListener(e,t){const n=S(this,a,"f").get(e);if(n){const o=n.findIndex((e=>e==t));o>-1&&n.splice(o,1),0==n.length&&S(this,a,"f").delete(e)}}dispatchEvent(e){N.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),c.add(this),l.set(this,void 0),h.set(this,void 0),d.set(this,void 0),T(this,l,null,"f"),T(this,h,[],"f"),T(this,d,!1,"f")}get parentNode(){return S(this,l,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");T(this,l,e,"f")}else T(this,l,null,"f")}beginChanges(){T(this,d,!0,"f")}endChanges(){this.dispatchEvent(new L("modelchange")),S(this,h,"f").splice(0),T(this,d,!1,"f")}getRecords(){return S(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}l=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakSet,p=function(e,t,n){const o=S(this,h,"f"),s=new I({target:this,changeType:I.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});o.push(s),this.dispatchEvent(new L("modelchange")),o.splice(0)},f=function(e){S(this,h,"f").push(e),S(this,d,"f")||(this.dispatchEvent(new L("modelchange")),S(this,h,"f").splice(0))},O.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,o){e instanceof O&&S(e,c,"m",p).call(e,t,n,o)}handleRecord(e,t){e instanceof O&&S(e,c,"m",f).call(e,t)}};var j=O.ModelNodeRecordsAccessor;delete O.ModelNodeRecordsAccessor;var A=O;const M=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:o}=n;Object.defineProperty(o,t,{set:function(e){const n=F.getProperty(this,t);return F.setProperty(this,t,e),e!==n&&j.triggerChange(this,t,n,e),!0},get:function(){return F.getProperty(this,t)},enumerable:!0})}};class W extends O{constructor(){super(),u.set(this,void 0),T(this,u,new Map,"f")}}u=new WeakMap,W.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof W&&S(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof W)return S(e,u,"f").get(t)}};var F=W.ModelObjectPropertiesAccessor;delete W.ModelObjectPropertiesAccessor;var D=W;m=new WeakMap;var _=class extends O{constructor(e){super(),m.set(this,void 0),T(this,m,e?.slice()??[],"f")}setParent(e){super.setParent(e),S(this,m,"f").forEach((t=>{t.setParent(e)}))}get length(){return S(this,m,"f").length}get(e){return S(this,m,"f")[e]??null}index(e,t){return S(this,m,"f").indexOf(e,t)}values(){return S(this,m,"f").values()}sort(e){const t=S(this,m,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),T(this,m,t.map((e=>e.item)),"f");const n=new I({target:this,changeType:I.LIST_SORT,sortedIndices:t.map((e=>e.index))});j.handleRecord(this,n)}prepend(...e){const t=S(this,m,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const o=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:0,insertedItems:e});j.handleRecord(this,o)}append(...e){const t=S(this,m,"f"),{length:n}=t,{parentNode:o}=this;o&&e.forEach((e=>{e.setParent(o)})),t.push(...e);const s=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:n,insertedItems:e});j.handleRecord(this,s)}insert(e,...t){const n=S(this,m,"f"),{length:o}=n;if(Math.abs(e)<=o){if(e>=0){const{parentNode:s}=this;t.forEach((e=>{e.setParent(s)})),e<o?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=o-e;const{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(s)})),n.splice(e,0,...t)}const s=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});j.handleRecord(this,s)}}remove(e){const t=S(this,m,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:o}=this;o&&e.setParent(null);const s=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:n,removedItems:[e]});j.handleRecord(this,s)}}clear(){const e=S(this,m,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const o=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:0,removedItems:t});j.handleRecord(this,o)}}};v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap,g=new WeakSet,E=function(){const e=S(this,b,"f").splice(0);e.length>0&&S(this,v,"f").call(this,e)},x=function(e){if(!S(this,w,"f")){const{target:t,currentTarget:n}=e,o=S(this,y,"f").get(n);if(o){const{options:e}=o,{properties:s,propertiesFilter:i,childList:r,subtree:a}=e;a?s&&t instanceof A?(i?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):r&&t instanceof _&&(S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):t==n&&(s&&t instanceof A?(i?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return i.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):r&&t instanceof _&&(S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)))}}};var B=class{constructor(e){g.add(this),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),y.set(this,void 0),T(this,v,e,"f"),T(this,b,[],"f"),T(this,w,!1,"f"),T(this,y,new WeakMap,"f")}observe(e,t){T(this,w,!1,"f");const n=S(this,y,"f");let o=n.get(e);if(o)n.set(e,o);else{const s=S(this,g,"m",x).bind(this);e.addEventListener("modelchange",s),o={listener:s,options:t},n.set(e,o)}}unobserve(e){let t=S(this,y,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){S(this,b,"f").splice(0),T(this,w,!0,"f")}};function H(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const K=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:s}=o,i=n.toString(),r=H(i),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(o,"observedAttributes",o);Array.isArray(e)?e.push(r):Object.defineProperty(o,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(s,i,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(s,i,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},V=function(e){return t=>{const{name:n,options:o}=e;return customElements.get(n)||customElements.define(n,t,o),t}};function*q(e){yield e;const t=e.childNodes,n=t.length;let o=0;for(;o<n;){const e=t.item(o);null!==e&&(yield*q(e)),o++}}function $(...e){const t=document.createDocumentFragment();return t.append(...e),t}function z(e,t){if(t){const{options:n,properties:o,part:s,exportParts:i,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(d,{[e]:t})})),o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(d,{[e]:t})})),s){const{part:e}=d;s.forEach((t=>{e.add(t)}))}if(i&&d.setAttribute("exportparts",i.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(H(e),""):d.setAttribute(H(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.append(...c(d)):d.append(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}function U(e,t){const n=k.create(e);if(t){const{element:e}=n,{properties:o,part:s,exportParts:i,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t;if(o&&Object.keys(o).forEach((t=>{const n=o[t];void 0!==o[t]&&Object.assign(e,{[t]:n})})),o&&Object.keys(o).forEach((t=>{const n=o[t];void 0!==o[t]&&Object.assign(e,{[t]:n})})),s){const{part:t}=e;s.forEach((e=>{t.add(e)}))}if(i&&e.setAttribute("exportparts",i.join(", ")),r&&Object.keys(r).forEach((t=>{const n=r[t];"boolean"==typeof n?n&&e.setAttribute(H(t),""):e.setAttribute(H(t),n.toString())})),h){const{style:t}=e;Object.keys(h).forEach((e=>{Array.isArray(h[e])?t.setProperty(e,h[e][0],h[e][1]):t.setProperty(e,h[e])}))}if(a){const{dataset:t}=e;Object.keys(a).forEach((e=>{t[e]=a[e].toString()}))}c&&("function"==typeof c?e.append(...c(e)):e.append(...Array.from(c))),l&&Object.entries(l).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return n}const X=new WeakMap,Y=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,o=X.get(t);if(o){const{reactiveElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),J=new B((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:o,newValue:s}=e,{reactiveElementsArray:i}=X.get(t);i.forEach((e=>{const{elementRef:t,react:i,properties:r}=e,a=t.deref();a&&r.includes(n)&&i(a,n,o,s)}))}))}));function G(e,t,n,o){const s=t instanceof class{constructor(){this.element=this.render()}click(){this.element.click()}focus(e){this.element.focus(e)}blur(){this.element.blur()}contains(e){return this.element.contains(e)}render(){throw new Error}}?t.element:t,i={elementRef:new WeakRef(s),react:o,properties:n},r=X.get(e);if(Y.register(s,{model:e,reactiveElement:i}),r){const{reactiveElementsArray:e,observerOptions:t}=r,{propertiesFilter:o}=t;e.push(i),t.propertiesFilter=o?o.concat(n.filter((e=>!o.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},o=[i];X.set(e,{observerOptions:t,reactiveElementsArray:o}),J.observe(e,t)}return n.forEach((n=>{if(n in e){const s=Reflect.get(e,n,e);void 0!==s&&o(t,n,void 0,s)}})),t}const Z=new WeakMap,Q=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,o=Z.get(t);if(o){const{reactiveChildElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),ee=new B((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,o=n,{length:s}=o,{reactiveChildElementsArray:i}=Z.get(o);i.forEach((n=>{const{parentRef:o,mapping:i,placeholder:r}=n,a=o.deref();if(a){const{firstChild:n,children:o}=a,{length:c}=o;r&&s>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,s=Array.from(n.values()).map((e=>i(e))),{length:r}=o;t<r?o[t].before(...s):a.append(...s);break}case d:{const{removedIndex:n,removedItems:s}=e,{length:i}=s;t=t??document.createRange();const r=n+(i-1);r<c&&(t.setStartBefore(o[n]),t.setEndAfter(o[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(o);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==s&&r&&a.append(r)}}))}))}));function te(e,t,n){return o=>{const s=new WeakRef(o),i=Z.get(e),r={parentRef:s,mapping:t,placeholder:n};if(Q.register(o,{list:e,reactiveChildElement:r}),i){const{reactiveChildElementsArray:e}=i;e.push(r)}else{const t=[r];Z.set(e,{reactiveChildElementsArray:t}),ee.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function ne(e,t,n,o,s){if(t==o)switch(e){case"boolean":return""==n&&""==s;case"string":return""!==n&&n==s;case"list":return""!==n&&null!==s&&new RegExp(`${n}s*?`,"g").test(s)}return!1}var oe,se,ie;let re=class extends HTMLElement{constructor(){super(),oe.add(this);const e=this.attachShadow({mode:"open"});e.append(ie.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,oe,"m",se).bind(this))}};oe=new WeakSet,se=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ge)).forEach(((e,t)=>{e.posinset=t}))},(ie=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),z("slot")),re=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-treeitemgroup"})],re);var ae,ce,le,he,de,pe=re,fe=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},ue=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},me=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let ge=class extends HTMLElement{constructor(){super(),ae.add(this),ce.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(de.content.cloneNode(!0)),e.addEventListener("slotchange",ue(this,ae,"m",he).bind(this)),this.addEventListener("click",ue(this,ae,"m",le).bind(this)),me(this,ce,null,"f")}get group(){return ue(this,ce,"f")}connectedCallback(){this.level=(()=>{let e=0,{parentElement:t}=this;for(;t instanceof pe;){if(e++,({parentElement:t}=t),!(t instanceof Ge))return e;({parentElement:t}=t)}return t instanceof it&&e++,e})()}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};ce=new WeakMap,ae=new WeakSet,le=function(e){const{target:t,shiftKey:n,ctrlKey:o}=e,{type:s}=this;this!=t||"parent"!=s||n||o||this.toggle()},he=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];me(this,ce,e instanceof pe?e:null,"f");break}}},de=z("template",{content:[z("div",{part:["content"],children:[z("span",{part:["arrow"]}),z("slot")]}),z("slot",{properties:{name:"group"}})]}),fe([K({type:String})],ge.prototype,"name",void 0),fe([K({type:Number})],ge.prototype,"posinset",void 0),fe([K({type:String,observed:!0})],ge.prototype,"label",void 0),fe([K({type:Boolean,observed:!0})],ge.prototype,"expanded",void 0),fe([K({type:Boolean})],ge.prototype,"droptarget",void 0),fe([K({type:Boolean})],ge.prototype,"active",void 0),fe([K({type:Boolean,observed:!0})],ge.prototype,"selected",void 0),fe([K({type:Number,observed:!0})],ge.prototype,"level",void 0),fe([K({type:String,defaultValue:"leaf"})],ge.prototype,"type",void 0),ge=fe([V({name:"e-treeitem"})],ge);var ve,be,we,ye,Ee,xe,ke,Te,Se,Pe,Ie,Ce,Re,Ne,Le,Oe,je,Ae,Me,We,Fe,De,_e,Be,He,Ke,Ve,qe,$e,ze,Ue,Xe,Ye,Je,Ge=ge,Ze=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Qe=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},et=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let tt=class extends HTMLElement{constructor(){super(),ve.add(this),be.set(this,void 0),we.set(this,void 0),ye.set(this,void 0),Ee.set(this,void 0),xe.set(this,void 0),et(this,xe,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Qe(this,ve,"m",ke).bind(this)),"f"),et(this,be,-1,"f"),et(this,we,-1,"f"),et(this,ye,!1,"f"),et(this,Ee,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Je.content.cloneNode(!0)),this.addEventListener("click",Qe(this,ve,"m",We).bind(this)),this.addEventListener("contextmenu",Qe(this,ve,"m",Fe).bind(this),!0),this.addEventListener("dragend",Qe(this,ve,"m",De).bind(this)),this.addEventListener("dragenter",Qe(this,ve,"m",_e).bind(this)),this.addEventListener("dragleave",Qe(this,ve,"m",He).bind(this)),this.addEventListener("dragover",Qe(this,ve,"m",Be).bind(this)),this.addEventListener("dragstart",Qe(this,ve,"m",Ke).bind(this)),this.addEventListener("drop",Qe(this,ve,"m",Ve).bind(this)),this.addEventListener("focus",Qe(this,ve,"m",$e).bind(this)),this.addEventListener("focusin",Qe(this,ve,"m",ze).bind(this)),this.addEventListener("focusout",Qe(this,ve,"m",Ue).bind(this)),this.addEventListener("keydown",Qe(this,ve,"m",qe).bind(this)),this.addEventListener("select",Qe(this,ve,"m",Xe).bind(this)),e.addEventListener("slotchange",Qe(this,ve,"m",Ye).bind(this))}get activeIndex(){return Qe(this,be,"f")}get activeItem(){return this.items.item(Qe(this,be,"f"))??null}get dropTargetItem(){return this.items.item(Qe(this,we,"f"))??null}selectedItems(){const e=[],t=Qe(this,xe,"f");t.currentNode=t.root;let n=Qe(this,ve,"m",Le).call(this);for(;null!==n;)n.selected&&e.push(n),n=Qe(this,ve,"m",Ae).call(this,n);return e}beginSelection(){et(this,ye,!0,"f")}endSelection(){et(this,ye,!1,"f"),Qe(this,Ee,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),et(this,Ee,!1,"f"))}};be=new WeakMap,we=new WeakMap,ye=new WeakMap,Ee=new WeakMap,xe=new WeakMap,ve=new WeakSet,ke=function(e){return e instanceof Ge?NodeFilter.FILTER_ACCEPT:e instanceof pe?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Te=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=Qe(this,ve,"m",Ae).call(this,e);for(;o&&o!==t;)n.push(o),o=Qe(this,ve,"m",Ae).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=Qe(this,ve,"m",je).call(this,e);for(;o&&o!==t;)n.push(o),o=Qe(this,ve,"m",je).call(this,o);return n.push(t),n}return[]},Se=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Pe=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ie=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ce=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Re=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e?(Qe(this,xe,"f").currentNode=e,e.active=!0,e.tabIndex=0,et(this,be,Array.from(n).indexOf(e),"f")):et(this,be,-1,"f")},Ne=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,et(this,we,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,et(this,we,-1,"f"))},Le=function(){const e=Qe(this,xe,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Oe=function(){const e=Qe(this,xe,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},je=function(e){const t=Qe(this,xe,"f");t.currentNode=e;const n=t.previousSibling();return n?Qe(this,ve,"m",Me).call(this,n):t.parentNode()},Ae=function(e){const t=Qe(this,xe,"f");t.currentNode=e;const{type:n,expanded:o}=e;return"leaf"===n||o?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Me=function e(t){if(t.expanded){const t=Qe(this,xe,"f").lastChild();if(t)return Qe(this,ve,"m",e).call(this,t)}return t},We=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,s=this.selectedItems();if(t instanceof Ge)if(o||n){if(n){const{selected:n}=t;n&&t.blur(),n?Qe(this,ve,"m",Ie).call(this,t):Qe(this,ve,"m",Pe).call(this,t),e.stopPropagation()}else if(o){const n=s[s.length-1];if(n){const e=Qe(this,ve,"m",Te).call(this,n,t);e&&(s.includes(t)?Qe(this,ve,"m",Ie).call(this,...e):Qe(this,ve,"m",Pe).call(this,...e))}else Qe(this,ve,"m",Se).call(this,t);e.stopPropagation()}}else Qe(this,ve,"m",Se).call(this,t)},Fe=function(e){const{target:t}=e;t instanceof Ge&&(this.selectedItems().includes(t)||Qe(this,ve,"m",Se).call(this,t),e.preventDefault())},De=function(){Qe(this,ve,"m",Ne).call(this,null)},_e=function(e){const{target:t}=e;if(t instanceof Ge){const{type:e}=t;"parent"==e&&t.toggle(!0),Qe(this,ve,"m",Ne).call(this,t)}e.preventDefault()},Be=function(e){e.preventDefault()},He=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||Qe(this,ve,"m",Ne).call(this,null)}},Ke=function(e){const{target:t}=e;t instanceof Ge&&(this.selectedItems().includes(t)||Qe(this,ve,"m",Se).call(this,t))},Ve=function(){Qe(this,ve,"m",Ne).call(this,null)},qe=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=Qe(this,xe,"f"),{root:t}=e;e.currentNode=n;const o=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild());if(o&&s){const e=Qe(this,ve,"m",Te).call(this,o,Qe(this,ve,"m",Me).call(this,s));e&&Qe(this,ve,"m",Se).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=Qe(this,xe,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=Qe(this,ve,"m",je).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qe(this,ve,"m",Ie).call(this,t):Qe(this,ve,"m",Pe).call(this,t))}}else{const e=Qe(this,ve,"m",Le).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Qe(this,ve,"m",Ae).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qe(this,ve,"m",Ie).call(this,t):Qe(this,ve,"m",Pe).call(this,t))}}else{const e=Qe(this,ve,"m",Oe).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Qe(this,ve,"m",Le).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Qe(this,ve,"m",Oe).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(Qe(this,ve,"m",Se).call(this,n),n.click()),e.stopPropagation();break;case"Escape":Qe(this,ve,"m",Ce).call(this),Qe(this,ve,"m",Re).call(this,null),this.focus(),e.stopPropagation()}},$e=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},ze=function(e){const{target:t}=e;t instanceof Ge&&(Qe(this,ve,"m",Re).call(this,t),this.tabIndex=-1)},Ue=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Xe=function(){Qe(this,ye,"f")?et(this,Ee,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ye=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ge)).forEach(((e,t)=>{e.posinset=t}))},(Je=z("template")).content.append(z("slot")),Ze([K({type:Boolean})],tt.prototype,"droptarget",void 0),Ze([K({type:String})],tt.prototype,"name",void 0),tt=Ze([V({name:"e-tree"})],tt);var nt,ot,st,it=tt,rt=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},at=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class ct extends HTMLElement{constructor(){super(),nt.add(this),ot.set(this,void 0),rt(this,ot,null,"f")}get model(){return at(this,ot,"f")}setModel(e){rt(this,ot,e,"f"),at(this,nt,"m",st).call(this)}renderLight(){}renderShadow(){}refresh(){at(this,nt,"m",st).call(this)}}ot=new WeakMap,nt=new WeakSet,st=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var lt,ht,dt,pt,ft,ut,mt,gt,vt,bt,wt,yt,Et,xt,kt,Tt=ct,St=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Pt=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},It=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class Ct extends D{constructor(e){super(),lt.add(this);const t=new _(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new _(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Pt(this,lt,"m",ht).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Ct.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:o}=e;for(let s=0;s<n;s++){const n=t.get(s),{uri:i}=n,{length:r}=i;if(e.startsWith(i)){if("/"==e.charAt(r))return Ct.prototype.getItemByUri.call(n,e);if(r==o)return n}}return null}}lt=new WeakSet,ht=function(e){const{target:t}=e,{items:n,sortFunction:o,flattenItems:s}=this;t instanceof _&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:i}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...s.call(e)))),a=Array.from(i.values()).flatMap((e=>Array.of(e,...s.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),o&&n.sort(o),n.endChanges()}))};class Rt{constructor(e){dt.set(this,void 0),It(this,dt,e,"f")}static from(e){return new Rt(e)}static of(...e){return new Rt(e)}show(){console.log(Pt(this,dt,"f")),Pt(this,dt,"f").forEach((e=>e.show()))}hide(){Pt(this,dt,"f").forEach((e=>e.hide()))}display(){const e=Pt(this,dt,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Pt(this,dt,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Nt||n instanceof Ct){const{childItems:o}=n,s=e.get(o);s?s.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}dt=new WeakMap;class Nt extends D{constructor(e){super(),pt.add(this);const{label:t,type:n}=e,o=new _(e.items??[]);o.setParent(this),this.childItems=o,this.label=t,this.type=n,this.childCount=o.length,this.visibility=!0,this.addEventListener("modelchange",Pt(this,pt,"m",ft).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Nt?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Nt?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Nt||e instanceof Ct){const{childItems:t}=e;t&&t.remove(this)}}}pt=new WeakSet,ft=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},St([M()],Nt.prototype,"childCount",void 0),St([M()],Nt.prototype,"visibility",void 0);let Lt=class extends Tt{constructor(e){super(),ut.add(this),mt.set(this,void 0),gt.set(this,void 0),vt.set(this,void 0),It(this,vt,new WeakMap,"f"),It(this,gt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Ct)}getTreeElement(){return Pt(this,mt,"f")?.deref()??null}getTreeItemElement(e){return Pt(this,vt,"f").get(e)?.deref()??null}getDragImageElement(e){return Pt(this,gt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=z("e-tree",{properties:{tabIndex:0},children:te(e.childItems,(e=>Pt(this,ut,"m",bt).call(this,e))),eventListeners:{dragstart:Pt(this,ut,"m",yt).bind(this),drop:Pt(this,ut,"m",Et).bind(this),contextmenu:Pt(this,ut,"m",xt).bind(this),keydown:Pt(this,ut,"m",kt).bind(this)}});return It(this,mt,new WeakRef(t),"f"),$(z("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),z("link",{properties:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,z("div",{properties:{className:"offscreen",hidden:!0},children:te(e.items,(e=>Pt(this,ut,"m",wt).call(this,e)))}))}};mt=new WeakMap,gt=new WeakMap,vt=new WeakMap,ut=new WeakSet,bt=function e(t){const n=G(t,z("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:("parent"==t.type?[z("e-treeitemgroup",{properties:{slot:"group"},children:te(t.childItems,(t=>Pt(this,ut,"m",e).call(this,t)))})]:[]).concat([z("span",{properties:{className:"label"}})]).concat("parent"==t.type?[z("span",{properties:{className:"badge"}})]:[]).concat([z("e-toolbar",{properties:{tabIndex:0},children:[z("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,o)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=o);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${o})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=o?"Hide":"Show",e.checked=o)}}}}));return Pt(this,vt,"f").set(t,new WeakRef(n)),n},wt=function(e){const t=G(e,z("span",{properties:{className:"dragimage"}}),["label"],((e,t,n,o)=>{e.textContent=o}));return Pt(this,gt,"f").set(e,new WeakRef(t)),t},yt=function(e){const{currentTarget:t,target:n}=e,{model:o}=this;if(t instanceof it&&n instanceof Ge){const{dataTransfer:n}=e,s=t.selectedItems(),{length:i}=s;if(i>0){const e=s.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),i=e[e.length-1],r=o.getItemByUri(i);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},Et=function(e){const{currentTarget:t,target:n}=e,{model:o}=this,{sortFunction:s}=o;if(t instanceof it&&n instanceof Ge){const{dataTransfer:i}=e;if(i){const e=n.dataset.uri,r=o.getItemByUri(e),a=i.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>o.getItemByUri(e))).filter((e=>null!==e)),{type:i,parentItem:c}=r,l="parent"==i?r.childItems:c?c.childItems:o.childItems;Rt.from(e).remove(),s?(l.beginChanges(),l.append(...e),l.sort(s),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},xt=function(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,{model:i}=this;if(o instanceof it&&s instanceof Ge){const o=i.getItemByUri(s.dataset.uri),r=z("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n},children:[z("e-menuitemgroup",{properties:{tabIndex:-1},children:[z("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Rt.from(this.selectedItems()).display()}}}),z("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Rt.from(this.selectedItems()).remove()}}})]}),z("e-menuitemgroup",{properties:{tabIndex:-1},children:[z("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Rt.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{s.focus({preventScroll:!0})}}});document.body.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},kt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof it)switch(n){case"Delete":Rt.from(this.selectedItems()).remove(),e.preventDefault()}},Lt=St([V({name:"v-tree"})],Lt);var Ot=Lt,jt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};class At extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}jt([K({type:String})],At.prototype,"name",void 0),jt([K({type:String})],At.prototype,"value",void 0),jt([K({type:String})],At.prototype,"hotkey",void 0),jt([K({type:String,defaultValue:"button"})],At.prototype,"type",void 0),jt([K({type:Boolean})],At.prototype,"disabled",void 0),jt([K({type:Boolean})],At.prototype,"checked",void 0);var Mt,Wt,Ft,Dt=At;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Mt||(Mt={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Wt||(Wt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Ft||(Ft={})),new WeakSet;var _t,Bt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let Ht=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(_t.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(_t=z("template")).content.append(z("slot")),Bt([K({type:String})],Ht.prototype,"name",void 0),Bt([K({type:String})],Ht.prototype,"headers",void 0),Bt([K({type:String})],Ht.prototype,"type",void 0),Bt([K({type:Number})],Ht.prototype,"posinset",void 0),Bt([K({type:Boolean})],Ht.prototype,"droptarget",void 0),Bt([K({type:Boolean})],Ht.prototype,"active",void 0),Bt([K({type:Boolean,observed:!0})],Ht.prototype,"selected",void 0),Ht=Bt([V({name:"e-gridcell"})],Ht);var Kt,Vt,qt,$t=Ht;let zt=class extends HTMLElement{constructor(){super(),Kt.add(this);const e=this.attachShadow({mode:"open"});e.append(qt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,Kt,"m",Vt).bind(this))}};Kt=new WeakSet,Vt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(qt=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),z("slot")),zt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridrowgroup"})],zt);var Ut,Xt,Yt,Jt=zt,Gt=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Zt=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Qt=class extends Dt{constructor(){super(),Ut.add(this),this.attachShadow({mode:"open"}).append(Yt.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&Zt(this,Ut,"m",Xt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,Zt(this,Ut,"m",Xt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var en;Ut=new WeakSet,Xt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:s,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=i+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+s-r:l+s}px`),t.setProperty("top",`${p>0?c+n-a:c+o}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),f=i+r-h,u=n+a-d;t.setProperty("left",(f>0?s-r-p:i-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${u>0?o-a-l+w:n-l-b}px`)}}}},Yt=z("template",{content:[z("span",{part:["content"],children:[z("span",{part:["icon"]}),z("span",{part:["label"],children:[z("slot")]}),z("span",{part:["arrow"]})]}),z("slot",{properties:{name:"menu"}})]}),Gt([K({type:Boolean})],Qt.prototype,"active",void 0),Gt([K({type:Number})],Qt.prototype,"index",void 0),Gt([K({type:Boolean})],Qt.prototype,"expanded",void 0),Gt([K({type:String,defaultValue:"button",observed:!0})],Qt.prototype,"type",void 0),Gt([(en={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:o}=n,s=t.toString(),{selector:i}=en,r=en.withinShadowRoot?function(){return this.shadowRoot.querySelector(i)}:function(){return this.querySelector(i)};Object.defineProperty(o,s,{get:r})})],Qt.prototype,"menu",void 0),Qt=Gt([V({name:"e-menuitem"})],Qt);var tn,nn,on,sn=Qt,rn=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:i,menu:r}=e;return r&&(r.slot="menu"),z("e-menuitem",{properties:{tabIndex:-1,title:t,name:n,value:s,type:o,textContent:t},children:r?[r]:void 0,eventListeners:{trigger:i}})}),{prototype:sn.prototype,button:e=>new rn({...e,type:"button"}),checkbox:e=>new rn({...e,type:"checkbox"}),radio:e=>new rn({...e,type:"radio"}),menu:e=>new rn({...e,type:"menu"}),submenu:e=>new rn({...e,type:"submenu"})}),an=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let cn=class extends HTMLElement{constructor(){super(),tn.add(this);const e=this.attachShadow({mode:"open"});e.append(on.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,tn,"m",nn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};tn=new WeakSet,nn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof sn)).forEach(((e,t)=>{e.index=t}))},(on=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),z("slot")),an([K({type:String})],cn.prototype,"name",void 0),an([K({type:String,observed:!0})],cn.prototype,"label",void 0),cn=an([V({name:"e-menuitemgroup"})],cn);var ln,hn,dn,pn,fn,un,mn,gn,vn,bn,wn,yn,En,xn,kn,Tn,Sn,Pn,In,Cn,Rn,Nn,Ln,On,jn=cn,An=Object.assign((function(e){const{name:t,items:n}=e;return z("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:jn.prototype,radios:e=>{const{name:t,items:n}=e;return z("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new rn({name:t,label:e,type:"radio",value:n})))})}}),Mn=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Wn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Fn=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let Dn=Nn=class extends HTMLElement{constructor(){super(),ln.add(this),hn.set(this,void 0),dn.set(this,void 0),Fn(this,dn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Wn(this,ln,"m",un).bind(this)),"f"),Fn(this,hn,-1,"f"),this.items=this.getElementsByTagName("e-menuitem"),this.attachShadow({mode:"open"}).append(Ln.content.cloneNode(!0)),this.addEventListener("click",Wn(this,ln,"m",En).bind(this)),this.addEventListener("mouseover",Wn(this,ln,"m",Cn).bind(this)),this.addEventListener("mouseout",Wn(this,ln,"m",In).bind(this)),this.addEventListener("focusin",Wn(this,ln,"m",xn).bind(this)),this.addEventListener("focusout",Wn(this,ln,"m",kn).bind(this)),this.addEventListener("keydown",Wn(this,ln,"m",Pn).bind(this)),this.addEventListener("trigger",Wn(this,ln,"m",Rn).bind(this))}get activeItem(){return this.items.item(Wn(this,hn,"f"))}get activeIndex(){return Wn(this,hn,"f")}connectedCallback(){const{contextual:e}=this;e&&Wn(this,ln,"m",pn).call(this)}};hn=new WeakMap,dn=new WeakMap,ln=new WeakSet,pn=function(){const{contextX:e,contextY:t}=this,{style:n}=this,{width:o,height:s}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window,a=e+i,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+o-l,p=c+s-h;n.setProperty("left",`${d>0?a-o:a}px`),n.setProperty("top",`${p>0?c-s:c}px`)},fn=function(){Array.from(this.items).forEach((e=>{e.expanded&&e.collapse()}))},un=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},mn=function(){const e=Wn(this,dn,"f");return e.currentNode=e.root,e.firstChild()},gn=function(){const e=Wn(this,dn,"f");return e.currentNode=e.root,e.lastChild()},vn=function(e){const t=Wn(this,dn,"f");return t.currentNode=e,t.previousNode()},bn=function(e){const t=Wn(this,dn,"f");return t.currentNode=e,t.nextNode()},wn=function(e){const{menu:t}=e;return t instanceof Nn?Wn(t,ln,"m",mn).call(t):null},yn=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0,Fn(this,hn,Array.from(n).indexOf(e),"f")),null==e&&Fn(this,hn,-1,"f")},En=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;o&&o.trigger()},xn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;o&&Wn(this,ln,"m",yn).call(this,o)},kn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Wn(this,ln,"m",yn).call(this,null)}}},Tn=async function(e,t){return new Promise(((n,o)=>{const s=setTimeout((()=>{n(void 0)}),t??0);On.set(e,{clear:()=>{clearTimeout(s),o()}})})).then((()=>{On.delete(e)}))},Sn=function(e){const t=On.get(e);void 0!==t&&(On.delete(e),t.clear())},Pn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Wn(this,ln,"m",vn).call(this,n)??Wn(this,ln,"m",gn).call(this):Wn(this,ln,"m",mn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Wn(this,ln,"m",bn).call(this,n)??Wn(this,ln,"m",mn).call(this):Wn(this,ln,"m",mn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Wn(this,ln,"m",mn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Wn(this,ln,"m",gn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Wn(this,ln,"m",wn).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Vn))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Wn(this,ln,"m",wn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},In=function(e){const{target:t,relatedTarget:n}=e,{items:o}=this,s=Array.from(o).find((e=>e.contains(t)))??null;if("submenu"!=s?.type||s.expanded||Wn(this,ln,"m",Sn).call(this,s),e.composedPath().find((e=>e instanceof Vn))==this){const{clientX:t,clientY:o}=e,{left:s,right:i,top:r,bottom:a}=this.getBoundingClientRect(),c=!(s>t||i<t||r>o||a<o),l=this.contains(n);if(c&&l)if(n instanceof Vn&&n!==this)n.focus({preventScroll:!0});else{const e=Wn(this,hn,"f");this.focus({preventScroll:!0}),Wn(this,ln,"m",yn).call(this,null),Fn(this,hn,e,"f")}c||(this.focus({preventScroll:!0}),Wn(this,ln,"m",yn).call(this,null))}},Cn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n).find((e=>e.contains(t)))??null;if("submenu"==o?.type&&o.expanded&&Wn(this,ln,"m",Sn).call(this,o),e.composedPath().find((e=>e instanceof Vn))==this){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Wn(this,ln,"m",Sn).call(this,e),Wn(this,ln,"m",Tn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==o&&(Wn(this,ln,"m",yn).call(this,o),o.focus({preventScroll:!0}),"submenu"==o.type&&(o.expanded?o.menu?.focus({preventScroll:!0}):(Wn(this,ln,"m",Sn).call(this,o),Wn(this,ln,"m",Tn).call(this,o,200).then((()=>{const{activeItem:e}=this;Wn(this,ln,"m",fn).call(this),e&&(Wn(this,ln,"m",Sn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},Rn=function(e){const{target:t}=e,n=e.composedPath(),{contextual:o}=this;if(t instanceof sn){if(n.find((e=>e instanceof Vn))==this){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(this.items).filter((e=>"radio"==e.type&&e.name===n)).forEach((e=>{e.checked=e.value==o}))}if(o)try{this.remove()}catch(e){}}},Ln=z("template",{content:[z("slot")]}),On=new WeakMap,Mn([K({type:String})],Dn.prototype,"name",void 0),Mn([K({type:Boolean})],Dn.prototype,"contextual",void 0),Mn([K({type:Number,defaultValue:0})],Dn.prototype,"contextX",void 0),Mn([K({type:Number,defaultValue:0})],Dn.prototype,"contextY",void 0),Dn=Nn=Mn([V({name:"e-menu"})],Dn);var _n,Bn,Hn,Kn,Vn=Dn,qn=Object.assign((function(e){const{name:t,children:n}=e;return z("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:Vn.prototype}),$n=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},zn=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Un=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Xn=class extends HTMLElement{constructor(){super(),_n.add(this),Bn.set(this,void 0),zn(this,Bn,null,"f"),this.cells=new oo(this);const e=this.attachShadow({mode:"open"});e.append(Kn.content.cloneNode(!0)),e.addEventListener("slotchange",Un(this,_n,"m",Hn).bind(this))}get menu(){return Un(this,Bn,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};Bn=new WeakMap,_n=new WeakSet,Hn=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];zn(this,Bn,e instanceof Vn?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))}},(Kn=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),z("slot"),z("slot",{properties:{name:"menu"}})),$n([K({type:String})],Xn.prototype,"name",void 0),$n([K({type:Boolean})],Xn.prototype,"active",void 0),$n([K({type:Boolean})],Xn.prototype,"selected",void 0),$n([K({type:Number})],Xn.prototype,"posinset",void 0),Xn=$n([V({name:"e-gridrow"})],Xn);var Yn,Jn,Gn,Zn=Xn,Qn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};Jn=new WeakMap,Yn=new WeakSet,Gn=function(e){return e instanceof $t?NodeFilter.FILTER_ACCEPT:e instanceof uo||e instanceof Jt||e instanceof Zn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var eo,to,no,oo=class{constructor(e){Yn.add(this),Jn.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Jn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Qn(this,Yn,"m",Gn).bind(this)),"f")}get length(){const e=Qn(this,Jn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=Qn(this,Jn,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=Qn(this,Jn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=Qn(this,Jn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},so=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};to=new WeakMap,eo=new WeakSet,no=function(e){return e instanceof uo?NodeFilter.FILTER_SKIP:e instanceof Zn?NodeFilter.FILTER_ACCEPT:e instanceof Jt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var io,ro,ao,co=class{constructor(e){eo.add(this),to.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,to,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,so(this,eo,"m",no).bind(this)),"f")}get length(){const e=so(this,to,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=so(this,to,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=so(this,to,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=so(this,to,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let lo=class extends HTMLElement{constructor(){super(),io.add(this),this.cells=new oo(this),this.rows=new co(this);const e=this.attachShadow({mode:"open"});e.append(ao.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,io,"m",ro).bind(this))}};io=new WeakSet,ro=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(ao=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),z("slot")),lo=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridbody"})],lo);var ho,po,fo,uo=lo;let mo=class extends HTMLElement{constructor(){super(),ho.add(this),this.cells=new oo(this),this.rows=new co(this);const e=this.attachShadow({mode:"open"});e.append(fo.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ho,"m",po).bind(this))}};ho=new WeakSet,po=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(fo=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),z("slot")),mo=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridhead"})],mo);var go,vo,bo,wo,yo,Eo,xo,ko,To,So,Po,Io,Co,Ro,No,Lo,Oo,jo,Ao,Mo,Wo,Fo,Do,_o,Bo,Ho,Ko,Vo,qo,$o,zo,Uo,Xo,Yo,Jo,Go,Zo,Qo,es,ts,ns,os,ss=mo,is=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},rs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},as=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class cs extends HTMLElement{constructor(){super(),go.add(this),yo.set(this,void 0),Eo.set(this,void 0),xo.set(this,void 0),ko.set(this,void 0),To.set(this,void 0),So.set(this,void 0),as(this,To,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,rs(this,go,"m",Po).bind(this)),"f"),as(this,So,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,rs(this,go,"m",Io).bind(this)),"f"),as(this,yo,-1,"f"),as(this,Eo,-1,"f"),as(this,xo,!1,"f"),as(this,ko,!1,"f"),this.cells=new oo(this),this.rows=new co(this);const e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[rs(cs,vo,"f",wo)],e.append(rs(cs,vo,"f",bo).content.cloneNode(!0)),this.addEventListener("contextmenu",rs(this,go,"m",Go).bind(this)),this.addEventListener("click",rs(this,go,"m",Zo).bind(this)),this.addEventListener("focus",rs(this,go,"m",es).bind(this)),this.addEventListener("focusin",rs(this,go,"m",ts).bind(this)),this.addEventListener("keydown",rs(this,go,"m",Qo).bind(this)),this.addEventListener("select",rs(this,go,"m",ns).bind(this)),e.addEventListener("slotchange",rs(this,go,"m",os).bind(this))}get activeCellIndex(){return rs(this,yo,"f")}get activeCell(){return this.cells.item(rs(this,yo,"f"))??null}get activeRowIndex(){return rs(this,Eo,"f")}get activeRow(){return this.rows.item(rs(this,Eo,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof uo))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof ss))??null}beginSelection(){as(this,xo,!0,"f")}endSelection(){as(this,xo,!1,"f"),rs(this,ko,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),as(this,ko,!1,"f"))}clearSelection(){rs(this,go,"m",Wo).call(this),rs(this,go,"m",Fo).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}}vo=cs,yo=new WeakMap,Eo=new WeakMap,xo=new WeakMap,ko=new WeakMap,To=new WeakMap,So=new WeakMap,go=new WeakSet,Po=function(e){return e instanceof $t&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof uo||e instanceof Jt||e instanceof Zn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Io=function(e){return e instanceof Zn&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof uo||e instanceof Jt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Co=function(e,t){const n=Array.from(this.cells.values()),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]},Ro=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=rs(this,go,"m",Xo).call(this,e);for(;o&&o!==t;)n.push(o),o=rs(this,go,"m",Xo).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=rs(this,go,"m",Uo).call(this,e);for(;o&&o!==t;)n.push(o),o=rs(this,go,"m",Uo).call(this,o);return n.push(t),n}return[]},No=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Lo=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Oo=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},jo=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ao=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Mo=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Wo=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Fo=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Do=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),rs(this,To,"f").currentNode=e,e.active=!0,e.tabIndex=0;const o=rs(this,go,"m",qo).call(this,e);o&&rs(this,go,"m",_o).call(this,o),as(this,yo,Array.from(n.values()).indexOf(e),"f")},_o=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),rs(this,So,"f").currentNode=e,e.active=!0,e.tabIndex=0,as(this,Eo,Array.from(n.values()).indexOf(e),"f")},Bo=function(e){const t=rs(this,To,"f");return t.currentNode=e,t.firstChild()},Ho=function(e){const t=rs(this,To,"f");return t.currentNode=e,t.lastChild()},Ko=function(e){const t=rs(this,To,"f");return t.currentNode=e,t.previousNode()},Vo=function(e){const t=rs(this,To,"f");return t.currentNode=e,t.nextNode()},qo=function(e){const t=rs(this,So,"f");return t.currentNode=e,t.parentNode()},$o=function(){const e=rs(this,So,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},zo=function(){const e=rs(this,So,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Uo=function(e){const t=rs(this,So,"f");return t.currentNode=e,t.previousNode()},Xo=function(e){const t=rs(this,So,"f");return t.currentNode=e,t.nextNode()},Yo=function(e){const t=rs(this,go,"m",qo).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),s=rs(this,go,"m",Uo).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(o,e.length))}}return null},Jo=function(e){const t=rs(this,go,"m",qo).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),s=rs(this,go,"m",Xo).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(o,e.length))}}return null},Go=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof uo))?t.find((e=>e instanceof $t)):null;n instanceof $t&&(this.selectedCells().includes(n)||rs(this,go,"m",No).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof uo))?t.find((e=>e instanceof Zn)):null;n instanceof Zn&&(this.selectedRows().includes(n)||rs(this,go,"m",Lo).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},Zo=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:o}=this;switch(o){case"cell":{const o=e.composedPath(),s=o.find((e=>e instanceof uo))?o.find((e=>e instanceof $t)):null,i=this.selectedCells();if(s instanceof $t)if(n||t){if(t)s.selected?rs(this,go,"m",Ao).call(this,s):rs(this,go,"m",Oo).call(this,s),e.stopPropagation();else if(n){const t=i[i.length-1];if(t){const e=rs(this,go,"m",Co).call(this,t,s);e&&(i.includes(s)?rs(this,go,"m",Ao).call(this,...e):rs(this,go,"m",Oo).call(this,...e))}else rs(this,go,"m",No).call(this,s);e.stopPropagation()}}else rs(this,go,"m",No).call(this,s);break}case"row":{const o=this.selectedRows(),s=e.composedPath(),i=s.find((e=>e instanceof uo))?s.find((e=>e instanceof Zn)):null;if(i instanceof Zn)if(n||t){if(t)i.selected?rs(this,go,"m",Mo).call(this,i):rs(this,go,"m",jo).call(this,i),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=rs(this,go,"m",Ro).call(this,t,i);e&&(o.includes(i)?rs(this,go,"m",Mo).call(this,...e):rs(this,go,"m",jo).call(this,...e))}else rs(this,go,"m",Lo).call(this,i);e.stopPropagation()}}else rs(this,go,"m",Lo).call(this,i);break}}},Qo=function(e){const{key:t}=e,{selectby:n,activeCell:o,activeRow:s}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=rs(this,go,"m",$o).call(this),t=e?rs(this,go,"m",Bo).call(this,e):null,n=rs(this,go,"m",zo).call(this),o=n?rs(this,go,"m",Ho).call(this,n):null;if(t&&o){const e=rs(this,go,"m",Co).call(this,t,o);e&&rs(this,go,"m",No).call(this,...e)}break}case"row":{const e=rs(this,go,"m",$o).call(this),t=rs(this,go,"m",zo).call(this);if(e&&t){const n=rs(this,go,"m",Ro).call(this,e,t);n&&rs(this,go,"m",Lo).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&o){const t=rs(this,go,"m",Ko).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?rs(this,go,"m",Ao).call(this,t):rs(this,go,"m",Oo).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&o){const t=rs(this,go,"m",Vo).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?rs(this,go,"m",Ao).call(this,t):rs(this,go,"m",Oo).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=s??rs(this,go,"m",$o).call(this),n=o?rs(this,go,"m",Yo).call(this,o):t?rs(this,go,"m",Bo).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?rs(this,go,"m",Ao).call(this,n):rs(this,go,"m",Oo).call(this,n))}break}case"row":{const t=s?rs(this,go,"m",Uo).call(this,s):rs(this,go,"m",$o).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?rs(this,go,"m",Mo).call(this,t):rs(this,go,"m",jo).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=s??rs(this,go,"m",zo).call(this),n=o?rs(this,go,"m",Jo).call(this,o):t?rs(this,go,"m",Ho).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?rs(this,go,"m",Ao).call(this,n):rs(this,go,"m",Oo).call(this,n))}}break;case"row":{const t=s?rs(this,go,"m",Xo).call(this,s):rs(this,go,"m",zo).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?rs(this,go,"m",Mo).call(this,t):rs(this,go,"m",jo).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(s){const e=rs(this,go,"m",Bo).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=rs(this,go,"m",$o).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(s){const e=rs(this,go,"m",Ho).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=rs(this,go,"m",zo).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":o&&(rs(this,go,"m",No).call(this,o),o.click());break;case"row":s&&(rs(this,go,"m",Lo).call(this,s),s.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":rs(this,go,"m",Wo).call(this);break;case"row":rs(this,go,"m",Fo).call(this)}this.focus(),e.stopPropagation()}},es=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},ts=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof $t&&rs(this,go,"m",Do).call(this,t);break;case"row":t instanceof Zn&&rs(this,go,"m",_o).call(this,t)}},ns=function(){rs(this,xo,"f")?as(this,ko,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},os=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Zn)).forEach(((e,t)=>{e.posinset=t}))},V({name:"e-grid"})(vo),bo={value:z("template",{content:[z("slot")]})},wo={value:function(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}(function(e){const t=e.indexOf("\n"),n=(e=e.substring(t+1)).match(/^[\s]*/);if(n){const t=e.substring(0,n[0].length);e=e.replaceAll(t,"").trimEnd()}return e}("\n            :host {\n                display: table;\n            }\n\n            :host([droptarget]) {\n                background-color: gainsboro;\n            }\n        "))},is([K({type:String})],cs.prototype,"name",void 0),is([K({type:String,defaultValue:"cell"})],cs.prototype,"selectby",void 0);var ls,hs,ds,ps,fs,us,ms,gs,vs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},bs=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class ws{constructor(e){ls.add(this),hs.set(this,void 0),bs(this,hs,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,vs(this,ls,"m",ds).bind(this)),"f")}get length(){const e=vs(this,hs,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=vs(this,hs,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=vs(this,hs,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return"radio"==o?.type?new Es(n,e):o}*values(){const e=vs(this,hs,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}hs=new WeakMap,ls=new WeakSet,ds=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ws.HTMLEMenuItemRadioListBase=(gs=class{constructor(e,t){ps.add(this),fs.set(this,void 0),us.set(this,void 0),bs(this,fs,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,vs(this,ps,"m",ms).bind(this)),"f"),bs(this,us,t,"f")}get value(){const e=vs(this,us,"f"),t=vs(this,fs,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=vs(this,us,"f"),t=vs(this,fs,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:s}=n;o==e&&"radio"==s&&(yield n),n=t.nextNode()}}},fs=new WeakMap,us=new WeakMap,ps=new WeakSet,ms=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},gs);var ys=ws,Es=ws.HTMLEMenuItemRadioListBase;delete ws.HTMLEMenuItemRadioListBase;var xs,ks,Ts,Ss,Ps,Is,Cs,Rs,Ns,Ls,Os,js,As,Ms,Ws,Fs,Ds,_s=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Bs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Hs=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let Ks=class extends HTMLElement{constructor(){super(),xs.add(this),ks.set(this,void 0),Ts.set(this,void 0),Hs(this,Ts,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Bs(this,xs,"m",Ss).bind(this)),"f"),this.items=new ys(this),Hs(this,ks,-1,"f"),this.attachShadow({mode:"open"}).append(Ds.content.cloneNode(!0)),this.addEventListener("click",Bs(this,xs,"m",Ms).bind(this)),this.addEventListener("focusin",Bs(this,xs,"m",Os).bind(this)),this.addEventListener("focusout",Bs(this,xs,"m",js).bind(this)),this.addEventListener("mouseover",Bs(this,xs,"m",As).bind(this)),this.addEventListener("keydown",Bs(this,xs,"m",Ws).bind(this)),this.addEventListener("trigger",Bs(this,xs,"m",Fs).bind(this))}get activeIndex(){return Bs(this,ks,"f")}get activeItem(){return this.items.item(Bs(this,ks,"f"))??null}};ks=new WeakMap,Ts=new WeakMap,xs=new WeakSet,Ss=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof jn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ps=function(){const e=Bs(this,Ts,"f");return e.currentNode=e.root,e.firstChild()},Is=function(){const e=Bs(this,Ts,"f");return e.currentNode=e.root,e.lastChild()},Cs=function(e){const t=Bs(this,Ts,"f");return t.currentNode=e,t.previousSibling()},Rs=function(e){const t=Bs(this,Ts,"f");return t.currentNode=e,t.nextSibling()},Ns=function(e){const{menu:t}=e;return t?t.items.item(0):null},Ls=function(e){const{activeItem:t,active:n,items:o}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Hs(this,ks,Array.from(o.values()).indexOf(e),"f")):Hs(this,ks,-1,"f")},Os=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Bs(this,xs,"m",Ls).call(this,o)},js=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Bs(this,xs,"m",Ls).call(this,null),this.active=!1}},As=function(e){const{target:t}=e,{active:n,activeItem:o,items:s}=this;if(t instanceof sn&&Array.from(s.values()).includes(t)&&t!==o&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Ms=function(e){const{target:t}=e,{active:n,activeItem:o,items:s}=this;if(t instanceof sn&&Array.from(s.values()).includes(t)){const e=!n;if(this.active=e,e){o&&!o.expanded&&o.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Ws=function(e){const{key:t}=e,{active:n}=this;let{activeItem:o}=this;switch(t){case"ArrowLeft":(o?Bs(this,xs,"m",Cs).call(this,o)??Bs(this,xs,"m",Is).call(this):Bs(this,xs,"m",Ps).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Bs(this,xs,"m",Ns).call(this,o)?.focus({preventScroll:!0});break;case"ArrowRight":(o?Bs(this,xs,"m",Rs).call(this,o)??Bs(this,xs,"m",Ps).call(this):Bs(this,xs,"m",Is).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Bs(this,xs,"m",Ns).call(this,o)?.focus({preventScroll:!0});break;case"Enter":o&&(this.active=!n,Bs(this,xs,"m",Ns).call(this,o)?.focus({preventScroll:!0}));break;case"Escape":n?(this.active=!1,o&&(o.collapse(),o.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},Fs=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.active=!1,this.focus({preventScroll:!0})},(Ds=z("template")).content.append(z("slot")),_s([K({type:String})],Ks.prototype,"name",void 0),_s([K({type:Boolean})],Ks.prototype,"active",void 0),Ks=_s([V({name:"e-menubar"})],Ks);var Vs,qs,$s,zs,Us,Xs,Ys,Js,Gs=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Zs=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Qs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ei=class extends HTMLElement{constructor(){super(),Vs.add(this),qs.set(this,void 0),Zs(this,qs,null,"f");const e=this.attachShadow({mode:"open"});e.append(z("span",{part:["content"],children:[z("span",{part:["icon"]}),z("span",{part:["label"]})]}),z("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",Qs(this,Vs,"m",Xs).bind(this)),this.addEventListener("click",Qs(this,Vs,"m",zs).bind(this)),this.addEventListener("focusout",Qs(this,Vs,"m",Us).bind(this)),this.addEventListener("trigger",Qs(this,Vs,"m",Js).bind(this)),e.addEventListener("slotchange",Qs(this,Vs,"m",Ys).bind(this))}get menu(){return Qs(this,qs,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,Qs(this,Vs,"m",$s).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};qs=new WeakMap,Vs=new WeakSet,$s=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:s,right:i}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=i+r-h,f=n+a-d;t.setProperty("left",`${p>0?l+i-r:l+s}px`),t.setProperty("top",`${f>0?c+n-a:c+o}px`)}},zs=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Us=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Xs=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Ys=function(e){const{target:t}=e,n=t.assignedElements()[0];Zs(this,qs,n instanceof Vn?n:null,"f")},Js=function(){this.collapse(),this.focus({preventScroll:!0})},Gs([K({type:String})],ei.prototype,"name",void 0),Gs([K({type:Boolean})],ei.prototype,"disabled",void 0),Gs([K({type:Boolean})],ei.prototype,"expanded",void 0),ei=Gs([V({name:"e-menubutton"})],ei);var ti,ni=ei,oi=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",z("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:ni.prototype}),si=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let ii=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ti.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(ti=z("template")).content.append(z("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),z("span",{part:["content"],children:[z("span",{part:["label"]})]})),si([K({type:String})],ii.prototype,"name",void 0),si([K({type:String})],ii.prototype,"value",void 0),si([K({type:String,observed:!0})],ii.prototype,"label",void 0),si([K({type:String})],ii.prototype,"description",void 0),si([K({type:Boolean})],ii.prototype,"disabled",void 0),si([K({type:Boolean})],ii.prototype,"active",void 0),si([K({type:Boolean})],ii.prototype,"selected",void 0),si([K({type:Boolean})],ii.prototype,"default",void 0),ii=si([V({name:"e-option"})],ii);var ri,ai=ii;let ci=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ri.content.cloneNode(!0))}};(ri=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),z("slot")),ci=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-optiongroup"})],ci);var li,hi,di,pi=ci,fi=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};hi=new WeakMap,li=new WeakSet,di=function(e){return e instanceof ai?NodeFilter.FILTER_ACCEPT:e instanceof pi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ui,mi,gi,vi,bi,wi,yi,Ei,xi,ki,Ti,Si,Pi,Ii,Ci,Ri,Ni,Li,Oi,ji,Ai=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Mi=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Wi=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let Fi=class extends Dt{constructor(){super(),ui.add(this),mi.set(this,void 0),gi.set(this,void 0),vi.set(this,void 0),Wi(this,mi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Mi(this,ui,"m",bi).bind(this)),"f"),Wi(this,gi,-1,"f"),Wi(this,vi,-1,"f"),this.options=new class{constructor(e){li.add(this),hi.set(this,void 0),function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?s.call(e,n):s?s.value=n:t.set(e,n)}(this,hi,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,fi(this,li,"m",di).bind(this)),"f")}get length(){const e=fi(this,hi,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=fi(this,hi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=fi(this,hi,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=fi(this,hi,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return o}*values(){const e=fi(this,hi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(ji.content.cloneNode(!0)),this.addEventListener("click",Mi(this,ui,"m",Ii).bind(this)),this.addEventListener("focusin",Mi(this,ui,"m",Ci).bind(this)),this.addEventListener("focusout",Mi(this,ui,"m",Ri).bind(this)),this.addEventListener("keydown",Mi(this,ui,"m",Ni).bind(this)),this.addEventListener("mouseover",Mi(this,ui,"m",Li).bind(this)),e.addEventListener("slotchange",Mi(this,ui,"m",Oi).bind(this))}get activeIndex(){return Mi(this,gi,"f")}get selectedIndex(){return Mi(this,vi,"f")}get activeOption(){return this.options.item(Mi(this,gi,"f"))??null}get selectedOption(){return this.options.item(Mi(this,vi,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Mi(this,ui,"m",Si).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Mi(this,ui,"m",Pi).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};mi=new WeakMap,gi=new WeakMap,vi=new WeakMap,ui=new WeakSet,bi=function(e){return e instanceof ai?NodeFilter.FILTER_ACCEPT:e instanceof pi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},wi=function(){const e=Mi(this,mi,"f");return e.currentNode=e.root,e.firstChild()},yi=function(){const e=Mi(this,mi,"f");return e.currentNode=e.root,e.lastChild()},Ei=function(e){const t=Mi(this,mi,"f");return t.currentNode=e,t.previousNode()},xi=function(e){const t=Mi(this,mi,"f");return t.currentNode=e,t.nextNode()},ki=function(e){e&&!e.disabled&&(this.value=e.value)},Ti=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,o=n.querySelector("[part='description']");o&&(o.textContent=e.description),Wi(this,gi,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else Wi(this,gi,-1,"f")},Si=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:o}=this,s=n.querySelector("[part='value']");s&&(s.textContent=e.label),e.selected=!0,o&&(o.selected=!1),Wi(this,vi,Array.from(t.values()).indexOf(e),"f")}}else Wi(this,gi,-1,"f")},Pi=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:o,left:s}=this.getBoundingClientRect(),{scrollX:i,scrollY:r}=window;n.setProperty("top",`${o+r}px`),n.setProperty("left",`${s+i}px`)},Ii=function(e){const{target:t}=e;t instanceof ai?(Mi(this,ui,"m",ki).call(this,t),this.collapse()):t==this&&this.toggle()},Ci=function(e){const{target:t}=e,{expanded:n}=this;t instanceof ai&&(n||this.expand(),Mi(this,ui,"m",Ti).call(this,t))},Ri=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Mi(this,ui,"m",Ti).call(this,null))},Ni=function(e){const{key:t}=e,{options:n,activeOption:o,selectedOption:s,selectedIndex:i,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==o){const e=Mi(this,ui,"m",Ei).call(this,o)??Mi(this,ui,"m",wi).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=Mi(this,ui,"m",Ei).call(this,s)??Mi(this,ui,"m",wi).call(this);e&&Mi(this,ui,"m",ki).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==o){const e=Mi(this,ui,"m",xi).call(this,o)??Mi(this,ui,"m",yi).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=Mi(this,ui,"m",xi).call(this,s)??Mi(this,ui,"m",yi).call(this);e&&Mi(this,ui,"m",ki).call(this,e)}e.stopPropagation();break;case"Home":{const t=Mi(this,ui,"m",wi).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Mi(this,ui,"m",ki).call(this,t)),e.stopPropagation();break}case"End":{const t=Mi(this,ui,"m",yi).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Mi(this,ui,"m",ki).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==o&&Mi(this,ui,"m",ki).call(this,o);else{const e=n.item(i);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:o}=this,{length:s}=t;if(1==s){const s=t.charCodeAt(0),i=Array.from(n.values()),r=i.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==s)),a=i.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==s&&t>o)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},Li=function(e){const{target:t}=e;t instanceof ai&&t.focus({preventScroll:!0})},Oi=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof ai));if(n.length>0){let e=null;null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Mi(this,ui,"m",wi).call(this)),console.log(e),n.forEach((t=>{t.selected=t==e})),null!==e&&Mi(this,ui,"m",Si).call(this,e)}},(ji=z("template")).content.append(z("div",{part:["content"],children:[z("label",{part:["label"]}),z("output",{part:["value"]})]}),z("div",{part:["options"],children:[z("slot"),z("hr",{part:["separator"]}),z("span",{part:["description"]})]})),Ai([K({type:String})],Fi.prototype,"name",void 0),Ai([K({type:String,observed:!0})],Fi.prototype,"label",void 0),Ai([K({type:String,observed:!0})],Fi.prototype,"value",void 0),Ai([K({type:String,defaultValue:"select",observed:!0})],Fi.prototype,"type",void 0),Ai([K({type:Boolean})],Fi.prototype,"expanded",void 0),Fi=Ai([V({name:"e-select"})],Fi);var Di,_i,Bi,Hi,Ki,Vi,qi,$i,zi,Ui,Xi,Yi,Ji,Gi,Zi=Fi,Qi=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},er=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},tr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let nr=class extends Dt{constructor(){super(),Di.add(this),_i.set(this,void 0),Bi.set(this,void 0),er(this,_i,null,"f"),er(this,Bi,null,"f");const e=this.attachShadow({mode:"open"});e.append(Yi.content.cloneNode(!0)),e.addEventListener("slotchange",tr(this,Di,"m",Xi).bind(this))}get menubutton(){return tr(this,_i,"f")}get select(){return tr(this,Bi,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&tr(this,Di,"m",Hi).call(this);break}}}};_i=new WeakMap,Bi=new WeakMap,Di=new WeakSet,Hi=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},Ki=function(e){const t=tr(this,Di,"m",zi).bind(this);Ji.set(e,t),e.addEventListener("keydown",t)},Vi=function(e){const t=Ji.get(e);t&&e.removeEventListener("keydown",t)},qi=function(e){const t=tr(this,Di,"m",Ui).bind(this);Gi.set(e,t),e.addEventListener("trigger",t)},$i=function(e){const t=Gi.get(e);t&&e.removeEventListener("trigger",t)},zi=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},Ui=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},Xi=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=tr(this,_i,"f");null!==e&&(tr(this,Di,"m",$i).call(this,e),tr(this,Di,"m",Vi).call(this,e));const n=t.assignedElements()[0];e=n instanceof ni?n:null,null!==e&&(tr(this,Di,"m",qi).call(this,e),tr(this,Di,"m",Ki).call(this,e)),er(this,_i,e,"f");break}case"select":{let e=tr(this,Bi,"f");null!==e&&tr(this,Di,"m",Vi).call(this,e);const n=t.assignedElements()[0];e=n instanceof Zi?n:null,null!==e&&tr(this,Di,"m",Ki).call(this,e),er(this,Bi,e,"f");break}}},Yi=z("template",{content:[z("span",{part:["content"],children:[z("span",{part:["icon"]}),z("span",{part:["label"]}),z("slot",{properties:{name:"select"}}),z("slot",{properties:{name:"menubutton"}})]})]}),Ji=new WeakMap,Gi=new WeakMap,Qi([K({type:Boolean})],nr.prototype,"active",void 0),Qi([K({type:String,observed:!0})],nr.prototype,"value",void 0),Qi([K({type:String})],nr.prototype,"name",void 0),Qi([K({type:String,observed:!0})],nr.prototype,"label",void 0),Qi([K({type:String})],nr.prototype,"type",void 0),nr=Qi([V({name:"e-toolbaritem"})],nr);var or,sr=nr,ir=Object.assign((function(e){const{label:t,name:n,type:o,value:s,trigger:i,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),z("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:s,type:o},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:i}})}),{prototype:sr.prototype,button:e=>new ir({...e,type:"button"}),checkbox:e=>new ir({...e,type:"checkbox"}),radio:e=>new ir({...e,type:"radio"}),menubutton:e=>new ir({...e,type:"menubutton"}),select:e=>new ir({...e,type:"select"})}),rr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let ar=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(or.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(or=z("template")).content.append(z("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),z("slot")),rr([K({type:String})],ar.prototype,"name",void 0),rr([K({type:String,observed:!0})],ar.prototype,"label",void 0),rr([K({type:Boolean,observed:!0})],ar.prototype,"disabled",void 0),ar=rr([V({name:"e-toolbaritemgroup"})],ar);var cr,lr,hr,dr,pr,fr,ur,mr,gr=ar,vr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},br=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};class wr{constructor(e){cr.add(this),lr.set(this,void 0),br(this,lr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,vr(this,cr,"m",hr).bind(this)),"f")}get length(){const e=vr(this,lr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=vr(this,lr,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=vr(this,lr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new Er(t.root,e):n}*values(){const e=vr(this,lr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}lr=new WeakMap,cr=new WeakSet,hr=function(e){return e instanceof sr?NodeFilter.FILTER_ACCEPT:e instanceof gr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},wr.HTMLEToolBarItemRadioListBase=(mr=class{constructor(e,t){dr.add(this),pr.set(this,void 0),fr.set(this,void 0),br(this,pr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,vr(this,dr,"m",ur).bind(this)),"f"),br(this,fr,t,"f")}get value(){const e=vr(this,fr,"f"),t=vr(this,pr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=vr(this,fr,"f"),t=vr(this,pr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:s}=n;o==e&&"radio"==s&&(yield n),n=t.nextNode()}}},pr=new WeakMap,fr=new WeakMap,dr=new WeakSet,ur=function(e){return e instanceof sr?NodeFilter.FILTER_ACCEPT:e instanceof gr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},mr);var yr=wr,Er=wr.HTMLEToolBarItemRadioListBase;delete wr.HTMLEToolBarItemRadioListBase;var xr,kr,Tr,Sr,Pr,Ir,Cr,Rr,Nr,Lr,Or,jr,Ar,Mr,Wr,Fr,Dr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},_r=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Br=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Hr=class extends HTMLElement{constructor(){super(),xr.add(this),kr.set(this,void 0),Tr.set(this,void 0),_r(this,Tr,-1,"f"),_r(this,kr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Br(this,xr,"m",Sr).bind(this)),"f"),this.items=new yr(this),this.attachShadow({mode:"open"}).append(Fr.content.cloneNode(!0)),this.addEventListener("change",Br(this,xr,"m",Lr).bind(this)),this.addEventListener("click",Br(this,xr,"m",Or).bind(this)),this.addEventListener("focusin",Br(this,xr,"m",jr).bind(this)),this.addEventListener("focusout",Br(this,xr,"m",Ar).bind(this)),this.addEventListener("keydown",Br(this,xr,"m",Mr).bind(this)),this.addEventListener("trigger",Br(this,xr,"m",Wr).bind(this))}get activeItem(){return this.items.item(Br(this,Tr,"f"))??null}get activeIndex(){return Br(this,Tr,"f")}};kr=new WeakMap,Tr=new WeakMap,xr=new WeakSet,Sr=function(e){return e instanceof sr?NodeFilter.FILTER_ACCEPT:e instanceof gr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pr=function(){const e=Br(this,kr,"f");return e.currentNode=e.root,e.firstChild()},Ir=function(){const e=Br(this,kr,"f");return e.currentNode=e.root,e.lastChild()},Cr=function(e){const t=Br(this,kr,"f");return t.currentNode=e,t.previousSibling()},Rr=function(e){const t=Br(this,kr,"f");return t.currentNode=e,t.nextSibling()},Nr=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,_r(this,Tr,Array.from(n.values()).indexOf(e),"f")):_r(this,Tr,-1,"f")},Lr=function(e){const{target:t}=e;if(t instanceof Zi){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:o}=e;if(t==n&&n&&"select"==o){const{value:t}=e,{value:o}=n;t!==o&&(e.value=o,e.trigger())}}}},Or=function(e){const{target:t}=e;if(t instanceof sr){const{type:e}=t;t.trigger()}},jr=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Br(this,xr,"m",Nr).call(this,o)},Ar=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Br(this,xr,"m",Nr).call(this,null)},Mr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Br(this,xr,"m",Cr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Br(this,xr,"m",Pr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Br(this,xr,"m",Rr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Br(this,xr,"m",Ir).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Br(this,xr,"m",Pr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Br(this,xr,"m",Ir).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Wr=function(e){const{target:t}=e;if(t instanceof sr){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(new Er(this,n).values()).forEach((e=>{e.checked=e.value==o}))}},(Fr=z("template")).content.append(z("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),z("slot")),Dr([K({type:String})],Hr.prototype,"name",void 0),Dr([K({type:String})],Hr.prototype,"orientation",void 0),Hr=Dr([V({name:"e-toolbar"})],Hr);var Kr=Hr,Vr=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let qr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),z("slot"))}};Vr([K({type:String})],qr.prototype,"name",void 0),qr=Vr([V({name:"e-tabpanel"})],qr);var $r,zr=qr,Ur=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Xr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Yr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Jr=class extends HTMLElement{constructor(){super(),$r.set(this,void 0),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),z("slot")),Xr(this,$r,null,"f")}get panel(){return Yr(this,$r,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Yr(this,$r,"f")&&e instanceof zr&&Xr(this,$r,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof zr&&Xr(this,$r,e,"f"),e&&(e.hidden=!this.active)}}};$r=new WeakMap,Ur([K({type:String})],Jr.prototype,"name",void 0),Ur([K({type:Boolean})],Jr.prototype,"disabled",void 0),Ur([K({type:Boolean,observed:!0})],Jr.prototype,"active",void 0),Ur([K({type:String,observed:!0})],Jr.prototype,"controls",void 0),Jr=Ur([V({name:"e-tab"})],Jr);var Gr,Zr=Jr,Qr=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},ea=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ta=class extends HTMLElement{constructor(){super(),Gr.set(this,void 0),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),z("slot")),this.tabs=[],Qr(this,Gr,1,"f")}get activeIndex(){return ea(this,Gr,"f")}get activeTab(){return this.tabs[ea(this,Gr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof Zr));this.tabs=t,Qr(this,Gr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof Zr&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Qr(this,Gr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Qr(this,Gr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Gr=new WeakMap,ta=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-tablist"})],ta);var na,oa,sa,ia,ra,aa,ca=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},la=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},ha=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let da=class extends HTMLElement{constructor(){super(),na.add(this),oa.set(this,void 0),sa.set(this,void 0),ia.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(aa.content.cloneNode(!0)),la(this,oa,null,"f"),la(this,ia,null,"f"),la(this,sa,null,"f"),e.addEventListener("slotchange",ha(this,na,"m",ra).bind(this))}get badge(){return ha(this,oa,"f")}get toolbar(){return ha(this,sa,"f")}get menu(){return ha(this,ia,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};oa=new WeakMap,sa=new WeakMap,ia=new WeakMap,na=new WeakSet,ra=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];la(this,sa,e instanceof Kr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];la(this,oa,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];la(this,ia,e instanceof Vn?e:null,"f");break}}},(aa=z("template")).content.append(z("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                            user-select: none;\n                        }\n                        \n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        [part="content"]:hover {\n                            background-color: whitesmoke;\n                        }\n\n                        :host([active]) [part="content"] {\n                            background-color: whitesmoke;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) [part="content"] {\n                            background-color: gainsboro;\n                        }\n\n                        [part="content"] {\n                            display: flex;\n                            line-height: 22px;\n                        }\n                        \n                        [part="label"] {\n                            order: 0;\n                            margin-right: auto;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="toolbar"]) {\n                            order: 1;\n                        }\n\n                        ::slotted([slot="badge"]) {\n                            order: 2;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="menu"]) {\n                            position: absolute;\n                        }\n                    '}}),z("div",{part:["content"],children:[z("span",{part:["label"]}),z("slot",{properties:{name:"toolbar"}}),z("slot",{properties:{name:"badge"}})]}),z("slot",{properties:{name:"menu"}})),ca([K({type:String})],da.prototype,"name",void 0),ca([K({type:Number})],da.prototype,"posinset",void 0),ca([K({type:String,observed:!0})],da.prototype,"label",void 0),ca([K({type:Boolean})],da.prototype,"droptarget",void 0),ca([K({type:Boolean})],da.prototype,"active",void 0),ca([K({type:Boolean,observed:!0})],da.prototype,"selected",void 0),da=ca([V({name:"e-listitem"})],da);var pa,fa,ua,ma=da;let ga=class extends HTMLElement{constructor(){super(),pa.add(this);const e=this.attachShadow({mode:"open"});e.append(ua.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,pa,"m",fa).bind(this))}};pa=new WeakSet,fa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ma)).forEach(((e,t)=>{e.posinset=t}))},(ua=z("template")).content.append(z("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),z("slot")),ga=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-listitemgroup"})],ga);var va,ba,wa,ya,Ea,xa,ka,Ta,Sa,Pa,Ia,Ca,Ra,Na,La,Oa,ja,Aa,Ma,Wa,Fa,Da,_a,Ba,Ha,Ka,Va,qa,$a,za,Ua,Xa,Ya=ga,Ja=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Ga=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Za=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let Qa=class extends HTMLElement{constructor(){super(),va.add(this),ba.set(this,void 0),wa.set(this,void 0),ya.set(this,void 0),Ea.set(this,void 0),xa.set(this,void 0),Za(this,xa,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ga(this,va,"m",ka).bind(this)),"f"),Za(this,wa,-1,"f"),Za(this,ba,-1,"f"),Za(this,ya,!1,"f"),Za(this,Ea,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Xa.content.cloneNode(!0)),this.addEventListener("contextmenu",Ga(this,va,"m",Ma).bind(this)),this.addEventListener("click",Ga(this,va,"m",Wa).bind(this)),this.addEventListener("dragend",Ga(this,va,"m",Fa).bind(this)),this.addEventListener("dragenter",Ga(this,va,"m",Da).bind(this)),this.addEventListener("dragover",Ga(this,va,"m",_a).bind(this)),this.addEventListener("dragleave",Ga(this,va,"m",Ba).bind(this)),this.addEventListener("dragstart",Ga(this,va,"m",Ha).bind(this)),this.addEventListener("drop",Ga(this,va,"m",Ka).bind(this)),this.addEventListener("focus",Ga(this,va,"m",qa).bind(this)),this.addEventListener("focusin",Ga(this,va,"m",$a).bind(this)),this.addEventListener("keydown",Ga(this,va,"m",Va).bind(this)),this.addEventListener("select",Ga(this,va,"m",za).bind(this)),e.addEventListener("slotchange",Ga(this,va,"m",Ua).bind(this))}get dropTargetItem(){return this.items[Ga(this,ba,"f")]??null}get activeIndex(){return Ga(this,wa,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){Za(this,ya,!0,"f")}endSelection(){Za(this,ya,!1,"f"),Ga(this,Ea,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Za(this,Ea,!1,"f"))}selectedItems(){const e=[],t=Ga(this,xa,"f");t.currentNode=t.root;let n=Ga(this,va,"m",La).call(this);for(;null!==n;)n.selected&&e.push(n),n=Ga(this,va,"m",Aa).call(this,n);return e}};ba=new WeakMap,wa=new WeakMap,ya=new WeakMap,Ea=new WeakMap,xa=new WeakMap,va=new WeakSet,ka=function(e){return e instanceof ma?NodeFilter.FILTER_ACCEPT:e instanceof Ya?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ta=function(e,t){const n=Array.from(this.items),o=n.indexOf(e),s=n.indexOf(t);return o>-1&&s>-1?e==t?[e]:n.slice(Math.min(o,s),Math.max(o,s)+1):[]},Sa=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Pa=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ia=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ca=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Ra=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),e.active=!0,e.tabIndex=0,Za(this,wa,Array.from(n).indexOf(e),"f")},Na=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,Za(this,ba,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,Za(this,ba,-1,"f"))},La=function(){const e=Ga(this,xa,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Oa=function(){const e=Ga(this,xa,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},ja=function(e){const t=Ga(this,xa,"f");return t.currentNode=e,t.previousNode()},Aa=function(e){const t=Ga(this,xa,"f");return t.currentNode=e,t.nextNode()},Ma=function(e){const{target:t}=e;t instanceof ma&&(this.selectedItems().includes(t)||Ga(this,va,"m",Sa).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},Wa=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,s=this.selectedItems();if(t instanceof ma)if(o||n){if(n)t.selected?Ga(this,va,"m",Ia).call(this,t):Ga(this,va,"m",Pa).call(this,t),e.stopPropagation();else if(o){const n=s[s.length-1];if(n){const e=Ga(this,va,"m",Ta).call(this,n,t);e&&(s.includes(t)?Ga(this,va,"m",Ia).call(this,...e):Ga(this,va,"m",Pa).call(this,...e))}else Ga(this,va,"m",Sa).call(this,t);e.stopPropagation()}}else Ga(this,va,"m",Sa).call(this,t)},Fa=function(){Ga(this,va,"m",Na).call(this,null)},Da=function(e){const{target:t}=e;t instanceof ma&&Ga(this,va,"m",Na).call(this,t),e.preventDefault()},_a=function(e){e.preventDefault()},Ba=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),o=n instanceof ShadowRoot?n.host:t;this.contains(o)||Ga(this,va,"m",Na).call(this,null)},Ha=function(e){const{target:t}=e;t instanceof ma&&(this.selectedItems().includes(t)||Ga(this,va,"m",Sa).call(this,t))},Ka=function(){Ga(this,va,"m",Na).call(this,null)},Va=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Ga(this,xa,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),o=(e.currentNode=e.parentNode()??t,e.lastChild()),s=Ga(this,va,"m",Ta).call(this,n,o);s&&Ga(this,va,"m",Sa).call(this,...s)}e.preventDefault();break}case"ArrowUp":if(n){const t=Ga(this,va,"m",ja).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ga(this,va,"m",Ia).call(this,t):Ga(this,va,"m",Pa).call(this,t))}}else{const e=Ga(this,va,"m",La).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Ga(this,va,"m",Aa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ga(this,va,"m",Ia).call(this,t):Ga(this,va,"m",Pa).call(this,t))}}else{const e=Ga(this,va,"m",Oa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Ga(this,va,"m",La).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ga(this,va,"m",Oa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Ga(this,va,"m",Sa).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Ga(this,va,"m",Ca).call(this),this.focus(),e.stopPropagation()}},qa=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},$a=function(e){const{target:t}=e;t instanceof ma&&Ga(this,va,"m",Ra).call(this,t)},za=function(){Ga(this,ya,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ua=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ma)).forEach(((e,t)=>{e.posinset=t}))},(Xa=z("template")).content.append(z("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),z("slot",{children:[z("slot")]})),Ja([K({type:String})],Qa.prototype,"name",void 0),Ja([K({type:Boolean})],Qa.prototype,"droptarget",void 0),Qa=Ja([V({name:"e-list"})],Qa);var ec,tc=Qa,nc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},oc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let sc=class extends HTMLElement{constructor(){super(),ec.set(this,void 0),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),z("div",{part:["container"],children:[z("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],oc(this,ec,null,"f")}get referee(){return function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ec,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return oc(e,ec,this,"f"),e}};ec=new WeakMap,nc([K({type:Boolean})],sc.prototype,"selected",void 0),nc([K({type:Boolean})],sc.prototype,"dragovered",void 0),nc([K({type:Boolean})],sc.prototype,"dragged",void 0),nc([K({type:Boolean})],sc.prototype,"disabled",void 0),sc=nc([V({name:"e-draggable"})],sc);var ic,rc,ac=sc,cc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},lc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},hc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let dc=class extends HTMLElement{constructor(){super(),ic.set(this,void 0),rc.set(this,void 0),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),z("div",{part:["container"],children:[z("slot")]})),lc(this,ic,[],"f"),lc(this,rc,[],"f")}get draggables(){return hc(this,ic,"f")}get selectedDraggables(){return hc(this,rc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),lc(this,rc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof ac));lc(this,ic,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),o=Math.sign(e-n),s=o>0?0:this.draggables.length-1,i=o>0?this.draggables.length-1:0,r=o>0?n:e,a=o>0?e:n;for(let e=s;e!==i+o;e+=o)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};ic=new WeakMap,rc=new WeakMap,cc([K({type:Boolean})],dc.prototype,"disabled",void 0),dc=cc([V({name:"e-dragzone"})],dc);var pc=dc,fc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let uc=class extends pc{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(z("div",{part:["appendarea"],children:[z("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,o=t.target;(o==this||this.draggables.includes(o))&&(o==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):o.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const o=e.dataTransfer;if(o){const e=o.getData("text/plain"),t=document.getElementById(e);if(t instanceof pc){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof mc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let o=[],s=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),s=s<0?t:s):(this.appendChild(n),s=s<0?this.draggables.length-1:s),o.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),o.push(t),s=0}const i=this.shadowRoot?.querySelector("slot");return i&&i.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:o,position:s}}))}),{once:!0}),o}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const o=this.shadowRoot?.querySelector("slot");o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};fc([K({type:String})],uc.prototype,"name",void 0),fc([K({type:String})],uc.prototype,"dragovered",void 0),fc([K({type:String,observed:!0})],uc.prototype,"placeholder",void 0),fc([K({type:Boolean})],uc.prototype,"multiple",void 0),uc=fc([V({name:"e-dropzone"})],uc);var mc=uc,gc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let vc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(z("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),z("div",{part:["header"],children:[z("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),z("hr",{part:["separator"]}),z("div",{part:["body"],children:[z("slot")]}),z("hr",{part:["separator"]}),z("div",{part:["actions"],children:[z("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),z("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),z("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};gc([K({type:String})],vc.prototype,"type",void 0),vc=gc([V({name:"e-dialog"})],vc);var bc,wc,yc,Ec,xc,kc,Tc,Sc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Pc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Ic=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Cc=class extends HTMLElement{constructor(){super(),bc.add(this),wc.set(this,void 0),yc.set(this,void 0),this.attachShadow({mode:"open"}).append(Tc.content.cloneNode(!0)),Pc(this,wc,null,"f"),Pc(this,yc,!1,"f"),this.addEventListener("pointerdown",Ic(this,bc,"m",xc).bind(this)),this.addEventListener("pointermove",Ic(this,bc,"m",kc).bind(this)),this.addEventListener("pointerup",Ic(this,bc,"m",Ec).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;Pc(this,wc,document.getElementById(e),"f");break}}}};wc=new WeakMap,yc=new WeakMap,bc=new WeakSet,Ec=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Pc(this,yc,!1,"f")},xc=function(e){const{pointerId:t}=e,{controls:n}=this;Pc(this,wc,document.getElementById(n),"f"),this.setPointerCapture(t),Pc(this,yc,!0,"f")},kc=function(e){if(Ic(this,yc,"f")){const t=Ic(this,wc,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:o,movementY:s}=e,{width:i,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(p+o),l-i)),u=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(u+s),d-r));t.style.setProperty("left",`${f}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Tc=z("template")).content.append(z("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),Sc([K({type:String,observed:!0})],Cc.prototype,"controls",void 0),Cc=Sc([V({name:"e-handle"})],Cc);var Rc,Nc,Lc,Oc,jc,Ac,Mc,Wc,Fc,Dc,_c=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Bc=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Hc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Kc=class extends HTMLElement{constructor(){super(),Rc.add(this),Nc.set(this,void 0),Lc.set(this,void 0),Oc.set(this,void 0),jc.set(this,void 0),this.attachShadow({mode:"open"}).append(Dc.content.cloneNode(!0)),Bc(this,Nc,null,"f"),Bc(this,Oc,null,"f"),Bc(this,jc,0,"f"),Bc(this,Lc,!1,"f"),this.addEventListener("pointerdown",Hc(this,Rc,"m",Mc).bind(this)),this.addEventListener("pointermove",Hc(this,Rc,"m",Wc).bind(this)),this.addEventListener("pointerup",Hc(this,Rc,"m",Ac).bind(this))}get target(){return Hc(this,Nc,"f")}};Nc=new WeakMap,Lc=new WeakMap,Oc=new WeakMap,jc=new WeakMap,Rc=new WeakSet,Ac=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Bc(this,Lc,!1,"f")},Mc=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();Bc(this,Nc,o.getElementById(n),"f"),this.setPointerCapture(t),Bc(this,Lc,!0,"f")},Wc=function(e){Hc(this,Lc,"f")&&(null==Hc(this,Oc,"f")?(Bc(this,jc,e.movementY,"f"),Bc(this,Oc,Hc(this,Rc,"m",Fc).bind(this),"f"),requestAnimationFrame(Hc(this,Oc,"f"))):Bc(this,jc,Hc(this,jc,"f")+e.movementY,"f"))},Fc=function(){const e=Hc(this,Nc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=Hc(this,jc,"f"),s=parseFloat(t.getPropertyValue("height")),i=Math.trunc(s+("top"==n?-1:1)*o);e.style.setProperty("height",`${i}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Bc(this,Oc,null,"f")},(Dc=z("template")).content.append(z("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),_c([K({type:String})],Kc.prototype,"controls",void 0),_c([K({type:String,defaultValue:"top"})],Kc.prototype,"growdir",void 0),Kc=_c([V({name:"e-hsash"})],Kc);var Vc,qc,$c=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};let zc=class extends HTMLElement{constructor(){super(...arguments),Vc.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,Vc,"m",qc).call(this,e)}};Vc=new WeakSet,qc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},$c([K({type:String})],zc.prototype,"src",void 0),zc=$c([V({name:"e-import"})],zc);var Uc,Xc,Yc,Jc,Gc,Zc=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Qc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},el=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n};let tl=class extends HTMLElement{constructor(){super(),Uc.add(this),Xc.set(this,void 0),this.attachShadow({mode:"open"}),Qc(this,Uc,"m",Yc).call(this),el(this,Xc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":Qc(this,Uc,"m",Yc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),el(this,Xc,e,"f")}get promise(){return Qc(this,Xc,"f")}};Xc=new WeakMap,Uc=new WeakSet,Yc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Gc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Jc.content.cloneNode(!0))}},(()=>{const e=z("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Jc=z("template")).content.append(t,z("div",{part:["bar"],children:[z("div",{part:["slider"],children:[z("div",{part:["cursor"]})]})]})),(Gc=z("template")).content.append(n,z("div",{part:["circle"]}))})(),Zc([K({type:String,defaultValue:"bar",observed:!0})],tl.prototype,"type",void 0),tl=Zc([V({name:"e-loader"})],tl);var nl,ol,sl,il,rl,al,cl,ll,hl,dl,pl=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},fl=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},ul=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ml=class extends HTMLElement{constructor(){super(),nl.add(this),ol.set(this,void 0),sl.set(this,void 0),il.set(this,void 0),rl.set(this,void 0),this.attachShadow({mode:"open"}).append(dl.content.cloneNode(!0)),fl(this,ol,null,"f"),fl(this,il,null,"f"),fl(this,rl,0,"f"),fl(this,sl,!1,"f"),this.addEventListener("pointerdown",ul(this,nl,"m",cl).bind(this)),this.addEventListener("pointermove",ul(this,nl,"m",ll).bind(this)),this.addEventListener("pointerup",ul(this,nl,"m",al).bind(this))}get target(){return ul(this,ol,"f")}setWidth(e){const t=ul(this,ol,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};ol=new WeakMap,sl=new WeakMap,il=new WeakMap,rl=new WeakMap,nl=new WeakSet,al=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),fl(this,sl,!1,"f")},cl=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();fl(this,ol,o.getElementById(n),"f"),this.setPointerCapture(t),fl(this,sl,!0,"f")},ll=function(e){ul(this,sl,"f")&&(null==ul(this,il,"f")&&(fl(this,il,ul(this,nl,"m",hl).bind(this),"f"),requestAnimationFrame(ul(this,il,"f"))),fl(this,rl,ul(this,rl,"f")+e.movementX,"f"))},hl=function(){const e=ul(this,ol,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=ul(this,rl,"f"),s=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*o;this.setWidth(s),this.dispatchEvent(new Event("resize"))}fl(this,rl,0,"f"),fl(this,il,null,"f")},(dl=z("template")).content.append(z("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),pl([K({type:String,observed:!0})],ml.prototype,"controls",void 0),pl([K({type:String,defaultValue:"right"})],ml.prototype,"growdir",void 0),pl([K({type:Boolean})],ml.prototype,"max",void 0),ml=pl([V({name:"e-wsash"})],ml);var gl,vl,bl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};new WeakMap,vl=new WeakMap,gl=new WeakSet;var wl,yl,El,xl,kl,Tl,Sl,Pl=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},Il=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Cl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Rl extends D{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new _(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Nl{constructor(e){wl.set(this,void 0),Il(this,wl,e,"f")}static from(e){return new Nl(e)}show(){Cl(this,wl,"f").forEach((e=>{e.show()}))}hide(){Cl(this,wl,"f").forEach((e=>{e.hide()}))}display(){const e=Cl(this,wl,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Cl(this,wl,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Rl){const{items:o}=n,s=e.get(o);s?s.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}wl=new WeakMap;class Ll extends D{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Rl?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Rl){const{items:t}=e;t&&t.remove(this)}}}Pl([M()],Ll.prototype,"visibility",void 0);let Ol=class extends Tt{constructor(e){super(),yl.add(this),El.set(this,void 0),xl.set(this,void 0),this.attachShadow({mode:"open"}),Il(this,El,new WeakMap,"f"),Il(this,xl,new WeakMap,"f"),this.setModel(e??new Rl)}getListElement(){const{model:e}=this;return Cl(this,El,"f").get(e)?.deref()??null}getListItemElement(e){return Cl(this,xl,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return $(z("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),z("slot"))}renderLight(){const{model:e}=this,t=z("e-list",{properties:{tabIndex:0},children:[z("e-listitemgroup",{children:te(e.items,(e=>Cl(this,yl,"m",kl).call(this,e)))})],eventListeners:{contextmenu:Cl(this,yl,"m",Tl).bind(this),keydown:Cl(this,yl,"m",Sl).bind(this)}});return Cl(this,El,"f").set(e,new WeakRef(t)),t}};El=new WeakMap,xl=new WeakMap,yl=new WeakSet,kl=function(e){const t=z("e-listitem",{properties:{tabIndex:-1,label:e.label,name:e.label,draggable:!0},dataset:{index:e.index},children:[z("e-toolbar",{properties:{slot:"toolbar",tabIndex:0},children:[z("e-toolbaritemgroup",{children:[ir.menubutton({name:"settings",label:"Actions",menubutton:new oi({menu:G(e,new qn({children:[new An({items:[rn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),rn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new An({items:[rn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,o)=>{const{items:s}=e;switch(t){case"visibility":{const e=s.namedItem("visibility");e.textContent=o?"Hide":"Show",e.title=o?"Hide":"Show"}}}))})}),G(e,z("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,o)=>{e.title=o?"Hide":"Show",e.checked=o}))]})]})]});return Cl(this,xl,"f").set(e,new WeakRef(t)),t},Tl=function(e){const{clientX:t,clientY:n,currentTarget:o,target:s}=e,{model:i}=this;if(o instanceof tc&&s instanceof ma){const o=i.getItemByIndex(parseInt(s.dataset.index)),r=z("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n,slot:"menu"},children:[z("e-menuitemgroup",{properties:{tabIndex:-1},children:[z("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Nl.from(this.selectedItems()).display()}}}),z("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Nl.from(this.selectedItems()).remove()}}})]}),z("e-menuitemgroup",{properties:{tabIndex:-1},children:[z("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Nl.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{s.focus({preventScroll:!0})}}});s.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},Sl=function(e){const{currentTarget:t,key:n}=e;if(t instanceof tc)switch(n){case"Delete":Nl.from(this.selectedItems()).remove(),e.preventDefault()}},Ol=Pl([V({name:"v-list"})],Ol);var jl,Al,Ml,Wl,Fl,Dl,_l,Bl,Hl,Kl,Vl,ql=Ol,$l=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},zl=function(e,t,n,o,s){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?s.call(e,n):s?s.value=n:t.set(e,n),n},Ul=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Xl extends D{constructor(e){super();const t=new _(e?.rows??[]);t.setParent(this),this.rows=t;const n=new _(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,o)=>{const s=e.extract(n).toString(),i=e.extract(o).toString();return t*s.localeCompare(i)}))}}class Yl extends D{constructor(e){super();const{name:t,label:n,type:o,extract:s}=e;this.name=t,this.label=n,this.type=o,this.extract=s,this.filters=e.filters??[],this.sortorder=1}}$l([M()],Yl.prototype,"sortorder",void 0);class Jl extends D{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}$l([M()],Jl.prototype,"name",void 0),$l([M()],Jl.prototype,"age",void 0);let Gl=class extends Tt{constructor(e){super(),jl.add(this),Al.set(this,void 0),Ml.set(this,void 0),Wl.set(this,void 0),Fl.set(this,void 0),Dl.set(this,void 0),zl(this,Wl,[],"f"),zl(this,Fl,null,"f"),zl(this,Dl,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Xl),zl(this,Ml,((e,t)=>z("label",{properties:{textContent:t.extract(e)}})),"f"),zl(this,Al,(e=>z("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){zl(this,Al,e,"f")}setCellDelegate(e){zl(this,Ml,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Ul(this,Dl,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return $(z("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),z("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),z("div",{children:[z("input",{properties:{type:"search"},eventListeners:{input:Ul(this,jl,"m",Kl).bind(this)}})]}),z("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[z("e-gridhead",{children:[z("e-gridrow",{children:te(e.columns,(e=>Ul(this,jl,"m",_l).call(this,e)))})]}),z("e-gridbody",{children:te(e.rows,(e=>Ul(this,jl,"m",Bl).call(this,e)))})]}))}setSearchFilter(e){zl(this,Fl,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Ul(this,Wl,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Ul(this,Wl,"f").includes(e)||(Ul(this,Wl,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Ul(this,Wl,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Ul(this,Wl,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Ul(this,Wl,"f").every((t=>t.filter(e))))})));const{gridElement:o}=this;o.beginSelection(),o.selectedRows().forEach((e=>e.selected=!1)),o.endSelection()}};Al=new WeakMap,Ml=new WeakMap,Wl=new WeakMap,Fl=new WeakMap,Dl=new WeakMap,jl=new WeakSet,_l=function(e){const{model:t}=this;return G(e,z("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[z("span",{properties:{className:"gridcell-content"},children:[z("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:Ul(this,jl,"m",Vl).bind(this)}}),z("e-toolbar",{properties:{tabIndex:-1},children:[z("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[z("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[z("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[z("e-menuitem",{properties:{type:"button",textContent:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),z("e-menuitem",{properties:{type:"submenu",textContent:"Sort",tabIndex:-1},children:[G(e,z("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[z("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Ascending",value:"1",tabIndex:-1}}),z("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:o}=n,s=o.value;t.sortByColumn(e,parseInt(s))}}}),["sortorder"],((e,t,n,o)=>{Array.from(e.items).filter((e=>e.name.startsWith("sort"))).forEach((e=>{e.checked=parseInt(e.value)===o}))}))]}),z("e-menuitem",{properties:{type:"submenu",textContent:"Filter",tabIndex:-1},children:[z("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>z("e-menuitem",{properties:{tabIndex:-1,textContent:e.name,type:"checkbox",checked:Ul(this,Wl,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof sn){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[z("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,o)=>{switch(t){case"sortorder":void 0!==o?e.dataset.sortorder=o.toString():delete e.dataset.sortorder}}))},Bl=function(e){const{model:t}=this,n=z("e-gridrow",{properties:{tabIndex:-1},children:te(t.columns,(t=>Ul(this,jl,"m",Hl).call(this,e,t)))});return Ul(this,Dl,"f").set(e,new WeakRef(n)),n},Hl=function(e,t){return z("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[Ul(this,Ml,"f").call(this,e,t)]})},Kl=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Vl=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:o}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(o.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},$l([K({type:Boolean,observed:!0})],Gl.prototype,"resizable",void 0),$l([K({type:Boolean,observed:!0})],Gl.prototype,"sortable",void 0),Gl=$l([V({name:"v-grid"})],Gl);var Zl,Ql,eh,th=Gl,nh=function(e,t,n,o){var s,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},oh=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class sh extends D{constructor(e){super(),this.name=e?.name,this.items=new _(e?.items??[])}}nh([M()],sh.prototype,"items",void 0),nh([M()],sh.prototype,"name",void 0);class ih extends D{constructor(e){super();const{name:t,label:n,type:o,menu:s}=e;this.name=t,this.label=n,this.type=o,this.menu=s}}nh([M()],ih.prototype,"name",void 0),nh([M()],ih.prototype,"label",void 0),nh([M()],ih.prototype,"type",void 0),nh([M()],ih.prototype,"menu",void 0);let rh=class extends Tt{constructor(e){super(),Zl.add(this),this.setModel(e??new sh)}renderLight(){const{model:e}=this;return oh(this,Zl,"m",Ql).call(this,e).element}};Zl=new WeakSet,Ql=function(e){return U("menu",{children:te(e.items,(e=>oh(this,Zl,"m",eh).call(this,e).element))})},eh=function(e){return G(e,U("menuitem",e.menu?{properties:{menu:oh(this,Zl,"m",Ql).call(this,e.menu)}}:{}),["label","name"],((e,t,n,o)=>{switch(t){case"label":e.label=o}}))},rh=nh([V({name:"v-menu"})],rh);var ah=rh;async function ch(){const e=new Ot,t=new Ct({items:[new Nt({label:"TI 0",type:"parent",items:[new Nt({label:"TI 1A",type:"parent",items:[new Nt({type:"leaf",label:"TI 1AX"})]}),new Nt({type:"parent",label:"TI 1B"})]}),new Nt({label:"TI 1",type:"parent",items:[new Nt({label:"TI 1A",type:"parent",items:[new Nt({type:"leaf",label:"TI 1AX"})]}),new Nt({type:"parent",label:"TI 1B"})]}),new Nt({type:"leaf",label:"TI 2"}),new Nt({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:o}=t;return o.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Nt({label:"yo",type:"parent",items:[new Nt({type:"leaf",label:"plop"})]}));const n=new ql;n.setModel(new Rl({items:[new Ll({label:"Hey"}),new Ll({label:"Yo"})]})),document.body.append(n);const o=new th;o.resizable=!0,o.sortable=!0,o.setColumnDelegate((e=>$(z("label",{properties:{textContent:e.label}})))),o.setModel(new Xl({columns:[new Yl({name:"name",label:"Name",type:String,extract:e=>e.name}),new Yl({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Jl({name:"Denis",age:13}),new Jl({name:"Jean-Charles",age:32}),new Jl({name:"Charles",age:25})]}));const s=new ah(new sh({items:[new ih({name:"MenuItem A1",label:"MenuItem A1",type:"submenu",menu:new sh({name:"MenuItem A2",items:[new ih({name:"MenuItem B1",label:"MenuItem B1",type:"checkbox"}),new ih({name:"MenuItem B2",label:"MenuItem B2",type:"checkbox"})]})})]}));document.body.append(s),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(q(e)).forEach((e=>{e instanceof Dt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(q(e)).forEach((e=>{e instanceof Dt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){e.element.addEventListener("focusin",this),this._widgets.push(e)}unregisterWidget(e){this._widgets.includes(e)&&(e.element.removeEventListener("focusin",this),this._widgets.splice(this._widgets.indexOf(e),1))}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:o,checked:s}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,s);break;case"radio":this.executeRadioAction(t,o)}}));break;case"trigger":if(t instanceof Dt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,o){const s=o?.hotkey,i=o?.key,r=o?.value,a=o?.checked,c={name:e,trigger:t,key:i,type:n};r&&(c.value=r),void 0!==i&&void 0!==r&&localStorage.setItem(i,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return s&&(this._hotkeys[l]=s),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const o=this._actions.findIndex((t=>t.name==e));if(o>-1){const s=this._actions[o];let i;switch(t){case"radio":i=s.value??"";break;case"checkbox":i=s.value??!1}s.trigger(i,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:o,key:s}=e;e.value=t,s&&localStorage.setItem(s,t);const i=this._actionElements[n];if(i)switch(o){case"radio":i.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":i.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const o=this._actions[n],{type:s,value:i,checked:r}=o;switch(s){case"radio":"radio"==t.type?t.checked=t.value==i:"select"==t.type&&(t.value=i);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map