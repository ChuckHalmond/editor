var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Vl});var n,s=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};n=new WeakMap;var i,o,r,a,c,l,h,d,p,u,f,m,g,v,b,w,y,E,x,k=new class{constructor(){n.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,n,new Map,"f")}define(e,t){s(this,n,"f").set(e,t)}create(e,t){const i=s(this,n,"f").get(e);if(void 0!==i)return i.create(t);throw new Error(`Unknown widget ${e}`)}},T=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},S=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class I{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new P(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new P(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return I.PROPERTY_CHANGE}get LIST_REMOVE(){return I.LIST_REMOVE}get LIST_INSERT(){return I.LIST_INSERT}get LIST_SORT(){return I.LIST_SORT}}var C=I;i=new WeakMap;var P=class{constructor(e){i.set(this,void 0),T(this,i,e.slice(),"f")}get length(){return S(this,i,"f").length}item(e){return S(this,i,"f")[e]??null}values(){return S(this,i,"f").values()}};class L{constructor(e){o.set(this,void 0),r.set(this,void 0),this.type=e,T(this,o,null,"f"),T(this,r,null,"f")}get currentTarget(){return S(this,o,"f")}get target(){return S(this,r,"f")}}o=new WeakMap,r=new WeakMap,L.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof L&&T(e,o,t,"f")}setTarget(e,t){e instanceof L&&T(e,r,t,"f")}};var N=L.ModelEventTargetAccessor;delete L.ModelEventTargetAccessor;var R=L;a=new WeakMap;class A extends class{constructor(){a.set(this,void 0),T(this,a,new Map,"f")}receiveEvent(e){const{type:t}=e,n=S(this,a,"f").get(t);N.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=S(this,a,"f").get(e);n?n.push(t):S(this,a,"f").set(e,[t])}removeEventListener(e,t){const n=S(this,a,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&S(this,a,"f").delete(e)}}dispatchEvent(e){N.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),c.add(this),l.set(this,void 0),h.set(this,void 0),d.set(this,void 0),T(this,l,null,"f"),T(this,h,[],"f"),T(this,d,!1,"f")}get parentNode(){return S(this,l,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");T(this,l,e,"f")}else T(this,l,null,"f")}beginChanges(){T(this,d,!0,"f")}endChanges(){this.dispatchEvent(new R("modelchange")),S(this,h,"f").splice(0),T(this,d,!1,"f")}getRecords(){return S(this,h,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}l=new WeakMap,h=new WeakMap,d=new WeakMap,c=new WeakSet,p=function(e,t,n){const s=S(this,h,"f"),i=new C({target:this,changeType:C.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new R("modelchange")),s.splice(0)},u=function(e){S(this,h,"f").push(e),S(this,d,"f")||(this.dispatchEvent(new R("modelchange")),S(this,h,"f").splice(0))},A.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof A&&S(e,c,"m",p).call(e,t,n,s)}handleRecord(e,t){e instanceof A&&S(e,c,"m",u).call(e,t)}};var O=A.ModelNodeRecordsAccessor;delete A.ModelNodeRecordsAccessor;var M=A;const j=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=F.getProperty(this,t);return F.setProperty(this,t,e),e!==n&&O.triggerChange(this,t,n,e),!0},get:function(){return F.getProperty(this,t)},enumerable:!0})}};class W extends A{constructor(){super(),f.set(this,void 0),T(this,f,new Map,"f")}}f=new WeakMap,W.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof W&&S(e,f,"f").set(t,n)}getProperty(e,t){if(e instanceof W)return S(e,f,"f").get(t)}};var F=W.ModelObjectPropertiesAccessor;delete W.ModelObjectPropertiesAccessor;var D=W;m=new WeakMap;var _=class extends A{constructor(e){super(),m.set(this,void 0),T(this,m,e?.slice()??[],"f")}setParent(e){super.setParent(e),S(this,m,"f").forEach((t=>{t.setParent(e)}))}get length(){return S(this,m,"f").length}get(e){return S(this,m,"f")[e]??null}index(e,t){return S(this,m,"f").indexOf(e,t)}values(){return S(this,m,"f").values()}sort(e){const t=S(this,m,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),T(this,m,t.map((e=>e.item)),"f");const n=new C({target:this,changeType:C.LIST_SORT,sortedIndices:t.map((e=>e.index))});O.handleRecord(this,n)}prepend(...e){const t=S(this,m,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:0,insertedItems:e});O.handleRecord(this,s)}append(...e){const t=S(this,m,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:n,insertedItems:e});O.handleRecord(this,i)}insert(e,...t){const n=S(this,m,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new C({target:this,changeType:C.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});O.handleRecord(this,i)}}remove(e){const t=S(this,m,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:n,removedItems:[e]});O.handleRecord(this,i)}}clear(){const e=S(this,m,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new C({target:this,changeType:C.LIST_REMOVE,removedIndex:0,removedItems:t});O.handleRecord(this,s)}}};v=new WeakMap,b=new WeakMap,w=new WeakMap,y=new WeakMap,g=new WeakSet,E=function(){const e=S(this,b,"f").splice(0);e.length>0&&S(this,v,"f").call(this,e)},x=function(e){if(!S(this,w,"f")){const{target:t,currentTarget:n}=e,s=S(this,y,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:o,childList:r,subtree:a}=e;a?i&&t instanceof M?(o?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):r&&t instanceof _&&(S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):t==n&&(i&&t instanceof M?(o?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)):r&&t instanceof _&&(S(this,b,"f").push(...t.getRecords()),S(this,g,"m",E).call(this)))}}};var H=class{constructor(e){g.add(this),v.set(this,void 0),b.set(this,void 0),w.set(this,void 0),y.set(this,void 0),T(this,v,e,"f"),T(this,b,[],"f"),T(this,w,!1,"f"),T(this,y,new WeakMap,"f")}observe(e,t){T(this,w,!1,"f");const n=S(this,y,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=S(this,g,"m",x).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=S(this,y,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){S(this,b,"f").splice(0),T(this,w,!0,"f")}};function B(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const K=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,o=n.toString(),r=B(o),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(r):Object.defineProperty(s,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},q=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}},V=function(e){return t=>{const{name:n}=e;return k.define(n,t),t}};function*$(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*$(e)),s++}}function z(...e){const t=document.createDocumentFragment();return t.append(...e),t}function U(e,t){if(t){const{options:n,properties:s,part:i,exportParts:o,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(s&&Object.keys(s).forEach((e=>{const t=Reflect.get(s,e,s);void 0!==t&&Object.assign(d,{[e]:t})})),i){const{part:e}=d;i.forEach((t=>{e.add(t)}))}if(o&&d.setAttribute("exportparts",o.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(B(e),""):d.setAttribute(B(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.append(...c(d)):d.append(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}function J(e,t){const n=k.create(e,t?.properties);if(t){const{attributes:e,dataset:s,children:i,eventListeners:o,style:r}=t;if(e&&Object.keys(e).forEach((t=>{const s=e[t];"boolean"==typeof s?s&&n.setAttribute(B(t),""):n.setAttribute(B(t),s.toString())})),r){const{style:e}=n;Object.keys(r).forEach((t=>{Array.isArray(r[t])?e.setProperty(t,r[t][0],r[t][1]):e.setProperty(t,r[t])}))}if(s){const{dataset:e}=n;Object.keys(s).forEach((t=>{e[t]=s[t].toString()}))}i&&("function"==typeof i?n.append(...i(n)):n.append(...Array.from(i))),o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?n.addEventListener(e,t[0],t[1]):n.addEventListener(e,t)}))}return n}const X=new WeakMap,Y=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=X.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),G=new H((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:o}=X.get(t);o.forEach((e=>{const{elementRef:t,react:o,properties:r}=e,a=t.deref();a&&r.includes(n)&&o(a,n,s,i)}))}))}));function Z(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},o=X.get(e);if(Y.register(t,{model:e,reactiveElement:i}),o){const{reactiveElementsArray:e,observerOptions:t}=o,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];X.set(e,{observerOptions:t,reactiveElementsArray:s}),G.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const Q=new WeakMap,ee=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=Q.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),te=new H((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:o}=Q.get(s);o.forEach((n=>{const{parentRef:s,mapping:o,placeholder:r}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;r&&i>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map(o),{length:r}=s;t<r?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:o}=i;t=t??document.createRange();const r=n+(o-1);r<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&r&&a.append(r)}}))}))}));function ne(e,t,n){return s=>{const i=new WeakRef(s),o=Q.get(e),r={parentRef:i,mapping:t,placeholder:n};if(ee.register(s,{list:e,reactiveChildElement:r}),o){const{reactiveChildElementsArray:e}=o;e.push(r)}else{const t=[r];Q.set(e,{reactiveChildElementsArray:t}),te.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function se(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var ie,oe,re;let ae=class extends HTMLElement{constructor(){super(),ie.add(this);const e=this.attachShadow({mode:"open"});e.append(re.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ie,"m",oe).bind(this))}};ie=new WeakSet,oe=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ye)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},re=U("template",{content:[U("style",{properties:{textContent:"\n                            :host {\n                                display: block;\n                            }\n                        "}}),U("slot")]}),ae=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-treeitemgroup"})],ae);var ce,le,he,de,pe,ue=ae,fe=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},me=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ge=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ve=class extends HTMLElement{constructor(){super(),ce.add(this),le.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(pe.content.cloneNode(!0)),e.addEventListener("slotchange",me(this,ce,"m",de).bind(this)),this.addEventListener("click",me(this,ce,"m",he).bind(this)),ge(this,le,null,"f")}get group(){return me(this,le,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};le=new WeakMap,ce=new WeakSet,he=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},de=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ge(this,le,e instanceof ue?e:null,"f");break}}},pe=U("template",{content:[U("div",{part:["content"],children:[U("span",{part:["arrow"]}),U("slot")]}),U("slot",{properties:{name:"group"}})]}),fe([K({type:String})],ve.prototype,"name",void 0),fe([K({type:Number})],ve.prototype,"posinset",void 0),fe([K({type:String,observed:!0})],ve.prototype,"label",void 0),fe([K({type:Boolean,observed:!0})],ve.prototype,"expanded",void 0),fe([K({type:Boolean})],ve.prototype,"droptarget",void 0),fe([K({type:Boolean})],ve.prototype,"active",void 0),fe([K({type:Boolean,observed:!0})],ve.prototype,"selected",void 0),fe([K({type:Number,observed:!0})],ve.prototype,"level",void 0),fe([K({type:String,defaultValue:"leaf"})],ve.prototype,"type",void 0),ve=fe([q({name:"e-treeitem"})],ve);var be,we,ye,Ee,xe,ke,Te,Se,Ie,Ce,Pe,Le,Ne,Re,Ae,Oe,Me,je,We,Fe,De,_e,He,Be,Ke,qe,Ve,$e,ze,Ue,Je,Xe,Ye=ve,Ge=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ze=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Qe=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let et=class extends HTMLElement{constructor(){super(),be.add(this),we.set(this,void 0),ye.set(this,void 0),Ee.set(this,void 0),Qe(this,Ee,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ze(this,be,"m",xe).bind(this)),"f"),Qe(this,we,!1,"f"),Qe(this,ye,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Xe.content.cloneNode(!0)),this.addEventListener("click",Ze(this,be,"m",je).bind(this)),this.addEventListener("contextmenu",Ze(this,be,"m",We).bind(this),!0),this.addEventListener("dragend",Ze(this,be,"m",Fe).bind(this)),this.addEventListener("dragenter",Ze(this,be,"m",De).bind(this)),this.addEventListener("dragleave",Ze(this,be,"m",He).bind(this)),this.addEventListener("dragover",Ze(this,be,"m",_e).bind(this)),this.addEventListener("dragstart",Ze(this,be,"m",Be).bind(this)),this.addEventListener("drop",Ze(this,be,"m",Ke).bind(this)),this.addEventListener("focus",Ze(this,be,"m",Ve).bind(this)),this.addEventListener("focusin",Ze(this,be,"m",$e).bind(this)),this.addEventListener("focusout",Ze(this,be,"m",ze).bind(this)),this.addEventListener("keydown",Ze(this,be,"m",qe).bind(this)),this.addEventListener("select",Ze(this,be,"m",Ue).bind(this)),e.addEventListener("slotchange",Ze(this,be,"m",Je).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=Ze(this,Ee,"f");t.currentNode=t.root;let n=Ze(this,be,"m",Ne).call(this);for(;null!==n;)n.selected&&e.push(n),n=Ze(this,be,"m",Oe).call(this,n);return e}beginSelection(){Qe(this,we,!0,"f")}endSelection(){Qe(this,we,!1,"f"),Ze(this,ye,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Qe(this,ye,!1,"f"))}};we=new WeakMap,ye=new WeakMap,Ee=new WeakMap,be=new WeakSet,xe=function(e){return e instanceof Ye?NodeFilter.FILTER_ACCEPT:e instanceof ue?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ke=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=Ze(this,be,"m",Oe).call(this,e);for(;s&&s!==t;)n.push(s),s=Ze(this,be,"m",Oe).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=Ze(this,be,"m",Ae).call(this,e);for(;s&&s!==t;)n.push(s),s=Ze(this,be,"m",Ae).call(this,s);return n.push(t),n}return[]},Te=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Se=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ie=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ce=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Pe=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(Ze(this,Ee,"f").currentNode=e,e.active=!0,e.tabIndex=0)},Le=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Ne=function(){const e=Ze(this,Ee,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Re=function(){const e=Ze(this,Ee,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ae=function(e){const t=Ze(this,Ee,"f");t.currentNode=e;const n=t.previousSibling();return n?Ze(this,be,"m",Me).call(this,n):t.parentNode()},Oe=function(e){const t=Ze(this,Ee,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Me=function e(t){if(t.expanded){const t=Ze(this,Ee,"f").lastChild();if(t)return Ze(this,be,"m",e).call(this,t)}return t},je=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof Ye)if(s||n){if(n){const{selected:n}=t;n&&t.blur(),n?Ze(this,be,"m",Ie).call(this,t):Ze(this,be,"m",Se).call(this,t),e.stopPropagation()}else if(s){const n=i[i.length-1];if(n){const e=Ze(this,be,"m",ke).call(this,n,t);e&&(i.includes(t)?Ze(this,be,"m",Ie).call(this,...e):Ze(this,be,"m",Se).call(this,...e))}else Ze(this,be,"m",Te).call(this,t);e.stopPropagation()}}else Ze(this,be,"m",Te).call(this,t)},We=function(e){const{target:t}=e;t instanceof Ye&&(this.selectedItems().includes(t)||Ze(this,be,"m",Te).call(this,t),e.preventDefault())},Fe=function(){Ze(this,be,"m",Le).call(this,null)},De=function(e){const{target:t}=e;if(t instanceof Ye){const{type:e}=t;"parent"==e&&t.toggle(!0),Ze(this,be,"m",Le).call(this,t)}e.preventDefault()},_e=function(e){e.preventDefault()},He=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||Ze(this,be,"m",Le).call(this,null)}},Be=function(e){const{target:t}=e;t instanceof Ye&&(this.selectedItems().includes(t)||Ze(this,be,"m",Te).call(this,t))},Ke=function(){Ze(this,be,"m",Le).call(this,null)},qe=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=Ze(this,Ee,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=Ze(this,be,"m",ke).call(this,s,Ze(this,be,"m",Me).call(this,i));e&&Ze(this,be,"m",Te).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=Ze(this,Ee,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=Ze(this,be,"m",Ae).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ze(this,be,"m",Ie).call(this,t):Ze(this,be,"m",Se).call(this,t))}}else{const e=Ze(this,be,"m",Ne).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Ze(this,be,"m",Oe).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ze(this,be,"m",Ie).call(this,t):Ze(this,be,"m",Se).call(this,t))}}else{const e=Ze(this,be,"m",Re).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Ze(this,be,"m",Ne).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ze(this,be,"m",Re).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(Ze(this,be,"m",Te).call(this,n),n.click()),e.stopPropagation();break;case"Escape":Ze(this,be,"m",Ce).call(this),Ze(this,be,"m",Pe).call(this,null),this.focus(),e.stopPropagation()}},Ve=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},$e=function(e){const{target:t}=e;t instanceof Ye&&(Ze(this,be,"m",Pe).call(this,t),this.tabIndex=-1)},ze=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Ue=function(){Ze(this,we,"f")?Qe(this,ye,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Je=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ye)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},Xe=U("template",{content:[U("slot")]}),Ge([K({type:Boolean})],et.prototype,"droptarget",void 0),Ge([K({type:String})],et.prototype,"name",void 0),et=Ge([q({name:"e-tree"})],et);var tt,nt,st,it=et,ot=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},rt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class at extends HTMLElement{constructor(){super(),tt.add(this),nt.set(this,void 0),ot(this,nt,null,"f")}get model(){return rt(this,nt,"f")}setModel(e){ot(this,nt,e,"f"),rt(this,tt,"m",st).call(this)}renderLight(){}renderShadow(){}refresh(){rt(this,tt,"m",st).call(this)}}nt=new WeakMap,tt=new WeakSet,st=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var ct,lt,ht,dt,pt,ut,ft,mt,gt,vt,bt,wt,yt,Et,xt,kt=at,Tt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},St=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},It=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class Ct extends D{constructor(e){super(),ct.add(this);const t=new _(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new _(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",St(this,ct,"m",lt).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Ct.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:o}=n,{length:r}=o;if(e.startsWith(o)){if("/"==e.charAt(r))return Ct.prototype.getItemByUri.call(n,e);if(r==s)return n}}return null}}ct=new WeakSet,lt=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof _&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:o}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(o.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class Pt{constructor(e){ht.set(this,void 0),It(this,ht,e,"f")}static from(e){return new Pt(e)}static of(...e){return new Pt(e)}show(){console.log(St(this,ht,"f")),St(this,ht,"f").forEach((e=>e.show()))}hide(){St(this,ht,"f").forEach((e=>e.hide()))}display(){const e=St(this,ht,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=St(this,ht,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Lt||n instanceof Ct){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ht=new WeakMap;class Lt extends D{constructor(e){super(),dt.add(this);const{label:t,type:n}=e,s=new _(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",St(this,dt,"m",pt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Lt?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Lt?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Lt||e instanceof Ct){const{childItems:t}=e;t&&t.remove(this)}}}dt=new WeakSet,pt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},Tt([j()],Lt.prototype,"childCount",void 0),Tt([j()],Lt.prototype,"visibility",void 0);let Nt=class extends kt{constructor(e){super(),ut.add(this),ft.set(this,void 0),mt.set(this,void 0),gt.set(this,void 0),It(this,gt,new WeakMap,"f"),It(this,mt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Ct)}getTreeElement(){return St(this,ft,"f")?.deref()??null}getTreeItemElement(e){return St(this,gt,"f").get(e)?.deref()??null}getDragImageElement(e){return St(this,mt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=U("e-tree",{properties:{tabIndex:0},children:ne(e.childItems,(e=>St(this,ut,"m",vt).call(this,e))),eventListeners:{dragstart:St(this,ut,"m",wt).bind(this),drop:St(this,ut,"m",yt).bind(this),contextmenu:St(this,ut,"m",Et).bind(this),keydown:St(this,ut,"m",xt).bind(this)}});return It(this,ft,new WeakRef(t),"f"),z(U("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),U("link",{properties:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,U("div",{properties:{className:"offscreen",hidden:!0},children:ne(e.items,(e=>St(this,ut,"m",bt).call(this,e)))}))}};ft=new WeakMap,mt=new WeakMap,gt=new WeakMap,ut=new WeakSet,vt=function e(t){const n=Z(t,U("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:("parent"==t.type?[U("e-treeitemgroup",{properties:{slot:"group"},children:ne(t.childItems,(t=>St(this,ut,"m",e).call(this,t)))})]:[]).concat([U("span",{properties:{className:"label"}})]).concat("parent"==t.type?[U("span",{properties:{className:"badge"}})]:[]).concat([U("e-toolbar",{properties:{tabIndex:0},children:[U("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=s);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${s})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=s?"Hide":"Show",e.checked=s)}}}}));return St(this,gt,"f").set(t,new WeakRef(n)),n},bt=function(e){const t=Z(e,U("span",{properties:{className:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return St(this,mt,"f").set(e,new WeakRef(t)),t},wt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this;if(t instanceof it&&n instanceof Ye){const{dataTransfer:n}=e,i=t.selectedItems(),{length:o}=i;if(o>0){const e=i.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),o=e[e.length-1],r=s.getItemByUri(o);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},yt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,{sortFunction:i}=s;if(t instanceof it&&n instanceof Ye){const{dataTransfer:o}=e;if(o){const e=n.dataset.uri,r=s.getItemByUri(e),a=o.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>s.getItemByUri(e))).filter((e=>null!==e)),{type:o,parentItem:c}=r,l="parent"==o?r.childItems:c?c.childItems:s.childItems;Pt.from(e).remove(),i?(l.beginChanges(),l.append(...e),l.sort(i),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},Et=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof it&&i instanceof Ye){const s=o.getItemByUri(i.dataset.uri),r=U("e-menu",{properties:{tabIndex:-1,contextual:!0},children:[U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Pt.from(this.selectedItems()).display()}}}),U("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Pt.from(this.selectedItems()).remove()}}})]}),U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Pt.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});document.body.append(r),r.positionContextual(t,n),r.focus({preventScroll:!0}),e.preventDefault()}},xt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof it)switch(n){case"Delete":Pt.from(this.selectedItems()).remove(),e.preventDefault()}},Nt=Tt([q({name:"v-tree"})],Nt);var Rt=Nt,At=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};class Ot extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}At([K({type:String})],Ot.prototype,"name",void 0),At([K({type:String})],Ot.prototype,"value",void 0),At([K({type:String})],Ot.prototype,"hotkey",void 0),At([K({type:String,defaultValue:"button"})],Ot.prototype,"type",void 0),At([K({type:Boolean})],Ot.prototype,"disabled",void 0),At([K({type:Boolean})],Ot.prototype,"checked",void 0);var Mt,jt,Wt,Ft=Ot;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Mt||(Mt={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(jt||(jt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Wt||(Wt={})),new WeakSet;var Dt,_t=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ht=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Dt.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Dt=U("template")).content.append(U("slot")),_t([K({type:String})],Ht.prototype,"name",void 0),_t([K({type:String})],Ht.prototype,"headers",void 0),_t([K({type:String})],Ht.prototype,"type",void 0),_t([K({type:Number})],Ht.prototype,"posinset",void 0),_t([K({type:Boolean})],Ht.prototype,"droptarget",void 0),_t([K({type:Boolean})],Ht.prototype,"active",void 0),_t([K({type:Boolean,observed:!0})],Ht.prototype,"selected",void 0),Ht=_t([q({name:"e-gridcell"})],Ht);var Bt,Kt,qt,Vt=Ht;let $t=class extends HTMLElement{constructor(){super(),Bt.add(this);const e=this.attachShadow({mode:"open"});e.append(qt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Bt,"m",Kt).bind(this))}};Bt=new WeakSet,Kt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Vt)).forEach(((e,t)=>{e.posinset=t}))},(qt=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),U("slot")),$t=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridrowgroup"})],$t);var zt,Ut,Jt,Xt=$t,Yt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Gt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Zt=class extends Ft{constructor(){super(),zt.add(this),this.attachShadow({mode:"open"}).append(Jt.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&Gt(this,zt,"m",Ut).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,Gt(this,zt,"m",Ut).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var Qt;zt=new WeakSet,Ut=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=o+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+i-r:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),u=o+r-h,f=n+a-d;t.setProperty("left",(u>0?i-r-p:o-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${f>0?s-a-l+w:n-l-b}px`)}}}},Jt=U("template",{content:[U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"],children:[U("slot")]}),U("span",{part:["arrow"]})]}),U("slot",{properties:{name:"menu"}})]}),Yt([K({type:Boolean})],Zt.prototype,"active",void 0),Yt([K({type:Number})],Zt.prototype,"index",void 0),Yt([K({type:Boolean})],Zt.prototype,"expanded",void 0),Yt([K({type:String,defaultValue:"button",observed:!0})],Zt.prototype,"type",void 0),Yt([(Qt={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,i=t.toString(),{selector:o}=Qt,r=Qt.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(s,i,{get:r})})],Zt.prototype,"menu",void 0),Zt=Yt([q({name:"e-menuitem"})],Zt);var en,tn,nn,sn=Zt,on=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menu:r}=e;return r&&(r.slot="menu"),U("e-menuitem",{properties:{tabIndex:-1,title:t,name:n,value:i,type:s,textContent:t},children:r?[r]:void 0,eventListeners:{trigger:o}})}),{prototype:sn.prototype,button:e=>new on({...e,type:"button"}),checkbox:e=>new on({...e,type:"checkbox"}),radio:e=>new on({...e,type:"radio"}),menu:e=>new on({...e,type:"menu"}),submenu:e=>new on({...e,type:"submenu"})}),rn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let an=class extends HTMLElement{constructor(){super(),en.add(this);const e=this.attachShadow({mode:"open"});e.append(nn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,en,"m",tn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};en=new WeakSet,tn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof sn)).forEach(((e,t)=>{e.index=t}))},(nn=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),U("slot")),rn([K({type:String})],an.prototype,"name",void 0),rn([K({type:String,observed:!0})],an.prototype,"label",void 0),an=rn([q({name:"e-menuitemgroup"})],an);var cn,ln,hn,dn,pn,un,fn,mn,gn,vn,bn,wn,yn,En,xn,kn,Tn,Sn,In,Cn,Pn,Ln,Nn,Rn,An=an,On=Object.assign((function(e){const{name:t,items:n}=e;return U("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:An.prototype,radios:e=>{const{name:t,items:n}=e;return U("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new on({name:t,label:e,type:"radio",value:n})))})}}),Mn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},jn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Wn=Ln=class extends HTMLElement{constructor(){super(),cn.add(this),ln.set(this,void 0),this.attachShadow({mode:"open"}).append(Nn.content.cloneNode(!0)),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ln,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,jn(this,cn,"m",un).bind(this)),"f"),this.items=this.getElementsByTagName("e-menuitem"),this.addEventListener("click",jn(this,cn,"m",yn).bind(this)),this.addEventListener("mouseover",jn(this,cn,"m",Cn).bind(this)),this.addEventListener("mouseout",jn(this,cn,"m",In).bind(this)),this.addEventListener("focusin",jn(this,cn,"m",En).bind(this)),this.addEventListener("focusout",jn(this,cn,"m",xn).bind(this)),this.addEventListener("keydown",jn(this,cn,"m",Sn).bind(this)),this.addEventListener("trigger",jn(this,cn,"m",Pn).bind(this))}get activeItem(){return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[active]")}positionContextual(e,t){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window,a=e+o,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,p=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${p>0?c-i:c}px`)}};ln=new WeakMap,cn=new WeakSet,hn=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},dn=function(e){return e.closest(":is(e-menu)")==this},pn=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},un=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},fn=function(){const e=jn(this,ln,"f");return e.currentNode=e.root,e.firstChild()},mn=function(){const e=jn(this,ln,"f");return e.currentNode=e.root,e.lastChild()},gn=function(e){const t=jn(this,ln,"f");return t.currentNode=e,t.previousNode()},vn=function(e){const t=jn(this,ln,"f");return t.currentNode=e,t.nextNode()},bn=function(e){const{menu:t}=e;return t instanceof Ln?jn(t,cn,"m",fn).call(t):null},wn=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0)},yn=function(e){const{target:t}=e;t instanceof sn&&jn(this,cn,"m",dn).call(this,t)&&t.trigger()},En=function(e){const{target:t}=e;if(t instanceof sn){const e=jn(this,cn,"m",pn).call(this,t);e&&jn(this,cn,"m",wn).call(this,e)}},xn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),jn(this,cn,"m",wn).call(this,null)}}},kn=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Rn.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Rn.delete(e)}))},Tn=function(e){const t=Rn.get(e);void 0!==t&&(Rn.delete(e),t.clear())},Sn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?jn(this,cn,"m",gn).call(this,n)??jn(this,cn,"m",mn).call(this):jn(this,cn,"m",fn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?jn(this,cn,"m",vn).call(this,n)??jn(this,cn,"m",fn).call(this):jn(this,cn,"m",fn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":jn(this,cn,"m",fn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":jn(this,cn,"m",mn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&jn(this,cn,"m",bn).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Bn))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),jn(this,cn,"m",bn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},In=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof sn){const s=jn(this,cn,"m",pn).call(this,t);if(null!==s&&("submenu"!=s.type||s.expanded||jn(this,cn,"m",Tn).call(this,s),e.composedPath().find((e=>e instanceof Bn))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(jn(this,cn,"m",Tn).call(this,t),jn(this,cn,"m",kn).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=e,{left:o,right:r,top:a,bottom:c}=this.getBoundingClientRect(),l=!(o>s||r<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof Bn&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),jn(this,cn,"m",wn).call(this,null))),l||(this.focus({preventScroll:!0}),jn(this,cn,"m",wn).call(this,null))}}},Cn=function(e){const{target:t}=e;if(t instanceof sn){const n=jn(this,cn,"m",pn).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&jn(this,cn,"m",Tn).call(this,n),e.composedPath().find((e=>e instanceof Bn))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(jn(this,cn,"m",Tn).call(this,e),jn(this,cn,"m",kn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),jn(this,cn,"m",wn).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(jn(this,cn,"m",Tn).call(this,n),jn(this,cn,"m",kn).call(this,n,200).then((()=>{const{activeItem:e}=this;jn(this,cn,"m",hn).call(this),e&&(jn(this,cn,"m",Tn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},Pn=function(e){const{target:t}=e,{contextual:n}=this;if(t instanceof sn){if(jn(this,cn,"m",dn).call(this,t)){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}if(n)try{this.remove()}catch(e){}}},Nn=U("template",{content:[U("slot")]}),Rn=new WeakMap,Mn([K({type:String})],Wn.prototype,"name",void 0),Mn([K({type:Boolean})],Wn.prototype,"contextual",void 0),Wn=Ln=Mn([q({name:"e-menu"})],Wn);var Fn,Dn,_n,Hn,Bn=Wn,Kn=Object.assign((function(e){const{name:t,children:n}=e;return U("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:Bn.prototype}),qn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Vn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},$n=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let zn=class extends HTMLElement{constructor(){super(),Fn.add(this),Dn.set(this,void 0),Vn(this,Dn,null,"f"),this.cells=new ts(this);const e=this.attachShadow({mode:"open"});e.append(Hn.content.cloneNode(!0)),e.addEventListener("slotchange",$n(this,Fn,"m",_n).bind(this))}get menu(){return $n(this,Dn,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};Dn=new WeakMap,Fn=new WeakSet,_n=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];Vn(this,Dn,e instanceof Bn?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof Vt)).forEach(((e,t)=>{e.posinset=t}))}},(Hn=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),U("slot"),U("slot",{properties:{name:"menu"}})),qn([K({type:String})],zn.prototype,"name",void 0),qn([K({type:Boolean})],zn.prototype,"active",void 0),qn([K({type:Boolean})],zn.prototype,"selected",void 0),qn([K({type:Number})],zn.prototype,"posinset",void 0),zn=qn([q({name:"e-gridrow"})],zn);var Un,Jn,Xn,Yn=zn,Gn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Jn=new WeakMap,Un=new WeakSet,Xn=function(e){return e instanceof Vt?NodeFilter.FILTER_ACCEPT:e instanceof ds||e instanceof Xt||e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Zn,Qn,es,ts=class{constructor(e){Un.add(this),Jn.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Jn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Gn(this,Un,"m",Xn).bind(this)),"f")}get length(){const e=Gn(this,Jn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=Gn(this,Jn,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Gn(this,Jn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=Gn(this,Jn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ns=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Qn=new WeakMap,Zn=new WeakSet,es=function(e){return e instanceof ds?NodeFilter.FILTER_SKIP:e instanceof Yn?NodeFilter.FILTER_ACCEPT:e instanceof Xt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ss,is,os,rs=class{constructor(e){Zn.add(this),Qn.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Qn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ns(this,Zn,"m",es).bind(this)),"f")}get length(){const e=ns(this,Qn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ns(this,Qn,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ns(this,Qn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ns(this,Qn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let as=class extends HTMLElement{constructor(){super(),ss.add(this),this.cells=new ts(this),this.rows=new rs(this);const e=this.attachShadow({mode:"open"});e.append(os.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ss,"m",is).bind(this))}};ss=new WeakSet,is=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Vt)).forEach(((e,t)=>{e.posinset=t}))},(os=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),U("slot")),as=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridbody"})],as);var cs,ls,hs,ds=as;let ps=class extends HTMLElement{constructor(){super(),cs.add(this),this.cells=new ts(this),this.rows=new rs(this);const e=this.attachShadow({mode:"open"});e.append(hs.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,cs,"m",ls).bind(this))}};cs=new WeakSet,ls=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Vt)).forEach(((e,t)=>{e.posinset=t}))},(hs=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),U("slot")),ps=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-gridhead"})],ps);var us,fs,ms,gs,vs,bs,ws,ys,Es,xs,ks,Ts,Ss,Is,Cs,Ps,Ls,Ns,Rs,As,Os,Ms,js,Ws,Fs,Ds,_s,Hs,Bs,Ks,qs,Vs,$s,zs,Us,Js,Xs,Ys,Gs,Zs,Qs=ps,ei=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ti=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ni=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let si=class extends HTMLElement{constructor(){super(),us.add(this),fs.set(this,void 0),ms.set(this,void 0),gs.set(this,void 0),vs.set(this,void 0),bs.set(this,void 0),ws.set(this,void 0),ni(this,bs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ti(this,us,"m",ys).bind(this)),"f"),ni(this,ws,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ti(this,us,"m",Es).bind(this)),"f"),ni(this,fs,-1,"f"),ni(this,ms,-1,"f"),ni(this,gs,!1,"f"),ni(this,vs,!1,"f"),this.cells=new ts(this),this.rows=new rs(this);const e=this.attachShadow({mode:"open"});e.append(Zs.content.cloneNode(!0)),this.addEventListener("contextmenu",ti(this,us,"m",$s).bind(this)),this.addEventListener("click",ti(this,us,"m",zs).bind(this)),this.addEventListener("focus",ti(this,us,"m",Js).bind(this)),this.addEventListener("focusin",ti(this,us,"m",Xs).bind(this)),this.addEventListener("keydown",ti(this,us,"m",Us).bind(this)),this.addEventListener("select",ti(this,us,"m",Ys).bind(this)),e.addEventListener("slotchange",ti(this,us,"m",Gs).bind(this))}get activeCellIndex(){return ti(this,fs,"f")}get activeCell(){return this.cells.item(ti(this,fs,"f"))??null}get activeRowIndex(){return ti(this,ms,"f")}get activeRow(){return this.rows.item(ti(this,ms,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof ds))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof Qs))??null}beginSelection(){ni(this,gs,!0,"f")}endSelection(){ni(this,gs,!1,"f"),ti(this,vs,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ni(this,vs,!1,"f"))}clearSelection(){ti(this,us,"m",Ns).call(this),ti(this,us,"m",Rs).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};fs=new WeakMap,ms=new WeakMap,gs=new WeakMap,vs=new WeakMap,bs=new WeakMap,ws=new WeakMap,us=new WeakSet,ys=function(e){return e instanceof Vt&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ds||e instanceof Xt||e instanceof Yn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Es=function(e){return e instanceof Yn&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ds||e instanceof Xt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},xs=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},ks=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ti(this,us,"m",Ks).call(this,e);for(;s&&s!==t;)n.push(s),s=ti(this,us,"m",Ks).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ti(this,us,"m",Bs).call(this,e);for(;s&&s!==t;)n.push(s),s=ti(this,us,"m",Bs).call(this,s);return n.push(t),n}return[]},Ts=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ss=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Is=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Cs=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ps=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ls=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ns=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Rs=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},As=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),ti(this,bs,"f").currentNode=e,e.active=!0,e.tabIndex=0;const s=ti(this,us,"m",Ds).call(this,e);s&&ti(this,us,"m",Os).call(this,s),ni(this,fs,Array.from(n.values()).indexOf(e),"f")},Os=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),ti(this,ws,"f").currentNode=e,e.active=!0,e.tabIndex=0,ni(this,ms,Array.from(n.values()).indexOf(e),"f")},Ms=function(e){const t=ti(this,bs,"f");return t.currentNode=e,t.firstChild()},js=function(e){const t=ti(this,bs,"f");return t.currentNode=e,t.lastChild()},Ws=function(e){const t=ti(this,bs,"f");return t.currentNode=e,t.previousNode()},Fs=function(e){const t=ti(this,bs,"f");return t.currentNode=e,t.nextNode()},Ds=function(e){const t=ti(this,ws,"f");return t.currentNode=e,t.parentNode()},_s=function(){const e=ti(this,ws,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Hs=function(){const e=ti(this,ws,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Bs=function(e){const t=ti(this,ws,"f");return t.currentNode=e,t.previousNode()},Ks=function(e){const t=ti(this,ws,"f");return t.currentNode=e,t.nextNode()},qs=function(e){const t=ti(this,us,"m",Ds).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ti(this,us,"m",Bs).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Vs=function(e){const t=ti(this,us,"m",Ds).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ti(this,us,"m",Ks).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},$s=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof ds))?t.find((e=>e instanceof Vt)):null;n instanceof Vt&&(this.selectedCells().includes(n)||ti(this,us,"m",Ts).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof ds))?t.find((e=>e instanceof Yn)):null;n instanceof Yn&&(this.selectedRows().includes(n)||ti(this,us,"m",Ss).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},zs=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof ds))?s.find((e=>e instanceof Vt)):null,o=this.selectedCells();if(i instanceof Vt)if(n||t){if(t)i.selected?ti(this,us,"m",Ps).call(this,i):ti(this,us,"m",Is).call(this,i),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=ti(this,us,"m",xs).call(this,t,i);e&&(o.includes(i)?ti(this,us,"m",Ps).call(this,...e):ti(this,us,"m",Is).call(this,...e))}else ti(this,us,"m",Ts).call(this,i);e.stopPropagation()}}else ti(this,us,"m",Ts).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),o=i.find((e=>e instanceof ds))?i.find((e=>e instanceof Yn)):null;if(o instanceof Yn)if(n||t){if(t)o.selected?ti(this,us,"m",Ls).call(this,o):ti(this,us,"m",Cs).call(this,o),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=ti(this,us,"m",ks).call(this,t,o);e&&(s.includes(o)?ti(this,us,"m",Ls).call(this,...e):ti(this,us,"m",Cs).call(this,...e))}else ti(this,us,"m",Ss).call(this,o);e.stopPropagation()}}else ti(this,us,"m",Ss).call(this,o);break}}},Us=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=ti(this,us,"m",_s).call(this),t=e?ti(this,us,"m",Ms).call(this,e):null,n=ti(this,us,"m",Hs).call(this),s=n?ti(this,us,"m",js).call(this,n):null;if(t&&s){const e=ti(this,us,"m",xs).call(this,t,s);e&&ti(this,us,"m",Ts).call(this,...e)}break}case"row":{const e=ti(this,us,"m",_s).call(this),t=ti(this,us,"m",Hs).call(this);if(e&&t){const n=ti(this,us,"m",ks).call(this,e,t);n&&ti(this,us,"m",Ss).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=ti(this,us,"m",Ws).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ti(this,us,"m",Ps).call(this,t):ti(this,us,"m",Is).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=ti(this,us,"m",Fs).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ti(this,us,"m",Ps).call(this,t):ti(this,us,"m",Is).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??ti(this,us,"m",_s).call(this),n=s?ti(this,us,"m",qs).call(this,s):t?ti(this,us,"m",Ms).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ti(this,us,"m",Ps).call(this,n):ti(this,us,"m",Is).call(this,n))}break}case"row":{const t=i?ti(this,us,"m",Bs).call(this,i):ti(this,us,"m",_s).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ti(this,us,"m",Ls).call(this,t):ti(this,us,"m",Cs).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??ti(this,us,"m",Hs).call(this),n=s?ti(this,us,"m",Vs).call(this,s):t?ti(this,us,"m",js).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ti(this,us,"m",Ps).call(this,n):ti(this,us,"m",Is).call(this,n))}}break;case"row":{const t=i?ti(this,us,"m",Ks).call(this,i):ti(this,us,"m",Hs).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ti(this,us,"m",Ls).call(this,t):ti(this,us,"m",Cs).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=ti(this,us,"m",Ms).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ti(this,us,"m",_s).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=ti(this,us,"m",js).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ti(this,us,"m",Hs).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(ti(this,us,"m",Ts).call(this,s),s.click());break;case"row":i&&(ti(this,us,"m",Ss).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":ti(this,us,"m",Ns).call(this);break;case"row":ti(this,us,"m",Rs).call(this)}this.focus(),e.stopPropagation()}},Js=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},Xs=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof Vt&&ti(this,us,"m",As).call(this,t);break;case"row":t instanceof Yn&&ti(this,us,"m",Os).call(this,t)}},Ys=function(){ti(this,gs,"f")?ni(this,vs,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Gs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Yn)).forEach(((e,t)=>{e.posinset=t}))},Zs=U("template",{content:[U("slot")]}),ei([K({type:String})],si.prototype,"name",void 0),ei([K({type:String,defaultValue:"cell"})],si.prototype,"selectby",void 0),si=ei([q({name:"e-grid"})],si);var ii,oi,ri,ai,ci,li,hi,di,pi,ui,fi,mi,gi,vi,bi,wi,yi,Ei,xi,ki,Ti=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Si=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ii=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ci=class extends HTMLElement{constructor(){super(),ii.add(this),oi.set(this,void 0),ri.set(this,void 0),Ii(this,ri,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Si(this,ii,"m",ai).bind(this)),"f"),this.items=this.getElementsByTagName("e-menuitem"),Ii(this,oi,-1,"f"),this.attachShadow({mode:"open"}).append(ki.content.cloneNode(!0)),this.addEventListener("click",Si(this,ii,"m",yi).bind(this)),this.addEventListener("focusin",Si(this,ii,"m",vi).bind(this)),this.addEventListener("focusout",Si(this,ii,"m",bi).bind(this)),this.addEventListener("mouseover",Si(this,ii,"m",wi).bind(this)),this.addEventListener("keydown",Si(this,ii,"m",Ei).bind(this)),this.addEventListener("trigger",Si(this,ii,"m",xi).bind(this))}get activeIndex(){return Si(this,oi,"f")}get activeItem(){return this.items.item(Si(this,oi,"f"))??null}};oi=new WeakMap,ri=new WeakMap,ii=new WeakSet,ai=function(e){return e instanceof sn?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ci=function(){const e=Si(this,ri,"f");return e.currentNode=e.root,e.firstChild()},li=function(){const e=Si(this,ri,"f");return e.currentNode=e.root,e.lastChild()},hi=function(e){const t=Si(this,ri,"f");return t.currentNode=e,t.previousSibling()},di=function(e){const t=Si(this,ri,"f");return t.currentNode=e,t.nextSibling()},pi=function(e){const{menu:t}=e;if(t){const e=Si(this,ri,"f");return e.currentNode=t,e.firstChild()}return null},ui=function(e){const{activeItem:t,expanded:n,items:s}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Ii(this,oi,Array.from(s).indexOf(e),"f")):Ii(this,oi,-1,"f")},fi=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},mi=function(e){return e.closest(":is(e-menubar, e-menu)")==this},gi=function(e){return Si(this,ii,"a",fi).find((t=>t.contains(e)))??null},vi=function(e){const{target:t}=e;if(t instanceof Element){const e=Si(this,ii,"m",gi).call(this,t);Si(this,ii,"m",ui).call(this,e)}},bi=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Si(this,ii,"m",ui).call(this,null),this.expanded=!1}},wi=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof sn&&Si(this,ii,"m",mi).call(this,t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},yi=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof sn&&Si(this,ii,"m",mi).call(this,t)){const e=!n;if(this.expanded=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Ei=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?Si(this,ii,"m",hi).call(this,s)??Si(this,ii,"m",li).call(this):Si(this,ii,"m",ci).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Si(this,ii,"m",pi).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Si(this,ii,"m",di).call(this,s)??Si(this,ii,"m",ci).call(this):Si(this,ii,"m",li).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Si(this,ii,"m",pi).call(this,s)?.focus({preventScroll:!0});break;case"Enter":s&&(this.expanded=!n,Si(this,ii,"m",pi).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},xi=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.expanded=!1,this.focus({preventScroll:!0})},(ki=U("template")).content.append(U("slot")),Ti([K({type:String})],Ci.prototype,"name",void 0),Ti([K({type:Boolean})],Ci.prototype,"expanded",void 0),Ci=Ti([q({name:"e-menubar"})],Ci);var Pi,Li,Ni,Ri,Ai,Oi,Mi,ji,Wi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fi=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Di=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let _i=class extends HTMLElement{constructor(){super(),Pi.add(this),Li.set(this,void 0),Fi(this,Li,null,"f");const e=this.attachShadow({mode:"open"});e.append(U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"]})]}),U("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",Di(this,Pi,"m",Oi).bind(this)),this.addEventListener("click",Di(this,Pi,"m",Ri).bind(this)),this.addEventListener("focusout",Di(this,Pi,"m",Ai).bind(this)),this.addEventListener("trigger",Di(this,Pi,"m",ji).bind(this)),e.addEventListener("slotchange",Di(this,Pi,"m",Mi).bind(this))}get menu(){return Di(this,Li,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,Di(this,Pi,"m",Ni).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};Li=new WeakMap,Pi=new WeakSet,Ni=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=o+r-h,u=n+a-d;t.setProperty("left",`${p>0?l+o-r:l+i}px`),t.setProperty("top",`${u>0?c+n-a:c+s}px`)}},Ri=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Ai=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Oi=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Mi=function(e){const{target:t}=e,n=t.assignedElements()[0];Fi(this,Li,n instanceof Bn?n:null,"f")},ji=function(){this.collapse(),this.focus({preventScroll:!0})},Wi([K({type:String})],_i.prototype,"name",void 0),Wi([K({type:Boolean})],_i.prototype,"disabled",void 0),Wi([K({type:Boolean})],_i.prototype,"expanded",void 0),_i=Wi([q({name:"e-menubutton"})],_i);var Hi,Bi=_i,Ki=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",U("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:Bi.prototype}),qi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Vi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Hi.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(Hi=U("template")).content.append(U("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),U("span",{part:["content"],children:[U("span",{part:["label"]})]})),qi([K({type:String})],Vi.prototype,"name",void 0),qi([K({type:String})],Vi.prototype,"value",void 0),qi([K({type:String,observed:!0})],Vi.prototype,"label",void 0),qi([K({type:String})],Vi.prototype,"description",void 0),qi([K({type:Boolean})],Vi.prototype,"disabled",void 0),qi([K({type:Boolean})],Vi.prototype,"active",void 0),qi([K({type:Boolean})],Vi.prototype,"selected",void 0),qi([K({type:Boolean})],Vi.prototype,"default",void 0),Vi=qi([q({name:"e-option"})],Vi);var $i,zi=Vi;let Ui=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append($i.content.cloneNode(!0))}};($i=U("template")).content.append(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot")),Ui=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-optiongroup"})],Ui);var Ji,Xi,Yi,Gi=Ui,Zi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Xi=new WeakMap,Ji=new WeakSet,Yi=function(e){return e instanceof zi?NodeFilter.FILTER_ACCEPT:e instanceof Gi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Qi,eo,to,no,so,io,oo,ro,ao,co,lo,ho,po,uo,fo,mo,go,vo,bo,wo,yo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Eo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},xo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ko=class extends Ft{constructor(){super(),Qi.add(this),eo.set(this,void 0),to.set(this,void 0),no.set(this,void 0),xo(this,eo,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Eo(this,Qi,"m",so).bind(this)),"f"),xo(this,to,-1,"f"),xo(this,no,-1,"f"),this.options=new class{constructor(e){Ji.add(this),Xi.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Xi,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Zi(this,Ji,"m",Yi).bind(this)),"f")}get length(){const e=Zi(this,Xi,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=Zi(this,Xi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=Zi(this,Xi,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Zi(this,Xi,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=Zi(this,Xi,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(wo.content.cloneNode(!0)),this.addEventListener("click",Eo(this,Qi,"m",uo).bind(this)),this.addEventListener("focusin",Eo(this,Qi,"m",fo).bind(this)),this.addEventListener("focusout",Eo(this,Qi,"m",mo).bind(this)),this.addEventListener("keydown",Eo(this,Qi,"m",go).bind(this)),this.addEventListener("mouseover",Eo(this,Qi,"m",vo).bind(this)),e.addEventListener("slotchange",Eo(this,Qi,"m",bo).bind(this))}get activeIndex(){return Eo(this,to,"f")}get selectedIndex(){return Eo(this,no,"f")}get activeOption(){return this.options.item(Eo(this,to,"f"))??null}get selectedOption(){return this.options.item(Eo(this,no,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Eo(this,Qi,"m",ho).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Eo(this,Qi,"m",po).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};eo=new WeakMap,to=new WeakMap,no=new WeakMap,Qi=new WeakSet,so=function(e){return e instanceof zi?NodeFilter.FILTER_ACCEPT:e instanceof Gi?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},io=function(){const e=Eo(this,eo,"f");return e.currentNode=e.root,e.firstChild()},oo=function(){const e=Eo(this,eo,"f");return e.currentNode=e.root,e.lastChild()},ro=function(e){const t=Eo(this,eo,"f");return t.currentNode=e,t.previousNode()},ao=function(e){const t=Eo(this,eo,"f");return t.currentNode=e,t.nextNode()},co=function(e){e&&!e.disabled&&(this.value=e.value)},lo=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),xo(this,to,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else xo(this,to,-1,"f")},ho=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,s&&(s.selected=!1),xo(this,no,Array.from(t.values()).indexOf(e),"f")}}else xo(this,to,-1,"f")},po=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window;n.setProperty("top",`${s+r}px`),n.setProperty("left",`${i+o}px`)},uo=function(e){const{target:t}=e;t instanceof zi?(Eo(this,Qi,"m",co).call(this,t),this.collapse()):t==this&&this.toggle()},fo=function(e){const{target:t}=e,{expanded:n}=this;t instanceof zi&&(n||this.expand(),Eo(this,Qi,"m",lo).call(this,t))},mo=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Eo(this,Qi,"m",lo).call(this,null))},go=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:i,selectedIndex:o,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==s){const e=Eo(this,Qi,"m",ro).call(this,s)??Eo(this,Qi,"m",io).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Eo(this,Qi,"m",ro).call(this,i)??Eo(this,Qi,"m",io).call(this);e&&Eo(this,Qi,"m",co).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==s){const e=Eo(this,Qi,"m",ao).call(this,s)??Eo(this,Qi,"m",oo).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Eo(this,Qi,"m",ao).call(this,i)??Eo(this,Qi,"m",oo).call(this);e&&Eo(this,Qi,"m",co).call(this,e)}e.stopPropagation();break;case"Home":{const t=Eo(this,Qi,"m",io).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Eo(this,Qi,"m",co).call(this,t)),e.stopPropagation();break}case"End":{const t=Eo(this,Qi,"m",oo).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Eo(this,Qi,"m",co).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==s&&Eo(this,Qi,"m",co).call(this,s);else{const e=n.item(o);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),o=Array.from(n.values()),r=o.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=o.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>s)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},vo=function(e){const{target:t}=e;t instanceof zi&&t.focus({preventScroll:!0})},bo=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof zi));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Eo(this,Qi,"m",io).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&Eo(this,Qi,"m",ho).call(this,e)}},(wo=U("template")).content.append(U("div",{part:["content"],children:[U("label",{part:["label"]}),U("output",{part:["value"]})]}),U("div",{part:["options"],children:[U("slot"),U("hr",{part:["separator"]}),U("span",{part:["description"]})]})),yo([K({type:String})],ko.prototype,"name",void 0),yo([K({type:String,observed:!0})],ko.prototype,"label",void 0),yo([K({type:String,observed:!0})],ko.prototype,"value",void 0),yo([K({type:String,defaultValue:"select",observed:!0})],ko.prototype,"type",void 0),yo([K({type:Boolean})],ko.prototype,"expanded",void 0),ko=yo([q({name:"e-select"})],ko);var To,So,Io,Co,Po,Lo,No,Ro,Ao,Oo,Mo,jo,Wo,Fo,Do=ko,_o=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ho=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Bo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ko=class extends Ft{constructor(){super(),To.add(this),So.set(this,void 0),Io.set(this,void 0),Ho(this,So,null,"f"),Ho(this,Io,null,"f");const e=this.attachShadow({mode:"open"});e.append(jo.content.cloneNode(!0)),e.addEventListener("slotchange",Bo(this,To,"m",Mo).bind(this))}get menubutton(){return Bo(this,So,"f")}get select(){return Bo(this,Io,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&Bo(this,To,"m",Co).call(this);break}}}};So=new WeakMap,Io=new WeakMap,To=new WeakSet,Co=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},Po=function(e){const t=Bo(this,To,"m",Ao).bind(this);Wo.set(e,t),e.addEventListener("keydown",t)},Lo=function(e){const t=Wo.get(e);t&&e.removeEventListener("keydown",t)},No=function(e){const t=Bo(this,To,"m",Oo).bind(this);Fo.set(e,t),e.addEventListener("trigger",t)},Ro=function(e){const t=Fo.get(e);t&&e.removeEventListener("trigger",t)},Ao=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},Oo=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},Mo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=Bo(this,So,"f");null!==e&&(Bo(this,To,"m",Ro).call(this,e),Bo(this,To,"m",Lo).call(this,e));const n=t.assignedElements()[0];e=n instanceof Bi?n:null,null!==e&&(Bo(this,To,"m",No).call(this,e),Bo(this,To,"m",Po).call(this,e)),Ho(this,So,e,"f");break}case"select":{let e=Bo(this,Io,"f");null!==e&&Bo(this,To,"m",Lo).call(this,e);const n=t.assignedElements()[0];e=n instanceof Do?n:null,null!==e&&Bo(this,To,"m",Po).call(this,e),Ho(this,Io,e,"f");break}}},jo=U("template",{content:[U("span",{part:["content"],children:[U("span",{part:["icon"]}),U("span",{part:["label"]}),U("slot",{properties:{name:"select"}}),U("slot",{properties:{name:"menubutton"}})]})]}),Wo=new WeakMap,Fo=new WeakMap,_o([K({type:Boolean})],Ko.prototype,"active",void 0),_o([K({type:String,observed:!0})],Ko.prototype,"value",void 0),_o([K({type:String})],Ko.prototype,"name",void 0),_o([K({type:String,observed:!0})],Ko.prototype,"label",void 0),_o([K({type:String})],Ko.prototype,"type",void 0),Ko=_o([q({name:"e-toolbaritem"})],Ko);var qo,Vo=Ko,$o=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),U("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:i,type:s},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:o}})}),{prototype:Vo.prototype,button:e=>new $o({...e,type:"button"}),checkbox:e=>new $o({...e,type:"checkbox"}),radio:e=>new $o({...e,type:"radio"}),menubutton:e=>new $o({...e,type:"menubutton"}),select:e=>new $o({...e,type:"select"})}),zo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Uo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(qo.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(qo=U("template")).content.append(U("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),U("slot")),zo([K({type:String})],Uo.prototype,"name",void 0),zo([K({type:String,observed:!0})],Uo.prototype,"label",void 0),zo([K({type:Boolean,observed:!0})],Uo.prototype,"disabled",void 0),Uo=zo([q({name:"e-toolbaritemgroup"})],Uo);var Jo,Xo,Yo,Go,Zo,Qo,er,tr,nr=Uo,sr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ir=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class or{constructor(e){Jo.add(this),Xo.set(this,void 0),ir(this,Xo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,sr(this,Jo,"m",Yo).bind(this)),"f")}get length(){const e=sr(this,Xo,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=sr(this,Xo,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=sr(this,Xo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new ar(t.root,e):n}*values(){const e=sr(this,Xo,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}Xo=new WeakMap,Jo=new WeakSet,Yo=function(e){return e instanceof Vo?NodeFilter.FILTER_ACCEPT:e instanceof nr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},or.HTMLEToolBarItemRadioListBase=(tr=class{constructor(e,t){Go.add(this),Zo.set(this,void 0),Qo.set(this,void 0),ir(this,Zo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,sr(this,Go,"m",er).bind(this)),"f"),ir(this,Qo,t,"f")}get value(){const e=sr(this,Qo,"f"),t=sr(this,Zo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=sr(this,Qo,"f"),t=sr(this,Zo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:s,type:i}=n;s==e&&"radio"==i&&(yield n),n=t.nextNode()}}},Zo=new WeakMap,Qo=new WeakMap,Go=new WeakSet,er=function(e){return e instanceof Vo?NodeFilter.FILTER_ACCEPT:e instanceof nr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},tr);var rr=or,ar=or.HTMLEToolBarItemRadioListBase;delete or.HTMLEToolBarItemRadioListBase;var cr,lr,hr,dr,pr,ur,fr,mr,gr,vr,br,wr,yr,Er,xr,kr,Tr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Sr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ir=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Cr=class extends HTMLElement{constructor(){super(),cr.add(this),lr.set(this,void 0),hr.set(this,void 0),Sr(this,hr,-1,"f"),Sr(this,lr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ir(this,cr,"m",dr).bind(this)),"f"),this.items=new rr(this),this.attachShadow({mode:"open"}).append(kr.content.cloneNode(!0)),this.addEventListener("change",Ir(this,cr,"m",vr).bind(this)),this.addEventListener("click",Ir(this,cr,"m",br).bind(this)),this.addEventListener("focusin",Ir(this,cr,"m",wr).bind(this)),this.addEventListener("focusout",Ir(this,cr,"m",yr).bind(this)),this.addEventListener("keydown",Ir(this,cr,"m",Er).bind(this)),this.addEventListener("trigger",Ir(this,cr,"m",xr).bind(this))}get activeItem(){return this.items.item(Ir(this,hr,"f"))??null}get activeIndex(){return Ir(this,hr,"f")}};lr=new WeakMap,hr=new WeakMap,cr=new WeakSet,dr=function(e){return e instanceof Vo?NodeFilter.FILTER_ACCEPT:e instanceof nr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pr=function(){const e=Ir(this,lr,"f");return e.currentNode=e.root,e.firstChild()},ur=function(){const e=Ir(this,lr,"f");return e.currentNode=e.root,e.lastChild()},fr=function(e){const t=Ir(this,lr,"f");return t.currentNode=e,t.previousSibling()},mr=function(e){const t=Ir(this,lr,"f");return t.currentNode=e,t.nextSibling()},gr=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Sr(this,hr,Array.from(n.values()).indexOf(e),"f")):Sr(this,hr,-1,"f")},vr=function(e){const{target:t}=e;if(t instanceof Do){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},br=function(e){const{target:t}=e;if(t instanceof Vo){const{type:e}=t;t.trigger()}},wr=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;Ir(this,cr,"m",gr).call(this,s)},yr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Ir(this,cr,"m",gr).call(this,null)},Er=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Ir(this,cr,"m",fr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Ir(this,cr,"m",pr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Ir(this,cr,"m",mr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Ir(this,cr,"m",ur).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Ir(this,cr,"m",pr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ir(this,cr,"m",ur).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},xr=function(e){const{target:t}=e;if(t instanceof Vo){const{type:e,name:n,value:s}=t;"radio"==e&&Array.from(new ar(this,n).values()).forEach((e=>{e.checked=e.value==s}))}},(kr=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),U("slot")),Tr([K({type:String})],Cr.prototype,"name",void 0),Tr([K({type:String})],Cr.prototype,"orientation",void 0),Cr=Tr([q({name:"e-toolbar"})],Cr);var Pr=Cr,Lr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Nr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),U("slot"))}};Lr([K({type:String})],Nr.prototype,"name",void 0),Nr=Lr([q({name:"e-tabpanel"})],Nr);var Rr,Ar=Nr,Or=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Mr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},jr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Wr=class extends HTMLElement{constructor(){super(),Rr.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),U("slot")),Mr(this,Rr,null,"f")}get panel(){return jr(this,Rr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==jr(this,Rr,"f")&&e instanceof Ar&&Mr(this,Rr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Ar&&Mr(this,Rr,e,"f"),e&&(e.hidden=!this.active)}}};Rr=new WeakMap,Or([K({type:String})],Wr.prototype,"name",void 0),Or([K({type:Boolean})],Wr.prototype,"disabled",void 0),Or([K({type:Boolean,observed:!0})],Wr.prototype,"active",void 0),Or([K({type:String,observed:!0})],Wr.prototype,"controls",void 0),Wr=Or([q({name:"e-tab"})],Wr);var Fr,Dr=Wr,_r=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Hr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Br=class extends HTMLElement{constructor(){super(),Fr.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),U("slot")),this.tabs=[],_r(this,Fr,1,"f")}get activeIndex(){return Hr(this,Fr,"f")}get activeTab(){return this.tabs[Hr(this,Fr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof Dr));this.tabs=t,_r(this,Fr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof Dr&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);_r(this,Fr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(_r(this,Fr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Fr=new WeakMap,Br=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-tablist"})],Br);var Kr,qr,Vr,$r,zr,Ur,Jr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Xr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Yr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Gr=class extends HTMLElement{constructor(){super(),Kr.add(this),qr.set(this,void 0),Vr.set(this,void 0),$r.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Ur.content.cloneNode(!0)),Xr(this,qr,null,"f"),Xr(this,$r,null,"f"),Xr(this,Vr,null,"f"),e.addEventListener("slotchange",Yr(this,Kr,"m",zr).bind(this))}get badge(){return Yr(this,qr,"f")}get toolbar(){return Yr(this,Vr,"f")}get menu(){return Yr(this,$r,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};qr=new WeakMap,Vr=new WeakMap,$r=new WeakMap,Kr=new WeakSet,zr=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Xr(this,Vr,e instanceof Pr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Xr(this,qr,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Xr(this,$r,e instanceof Bn?e:null,"f");break}}},(Ur=U("template")).content.append(U("slot")),Jr([K({type:String})],Gr.prototype,"name",void 0),Jr([K({type:Number})],Gr.prototype,"posinset",void 0),Jr([K({type:String,observed:!0})],Gr.prototype,"label",void 0),Jr([K({type:Boolean})],Gr.prototype,"droptarget",void 0),Jr([K({type:Boolean})],Gr.prototype,"active",void 0),Jr([K({type:Boolean,observed:!0})],Gr.prototype,"selected",void 0),Gr=Jr([q({name:"e-listitem"})],Gr);var Zr,Qr,ea,ta=Gr;let na=class extends HTMLElement{constructor(){super(),Zr.add(this);const e=this.attachShadow({mode:"open"});e.append(ea.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Zr,"m",Qr).bind(this))}};Zr=new WeakSet,Qr=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ta)).forEach(((e,t)=>{e.posinset=t}))},(ea=U("template")).content.append(U("slot")),na=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([q({name:"e-listitemgroup"})],na);var sa,ia,oa,ra,aa,ca,la,ha,da,pa,ua,fa,ma,ga,va,ba,wa,ya,Ea,xa,ka,Ta,Sa,Ia,Ca,Pa,La,Na,Ra,Aa,Oa,Ma,ja=na,Wa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Da=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let _a=class extends HTMLElement{constructor(){super(),sa.add(this),ia.set(this,void 0),oa.set(this,void 0),ra.set(this,void 0),aa.set(this,void 0),ca.set(this,void 0),Da(this,ca,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Fa(this,sa,"m",la).bind(this)),"f"),Da(this,oa,-1,"f"),Da(this,ia,-1,"f"),Da(this,ra,!1,"f"),Da(this,aa,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Ma.content.cloneNode(!0)),this.addEventListener("contextmenu",Fa(this,sa,"m",Ea).bind(this)),this.addEventListener("click",Fa(this,sa,"m",xa).bind(this)),this.addEventListener("dragend",Fa(this,sa,"m",ka).bind(this)),this.addEventListener("dragenter",Fa(this,sa,"m",Ta).bind(this)),this.addEventListener("dragover",Fa(this,sa,"m",Sa).bind(this)),this.addEventListener("dragleave",Fa(this,sa,"m",Ia).bind(this)),this.addEventListener("dragstart",Fa(this,sa,"m",Ca).bind(this)),this.addEventListener("drop",Fa(this,sa,"m",Pa).bind(this)),this.addEventListener("focus",Fa(this,sa,"m",Na).bind(this)),this.addEventListener("focusin",Fa(this,sa,"m",Ra).bind(this)),this.addEventListener("keydown",Fa(this,sa,"m",La).bind(this)),this.addEventListener("select",Fa(this,sa,"m",Aa).bind(this)),e.addEventListener("slotchange",Fa(this,sa,"m",Oa).bind(this))}get dropTargetItem(){return this.items[Fa(this,ia,"f")]??null}get activeIndex(){return Fa(this,oa,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){Da(this,ra,!0,"f")}endSelection(){Da(this,ra,!1,"f"),Fa(this,aa,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Da(this,aa,!1,"f"))}selectedItems(){const e=[],t=Fa(this,ca,"f");t.currentNode=t.root;let n=Fa(this,sa,"m",va).call(this);for(;null!==n;)n.selected&&e.push(n),n=Fa(this,sa,"m",ya).call(this,n);return e}};ia=new WeakMap,oa=new WeakMap,ra=new WeakMap,aa=new WeakMap,ca=new WeakMap,sa=new WeakSet,la=function(e){return e instanceof ta?NodeFilter.FILTER_ACCEPT:e instanceof ja?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ha=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},da=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},pa=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},ua=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},fa=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},ma=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,Da(this,oa,Array.from(n).indexOf(e),"f"))},ga=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,Da(this,ia,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,Da(this,ia,-1,"f"))},va=function(){const e=Fa(this,ca,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},ba=function(){const e=Fa(this,ca,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},wa=function(e){const t=Fa(this,ca,"f");return t.currentNode=e,t.previousNode()},ya=function(e){const t=Fa(this,ca,"f");return t.currentNode=e,t.nextNode()},Ea=function(e){const{target:t}=e;t instanceof ta&&(this.selectedItems().includes(t)||Fa(this,sa,"m",da).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},xa=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof ta)if(s||n){if(n)t.selected?Fa(this,sa,"m",ua).call(this,t):Fa(this,sa,"m",pa).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=Fa(this,sa,"m",ha).call(this,n,t);e&&(i.includes(t)?Fa(this,sa,"m",ua).call(this,...e):Fa(this,sa,"m",pa).call(this,...e))}else Fa(this,sa,"m",da).call(this,t);e.stopPropagation()}}else Fa(this,sa,"m",da).call(this,t)},ka=function(){Fa(this,sa,"m",ga).call(this,null)},Ta=function(e){const{target:t}=e;t instanceof ta&&Fa(this,sa,"m",ga).call(this,t),e.preventDefault()},Sa=function(e){e.preventDefault()},Ia=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||Fa(this,sa,"m",ga).call(this,null)},Ca=function(e){const{target:t}=e;t instanceof ta&&(this.selectedItems().includes(t)||Fa(this,sa,"m",da).call(this,t))},Pa=function(){Fa(this,sa,"m",ga).call(this,null)},La=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Fa(this,ca,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Fa(this,sa,"m",ha).call(this,n,s);i&&Fa(this,sa,"m",da).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Fa(this,sa,"m",wa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Fa(this,sa,"m",ua).call(this,t):Fa(this,sa,"m",pa).call(this,t))}}else{const e=Fa(this,sa,"m",va).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Fa(this,sa,"m",ya).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Fa(this,sa,"m",ua).call(this,t):Fa(this,sa,"m",pa).call(this,t))}}else{const e=Fa(this,sa,"m",ba).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Fa(this,sa,"m",va).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Fa(this,sa,"m",ba).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Fa(this,sa,"m",da).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Fa(this,sa,"m",fa).call(this),Fa(this,sa,"m",ma).call(this,null),this.focus(),e.stopPropagation()}},Na=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ra=function(e){const{target:t}=e;t instanceof ta&&Fa(this,sa,"m",ma).call(this,t)},Aa=function(){Fa(this,ra,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Oa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ta)).forEach(((e,t)=>{e.posinset=t}))},(Ma=U("template")).content.append(U("style",{properties:{innerText:"\n\n                    "}}),U("slot",{children:[U("slot")]})),Wa([K({type:String})],_a.prototype,"name",void 0),Wa([K({type:Boolean})],_a.prototype,"droptarget",void 0),_a=Wa([q({name:"e-list"})],_a);var Ha,Ba=_a,Ka=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},qa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Va=class extends HTMLElement{constructor(){super(),Ha.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),U("div",{part:["container"],children:[U("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],qa(this,Ha,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ha,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return qa(e,Ha,this,"f"),e}};Ha=new WeakMap,Ka([K({type:Boolean})],Va.prototype,"selected",void 0),Ka([K({type:Boolean})],Va.prototype,"dragovered",void 0),Ka([K({type:Boolean})],Va.prototype,"dragged",void 0),Ka([K({type:Boolean})],Va.prototype,"disabled",void 0),Va=Ka([q({name:"e-draggable"})],Va);var $a,za,Ua=Va,Ja=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Xa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ya=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ga=class extends HTMLElement{constructor(){super(),$a.set(this,void 0),za.set(this,void 0),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),U("div",{part:["container"],children:[U("slot")]})),Xa(this,$a,[],"f"),Xa(this,za,[],"f")}get draggables(){return Ya(this,$a,"f")}get selectedDraggables(){return Ya(this,za,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Xa(this,za,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof Ua));Xa(this,$a,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,o=s>0?this.draggables.length-1:0,r=s>0?n:e,a=s>0?e:n;for(let e=i;e!==o+s;e+=s)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};$a=new WeakMap,za=new WeakMap,Ja([K({type:Boolean})],Ga.prototype,"disabled",void 0),Ga=Ja([q({name:"e-dragzone"})],Ga);var Za=Ga,Qa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ec=class extends Za{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(U("div",{part:["appendarea"],children:[U("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof Za){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof tc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const o=this.shadowRoot?.querySelector("slot");return o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};Qa([K({type:String})],ec.prototype,"name",void 0),Qa([K({type:String})],ec.prototype,"dragovered",void 0),Qa([K({type:String,observed:!0})],ec.prototype,"placeholder",void 0),Qa([K({type:Boolean})],ec.prototype,"multiple",void 0),ec=Qa([q({name:"e-dropzone"})],ec);var tc=ec,nc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let sc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(U("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),U("div",{part:["header"],children:[U("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),U("hr",{part:["separator"]}),U("div",{part:["body"],children:[U("slot")]}),U("hr",{part:["separator"]}),U("div",{part:["actions"],children:[U("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),U("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),U("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};nc([K({type:String})],sc.prototype,"type",void 0),sc=nc([q({name:"e-dialog"})],sc);var ic,oc,rc,ac,cc,lc,hc,dc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},pc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},uc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let fc=class extends HTMLElement{constructor(){super(),ic.add(this),oc.set(this,void 0),rc.set(this,void 0),this.attachShadow({mode:"open"}).append(hc.content.cloneNode(!0)),pc(this,oc,null,"f"),pc(this,rc,!1,"f"),this.addEventListener("pointerdown",uc(this,ic,"m",cc).bind(this)),this.addEventListener("pointermove",uc(this,ic,"m",lc).bind(this)),this.addEventListener("pointerup",uc(this,ic,"m",ac).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;pc(this,oc,document.getElementById(e),"f");break}}}};oc=new WeakMap,rc=new WeakMap,ic=new WeakSet,ac=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),pc(this,rc,!1,"f")},cc=function(e){const{pointerId:t}=e,{controls:n}=this;pc(this,oc,document.getElementById(n),"f"),this.setPointerCapture(t),pc(this,rc,!0,"f")},lc=function(e){if(uc(this,rc,"f")){const t=uc(this,oc,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:o,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),u=Math.max(c,Math.min(Math.trunc(p+s),l-o)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+i),d-r));t.style.setProperty("left",`${u}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(hc=U("template")).content.append(U("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),dc([K({type:String,observed:!0})],fc.prototype,"controls",void 0),fc=dc([q({name:"e-handle"})],fc);var mc,gc,vc,bc,wc,yc,Ec,xc,kc,Tc,Sc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ic=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Cc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Pc=class extends HTMLElement{constructor(){super(),mc.add(this),gc.set(this,void 0),vc.set(this,void 0),bc.set(this,void 0),wc.set(this,void 0),this.attachShadow({mode:"open"}).append(Tc.content.cloneNode(!0)),Ic(this,gc,null,"f"),Ic(this,bc,null,"f"),Ic(this,wc,0,"f"),Ic(this,vc,!1,"f"),this.addEventListener("pointerdown",Cc(this,mc,"m",Ec).bind(this)),this.addEventListener("pointermove",Cc(this,mc,"m",xc).bind(this)),this.addEventListener("pointerup",Cc(this,mc,"m",yc).bind(this))}get target(){return Cc(this,gc,"f")}};gc=new WeakMap,vc=new WeakMap,bc=new WeakMap,wc=new WeakMap,mc=new WeakSet,yc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Ic(this,vc,!1,"f")},Ec=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Ic(this,gc,s.getElementById(n),"f"),this.setPointerCapture(t),Ic(this,vc,!0,"f")},xc=function(e){Cc(this,vc,"f")&&(null==Cc(this,bc,"f")?(Ic(this,wc,e.movementY,"f"),Ic(this,bc,Cc(this,mc,"m",kc).bind(this),"f"),requestAnimationFrame(Cc(this,bc,"f"))):Ic(this,wc,Cc(this,wc,"f")+e.movementY,"f"))},kc=function(){const e=Cc(this,gc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Cc(this,wc,"f"),i=parseFloat(t.getPropertyValue("height")),o=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${o}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Ic(this,bc,null,"f")},(Tc=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Sc([K({type:String})],Pc.prototype,"controls",void 0),Sc([K({type:String,defaultValue:"top"})],Pc.prototype,"growdir",void 0),Pc=Sc([q({name:"e-hsash"})],Pc);var Lc,Nc,Rc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ac=class extends HTMLElement{constructor(){super(...arguments),Lc.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Lc,"m",Nc).call(this,e)}};Lc=new WeakSet,Nc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Rc([K({type:String})],Ac.prototype,"src",void 0),Ac=Rc([q({name:"e-import"})],Ac);var Oc,Mc,jc,Wc,Fc,Dc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},_c=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Hc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Bc=class extends HTMLElement{constructor(){super(),Oc.add(this),Mc.set(this,void 0),this.attachShadow({mode:"open"}),_c(this,Oc,"m",jc).call(this),Hc(this,Mc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":_c(this,Oc,"m",jc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Hc(this,Mc,e,"f")}get promise(){return _c(this,Mc,"f")}};Mc=new WeakMap,Oc=new WeakSet,jc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Fc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Wc.content.cloneNode(!0))}},(()=>{const e=U("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Wc=U("template")).content.append(t,U("div",{part:["bar"],children:[U("div",{part:["slider"],children:[U("div",{part:["cursor"]})]})]})),(Fc=U("template")).content.append(n,U("div",{part:["circle"]}))})(),Dc([K({type:String,defaultValue:"bar",observed:!0})],Bc.prototype,"type",void 0),Bc=Dc([q({name:"e-loader"})],Bc);var Kc,qc,Vc,$c,zc,Uc,Jc,Xc,Yc,Gc,Zc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Qc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},el=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let tl=class extends HTMLElement{constructor(){super(),Kc.add(this),qc.set(this,void 0),Vc.set(this,void 0),$c.set(this,void 0),zc.set(this,void 0),this.attachShadow({mode:"open"}).append(Gc.content.cloneNode(!0)),Qc(this,qc,null,"f"),Qc(this,$c,null,"f"),Qc(this,zc,0,"f"),Qc(this,Vc,!1,"f"),this.addEventListener("pointerdown",el(this,Kc,"m",Jc).bind(this)),this.addEventListener("pointermove",el(this,Kc,"m",Xc).bind(this)),this.addEventListener("pointerup",el(this,Kc,"m",Uc).bind(this))}get target(){return el(this,qc,"f")}setWidth(e){const t=el(this,qc,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};qc=new WeakMap,Vc=new WeakMap,$c=new WeakMap,zc=new WeakMap,Kc=new WeakSet,Uc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Qc(this,Vc,!1,"f")},Jc=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Qc(this,qc,s.getElementById(n),"f"),this.setPointerCapture(t),Qc(this,Vc,!0,"f")},Xc=function(e){el(this,Vc,"f")&&(null==el(this,$c,"f")&&(Qc(this,$c,el(this,Kc,"m",Yc).bind(this),"f"),requestAnimationFrame(el(this,$c,"f"))),Qc(this,zc,el(this,zc,"f")+e.movementX,"f"))},Yc=function(){const e=el(this,qc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=el(this,zc,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}Qc(this,zc,0,"f"),Qc(this,$c,null,"f")},(Gc=U("template")).content.append(U("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Zc([K({type:String,observed:!0})],tl.prototype,"controls",void 0),Zc([K({type:String,defaultValue:"right"})],tl.prototype,"growdir",void 0),Zc([K({type:Boolean})],tl.prototype,"max",void 0),tl=Zc([q({name:"e-wsash"})],tl);var nl,sl,il=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,sl=new WeakMap,nl=new WeakSet;var ol,rl,al,cl,ll,hl,dl,pl=U("span",{properties:{className:"icon"}}),ul=U("span",{properties:{className:"arrow"}}),fl=V({name:"menuitem"})(Object.freeze({template:U("button",{properties:{className:"menuitem menuitem-button",tabIndex:-1},attributes:{role:"menuitem"},children:[U("span",{properties:{className:"content"},children:[pl.cloneNode(!0),U("span",{properties:{className:"label"}})]})]}),observer:new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=e,i=t.getAttribute(n);fl.attributeChangedCallback(t,n,s,i);break}case"childList":{const{addedNodes:n,removedNodes:s}=e;n.length>0&&fl.childNodesAddedCallback(t,n),s.length>0&&fl.childNodesRemovedCallback(t,n);break}}}))})),create(e){const t=this.template.cloneNode(!0);if(this.observer.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:["aria-checked"],childList:!0}),t.addEventListener("keydown",this.handleKeyDownEvent.bind(this)),void 0!==e){const{keyshortcut:n,checked:s,type:i,label:o,name:r}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==s&&this.setChecked(t,s),void 0!==i&&this.setType(t,i),void 0!==o&&this.setLabel(t,o),void 0!==r&&this.setName(t,r)}return t},handleKeyDownEvent(e){e.preventDefault()},attributeChangedCallback(e,t,n,s){switch(t){case"aria-checked":e.dispatchEvent(new Event("toggle",{bubbles:!0}))}},childNodesAddedCallback(e,t){t.forEach((t=>{t instanceof HTMLElement&&t.classList.contains("menu")&&this.setHasPopup(e,!0)}))},childNodesRemovedCallback(e,t){t.forEach((t=>{t instanceof HTMLElement&&t.classList.contains("menu")&&this.setHasPopup(e,!1)}))},label:e=>e.querySelector(":scope > .content > .label"),menu:e=>e.querySelector(":scope > .menu"),getKeyShortcut:e=>e.getAttribute("aria-keyshortcuts"),setKeyShortcut(e,t){null!==t?e.setAttribute("aria-keyshortcuts",t):e.removeAttribute("aria-keyshortcuts")},getLabel(e){return this.label(e).textContent??""},setLabel(e,t){this.label(e).textContent=t},getType(e){const t=Array.from(e.classList).find((e=>e.startsWith("menuitem-")));return t.substring(t.indexOf("-")+1)},setType(e,t){const n=this.getType(e);switch(e.classList.replace(`menuitem-${n}`,`menuitem-${t}`),t){case"checkbox":e.setAttribute("aria-role","menuitemcheckbox");break;case"radio":e.setAttribute("aria-role","menuitemradio");break;default:e.setAttribute("aria-role","menuitem")}switch(t){case"menu":{const t=e.querySelector(".icon");t&&t.remove();break}default:if(!e.querySelector(".icon")){const t=e.querySelector(".content");t&&t.prepend(pl.cloneNode(!0))}}switch(t){case"submenu":if(!e.querySelector(".arrow")){const t=e.querySelector(".content");t&&t.append(ul.cloneNode(!0))}break;default:{const t=e.querySelector(".arrow");t&&t.remove();break}}},getActive:e=>e.hasAttribute("aria-active"),setActive(e,t){e.toggleAttribute("aria-active",t)},getName:e=>e.getAttribute("name")??"",setName(e,t){e.setAttribute("name",t)},getHasPopup:e=>e.hasAttribute("aria-haspopup"),setHasPopup(e,t){t?e.setAttribute("aria-haspopup","menu"):e.removeAttribute("aria-haspopup")},setChecked(e,t){e.toggleAttribute("aria-checked",t)},getChecked:e=>e.hasAttribute("aria-checked"),setExpanded(e,t){e.toggleAttribute("aria-expanded",t)},getExpanded:e=>e.hasAttribute("aria-expanded"),trigger(e){switch(this.getType(e)){case"checkbox":this.setChecked(e,!this.getChecked(e));break;case"radio":this.setChecked(e,!0);break;case"menu":case"submenu":this.toggle(e)}e.dispatchEvent(new Event("trigger",{bubbles:!0}))},toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&this.positionMenu(e)},expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),this.positionMenu(e))},collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)},positionMenu(e){const t=this.menu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:o,right:r}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:p}=document.body;if("menu"==this.getType(e)){const e=r+a-d,t=s+c-p;n.setProperty("left",`${e>0?h+o-a:h+o}px`),n.setProperty("top",`${t>0?l+s-c:l+i}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),u=r+a-d,f=s+c-p;n.setProperty("left",(u>0?o-a-h:r-h)+"px");const m=window.getComputedStyle(t),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);n.setProperty("top",`${f>0?i-c-e+w:s-e-b}px`)}}}}})),ml=(V({name:"menubar"})(Object.freeze({template:U("menu",{properties:{className:"menubar",tabIndex:-1},attributes:{role:"menubar"}}),walker:document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,(e=>{if(e instanceof Element){const{classList:t}=e;if(t.contains("menuitem"))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT})),create(){const e=this.template.cloneNode(!0);return e.addEventListener("click",this.handleClickEvent.bind(this)),e.addEventListener("focusin",this.handleFocusInEvent.bind(this)),e.addEventListener("focusout",this.handleFocusOutEvent.bind(this)),e.addEventListener("mouseover",this.handleMouseOverEvent.bind(this)),e.addEventListener("keydown",this.handleKeyDownEvent.bind(this)),e.addEventListener("trigger",this.handleTriggerEvent.bind(this)),e},setExpanded(e,t){e.toggleAttribute("aria-expanded",t)},getExpanded:e=>e.hasAttribute("aria-expanded"),getActiveItem:e=>e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-active]"),firstItem(e){const{walker:t}=this;return t.currentNode=e,t.firstChild()},lastItem(e){const{walker:t}=this;return t.currentNode=e,t.lastChild()},previousItem(e){const{walker:t}=this;return t.currentNode=e,t.previousSibling()},nextItem(e){const{walker:t}=this;return t.currentNode=e,t.nextSibling()},firstChildItem(e){const t=fl.menu(e);if(t){const{walker:e}=this;return e.currentNode=t,e.firstChild()}return null},setActiveItem(e,t){const n=this.getActiveItem(e),s=this.getExpanded(e);null!==n&&n!==t&&(fl.collapse(n),fl.setActive(n,!1)),null!==t&&(s&&fl.expand(t),fl.setActive(t,!0))},isClosestMenu:(e,t)=>t.closest(":is(.menubar, .menu)")==e,nearestItem:(e,t)=>Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null,handleFocusInEvent(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof Element){const e=this.nearestItem(s,t);this.setActiveItem(s,e)}},handleFocusOutEvent(e){const{relatedTarget:t,currentTarget:n}=e,s=n;if(!s.contains(t)){const e=this.getActiveItem(s);e&&this.getExpanded(e)&&fl.collapse(e),this.setActiveItem(s,null),this.setExpanded(s,!1)}},handleMouseOverEvent(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=this.getActiveItem(s),n=this.getExpanded(s);if(this.isClosestMenu(s,t)&&t!==e&&n){const e=fl.menu(t);e&&(fl.expand(t),e.focus({preventScroll:!0}))}}},handleClickEvent(e){const{target:t,currentTarget:n}=e,s=n,i=this.getActiveItem(s),o=this.getExpanded(s);if(t instanceof HTMLElement&&t.classList.contains("menuitem")&&this.isClosestMenu(s,t)){const e=!o;this.setExpanded(s,e),e?(null===i||fl.getExpanded(i)||fl.expand(i),fl.menu(t)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}},handleKeyDownEvent(e){const{key:t,currentTarget:n}=e,s=n;let i=this.getActiveItem(s);const o=this.getExpanded(s);switch(t){case"ArrowLeft":(i?this.previousItem(i)??this.lastItem(s):this.firstItem(s))?.focus({preventScroll:!0}),i=this.getActiveItem(s),o&&i&&this.firstChildItem(i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?this.nextItem(i)??this.firstItem(s):this.lastItem(s))?.focus({preventScroll:!0}),i=this.getActiveItem(s),o&&i&&this.firstChildItem(i)?.focus({preventScroll:!0});break;case"Enter":i&&(this.setExpanded(s,!o),this.firstChildItem(i)?.focus({preventScroll:!0}));break;case"Escape":o?(this.setExpanded(s,!1),i&&(fl.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},handleTriggerEvent(e){const{currentTarget:t}=e,n=t,s=this.getActiveItem(n);null!==s&&fl.getExpanded(s)&&fl.collapse(s),this.setExpanded(n,!1),n.focus({preventScroll:!0})}})),new WeakMap),gl=(V({name:"menu"})(Object.freeze({template:U("menu",{properties:{className:"menu",tabIndex:-1},attributes:{role:"menu"}}),walker:document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,(e=>{if(e instanceof Element){const{classList:t}=e;if(t.contains("menuitem"))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT})),create(e){const t=this.template.cloneNode(!0);if(t.addEventListener("click",this.handleClickEvent.bind(this)),t.addEventListener("mouseover",this.handleMouseOverEvent.bind(this)),t.addEventListener("mouseout",this.handleMouseOutEvent.bind(this)),t.addEventListener("focusin",this.handleFocusInEvent.bind(this)),t.addEventListener("focusout",this.handleFocusOutEvent.bind(this)),t.addEventListener("keydown",this.handleKeyDownEvent.bind(this)),t.addEventListener("trigger",this.handleTriggerEvent.bind(this)),void 0!==e){const{name:n}=e;void 0!==n&&this.setName(t,n)}return t},walkerNodeFilter(e){if(e instanceof Element){const{classList:t}=e;if(t.contains("menuitem"))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},getContextual:e=>e.hasAttribute("data-contextual"),setContextual(e,t){e.toggleAttribute("data-contextual",t)},getName:e=>e.getAttribute("data-name")??"",setName(e,t){e.setAttribute("data-name",t)},collapseSubmenus(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>fl.collapse(e)))},isClosestMenu:(e,t)=>t.closest(":is(.menu)")==e,nearestItem:(e,t)=>Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null,firstItem(e){const{walker:t}=this;return t.currentNode=e,t.firstChild()},lastItem(e){const{walker:t}=this;return t.currentNode=e,t.lastChild()},previousItem(e){const{walker:t}=this;return t.currentNode=e,t.previousSibling()},nextItem(e){const{walker:t}=this;return t.currentNode=e,t.nextSibling()},firstChildItem(e){const t=fl.menu(e);if(t){const{walker:e}=this;return e.currentNode=t,e.firstChild()}return null},getActiveItem:e=>e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-active]"),setActiveItem(e,t){const n=this.getActiveItem(e);null!==n&&n!==t&&fl.setActive(n,!1),null!==t&&fl.setActive(t,!0)},handleClickEvent(e){const{target:t,currentTarget:n}=e,s=n;t instanceof HTMLElement&&t.classList.contains("menuitem")&&this.isClosestMenu(s,t)&&fl.trigger(t)},handleFocusInEvent(e){const{currentTarget:t,target:n}=e,s=t;if(n instanceof HTMLElement&&n.classList.contains("menuitem")){const e=this.nearestItem(s,n);null!==e&&this.setActiveItem(s,e)}},handleFocusOutEvent(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(!s.contains(n)){const e=this.getActiveItem(s);null!==e&&fl.collapse(e),this.setActiveItem(s,null)}},setItemTimeout:async(e,t)=>new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);ml.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{ml.delete(e)})),clearItemTimeout(e){const t=ml.get(e);void 0!==t&&(ml.delete(e),t.clear())},handleKeyDownEvent(e){const{currentTarget:t,key:n}=e,s=t,i=this.getActiveItem(s);switch(n){case"ArrowUp":(i?this.previousItem(i)??this.lastItem(s):this.firstItem(s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(i?this.nextItem(i)??this.firstItem(s):this.firstItem(s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":this.firstItem(s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":this.lastItem(s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(i){switch(fl.getType(i)){case"submenu":fl.expand(i),this.firstChildItem(i)?.focus({preventScroll:!0});break;default:fl.trigger(i)}e.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s||(fl.collapse(i),i.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(i)switch(fl.getType(i)){case"submenu":fl.getExpanded(i)||(fl.expand(i),this.firstChildItem(i)?.focus({preventScroll:!0}),e.stopPropagation())}}e.preventDefault()},handleMouseOutEvent(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=this.nearestItem(i,t);if(null!==n&&("submenu"!=fl.getType(n)||fl.getExpanded(n)||this.clearItemTimeout(n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const t=this.getActiveItem(i);null!==t&&"submenu"==fl.getType(t)&&fl.getExpanded(t)&&(this.clearItemTimeout(t),this.setItemTimeout(t,400).then((()=>{fl.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:o}=e,{left:r,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(r>n||a<n||c>o||l<o),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):(i.focus({preventScroll:!0}),this.setActiveItem(i,null))),h||(i.focus({preventScroll:!0}),this.setActiveItem(i,null))}}},handleMouseOverEvent(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=this.nearestItem(s,t);if(null!==n&&("submenu"==fl.getType(n)&&fl.getExpanded(n)&&this.clearItemTimeout(n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const e=this.getActiveItem(s);null!==e&&"submenu"==fl.getType(e)&&fl.getExpanded(e)&&!e.contains(t)&&(this.clearItemTimeout(e),this.setItemTimeout(e,400).then((()=>{fl.collapse(e)})).catch((()=>{}))),this.setActiveItem(s,n),n.focus({preventScroll:!0}),"submenu"==fl.getType(n)&&(fl.getExpanded(n)?fl.menu(n)?.focus({preventScroll:!0}):(this.clearItemTimeout(n),this.setItemTimeout(n,200).then((()=>{const e=this.getActiveItem(s);this.collapseSubmenus(s),e&&(this.clearItemTimeout(e),fl.expand(e),fl.menu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},handleTriggerEvent(e){const{target:t,currentTarget:n}=e,s=n;this.getContextual(s),t instanceof HTMLElement&&t.classList.contains("menuitem")&&this.isClosestMenu(s,t)}})),V({name:"menuitemgroup"})(Object.freeze({template:U("div",{properties:{className:"menuitemgroup"},attributes:{role:"group"}}),observer:new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const{addedNodes:n,removedNodes:s}=e;n.length>0&&gl.childNodesAddedCallback(t,n),s.length>0&&gl.childNodesRemovedCallback(t,n);break}}}))})),create(e){return this.template.cloneNode(!0)},childNodesAddedCallback(e,t){t.forEach((e=>{e instanceof HTMLElement&&e.classList.contains("menuitem")}))},childNodesRemovedCallback(e,t){t.forEach((e=>{e instanceof HTMLElement&&e.classList.contains("menuitem")}))}}))),vl=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},bl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},wl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class yl extends D{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new _(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class El{constructor(e){ol.set(this,void 0),bl(this,ol,e,"f")}static from(e){return new El(e)}show(){wl(this,ol,"f").forEach((e=>{e.show()}))}hide(){wl(this,ol,"f").forEach((e=>{e.hide()}))}display(){const e=wl(this,ol,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=wl(this,ol,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof yl){const{items:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ol=new WeakMap;class xl extends D{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof yl?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof yl){const{items:t}=e;t&&t.remove(this)}}}vl([j()],xl.prototype,"visibility",void 0);let kl=class extends kt{constructor(e){super(),rl.add(this),al.set(this,void 0),cl.set(this,void 0),this.attachShadow({mode:"open"}),bl(this,al,new WeakMap,"f"),bl(this,cl,new WeakMap,"f"),this.setModel(e??new yl)}getListElement(){const{model:e}=this;return wl(this,al,"f").get(e)?.deref()??null}getListItemElement(e){return wl(this,cl,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return z(U("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),U("slot"))}renderLight(){const{model:e}=this,t=U("e-list",{properties:{tabIndex:0},children:[U("e-listitemgroup",{children:ne(e.items,(e=>wl(this,rl,"m",ll).call(this,e)))})],eventListeners:{contextmenu:wl(this,rl,"m",hl).bind(this),keydown:wl(this,rl,"m",dl).bind(this)}});return wl(this,al,"f").set(e,new WeakRef(t)),t}};al=new WeakMap,cl=new WeakMap,rl=new WeakSet,ll=function(e){const t=U("e-listitem",{properties:{tabIndex:-1,name:e.label,draggable:!0},dataset:{index:e.index},children:[U("span",{properties:{textContent:e.label}}),U("e-toolbar",{properties:{tabIndex:0},children:[U("e-toolbaritemgroup",{children:[$o.menubutton({name:"settings",label:"Actions",menubutton:new Ki({menu:Z(e,new Kn({children:[new On({items:[on.button({name:"display",label:"Display",trigger:()=>{e.display()}}),on.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new On({items:[on.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{}))})}),Z(e,U("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return wl(this,cl,"f").set(e,new WeakRef(t)),t},hl=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof Ba&&i instanceof ta){const s=o.getItemByIndex(parseInt(i.dataset.index)),r=U("e-menu",{properties:{tabIndex:-1,contextual:!0},children:[U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{El.from(this.selectedItems()).display()}}}),U("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{El.from(this.selectedItems()).remove()}}})]}),U("e-menuitemgroup",{properties:{tabIndex:-1},children:[U("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=El.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(r),r.positionContextual(t,n),r.focus({preventScroll:!0}),e.preventDefault()}},dl=function(e){const{currentTarget:t,key:n}=e;if(t instanceof Ba)switch(n){case"Delete":El.from(this.selectedItems()).remove(),e.preventDefault()}},kl=vl([q({name:"v-list"})],kl);var Tl,Sl,Il,Cl,Pl,Ll,Nl,Rl,Al,Ol,Ml,jl=kl,Wl=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Dl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class _l extends D{constructor(e){super();const t=new _(e?.rows??[]);t.setParent(this),this.rows=t;const n=new _(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,s)=>{const i=e.extract(n).toString(),o=e.extract(s).toString();return t*i.localeCompare(o)}))}}class Hl extends D{constructor(e){super();const{name:t,label:n,type:s,extract:i}=e;this.name=t,this.label=n,this.type=s,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}Wl([j()],Hl.prototype,"sortorder",void 0);class Bl extends D{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}Wl([j()],Bl.prototype,"name",void 0),Wl([j()],Bl.prototype,"age",void 0);let Kl=class extends kt{constructor(e){super(),Tl.add(this),Sl.set(this,void 0),Il.set(this,void 0),Cl.set(this,void 0),Pl.set(this,void 0),Ll.set(this,void 0),Fl(this,Cl,[],"f"),Fl(this,Pl,null,"f"),Fl(this,Ll,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new _l),Fl(this,Il,((e,t)=>U("label",{properties:{textContent:t.extract(e)}})),"f"),Fl(this,Sl,(e=>U("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){Fl(this,Sl,e,"f")}setCellDelegate(e){Fl(this,Il,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Dl(this,Ll,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return z(U("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),U("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),U("div",{children:[U("input",{properties:{type:"search"},eventListeners:{input:Dl(this,Tl,"m",Ol).bind(this)}})]}),U("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[U("e-gridhead",{children:[U("e-gridrow",{children:ne(e.columns,(e=>Dl(this,Tl,"m",Nl).call(this,e)))})]}),U("e-gridbody",{children:ne(e.rows,(e=>Dl(this,Tl,"m",Rl).call(this,e)))})]}))}setSearchFilter(e){Fl(this,Pl,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Dl(this,Cl,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Dl(this,Cl,"f").includes(e)||(Dl(this,Cl,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Dl(this,Cl,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Dl(this,Cl,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Dl(this,Cl,"f").every((t=>t.filter(e))))})));const{gridElement:s}=this;s.beginSelection(),s.selectedRows().forEach((e=>e.selected=!1)),s.endSelection()}};Sl=new WeakMap,Il=new WeakMap,Cl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Tl=new WeakSet,Nl=function(e){const{model:t}=this;return Z(e,U("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[U("span",{properties:{className:"gridcell-content"},children:[U("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:Dl(this,Tl,"m",Ml).bind(this)}}),U("e-toolbar",{properties:{tabIndex:-1},children:[U("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[U("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[U("e-menuitem",{properties:{type:"button",textContent:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),U("e-menuitem",{properties:{type:"submenu",textContent:"Sort",tabIndex:-1},children:[Z(e,U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[U("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Ascending",value:"1",tabIndex:-1}}),U("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:s}=n,i=s.value;t.sortByColumn(e,parseInt(i))}}}),["sortorder"],((e,t,n,s)=>{}))]}),U("e-menuitem",{properties:{type:"submenu",textContent:"Filter",tabIndex:-1},children:[U("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>U("e-menuitem",{properties:{tabIndex:-1,textContent:e.name,type:"checkbox",checked:Dl(this,Cl,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof sn){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[U("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":void 0!==s?e.dataset.sortorder=s.toString():delete e.dataset.sortorder}}))},Rl=function(e){const{model:t}=this,n=U("e-gridrow",{properties:{tabIndex:-1},children:ne(t.columns,(t=>Dl(this,Tl,"m",Al).call(this,e,t)))});return Dl(this,Ll,"f").set(e,new WeakRef(n)),n},Al=function(e,t){return U("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[Dl(this,Il,"f").call(this,e,t)]})},Ol=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Ml=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:s}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(s.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Wl([K({type:Boolean,observed:!0})],Kl.prototype,"resizable",void 0),Wl([K({type:Boolean,observed:!0})],Kl.prototype,"sortable",void 0),Kl=Wl([q({name:"v-grid"})],Kl);var ql=Kl;async function Vl(){const e=new Rt,t=new Ct({items:[new Lt({label:"TI 0",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({label:"TI 1",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({type:"leaf",label:"TI 2"}),new Lt({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Lt({label:"yo",type:"parent",items:[new Lt({type:"leaf",label:"plop"})]}));const n=new jl;n.setModel(new yl({items:[new xl({label:"Hey"}),new xl({label:"Yo"})]})),document.body.append(n);const s=new ql;s.resizable=!0,s.sortable=!0,s.setColumnDelegate((e=>z(U("label",{properties:{textContent:e.label}})))),s.setModel(new _l({columns:[new Hl({name:"name",label:"Name",type:String,extract:e=>e.name}),new Hl({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Bl({name:"Denis",age:13}),new Bl({name:"Jean-Charles",age:32}),new Bl({name:"Charles",age:25})]})),document.body.append(s);const i=J("menubar",{children:[J("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu"},children:[J("menu",{properties:{name:"menu"},children:[J("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),J("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},children:[J("menu",{properties:{name:"menu"},children:[J("menuitemgroup",{children:[J("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B"}}),J("menuitem",{properties:{label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),J("menuitem",{properties:{label:"Submenu",type:"submenu"},children:[J("menu",{properties:{name:"submenu"},children:[J("menuitem",{properties:{label:"MenuItem 1",type:"checkbox"}}),J("menuitem",{properties:{label:"MenuItem 2"}})]})]})]})]})]});document.body.append(i),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from($(e)).forEach((e=>{e instanceof Ft&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from($(e)).forEach((e=>{e instanceof Ft&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){}unregisterWidget(e){}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof Ft)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const i=s?.hotkey,o=s?.key,r=s?.value,a=s?.checked,c={name:e,trigger:t,key:o,type:n};r&&(c.value=r),void 0!==o&&void 0!==r&&localStorage.setItem(o,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const i=this._actions[s];let o;switch(t){case"radio":o=i.value??"";break;case"checkbox":o=i.value??!1}i.trigger(o,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const o=this._actionElements[n];if(o)switch(s){case"radio":o.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":o.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:i,value:o,checked:r}=s;switch(i){case"radio":"radio"==t.type?t.checked=t.value==o:"select"==t.type&&(t.value=o);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map