var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>fm});var n,s,i,r,o,a,c,l,h,d,u,p,f,m,b,g,w,v,y,E=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},S=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class T{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new k(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new k(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return T.PROPERTY_CHANGE}get LIST_REMOVE(){return T.LIST_REMOVE}get LIST_INSERT(){return T.LIST_INSERT}get LIST_SORT(){return T.LIST_SORT}}var x=T;n=new WeakMap;var k=class{constructor(e){n.set(this,void 0),E(this,n,e.slice(),"f")}get length(){return S(this,n,"f").length}item(e){return S(this,n,"f")[e]??null}values(){return S(this,n,"f").values()}};class P{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,E(this,s,null,"f"),E(this,i,null,"f")}get currentTarget(){return S(this,s,"f")}get target(){return S(this,i,"f")}}s=new WeakMap,i=new WeakMap,P.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof P&&E(e,s,t,"f")}setTarget(e,t){e instanceof P&&E(e,i,t,"f")}};var L=P.ModelEventTargetAccessor;delete P.ModelEventTargetAccessor;var C=P;r=new WeakMap;class N extends class{constructor(){r.set(this,void 0),E(this,r,new Map,"f")}receiveEvent(e){const{type:t}=e,n=S(this,r,"f").get(t);L.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=S(this,r,"f").get(e);n?n.push(t):S(this,r,"f").set(e,[t])}removeEventListener(e,t){const n=S(this,r,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&S(this,r,"f").delete(e)}}dispatchEvent(e){L.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),o.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),E(this,a,null,"f"),E(this,c,[],"f"),E(this,l,!1,"f")}get parentNode(){return S(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");E(this,a,e,"f")}else E(this,a,null,"f")}beginChanges(){E(this,l,!0,"f")}endChanges(){this.dispatchEvent(new C("modelchange")),S(this,c,"f").splice(0),E(this,l,!1,"f")}getRecords(){return S(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,o=new WeakSet,h=function(e,t,n){const s=S(this,c,"f"),i=new x({target:this,changeType:x.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new C("modelchange")),s.splice(0)},d=function(e){S(this,c,"f").push(e),S(this,l,"f")||(this.dispatchEvent(new C("modelchange")),S(this,c,"f").splice(0))},N.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof N&&S(e,o,"m",h).call(e,t,n,s)}handleRecord(e,t){e instanceof N&&S(e,o,"m",d).call(e,t)}};var I=N.ModelNodeRecordsAccessor;delete N.ModelNodeRecordsAccessor;var A=N;const R=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=O.getProperty(this,t);return O.setProperty(this,t,e),e!==n&&I.triggerChange(this,t,n,e),!0},get:function(){return O.getProperty(this,t)},enumerable:!0})}};class M extends N{constructor(){super(),u.set(this,void 0),E(this,u,new Map,"f")}}u=new WeakMap,M.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof M&&S(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof M)return S(e,u,"f").get(t)}};var O=M.ModelObjectPropertiesAccessor;delete M.ModelObjectPropertiesAccessor;var W=M;p=new WeakMap;var j=class extends N{constructor(e){super(),p.set(this,void 0),E(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),S(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return S(this,p,"f").length}get(e){return S(this,p,"f")[e]??null}index(e,t){return S(this,p,"f").indexOf(e,t)}values(){return S(this,p,"f").values()}sort(e){const t=S(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),E(this,p,t.map((e=>e.item)),"f");const n=new x({target:this,changeType:x.LIST_SORT,sortedIndices:t.map((e=>e.index))});I.handleRecord(this,n)}prepend(...e){const t=S(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:0,insertedItems:e});I.handleRecord(this,s)}append(...e){const t=S(this,p,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:n,insertedItems:e});I.handleRecord(this,i)}insert(e,...t){const n=S(this,p,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new x({target:this,changeType:x.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});I.handleRecord(this,i)}}remove(e){const t=S(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:n,removedItems:[e]});I.handleRecord(this,i)}}clear(){const e=S(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new x({target:this,changeType:x.LIST_REMOVE,removedIndex:0,removedItems:t});I.handleRecord(this,s)}}};m=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,v=function(){const e=S(this,b,"f").splice(0);e.length>0&&S(this,m,"f").call(this,e)},y=function(e){if(!S(this,g,"f")){const{target:t,currentTarget:n}=e,s=S(this,w,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:r,childList:o,subtree:a}=e;a?i&&t instanceof A?(r?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):o&&t instanceof j&&(S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):t==n&&(i&&t instanceof A?(r?S(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)):o&&t instanceof j&&(S(this,b,"f").push(...t.getRecords()),S(this,f,"m",v).call(this)))}}};var D=class{constructor(e){f.add(this),m.set(this,void 0),b.set(this,void 0),g.set(this,void 0),w.set(this,void 0),E(this,m,e,"f"),E(this,b,[],"f"),E(this,g,!1,"f"),E(this,w,new WeakMap,"f")}observe(e,t){E(this,g,!1,"f");const n=S(this,w,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=S(this,f,"m",y).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=S(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){S(this,b,"f").splice(0),E(this,g,!0,"f")}};function F(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const _=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,r=String(n),o=F(r),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(o):Object.defineProperty(s,"observedAttributes",{value:[o],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,r,{get:function(){return this.hasAttribute(o)},set:function(e){e?this.setAttribute(o,""):this.removeAttribute(o)}});break;case Object:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(o,JSON.stringify(e)):this.removeAttribute(o)}});break;case Number:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}});break;case String:default:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}})}}},H=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}};function*B(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*B(e)),s++}}function q(...e){const t=document.createDocumentFragment();return t.append(...e),t}function K(e,t){if(t){const{options:n,attributes:s,dataset:i,children:r,listeners:o}=t,a=document.createElement(e,n);if(s&&Object.entries(s).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?a.toggleAttribute(F(e),t):a.setAttribute(F(e),String(t)))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}return r&&("function"==typeof r?a.append(...r(a)):"object"==typeof r&&"length"in r?a.append(...Array.from(r)):a.append(r)),o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}const $=new WeakMap,V=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=$.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),J=new D((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:r}=$.get(t);r.forEach((e=>{const{elementRef:t,react:r,properties:o}=e,a=t.deref();a&&o.includes(n)&&r(a,n,s,i)}))}))}));function U(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},r=$.get(e);if(V.register(t,{model:e,reactiveElement:i}),r){const{reactiveElementsArray:e,observerOptions:t}=r,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];$.set(e,{observerOptions:t,reactiveElementsArray:s}),J.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const G=new WeakMap,X=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=G.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),Y=new D((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:r}=G.get(s);r.forEach((n=>{const{parentRef:s,mapping:r,placeholder:o}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;o&&i>0&&n==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map(r),{length:o}=s;t<o?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:r}=i;t=t??document.createRange();const o=n+(r-1);o<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[o]),t.deleteContents());break}case u:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&o&&a.append(o)}}))}))}));function z(e,t,n){return s=>{const i=new WeakRef(s),r=G.get(e),o={parentRef:i,mapping:t,placeholder:n};if(X.register(s,{list:e,reactiveChildElement:o}),r){const{reactiveChildElementsArray:e}=r;e.push(o)}else{const t=[o];G.set(e,{reactiveChildElementsArray:t}),Y.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function Z(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var Q=new WeakMap,ee=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const e=Q.get(t);e&&e.forEach((e=>{const{widget:n,element:s,slot:i}=e,r=n.slottedCallback;"function"==typeof r&&r(s.deref(),t,i)}));break}}}))})),te=new WeakMap,ne=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=e,i=te.get(t);if(i){const e=i.attributeChangedCallback;"function"==typeof e&&e(t,n,s,t.getAttribute(n))}break}}}))})),se=class{constructor(){const e=this;this.create=new Proxy(this.create,{apply:(t,n,s)=>{const i=Reflect.apply(t,n,s),r=e.observedSlots;Array.isArray(r)&&r.map((t=>({slotName:t,slotElement:e.slot(i,t)}))).forEach((t=>{const{slotElement:n,slotName:s}=t;if(n){ee.observe(n,{childList:!0});const t=Q.get(n),r={widget:e,element:new WeakRef(i),slot:s};Array.isArray(t)?t.push(r):Q.set(n,new Array(r))}}));const o=e.observedAttributes;return Array.isArray(o)&&(te.set(i,e),ne.observe(i,{attributes:!0,attributeFilter:o,attributeOldValue:!0})),i}})}create(){throw new Error("create method is not implemented")}slot(){return null}get observedSlots(){return[""]}},ie=new Map;function re(e,t){const n=ie.get(e);if(n){if(void 0!==t){const{properties:e,attributes:s,dataset:i,slotted:r,listeners:o}=t,a=n.create(e);if(s&&Object.entries(s).forEach((([e,t])=>{void 0!==t&&("boolean"==typeof t?a.toggleAttribute(F(e),t):a.setAttribute(F(e),String(t)))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=String(i[t])}))}if(r)if("function"==typeof r||Array.isArray(r)||r instanceof NodeList||"string"==typeof r||r instanceof Node){const e=n.slot(a,null);e&&("function"==typeof r?e.append(...r(e)):"object"==typeof r&&"length"in r?e.append(...Array.from(r)):e.append(r))}else Object.entries(r).forEach((([e,t])=>{const s=n.slot(a,e);s&&("function"==typeof t?s.append(...t(s)):"object"==typeof t&&"length"in t?s.append(...Array.from(t)):s.append(t))}));return o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return n.create()}throw new Error(`Unknown widget ${e}. The corresponding module might not be imported.`)}const oe=function(e){return t=>{const{name:n}=e;return ie.set(n,new t),t}};var ae,ce,le,he,de,ue,pe,fe,me,be,ge,we,ve,ye,Ee,Se,Te,xe,ke,Pe,Le,Ce,Ne,Ie,Ae,Re,Me,Oe,We,je,De,Fe,_e,He,Be,qe,Ke,$e,Ve,Je,Ue,Ge,Xe,Ye,ze,Ze,Qe,et,tt,nt,st,it,rt,ot,at,ct,lt,ht,dt,ut,pt,ft,mt,bt,gt,wt,vt,yt,Et,St,Tt,xt,kt,Pt,Lt,Ct,Nt,It,At,Rt,Mt,Ot=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Wt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},jt=new(oe({name:"toolbaritem"})((fe=class extends se{constructor(){super(),ae.add(this),ce.set(this,void 0),le.set(this,void 0),Ot(this,le,["button","checkbox","radio","menubutton"],"f"),Ot(this,ce,K("button",{attributes:{class:"toolbaritem",role:"button",type:"button",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=Wt(this,ce,"f").cloneNode(!0);if(t.addEventListener("focusout",Wt(this,ae,"m",he).bind(this)),t.addEventListener("click",Wt(this,ae,"m",de).bind(this)),void 0!==e){const{id:n,keyshortcut:s,pressed:i,type:r,label:o,name:a,value:c,disabled:l}=e;void 0!==n&&(t.id=n),void 0!==s&&this.setKeyShortcut(t,s),void 0!==i&&this.setPressed(t,i),void 0!==r&&this.setType(t,r),void 0!==o&&this.setLabel(t,o),void 0!==a&&this.setName(t,a),void 0!==c&&this.setValue(t,c),void 0!==l&&this.setDisabled(t,l)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",String(n))}menu(e){return e.querySelector(":scope > .menu")}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}getLabel(e){return Wt(this,ae,"m",pe).call(this,e).textContent??""}setLabel(e,t){Wt(this,ae,"m",pe).call(this,e).textContent=t}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){null!==t?e.setAttribute("aria-keyshortcuts",t):e.removeAttribute("aria-keyshortcuts")}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&Wt(this,ae,"m",ue).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),Wt(this,ae,"m",ue).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}getType(e){const t=Wt(this,le,"f"),{classList:n}=e;for(let e of t)if(n.contains(`toolbaritem-${e}`))return e;return null}setType(e,t){const n=this.getType(e);if(t!==n){const{classList:s}=e;n&&s.remove(`toolbaritem-${n}`),s.add(`toolbaritem-${t}`)}}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getTitle(e){return e.getAttribute("title")??""}setTitle(e,t){e.setAttribute("title",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getPressed(e){return JSON.parse(e.getAttribute("aria-pressed")??String(!1))}setPressed(e,t){e.setAttribute("aria-pressed",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},ce=new WeakMap,le=new WeakMap,ae=new WeakSet,he=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},de=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".toolbaritem");if(s==n)switch(this.getType(s)){case"checkbox":this.setPressed(s,!this.getPressed(s));break;case"radio":this.setPressed(s,!0);break;case"menubutton":{const e=this.menu(s);e&&!e.contains(t)&&(this.toggle(s),this.getExpanded(s)&&e?.focus({preventScroll:!0}));break}}},ue=function(e){if("menubutton"==this.getType(e)){const t=this.menu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body,p=o+a-d,f=s+c-u;n.setProperty("left",`${p>0?h+r-a:h+r}px`),n.setProperty("top",`${f>0?l+s-c:l+i}px`)}}},pe=function(e){return e.querySelector(":scope > .label")},fe))),Dt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ft=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},_t=new(oe({name:"toolbar"})((Ae=class extends se{constructor(){super(),me.add(this),be.set(this,void 0),ge.set(this,void 0),Dt(this,be,K("div",{attributes:{class:"toolbar",role:"toolbar",tabindex:-1}}),"f"),Dt(this,ge,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Ft(this,me,"m",ve).bind(this)),"f")}create(e){const t=Ft(this,be,"f").cloneNode(!0);if(t.addEventListener("focus",Ft(this,me,"m",Le).bind(this)),t.addEventListener("focusin",Ft(this,me,"m",Ce).bind(this)),t.addEventListener("focusout",Ft(this,me,"m",Ne).bind(this)),t.addEventListener("keydown",Ft(this,me,"m",Ie).bind(this)),t.addEventListener("click",Ft(this,me,"m",Pe).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i)}return t}slot(e){return e}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem"))}setOrientation(e,t){e.setAttribute("aria-orientation",t)}getOrientation(e){return e.getAttribute("aria-orientation")??"horizontal"}},be=new WeakMap,ge=new WeakMap,me=new WeakSet,we=function(e){return e.querySelector(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active")},ve=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("toolbaritem")&&!jt.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("toolbaritemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},ye=function(e){const t=Ft(this,ge,"f");return t.currentNode=e,t.firstChild()},Ee=function(e){const t=Ft(this,ge,"f");return t.currentNode=e,t.lastChild()},Se=function(e){const t=Ft(this,ge,"f");return t.currentNode=e,t.previousSibling()},Te=function(e){const t=Ft(this,ge,"f");return t.currentNode=e,t.nextSibling()},xe=function(e){const t=jt.menu(e);if(t){const e=Ft(this,ge,"f");return e.currentNode=t,e.firstChild()}return null},ke=function(e,t){const n=Ft(this,me,"m",we).call(this,e);null!==n&&n!==t&&(jt.setActive(n,!1),n.tabIndex=-1),null!==t&&(jt.setActive(t,!0),t.tabIndex=0)},Pe=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".toolbaritem");if(i){const t=jt.getType(i),n=jt.getName(i),r=jt.getType(i);"radio"==t&&s.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${n}]`).forEach((e=>{jt.setPressed(e,jt.getValue(e)==r)})),e.stopPropagation()}},Le=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(!s.contains(n)){const e=Ft(this,me,"m",we).call(this,s);e?e.focus():Ft(this,me,"m",ye).call(this,s)?.focus()}},Ce=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".toolbaritem");i&&(Ft(this,me,"m",ke).call(this,s,i),s.tabIndex=-1)},Ne=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(Ft(this,me,"m",ke).call(this,s,null),s.tabIndex=0)},Ie=function(e){const{currentTarget:t,key:n}=e,s=t,i=Ft(this,me,"m",we).call(this,s);switch(n){case"Enter":case" ":if(i){switch(jt.getType(i)){case"menubutton":jt.expand(i),Ft(this,me,"m",xe).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"ArrowLeft":if(i){const e=Ft(this,me,"m",Se).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Ft(this,me,"m",ye).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(i){const e=Ft(this,me,"m",Te).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Ft(this,me,"m",Ee).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Ft(this,me,"m",ye).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ft(this,me,"m",Ee).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":i?i.focus({preventScroll:!0}):s.focus({preventScroll:!0}),e.stopPropagation()}},Ae))),Ht=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Bt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},qt=new(oe({name:"treeitem"})((Fe=class extends se{constructor(){super(),Re.add(this),Me.set(this,void 0),Oe.set(this,void 0),Ht(this,Oe,["parent","leaf"],"f"),Ht(this,Me,K("li",{attributes:{class:"treeitem",role:"treeitem",tabindex:-1},children:[K("span",{attributes:{class:"content"},children:[K("span",{attributes:{class:"arrow"}}),K("span",{attributes:{class:"label"}})]})]}),"f")}group(e){return e.querySelector(":scope > .treeitemgroup")}create(e){const t=Bt(this,Me,"f").cloneNode(!0);if(t.addEventListener("click",Bt(this,Re,"m",De).bind(this)),void 0!==e){const{id:n,label:s,disabled:i,draggable:r}=e;let{type:o}=e;o=o??"leaf",this.setType(t,o),"parent"===o&&this.setExpanded(t,!1),void 0!==n&&(t.id=n),void 0!==s&&this.setLabel(t,s),void 0!==i&&this.setDisabled(t,i),void 0!==r&&this.setDraggable(t,r),this.setSelected(t,!1)}return t}get observedSlots(){return["content","group"]}slot(e,t){switch(t){case"content":return Bt(this,Re,"m",We).call(this,e);case"group":return e}return null}getLabel(e){return Bt(this,Re,"m",je).call(this,e).textContent??""}setLabel(e,t){Bt(this,Re,"m",je).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?Number(t):-1}getType(e){const t=Bt(this,Oe,"f"),{classList:n}=e;for(let e of t)if(n.contains(`treeitem-${e}`))return e;throw new Error("Missing type.")}setType(e,t){const{classList:n}=e;try{const t=this.getType(e);n.remove(`treeitem-${t}`)}catch(e){}n.add(`treeitem-${t}`)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}setActive(e,t){const{classList:n}=e;t?n.contains("active")||n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDraggable(e,t){e.setAttribute("draggable",String(t))}getDraggable(e){return JSON.parse(e.getAttribute("draggable")??String(!1))}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}setLevel(e,t){e.style.setProperty("--level",String(t))}getLevel(e){return parseInt(e.style.getPropertyValue("--level"))}toggle(e,t){this.setExpanded(e,t??!this.getExpanded(e))}},Me=new WeakMap,Oe=new WeakMap,Re=new WeakSet,We=function(e){const t=e.querySelector(":scope > .content");if(!t)throw new Error("Missing content.");return t},je=function(e){const t=e.querySelector(":scope > .content > .label");if(!t)throw new Error("Missing label.");return t},De=function(e){const{target:t,currentTarget:n,shiftKey:s,ctrlKey:i}=e,r=t.closest(".treeitem");r==n&&("parent"!=this.getType(r)||s||i||this.toggle(r))},Fe))),Kt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},$t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Vt=new(oe({name:"tree"})((bt=class extends se{constructor(){super(),_e.add(this),He.set(this,void 0),Be.set(this,void 0),qe.set(this,void 0),Ke.set(this,void 0),Kt(this,He,K("ul",{attributes:{class:"tree",role:"tree",tabindex:0}}),"f"),Kt(this,qe,new WeakMap,"f"),Kt(this,Ke,new WeakMap,"f"),Kt(this,Be,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,$t(this,_e,"m",Ue).bind(this)),"f")}create(e){const t=$t(this,He,"f").cloneNode(!0);if(t.addEventListener("mousedown",$t(this,_e,"m",rt).bind(this)),t.addEventListener("dragend",$t(this,_e,"m",ot).bind(this)),t.addEventListener("dragenter",$t(this,_e,"m",at).bind(this)),t.addEventListener("dragleave",$t(this,_e,"m",lt).bind(this)),t.addEventListener("dragover",$t(this,_e,"m",ct).bind(this)),t.addEventListener("drop",$t(this,_e,"m",ht).bind(this)),t.addEventListener("focus",$t(this,_e,"m",dt).bind(this)),t.addEventListener("focusin",$t(this,_e,"m",ut).bind(this)),t.addEventListener("focusout",$t(this,_e,"m",pt).bind(this)),t.addEventListener("keydown",$t(this,_e,"m",ft).bind(this)),t.addEventListener("select",$t(this,_e,"m",mt).bind(this)),$t(this,qe,"f").set(t,!1),$t(this,Ke,"f").set(t,!1),void 0!==e){const{id:n,classList:s,tabIndex:i,multisectable:r}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setMultiSelectable(t,r)}return t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(qt.setPosInSet(e,t),qt.setLevel(e,0))}))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .treeitemgroup) > .treeitem"))}selectedItems(e){const t=[];$t(this,Be,"f").currentNode=e;let n=$t(this,_e,"m",et).call(this,e);for(;null!==n;)qt.getSelected(n)&&t.push(n),n=$t(this,_e,"m",st).call(this,n);return t}beginSelection(e){$t(this,qe,"f").set(e,!0)}endSelection(e){$t(this,qe,"f").set(e,!1),$t(this,Ke,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),$t(this,Ke,"f").set(e,!1))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}},He=new WeakMap,Be=new WeakMap,qe=new WeakMap,Ke=new WeakMap,_e=new WeakSet,$e=function(e){return e.querySelector(".treeitem.active")},Ve=function(e){return e.querySelector(".treeitem.droptarget")},Je=function(e,t){const{classList:n}=e,s=$t(this,_e,"m",Ve).call(this,e);null!==s&&s!==t&&qt.setDropTarget(s,!1),null!==t?(qt.setDropTarget(t,!0),n.add("droptarget")):n.remove("droptarget")},Ue=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("treeitem")&&!qt.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("treeitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ge=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=$t(this,_e,"m",st).call(this,e);for(;s&&s!==t;)n.push(s),s=$t(this,_e,"m",st).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=$t(this,_e,"m",nt).call(this,e);for(;s&&s!==t;)n.push(s),s=$t(this,_e,"m",nt).call(this,s);return n.push(t),n}return[]},Xe=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||qt.setSelected(e,!1)})),t.forEach((t=>{const n=qt.getSelected(t);e.contains(t)&&!n&&qt.setSelected(t,!0)})),this.endSelection(e)},Ye=function(e,...t){this.beginSelection(e),t.forEach((e=>{qt.getSelected(e)||qt.setSelected(e,!0)})),this.endSelection(e)},ze=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&qt.setSelected(e,!1)})),this.endSelection(e)},Ze=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{qt.setSelected(e,!1)})),this.endSelection(e)},Qe=function(e,t){const n=$t(this,_e,"m",$e).call(this,e);null!==n&&n!==t&&(qt.setActive(n,!1),n.tabIndex=-1),null!==t&&(qt.setActive(t,!0),t.tabIndex=0)},et=function(e){const t=$t(this,Be,"f");return t.currentNode=e,t.firstChild()},tt=function(e){const t=$t(this,Be,"f");return t.currentNode=e,t.lastChild()},nt=function(e){const t=$t(this,Be,"f");t.currentNode=e;const n=t.previousSibling();return n?$t(this,_e,"m",it).call(this,n):t.parentNode()},st=function(e){const t=$t(this,Be,"f");t.currentNode=e;const n=qt.getType(e),s=qt.getExpanded(e);return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},it=function e(t){if(qt.getExpanded(t)){const t=$t(this,Be,"f").lastChild();if(t)return $t(this,_e,"m",e).call(this,t)}return t},rt=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".treeitem");if(a){const t=qt.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),$t(this,_e,"m",ze).call(this,o,a)):$t(this,_e,"m",Ye).call(this,o,a),e.stopPropagation();else if(i){const t=$t(this,_e,"m",$e).call(this,o);if(t){const e=$t(this,_e,"m",Ge).call(this,t,a);e&&$t(this,_e,"m",Xe).call(this,o,...e)}e.stopPropagation()}}else $t(this,_e,"m",Xe).call(this,o,a);break;case 2:t||$t(this,_e,"m",Xe).call(this,o,a)}}},ot=function(e){const{currentTarget:t}=e,n=t;$t(this,_e,"m",Je).call(this,n,null)},at=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&("parent"==qt.getType(s)&&qt.toggle(s,!0),$t(this,_e,"m",Je).call(this,i,s)),e.preventDefault()},ct=function(e){e.preventDefault()},lt=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;s.contains(n)||$t(this,_e,"m",Je).call(this,s,null)},ht=function(e){const{currentTarget:t}=e,n=t;$t(this,_e,"m",Je).call(this,n,null)},dt=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(!s.contains(n)){const e=$t(this,_e,"m",$e).call(this,s);e&&e.focus()}},ut=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&($t(this,_e,"m",Qe).call(this,i,s),i.tabIndex=-1)},pt=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},ft=function(e){const{currentTarget:t,key:n}=e,s=t,i=$t(this,_e,"m",$e).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=$t(this,Be,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=$t(this,_e,"m",Ge).call(this,t,$t(this,_e,"m",it).call(this,n));e&&$t(this,_e,"m",Xe).call(this,s,...e)}}e.preventDefault();break}case"ArrowLeft":if(i)if(qt.getExpanded(i))qt.toggle(i);else{const e=$t(this,Be,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":i&&(qt.getExpanded(i)||qt.toggle(i)),e.stopPropagation();break;case"ArrowUp":if(i){const t=$t(this,_e,"m",nt).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(qt.getSelected(t)?$t(this,_e,"m",ze).call(this,s,t):$t(this,_e,"m",Ye).call(this,s,t))}}else{const e=$t(this,_e,"m",et).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=$t(this,_e,"m",st).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(qt.getSelected(t)?$t(this,_e,"m",ze).call(this,s,t):$t(this,_e,"m",Ye).call(this,s,t))}}else{const e=$t(this,_e,"m",tt).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=$t(this,_e,"m",et).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=$t(this,_e,"m",tt).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&($t(this,_e,"m",Xe).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":$t(this,_e,"m",Ze).call(this,s),$t(this,_e,"m",Qe).call(this,s,null),s.focus(),e.stopPropagation()}},mt=function(e){const{target:t}=e,n=t;t instanceof HTMLElement&&t.classList.contains("treeitem")&&($t(this,qe,"f").get(n)?$t(this,Ke,"f").set(t,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},bt))),Jt=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ut=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Gt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class Xt extends W{constructor(e){super(),gt.add(this);const t=new j(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new j(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Ut(this,gt,"m",wt).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Xt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:r}=n,{length:o}=r;if(e.startsWith(r)){if("/"==e.charAt(o))return Xt.prototype.getItemByUri.call(n,e);if(o==s)return n}}return null}}gt=new WeakSet,wt=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof j&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:r}=e,o=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(r.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...o),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class Yt{constructor(e){this.items=e}get count(){return this.items.length}static from(e){return new Yt(e)}static of(...e){return new Yt(e)}show(){this.items.forEach((e=>e.show()))}hide(){this.items.forEach((e=>e.hide()))}display(){const e=this.items.reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof zt||n instanceof Xt){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class zt extends W{constructor(e){super(),vt.add(this);const{label:t,type:n}=e,s=new j(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",Ut(this,vt,"m",yt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof zt?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof zt?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof zt||e instanceof Xt){const{childItems:t}=e;t&&t.remove(this)}}}vt=new WeakSet,yt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},Jt([R()],zt.prototype,"childCount",void 0),Jt([R()],zt.prototype,"visibility",void 0);var Zt=new(Mt=class{constructor(){Et.add(this),St.set(this,void 0),Tt.set(this,void 0),Gt(this,St,new WeakMap,"f"),Gt(this,Tt,new WeakMap,"f")}create(e){const t=re("tree",{properties:{tabIndex:0},slotted:z(e.childItems,(e=>Ut(this,Et,"m",kt).call(this,e))),listeners:{dragstart:Ut(this,Et,"m",Lt).bind(this),drop:Ut(this,Et,"m",Ct).bind(this),contextmenu:Ut(this,Et,"m",Nt).bind(this),keydown:Ut(this,Et,"m",Rt).bind(this),focusin:Ut(this,Et,"m",It).bind(this),focusout:Ut(this,Et,"m",At).bind(this)}}),n=K("div",{attributes:{class:"tree-view"},children:[t,K("div",{attributes:{class:"offscreen",hidden:!0},children:z(e.items,(e=>Ut(this,Et,"m",Pt).call(this,e)))})]});return Ut(this,St,"f").set(t,e),n}getModel(e){return Ut(this,St,"f").get(e)??null}selectedItems(e){const t=this.getModel(e);return Vt.selectedItems(e).map((e=>t.getItemByUri(e.dataset.uri)))}},St=new WeakMap,Tt=new WeakMap,Et=new WeakSet,xt=function(e){return Ut(this,Tt,"f").get(e)?.deref()??null},kt=function e(t){return U(t,re("treeitem",{properties:{type:t.type,draggable:!0,label:t.label},dataset:{uri:t.uri},slotted:{group:"parent"==t.type?[re("treeitemgroup",{slotted:z(t.childItems,(t=>Ut(this,Et,"m",e).call(this,t)))})]:[],content:[K("span",{attributes:{class:"label"}})].concat("parent"==t.type?[K("span",{attributes:{class:"badge"}})]:[]).concat([re("toolbar",{properties:{tabIndex:-1},slotted:[re("toolbaritem",{properties:{name:"visibility",type:"checkbox",label:"Visibility"},listeners:{click:()=>{t.visibility?t.hide():t.show()}}})]})])}}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":qt.setLabel(e,s);break;case"childCount":{const t=e.querySelector(":scope > .content > .badge");t&&(t.textContent=`(${s})`);break}case"visibility":{const t=e.querySelector(":scope > .content > .toolbar");if(t){const e=_t.slot(t)?.querySelector(".toolbaritem[name=visibility]");if(e){const t=s?"Hide":"Show";jt.setLabel(e,t),jt.setTitle(e,t),jt.setPressed(e,s)}}}}}))},Pt=function(e){const t=U(e,K("span",{attributes:{class:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return Ut(this,Tt,"f").set(e,new WeakRef(t)),t},Lt=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".treeitem"),r=this.getModel(s);if(i){const{dataTransfer:t}=e,n=Vt.selectedItems(s),{length:i}=n;if(i>0){const e=n.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),s=e.join("\n"),i=e[e.length-1],o=r.getItemByUri(i);if(o&&t){t.dropEffect="move",t.setData("text/plain",s);const e=Ut(this,Et,"m",xt).call(this,o);e&&t.setDragImage(e,-16,0)}}}},Ct=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".treeitem"),r=this.getModel(s),{sortFunction:o}=r;if(i){const{dataTransfer:t}=e;if(t){const e=i.dataset.uri,n=r.getItemByUri(e),a=t.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>r.getItemByUri(e))).filter((e=>null!==e)),{type:t,parentItem:c}=n,{childItems:l}="parent"==t?n:c||r;Array.from(l.values()).forEach((t=>{const n=e.findIndex((e=>e.label==t.label));n>-1&&(confirm(`Replace ${t.label}?`)?l.remove(t):(e.copyWithin(n,n+1),e.length--))})),Yt.from(e).remove(),o?(l.beginChanges(),l.append(...e),l.sort(o),l.endChanges()):l.insert(qt.getPosInSet(i),...e);const h=s.querySelectorAll(`.treeitem:is(${e.map((e=>`[data-uri="${e.uri}"]`)).join(",")})`);Vt.beginSelection(s),h.forEach((e=>{qt.setSelected(e,!0)})),Vt.endSelection(s)}}}},Nt=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,r=s,o=i.closest(".treeitem"),a=this.getModel(r);if(o){const s=a.getItemByUri(o.dataset.uri),i=re("menu",{properties:{contextual:!0,position:{x:t,y:n}},slotted:[re("menuitemgroup",{slotted:[re("menuitem",{properties:{label:"Display"},listeners:{click:()=>{Yt.from(this.selectedItems(r)).display()}}}),re("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{const e=Yt.from(this.selectedItems(r)),{count:t}=e;confirm(`Remove ${t} items?`)&&e.remove(),r.focus()}}})]}),re("menuitemgroup",{slotted:[re("menuitem",{properties:{type:"checkbox",label:s.visibility?"Hide":"Show"},listeners:{click:()=>{const e=Yt.from(this.selectedItems(r));s.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{o.focus({preventScroll:!0})}}});r.append(i),i.focus({preventScroll:!0}),e.preventDefault()}},It=function(e){const{target:t}=e,n=t;if(n.matches(".treeitem")){const e=n.querySelector(".toolbar");e&&(e.tabIndex=0)}},At=function(e){const{target:t}=e,n=t;if(n.matches(".treeitem")){const e=n.querySelector(".toolbar");e&&(e.tabIndex=-1)}},Rt=function(e){const{currentTarget:t,key:n}=e,s=t;switch(n){case"Delete":{const t=Yt.from(this.selectedItems(s)),{count:n}=t;confirm(`Remove ${n} items?`)&&t.remove(),s.focus(),e.preventDefault();break}}},Mt),Qt=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};class en extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}Qt([_({type:String})],en.prototype,"name",void 0),Qt([_({type:String})],en.prototype,"value",void 0),Qt([_({type:String})],en.prototype,"hotkey",void 0),Qt([_({type:String,defaultValue:"button"})],en.prototype,"type",void 0),Qt([_({type:Boolean})],en.prototype,"disabled",void 0),Qt([_({type:Boolean})],en.prototype,"checked",void 0);var tn,nn,sn,rn=en;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(tn||(tn={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(nn||(nn={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(sn||(sn={})),new WeakSet;var on,an=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let cn=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(on.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(on=K("template")).content.append(K("slot")),an([_({type:String})],cn.prototype,"name",void 0),an([_({type:String})],cn.prototype,"headers",void 0),an([_({type:String})],cn.prototype,"type",void 0),an([_({type:Number})],cn.prototype,"posinset",void 0),an([_({type:Boolean})],cn.prototype,"droptarget",void 0),an([_({type:Boolean})],cn.prototype,"active",void 0),an([_({type:Boolean,observed:!0})],cn.prototype,"selected",void 0),cn=an([H({name:"e-gridcell"})],cn);var ln,hn,dn,un=cn;let pn=class extends HTMLElement{constructor(){super(),ln.add(this);const e=this.attachShadow({mode:"open"});e.append(dn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ln,"m",hn).bind(this))}};ln=new WeakSet,hn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof un)).forEach(((e,t)=>{e.posinset=t}))},(dn=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),K("slot")),pn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-gridrowgroup"})],pn);var fn,mn,bn,gn,wn=pn,vn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},yn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let En=class extends HTMLElement{constructor(){super(),fn.add(this),this.attachShadow({mode:"open"}).append(gn.content.cloneNode(!0)),this.addEventListener("click",yn(this,fn,"m",bn).bind(this))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&yn(this,fn,"m",mn).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,yn(this,fn,"m",mn).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var Sn;fn=new WeakSet,mn=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const e=r+o-h,u=n+a-d;t.setProperty("left",`${e>0?l+i-o:l+i}px`),t.setProperty("top",`${u>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),p=r+o-h,f=n+a-d;t.setProperty("left",(p>0?i-o-u:r-u)+"px");const m=window.getComputedStyle(e),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);t.setProperty("top",`${f>0?s-a-l+v:n-l-w}px`)}}}},bn=function(e){const{target:t}=e;if(t==this){const{type:e}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}}},(gn=K("template")).content.append(K("span",{attributes:{part:"icon"}}),K("span",{attributes:{part:"label"},children:[K("slot")]}),K("span",{attributes:{part:"arrow"}}),K("slot",{attributes:{name:"menu"}})),vn([_({type:String})],En.prototype,"name",void 0),vn([_({type:String})],En.prototype,"value",void 0),vn([_({type:String})],En.prototype,"hotkey",void 0),vn([_({type:Boolean})],En.prototype,"disabled",void 0),vn([_({type:Boolean})],En.prototype,"checked",void 0),vn([_({type:Boolean})],En.prototype,"expanded",void 0),vn([_({type:String,defaultValue:"button",observed:!0})],En.prototype,"type",void 0),vn([(Sn={selector:":scope > e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,i=String(t),{selector:r}=Sn,o=Sn.withinShadowRoot?function(){return this.shadowRoot.querySelector(r)}:function(){return this.querySelector(r)};Object.defineProperty(s,i,{get:o})})],En.prototype,"menu",void 0),En=vn([H({name:"e-menuitem"})],En);var Tn,xn,kn,Pn=En,Ln=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menu:o}=e;return o&&(o.slot="menu"),K("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[t,o]:[t],listeners:{trigger:r}})}),{prototype:Pn.prototype,button:e=>new Ln({...e,type:"button"}),checkbox:e=>new Ln({...e,type:"checkbox"}),radio:e=>new Ln({...e,type:"radio"}),menu:e=>new Ln({...e,type:"menu"}),submenu:e=>new Ln({...e,type:"submenu"})}),Cn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Nn=class extends HTMLElement{constructor(){super(),Tn.add(this);const e=this.attachShadow({mode:"open"});e.append(kn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Tn,"m",xn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};Tn=new WeakSet,xn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Pn)).forEach(((e,t)=>{}))},(kn=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),K("slot")),Cn([_({type:String})],Nn.prototype,"name",void 0),Cn([_({type:String,observed:!0})],Nn.prototype,"label",void 0),Nn=Cn([H({name:"e-menuitemgroup"})],Nn);var In,An,Rn,Mn,On,Wn,jn,Dn,Fn,_n,Hn,Bn,qn,Kn,$n,Vn,Jn,Un,Gn,Xn,Yn,zn,Zn,Qn,es=Nn,ts=Object.assign((function(e){const{name:t,items:n}=e;return K("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:es.prototype,radios:e=>{const{name:t,items:n}=e;return K("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new Ln({name:t,label:e,type:"radio",value:n})))})}}),ns=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ss=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},is=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let rs=zn=class extends HTMLElement{constructor(){super(),In.add(this),An.set(this,void 0),Rn.set(this,void 0);const e=this.attachShadow({mode:"open"});ss(this,Rn,-1,"f"),e.append(Zn.content.cloneNode(!0)),ss(this,An,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,is(this,In,"m",jn).bind(this)),"f"),this.addEventListener("click",is(this,In,"m",Vn).bind(this)),this.addEventListener("mouseover",is(this,In,"m",Yn).bind(this)),this.addEventListener("mouseout",is(this,In,"m",Xn).bind(this)),this.addEventListener("focusin",is(this,In,"m",Jn).bind(this)),this.addEventListener("focusout",is(this,In,"m",Un).bind(this)),this.addEventListener("keydown",is(this,In,"m",Gn).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return is(this,Rn,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}positionContextual(e,t){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window,a=e+r,c=t+o,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,u=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${u>0?c-i:c}px`)}};An=new WeakMap,Rn=new WeakMap,In=new WeakSet,Mn=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},On=function(e){return e.closest(":is(e-menu)")==this},Wn=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},jn=function(e){return e instanceof Pn?NodeFilter.FILTER_ACCEPT:e instanceof es?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Dn=function(){const e=is(this,An,"f");return e.currentNode=e.root,e.firstChild()},Fn=function(){const e=is(this,An,"f");return e.currentNode=e.root,e.lastChild()},_n=function(e){const t=is(this,An,"f");return t.currentNode=e,t.previousNode()},Hn=function(e){const t=is(this,An,"f");return t.currentNode=e,t.nextNode()},Bn=function(e){const{menu:t}=e;return t instanceof zn?is(t,In,"m",Dn).call(t):null},qn=function(e){null!==e&&ss(this,Rn,this.items().indexOf(e),"f")},Kn=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Qn.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Qn.delete(e)}))},$n=function(e){const t=Qn.get(e);void 0!==t&&(Qn.delete(e),t.clear())},Vn=function(e){const{target:t}=e;if(t instanceof Pn){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else if(is(this,In,"m",On).call(this,t)){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}}},Jn=function(e){const{target:t}=e;if(t instanceof Pn){const e=is(this,In,"m",Wn).call(this,t);e&&is(this,In,"m",qn).call(this,e)}},Un=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),is(this,In,"m",qn).call(this,null)}}},Gn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?is(this,In,"m",_n).call(this,n)??is(this,In,"m",Fn).call(this):is(this,In,"m",Dn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?is(this,In,"m",Hn).call(this,n)??is(this,In,"m",Dn).call(this):is(this,In,"m",Dn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":is(this,In,"m",Dn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":is(this,In,"m",Fn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&is(this,In,"m",Bn).call(this,n)?.focus({preventScroll:!0})}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof hs))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),is(this,In,"m",Bn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Xn=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof Pn){const s=is(this,In,"m",Wn).call(this,t);if(null!==s&&("submenu"!=s.type||s.expanded||is(this,In,"m",$n).call(this,s),e.composedPath().find((e=>e instanceof hs))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(is(this,In,"m",$n).call(this,t),is(this,In,"m",Kn).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=e,{left:r,right:o,top:a,bottom:c}=this.getBoundingClientRect(),l=!(r>s||o<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof hs&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),is(this,In,"m",qn).call(this,null))),l||(this.focus({preventScroll:!0}),is(this,In,"m",qn).call(this,null))}}},Yn=function(e){const{target:t}=e;if(t instanceof Pn){const n=is(this,In,"m",Wn).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&is(this,In,"m",$n).call(this,n),e.composedPath().find((e=>e instanceof hs))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(is(this,In,"m",$n).call(this,e),is(this,In,"m",Kn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),is(this,In,"m",qn).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(is(this,In,"m",$n).call(this,n),is(this,In,"m",Kn).call(this,n,200).then((()=>{const{activeItem:e}=this;is(this,In,"m",Mn).call(this),e&&(is(this,In,"m",$n).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},(Zn=K("template")).content.append(K("slot")),Qn=new WeakMap,ns([_({type:String})],rs.prototype,"name",void 0),ns([_({type:Boolean})],rs.prototype,"contextual",void 0),rs=zn=ns([H({name:"e-menu"})],rs);var os,as,cs,ls,hs=rs,ds=Object.assign((function(e){const{name:t,children:n}=e;return K("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:hs.prototype}),us=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ps=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},fs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ms=class extends HTMLElement{constructor(){super(),os.add(this),as.set(this,void 0),ps(this,as,null,"f"),this.cells=new xs(this);const e=this.attachShadow({mode:"open"});e.append(ls.content.cloneNode(!0)),e.addEventListener("slotchange",fs(this,os,"m",cs).bind(this))}get menu(){return fs(this,as,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};as=new WeakMap,os=new WeakSet,cs=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];ps(this,as,e instanceof hs?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof un)).forEach(((e,t)=>{e.posinset=t}))}},(ls=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),K("slot"),K("slot",{attributes:{name:"menu"}})),us([_({type:String})],ms.prototype,"name",void 0),us([_({type:Boolean})],ms.prototype,"active",void 0),us([_({type:Boolean})],ms.prototype,"selected",void 0),us([_({type:Number})],ms.prototype,"posinset",void 0),ms=us([H({name:"e-gridrow"})],ms);var bs,gs,ws,vs=ms,ys=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};gs=new WeakMap,bs=new WeakSet,ws=function(e){return e instanceof un?NodeFilter.FILTER_ACCEPT:e instanceof gi||e instanceof wn||e instanceof vs?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Es,Ss,Ts,xs=class{constructor(e){bs.add(this),gs.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,gs,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ys(this,bs,"m",ws).bind(this)),"f")}get length(){const e=ys(this,gs,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ys(this,gs,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ys(this,gs,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ys(this,gs,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ks=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Ss=new WeakMap,Es=new WeakSet,Ts=function(e){return e instanceof gi?NodeFilter.FILTER_SKIP:e instanceof vs?NodeFilter.FILTER_ACCEPT:e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Ps,Ls,Cs,Ns=class{constructor(e){Es.add(this),Ss.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Ss,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ks(this,Es,"m",Ts).bind(this)),"f")}get length(){const e=ks(this,Ss,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ks(this,Ss,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ks(this,Ss,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ks(this,Ss,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let Is=class extends HTMLElement{constructor(){super(),Ps.add(this),this.cells=new xs(this),this.rows=new Ns(this);const e=this.attachShadow({mode:"open"});e.append(Cs.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ps,"m",Ls).bind(this))}};Ps=new WeakSet,Ls=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof un)).forEach(((e,t)=>{e.posinset=t}))},(Cs=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),K("slot")),Is=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-gridbody"})],Is);var As,Rs,Ms,Os,Ws,js,Ds,Fs,_s,Hs,Bs,qs,Ks,$s,Vs,Js,Us,Gs,Xs,Ys,zs,Zs,Qs,ei,ti,ni,si,ii,ri,oi,ai,ci,li,hi,di,ui,pi,fi,mi,bi,gi=Is,wi=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},vi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},yi=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ei=class extends HTMLElement{constructor(){super(),As.add(this),Rs.set(this,void 0),Ms.set(this,void 0),Os.set(this,void 0),Ws.set(this,void 0),js.set(this,void 0),Ds.set(this,void 0),yi(this,js,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,vi(this,As,"m",Fs).bind(this)),"f"),yi(this,Ds,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,vi(this,As,"m",_s).bind(this)),"f"),yi(this,Rs,-1,"f"),yi(this,Ms,-1,"f"),yi(this,Os,!1,"f"),yi(this,Ws,!1,"f"),this.cells=new xs(this),this.rows=new Ns(this);const e=this.attachShadow({mode:"open"});e.append(bi.content.cloneNode(!0)),this.addEventListener("contextmenu",vi(this,As,"m",li).bind(this)),this.addEventListener("click",vi(this,As,"m",hi).bind(this)),this.addEventListener("focus",vi(this,As,"m",ui).bind(this)),this.addEventListener("focusin",vi(this,As,"m",pi).bind(this)),this.addEventListener("keydown",vi(this,As,"m",di).bind(this)),this.addEventListener("select",vi(this,As,"m",fi).bind(this)),e.addEventListener("slotchange",vi(this,As,"m",mi).bind(this))}get activeCellIndex(){return vi(this,Rs,"f")}get activeCell(){return this.cells.item(vi(this,Rs,"f"))??null}get activeRowIndex(){return vi(this,Ms,"f")}get activeRow(){return this.rows.item(vi(this,Ms,"f"))??null}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}beginSelection(){yi(this,Os,!0,"f")}endSelection(){yi(this,Os,!1,"f"),vi(this,Ws,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),yi(this,Ws,!1,"f"))}clearSelection(){vi(this,As,"m",Gs).call(this),vi(this,As,"m",Xs).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};Rs=new WeakMap,Ms=new WeakMap,Os=new WeakMap,Ws=new WeakMap,js=new WeakMap,Ds=new WeakMap,As=new WeakSet,Fs=function(e){return e instanceof un&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof gi||e instanceof wn||e instanceof vs?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},_s=function(e){return e instanceof vs&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof gi||e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Hs=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},Bs=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=vi(this,As,"m",oi).call(this,e);for(;s&&s!==t;)n.push(s),s=vi(this,As,"m",oi).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=vi(this,As,"m",ri).call(this,e);for(;s&&s!==t;)n.push(s),s=vi(this,As,"m",ri).call(this,s);return n.push(t),n}return[]},qs=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ks=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},$s=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Vs=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Js=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Us=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Gs=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Xs=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Ys=function(e){const{activeCell:t,cells:n}=this;if(null!==t&&t!==e)t.active=!1,t.tabIndex=-1;else if(null!==e){vi(this,js,"f").currentNode=e,e.active=!0,e.tabIndex=0;const t=vi(this,As,"m",ni).call(this,e);t&&vi(this,As,"m",zs).call(this,t),yi(this,Rs,Array.from(n.values()).indexOf(e),"f")}else yi(this,Rs,-1,"f")},zs=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e?(t.active=!1,t.tabIndex=-1):null!==e?(vi(this,Ds,"f").currentNode=e,e.active=!0,e.tabIndex=0,yi(this,Ms,Array.from(n.values()).indexOf(e),"f")):yi(this,Ms,-1,"f")},Zs=function(e){const t=vi(this,js,"f");return t.currentNode=e,t.firstChild()},Qs=function(e){const t=vi(this,js,"f");return t.currentNode=e,t.lastChild()},ei=function(e){const t=vi(this,js,"f");return t.currentNode=e,t.previousNode()},ti=function(e){const t=vi(this,js,"f");return t.currentNode=e,t.nextNode()},ni=function(e){const t=vi(this,Ds,"f");return t.currentNode=e,t.parentNode()},si=function(){const e=vi(this,Ds,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},ii=function(){const e=vi(this,Ds,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},ri=function(e){const t=vi(this,Ds,"f");return t.currentNode=e,t.previousNode()},oi=function(e){const t=vi(this,Ds,"f");return t.currentNode=e,t.nextNode()},ai=function(e){const t=vi(this,As,"m",ni).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=vi(this,As,"m",ri).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},ci=function(e){const t=vi(this,As,"m",ni).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=vi(this,As,"m",oi).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},li=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof gi))?t.find((e=>e instanceof un)):null;n instanceof un&&(this.selectedCells().includes(n)||vi(this,As,"m",qs).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof gi))?t.find((e=>e instanceof vs)):null;n instanceof vs&&(this.selectedRows().includes(n)||vi(this,As,"m",Ks).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},hi=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof gi))?s.find((e=>e instanceof un)):null,r=this.selectedCells();if(i instanceof un)if(n||t){if(t)i.selected?vi(this,As,"m",Js).call(this,i):vi(this,As,"m",$s).call(this,i),e.stopPropagation();else if(n){const t=r[r.length-1];if(t){const e=vi(this,As,"m",Hs).call(this,t,i);e&&(r.includes(i)?vi(this,As,"m",Js).call(this,...e):vi(this,As,"m",$s).call(this,...e))}else vi(this,As,"m",qs).call(this,i);e.stopPropagation()}}else vi(this,As,"m",qs).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),r=i.find((e=>e instanceof gi))?i.find((e=>e instanceof vs)):null;if(r instanceof vs)if(n||t){if(t)r.selected?vi(this,As,"m",Us).call(this,r):vi(this,As,"m",Vs).call(this,r),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=vi(this,As,"m",Bs).call(this,t,r);e&&(s.includes(r)?vi(this,As,"m",Us).call(this,...e):vi(this,As,"m",Vs).call(this,...e))}else vi(this,As,"m",Ks).call(this,r);e.stopPropagation()}}else vi(this,As,"m",Ks).call(this,r);break}}},di=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=vi(this,As,"m",si).call(this),t=e?vi(this,As,"m",Zs).call(this,e):null,n=vi(this,As,"m",ii).call(this),s=n?vi(this,As,"m",Qs).call(this,n):null;if(t&&s){const e=vi(this,As,"m",Hs).call(this,t,s);e&&vi(this,As,"m",qs).call(this,...e)}break}case"row":{const e=vi(this,As,"m",si).call(this),t=vi(this,As,"m",ii).call(this);if(e&&t){const n=vi(this,As,"m",Bs).call(this,e,t);n&&vi(this,As,"m",Ks).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=vi(this,As,"m",ei).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?vi(this,As,"m",Js).call(this,t):vi(this,As,"m",$s).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=vi(this,As,"m",ti).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?vi(this,As,"m",Js).call(this,t):vi(this,As,"m",$s).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??vi(this,As,"m",si).call(this),n=s?vi(this,As,"m",ai).call(this,s):t?vi(this,As,"m",Zs).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?vi(this,As,"m",Js).call(this,n):vi(this,As,"m",$s).call(this,n))}break}case"row":{const t=i?vi(this,As,"m",ri).call(this,i):vi(this,As,"m",si).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?vi(this,As,"m",Us).call(this,t):vi(this,As,"m",Vs).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??vi(this,As,"m",ii).call(this),n=s?vi(this,As,"m",ci).call(this,s):t?vi(this,As,"m",Qs).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?vi(this,As,"m",Js).call(this,n):vi(this,As,"m",$s).call(this,n))}}break;case"row":{const t=i?vi(this,As,"m",oi).call(this,i):vi(this,As,"m",ii).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?vi(this,As,"m",Us).call(this,t):vi(this,As,"m",Vs).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=vi(this,As,"m",Zs).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=vi(this,As,"m",si).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=vi(this,As,"m",Qs).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=vi(this,As,"m",ii).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(vi(this,As,"m",qs).call(this,s),s.click());break;case"row":i&&(vi(this,As,"m",Ks).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":vi(this,As,"m",Gs).call(this),vi(this,As,"m",Ys).call(this,null);break;case"row":vi(this,As,"m",Xs).call(this),vi(this,As,"m",zs).call(this,null)}this.focus(),e.stopPropagation()}},ui=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},pi=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof un&&vi(this,As,"m",Ys).call(this,t);break;case"row":t instanceof vs&&vi(this,As,"m",zs).call(this,t)}},fi=function(){vi(this,Os,"f")?yi(this,Ws,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},mi=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof vs)).forEach(((e,t)=>{e.posinset=t}))},(bi=K("template")).content.append(K("slot")),wi([_({type:String})],Ei.prototype,"name",void 0),wi([_({type:String,defaultValue:"cell"})],Ei.prototype,"selectby",void 0),Ei=wi([H({name:"e-grid"})],Ei);var Si,Ti,xi;let ki=class extends HTMLElement{constructor(){super(),Si.add(this),this.cells=new xs(this),this.rows=new Ns(this);const e=this.attachShadow({mode:"open"});e.append(xi.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Si,"m",Ti).bind(this))}};Si=new WeakSet,Ti=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof un)).forEach(((e,t)=>{e.posinset=t}))},(xi=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),K("slot")),ki=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-gridhead"})],ki);var Pi,Li,Ci,Ni,Ii,Ai,Ri,Mi,Oi,Wi,ji,Di,Fi,_i,Hi,Bi,qi,Ki,$i,Vi=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ji=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ui=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Gi=class extends HTMLElement{constructor(){super(),Pi.add(this),Li.set(this,void 0),Ci.set(this,void 0),Ui(this,Ci,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ji(this,Pi,"m",Ni).bind(this)),"f"),Ui(this,Li,-1,"f"),this.attachShadow({mode:"open"}).append($i.content.cloneNode(!0)),this.addEventListener("click",Ji(this,Pi,"m",qi).bind(this)),this.addEventListener("focusin",Ji(this,Pi,"m",_i).bind(this)),this.addEventListener("focusout",Ji(this,Pi,"m",Hi).bind(this)),this.addEventListener("mouseover",Ji(this,Pi,"m",Bi).bind(this)),this.addEventListener("keydown",Ji(this,Pi,"m",Ki).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return Ji(this,Li,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}};Li=new WeakMap,Ci=new WeakMap,Pi=new WeakSet,Ni=function(e){return e instanceof Pn?NodeFilter.FILTER_ACCEPT:e instanceof es?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ii=function(){const e=Ji(this,Ci,"f");return e.currentNode=e.root,e.firstChild()},Ai=function(){const e=Ji(this,Ci,"f");return e.currentNode=e.root,e.lastChild()},Ri=function(e){const t=Ji(this,Ci,"f");return t.currentNode=e,t.previousSibling()},Mi=function(e){const t=Ji(this,Ci,"f");return t.currentNode=e,t.nextSibling()},Oi=function(e){const{menu:t}=e;if(t){const e=Ji(this,Ci,"f");return e.currentNode=t,e.firstChild()}return null},Wi=function(e){const{activeItem:t,expanded:n}=this;null!==t&&t!==e&&t.collapse(),null!==e?(n&&e.expand(),Ui(this,Li,this.items().indexOf(e),"f")):Ui(this,Li,-1,"f")},ji=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},Di=function(e){return e.closest(":is(e-menubar, e-menu)")==this},Fi=function(e){return Ji(this,Pi,"a",ji).find((t=>t.contains(e)))??null},_i=function(e){const{target:t}=e;if(t instanceof Element){const e=Ji(this,Pi,"m",Fi).call(this,t);Ji(this,Pi,"m",Wi).call(this,e)}},Hi=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof HTMLElement&&!t.contains(n)){const e=Ji(this,Pi,"m",Fi).call(this,t);e&&e.collapse()}!this.contains(n)&&(this.expanded=!1)},Bi=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof Pn&&Ji(this,Pi,"m",Di).call(this,t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},qi=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof Pn&&Ji(this,Pi,"m",Di).call(this,t)){const e=!n;if(this.expanded=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Ki=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?Ji(this,Pi,"m",Ri).call(this,s)??Ji(this,Pi,"m",Ai).call(this):Ji(this,Pi,"m",Ii).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Ji(this,Pi,"m",Oi).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Ji(this,Pi,"m",Mi).call(this,s)??Ji(this,Pi,"m",Ii).call(this):Ji(this,Pi,"m",Ai).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Ji(this,Pi,"m",Oi).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.expanded=!n,Ji(this,Pi,"m",Oi).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},($i=K("template")).content.append(K("slot")),Vi([_({type:String})],Gi.prototype,"name",void 0),Vi([_({type:Boolean})],Gi.prototype,"expanded",void 0),Gi=Vi([H({name:"e-menubar"})],Gi);var Xi,Yi,zi,Zi,Qi,er,tr,nr,sr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ir=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},rr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let or=class extends HTMLElement{constructor(){super(),Xi.add(this),Yi.set(this,void 0),ir(this,Yi,null,"f");const e=this.attachShadow({mode:"open"});e.append(K("span",{attributes:{part:"content"},children:[K("span",{attributes:{part:"icon"}}),K("span",{attributes:{part:"label"}})]}),K("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",rr(this,Xi,"m",er).bind(this)),this.addEventListener("click",rr(this,Xi,"m",Zi).bind(this)),this.addEventListener("focusout",rr(this,Xi,"m",Qi).bind(this)),this.addEventListener("trigger",rr(this,Xi,"m",nr).bind(this)),e.addEventListener("slotchange",rr(this,Xi,"m",tr).bind(this))}get menu(){return rr(this,Yi,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,rr(this,Xi,"m",zi).call(this))}collapse(){this.expanded&&(this.expanded=!1)}get firstItem(){return this.querySelector(":scope > :is(e-menu, e-menu > e-menuitemgroup) > e-menuitem")}};Yi=new WeakMap,Xi=new WeakSet,zi=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=r+o-h,p=n+a-d;t.setProperty("left",`${u>0?l+r-o:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}},Zi=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Qi=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},er=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},tr=function(e){const{target:t}=e,n=t.assignedElements()[0];ir(this,Yi,n instanceof hs?n:null,"f")},nr=function(){this.collapse(),this.focus({preventScroll:!0})},sr([_({type:String})],or.prototype,"name",void 0),sr([_({type:Boolean})],or.prototype,"disabled",void 0),sr([_({type:Boolean})],or.prototype,"expanded",void 0),or=sr([H({name:"e-menubutton"})],or);var ar,cr=or,lr=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",K("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:cr.prototype}),hr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let dr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ar.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(ar=K("template")).content.append(K("style",{children:['\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    ']}),K("span",{attributes:{part:"content"},children:[K("span",{attributes:{part:"label"}})]})),hr([_({type:String})],dr.prototype,"name",void 0),hr([_({type:String})],dr.prototype,"value",void 0),hr([_({type:String,observed:!0})],dr.prototype,"label",void 0),hr([_({type:String})],dr.prototype,"description",void 0),hr([_({type:Boolean})],dr.prototype,"disabled",void 0),hr([_({type:Boolean})],dr.prototype,"active",void 0),hr([_({type:Boolean})],dr.prototype,"selected",void 0),hr([_({type:Boolean})],dr.prototype,"default",void 0),dr=hr([H({name:"e-option"})],dr);var ur,pr=dr;let fr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(ur.content.cloneNode(!0))}};(ur=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),K("slot")),fr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-optiongroup"})],fr);var mr,br,gr,wr=fr,vr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};br=new WeakMap,mr=new WeakSet,gr=function(e){return e instanceof pr?NodeFilter.FILTER_ACCEPT:e instanceof wr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var yr,Er,Sr,Tr,xr,kr,Pr,Lr,Cr,Nr,Ir,Ar,Rr,Mr,Or,Wr,jr,Dr,Fr,_r,Hr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Br=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},qr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Kr=class extends rn{constructor(){super(),yr.add(this),Er.set(this,void 0),Sr.set(this,void 0),Tr.set(this,void 0),qr(this,Er,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Br(this,yr,"m",xr).bind(this)),"f"),qr(this,Sr,-1,"f"),qr(this,Tr,-1,"f"),this.options=new class{constructor(e){mr.add(this),br.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,br,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,vr(this,mr,"m",gr).bind(this)),"f")}get length(){const e=vr(this,br,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=vr(this,br,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=vr(this,br,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=vr(this,br,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=vr(this,br,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(_r.content.cloneNode(!0)),this.addEventListener("click",Br(this,yr,"m",Mr).bind(this)),this.addEventListener("focusin",Br(this,yr,"m",Or).bind(this)),this.addEventListener("focusout",Br(this,yr,"m",Wr).bind(this)),this.addEventListener("keydown",Br(this,yr,"m",jr).bind(this)),this.addEventListener("mouseover",Br(this,yr,"m",Dr).bind(this)),e.addEventListener("slotchange",Br(this,yr,"m",Fr).bind(this))}get activeIndex(){return Br(this,Sr,"f")}get selectedIndex(){return Br(this,Tr,"f")}get activeOption(){return this.options.item(Br(this,Sr,"f"))??null}get selectedOption(){return this.options.item(Br(this,Tr,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Br(this,yr,"m",Ar).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Br(this,yr,"m",Rr).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};Er=new WeakMap,Sr=new WeakMap,Tr=new WeakMap,yr=new WeakSet,xr=function(e){return e instanceof pr?NodeFilter.FILTER_ACCEPT:e instanceof wr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},kr=function(){const e=Br(this,Er,"f");return e.currentNode=e.root,e.firstChild()},Pr=function(){const e=Br(this,Er,"f");return e.currentNode=e.root,e.lastChild()},Lr=function(e){const t=Br(this,Er,"f");return t.currentNode=e,t.previousNode()},Cr=function(e){const t=Br(this,Er,"f");return t.currentNode=e,t.nextNode()},Nr=function(e){e&&!e.disabled&&(this.value=e.value)},Ir=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),qr(this,Sr,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else qr(this,Sr,-1,"f")},Ar=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,s&&(s.selected=!1),qr(this,Tr,Array.from(t.values()).indexOf(e),"f")}}else qr(this,Sr,-1,"f")},Rr=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Mr=function(e){const{target:t}=e;t instanceof pr?(Br(this,yr,"m",Nr).call(this,t),this.collapse()):t==this&&this.toggle()},Or=function(e){const{target:t}=e,{expanded:n}=this;t instanceof pr&&(n||this.expand(),Br(this,yr,"m",Ir).call(this,t))},Wr=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Br(this,yr,"m",Ir).call(this,null))},jr=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:i,selectedIndex:r,expanded:o}=this;switch(t){case"ArrowUp":if(o&&null!==s){const e=Br(this,yr,"m",Lr).call(this,s)??Br(this,yr,"m",kr).call(this);e&&e.focus({preventScroll:!0})}else if(!o&&null!==i){const e=Br(this,yr,"m",Lr).call(this,i)??Br(this,yr,"m",kr).call(this);e&&Br(this,yr,"m",Nr).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(o&&null!==s){const e=Br(this,yr,"m",Cr).call(this,s)??Br(this,yr,"m",Pr).call(this);e&&e.focus({preventScroll:!0})}else if(!o&&null!==i){const e=Br(this,yr,"m",Cr).call(this,i)??Br(this,yr,"m",Pr).call(this);e&&Br(this,yr,"m",Nr).call(this,e)}e.stopPropagation();break;case"Home":{const t=Br(this,yr,"m",kr).call(this);null!==t&&(o?t.focus({preventScroll:!0}):Br(this,yr,"m",Nr).call(this,t)),e.stopPropagation();break}case"End":{const t=Br(this,yr,"m",Pr).call(this);null!==t&&(o?t.focus({preventScroll:!0}):Br(this,yr,"m",Nr).call(this,t)),e.stopPropagation();break}case"Enter":if(o)this.collapse(),null!==s&&Br(this,yr,"m",Nr).call(this,s);else{const e=n.item(r);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":o&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),r=Array.from(n.values()),o=r.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=r.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>s)),c=a>-1?a:o,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},Dr=function(e){const{target:t}=e;t instanceof pr&&t.focus({preventScroll:!0})},Fr=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof pr));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Br(this,yr,"m",kr).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&Br(this,yr,"m",Ar).call(this,e)}},(_r=K("template")).content.append(K("div",{attributes:{part:"content"},children:[K("label",{attributes:{part:"label"}}),K("output",{attributes:{part:"value"}})]}),K("div",{attributes:{part:"options"},children:[K("slot"),K("hr",{attributes:{part:"separator"}}),K("span",{attributes:{part:"description"}})]})),Hr([_({type:String})],Kr.prototype,"name",void 0),Hr([_({type:String,observed:!0})],Kr.prototype,"label",void 0),Hr([_({type:String,observed:!0})],Kr.prototype,"value",void 0),Hr([_({type:String,defaultValue:"select",observed:!0})],Kr.prototype,"type",void 0),Hr([_({type:Boolean})],Kr.prototype,"expanded",void 0),Kr=Hr([H({name:"e-select"})],Kr);var $r,Vr,Jr,Ur,Gr,Xr,Yr,zr,Zr,Qr,eo,to,no,so,io=Kr,ro=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},oo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ao=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let co=class extends rn{constructor(){super(),$r.add(this),Vr.set(this,void 0),Jr.set(this,void 0),oo(this,Vr,null,"f"),oo(this,Jr,null,"f");const e=this.attachShadow({mode:"open"});e.append(to.content.cloneNode(!0)),e.addEventListener("slotchange",ao(this,$r,"m",eo).bind(this))}get menubutton(){return ao(this,Vr,"f")}get select(){return ao(this,Jr,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.firstItem?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&ao(this,$r,"m",Ur).call(this);break}}}};Vr=new WeakMap,Jr=new WeakMap,$r=new WeakSet,Ur=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},Gr=function(e){const t=ao(this,$r,"m",Zr).bind(this);no.set(e,t),e.addEventListener("keydown",t)},Xr=function(e){const t=no.get(e);t&&e.removeEventListener("keydown",t)},Yr=function(e){const t=ao(this,$r,"m",Qr).bind(this);so.set(e,t),e.addEventListener("trigger",t)},zr=function(e){const t=so.get(e);t&&e.removeEventListener("trigger",t)},Zr=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},Qr=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},eo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=ao(this,Vr,"f");null!==e&&(ao(this,$r,"m",zr).call(this,e),ao(this,$r,"m",Xr).call(this,e));const n=t.assignedElements()[0];e=n instanceof cr?n:null,null!==e&&(ao(this,$r,"m",Yr).call(this,e),ao(this,$r,"m",Gr).call(this,e)),oo(this,Vr,e,"f");break}case"select":{let e=ao(this,Jr,"f");null!==e&&ao(this,$r,"m",Xr).call(this,e);const n=t.assignedElements()[0];e=n instanceof io?n:null,null!==e&&ao(this,$r,"m",Gr).call(this,e),oo(this,Jr,e,"f");break}}},(to=K("template")).content.append(K("span",{attributes:{part:"content"},children:[K("span",{attributes:{part:"icon"}}),K("span",{attributes:{part:"label"}}),K("slot",{attributes:{name:"select"}}),K("slot",{attributes:{name:"menubutton"}})]})),no=new WeakMap,so=new WeakMap,ro([_({type:Boolean})],co.prototype,"active",void 0),ro([_({type:String,observed:!0})],co.prototype,"value",void 0),ro([_({type:String})],co.prototype,"name",void 0),ro([_({type:String,observed:!0})],co.prototype,"label",void 0),ro([_({type:String})],co.prototype,"type",void 0),co=ro([H({name:"e-toolbaritem"})],co);var lo,ho=co,uo=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menubutton:o,select:a}=e;return o&&(o.slot="menubutton"),a&&(a.slot="select"),K("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[o]:a?[a]:void 0,listeners:{trigger:r}})}),{prototype:ho.prototype,button:e=>new uo({...e,type:"button"}),checkbox:e=>new uo({...e,type:"checkbox"}),radio:e=>new uo({...e,type:"radio"}),menubutton:e=>new uo({...e,type:"menubutton"}),select:e=>new uo({...e,type:"select"})}),po=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let fo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(lo.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(lo=K("template")).content.append(K("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),K("slot")),po([_({type:String})],fo.prototype,"name",void 0),po([_({type:String,observed:!0})],fo.prototype,"label",void 0),po([_({type:Boolean,observed:!0})],fo.prototype,"disabled",void 0),fo=po([H({name:"e-toolbaritemgroup"})],fo);var mo,bo,go,wo,vo,yo,Eo,So,To,xo,ko,Po,Lo,Co,No,Io,Ao=fo,Ro=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Mo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Oo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Wo=class extends HTMLElement{constructor(){super(),mo.add(this),bo.set(this,void 0),go.set(this,void 0),Mo(this,go,-1,"f"),Mo(this,bo,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Oo(this,mo,"m",wo).bind(this)),"f"),this.attachShadow({mode:"open"}).append(Io.content.cloneNode(!0)),this.addEventListener("change",Oo(this,mo,"m",xo).bind(this)),this.addEventListener("click",Oo(this,mo,"m",ko).bind(this)),this.addEventListener("focusin",Oo(this,mo,"m",Po).bind(this)),this.addEventListener("focusout",Oo(this,mo,"m",Lo).bind(this)),this.addEventListener("keydown",Oo(this,mo,"m",Co).bind(this)),this.addEventListener("trigger",Oo(this,mo,"m",No).bind(this))}get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}get activeIndex(){return Oo(this,go,"f")}};bo=new WeakMap,go=new WeakMap,mo=new WeakSet,wo=function(e){return e instanceof ho?NodeFilter.FILTER_ACCEPT:e instanceof Ao?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},vo=function(){const e=Oo(this,bo,"f");return e.currentNode=e.root,e.firstChild()},yo=function(){const e=Oo(this,bo,"f");return e.currentNode=e.root,e.lastChild()},Eo=function(e){const t=Oo(this,bo,"f");return t.currentNode=e,t.previousSibling()},So=function(e){const t=Oo(this,bo,"f");return t.currentNode=e,t.nextSibling()},To=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Mo(this,go,this.items().indexOf(e),"f")):Mo(this,go,-1,"f")},xo=function(e){const{target:t}=e;if(t instanceof io){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},ko=function(e){const{target:t}=e;if(t instanceof ho){const{type:e}=t;t.trigger()}},Po=function(e){const{target:t}=e,n=this.items().find((e=>e.contains(t)))??null;Oo(this,mo,"m",To).call(this,n)},Lo=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Oo(this,mo,"m",To).call(this,null)},Co=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.firstItem?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Oo(this,mo,"m",Eo).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Oo(this,mo,"m",vo).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Oo(this,mo,"m",So).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Oo(this,mo,"m",yo).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Oo(this,mo,"m",vo).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Oo(this,mo,"m",yo).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},No=function(e){const{target:t}=e;if(t instanceof ho){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}},(Io=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),K("slot")),Ro([_({type:String})],Wo.prototype,"name",void 0),Ro([_({type:String})],Wo.prototype,"orientation",void 0),Wo=Ro([H({name:"e-toolbar"})],Wo);var jo=Wo,Do=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Fo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),K("slot"))}};Do([_({type:String})],Fo.prototype,"name",void 0),Fo=Do([H({name:"e-tabpanel"})],Fo);var _o,Ho=Fo,Bo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},qo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ko=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let $o=class extends HTMLElement{constructor(){super(),_o.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),K("slot")),qo(this,_o,null,"f")}get panel(){return Ko(this,_o,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Ko(this,_o,"f")&&e instanceof Ho&&qo(this,_o,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Ho&&qo(this,_o,e,"f"),e&&(e.hidden=!this.active)}}};_o=new WeakMap,Bo([_({type:String})],$o.prototype,"name",void 0),Bo([_({type:Boolean})],$o.prototype,"disabled",void 0),Bo([_({type:Boolean,observed:!0})],$o.prototype,"active",void 0),Bo([_({type:String,observed:!0})],$o.prototype,"controls",void 0),$o=Bo([H({name:"e-tab"})],$o);var Vo,Jo=$o,Uo=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Go=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Xo=class extends HTMLElement{constructor(){super(),Vo.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),K("slot")),this.tabs=[],Uo(this,Vo,1,"f")}get activeIndex(){return Go(this,Vo,"f")}get activeTab(){return this.tabs[Go(this,Vo,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof Jo));this.tabs=t,Uo(this,Vo,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof Jo&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Uo(this,Vo,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Uo(this,Vo,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Vo=new WeakMap,Xo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-tablist"})],Xo);var Yo,zo,Zo;let Qo=class extends HTMLElement{constructor(){super(),Yo.add(this);const e=this.attachShadow({mode:"open"});e.append(Zo.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Yo,"m",zo).bind(this))}};Yo=new WeakSet,zo=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ha)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},(Zo=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),K("slot")),Qo=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-treeitemgroup"})],Qo);var ea,ta,na,sa,ia,ra=Qo,oa=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},aa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ca=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let la=class extends HTMLElement{constructor(){super(),ea.add(this),ta.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(ia.content.cloneNode(!0)),e.addEventListener("slotchange",aa(this,ea,"m",sa).bind(this)),this.addEventListener("click",aa(this,ea,"m",na).bind(this)),ca(this,ta,null,"f")}get group(){return aa(this,ta,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};ta=new WeakMap,ea=new WeakSet,na=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},sa=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ca(this,ta,e instanceof ra?e:null,"f");break}}},(ia=K("template")).content.append(K("div",{attributes:{part:"content"},children:[K("span",{attributes:{part:"arrow"}}),K("slot")]}),K("slot",{attributes:{name:"group"}})),oa([_({type:String})],la.prototype,"name",void 0),oa([_({type:Number})],la.prototype,"posinset",void 0),oa([_({type:String,observed:!0})],la.prototype,"label",void 0),oa([_({type:Boolean,observed:!0})],la.prototype,"expanded",void 0),oa([_({type:Boolean})],la.prototype,"droptarget",void 0),oa([_({type:Boolean})],la.prototype,"active",void 0),oa([_({type:Boolean,observed:!0})],la.prototype,"selected",void 0),oa([_({type:Number,observed:!0})],la.prototype,"level",void 0),oa([_({type:String,defaultValue:"leaf"})],la.prototype,"type",void 0),la=oa([H({name:"e-treeitem"})],la);var ha,da,ua,pa,fa,ma,ba,ga,wa,va,ya,Ea,Sa,Ta,xa,ka,Pa,La,Ca,Na,Ia,Aa,Ra,Ma,Oa,Wa,ja,Da,Fa,_a,Ha=la,Ba=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},qa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ka=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let $a=class extends HTMLElement{constructor(){super(),ha.add(this),da.set(this,void 0),ua.set(this,void 0),pa.set(this,void 0),Ka(this,pa,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,qa(this,ha,"m",fa).bind(this)),"f"),Ka(this,da,!1,"f"),Ka(this,ua,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(_a.content.cloneNode(!0)),this.addEventListener("mousedown",qa(this,ha,"m",La).bind(this)),this.addEventListener("dragend",qa(this,ha,"m",Ca).bind(this)),this.addEventListener("dragenter",qa(this,ha,"m",Na).bind(this)),this.addEventListener("dragleave",qa(this,ha,"m",Aa).bind(this)),this.addEventListener("dragover",qa(this,ha,"m",Ia).bind(this)),this.addEventListener("drop",qa(this,ha,"m",Ra).bind(this)),this.addEventListener("focus",qa(this,ha,"m",Oa).bind(this)),this.addEventListener("focusin",qa(this,ha,"m",Wa).bind(this)),this.addEventListener("focusout",qa(this,ha,"m",ja).bind(this)),this.addEventListener("keydown",qa(this,ha,"m",Ma).bind(this)),this.addEventListener("select",qa(this,ha,"m",Da).bind(this)),e.addEventListener("slotchange",qa(this,ha,"m",Fa).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=qa(this,pa,"f");t.currentNode=t.root;let n=qa(this,ha,"m",Sa).call(this);for(;null!==n;)n.selected&&e.push(n),n=qa(this,ha,"m",ka).call(this,n);return e}beginSelection(){Ka(this,da,!0,"f")}endSelection(){Ka(this,da,!1,"f"),qa(this,ua,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Ka(this,ua,!1,"f"))}};da=new WeakMap,ua=new WeakMap,pa=new WeakMap,ha=new WeakSet,fa=function(e){return e instanceof Ha?NodeFilter.FILTER_ACCEPT:e instanceof ra?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ma=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=qa(this,ha,"m",ka).call(this,e);for(;s&&s!==t;)n.push(s),s=qa(this,ha,"m",ka).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=qa(this,ha,"m",xa).call(this,e);for(;s&&s!==t;)n.push(s),s=qa(this,ha,"m",xa).call(this,s);return n.push(t),n}return[]},ba=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},ga=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},wa=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},va=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},ya=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(qa(this,pa,"f").currentNode=e,e.active=!0,e.tabIndex=0)},Ea=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Sa=function(){const e=qa(this,pa,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ta=function(){const e=qa(this,pa,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},xa=function(e){const t=qa(this,pa,"f");t.currentNode=e;const n=t.previousSibling();return n?qa(this,ha,"m",Pa).call(this,n):t.parentNode()},ka=function(e){const t=qa(this,pa,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Pa=function e(t){if(t.expanded){const t=qa(this,pa,"f").lastChild();if(t)return qa(this,ha,"m",e).call(this,t)}return t},La=function(e){const{target:t,ctrlKey:n,shiftKey:s,button:i}=e;if(t instanceof Ha){const{selected:r}=t;switch(i){case 0:if(s||n){if(n)r&&t.blur(),r?qa(this,ha,"m",wa).call(this,t):qa(this,ha,"m",ga).call(this,t),e.stopPropagation();else if(s){const{activeItem:n}=this;if(n){const e=qa(this,ha,"m",ma).call(this,n,t);e&&qa(this,ha,"m",ba).call(this,...e)}e.stopPropagation()}}else qa(this,ha,"m",ba).call(this,t);break;case 2:r||qa(this,ha,"m",ba).call(this,t)}}},Ca=function(){qa(this,ha,"m",Ea).call(this,null)},Na=function(e){const{target:t}=e;if(t instanceof Ha){const{type:e}=t;"parent"==e&&t.toggle(!0),qa(this,ha,"m",Ea).call(this,t)}e.preventDefault()},Ia=function(e){e.preventDefault()},Aa=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||qa(this,ha,"m",Ea).call(this,null)}},Ra=function(){qa(this,ha,"m",Ea).call(this,null)},Ma=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=qa(this,pa,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=qa(this,ha,"m",ma).call(this,s,qa(this,ha,"m",Pa).call(this,i));e&&qa(this,ha,"m",ba).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=qa(this,pa,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=qa(this,ha,"m",xa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?qa(this,ha,"m",wa).call(this,t):qa(this,ha,"m",ga).call(this,t))}}else{const e=qa(this,ha,"m",Sa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=qa(this,ha,"m",ka).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?qa(this,ha,"m",wa).call(this,t):qa(this,ha,"m",ga).call(this,t))}}else{const e=qa(this,ha,"m",Ta).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=qa(this,ha,"m",Sa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=qa(this,ha,"m",Ta).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(qa(this,ha,"m",ba).call(this,n),n.click()),e.stopPropagation();break;case"Escape":qa(this,ha,"m",va).call(this),qa(this,ha,"m",ya).call(this,null),this.focus(),e.stopPropagation()}},Oa=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Wa=function(e){const{target:t}=e;t instanceof Ha&&(qa(this,ha,"m",ya).call(this,t),this.tabIndex=-1)},ja=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Da=function(){qa(this,da,"f")?Ka(this,ua,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Fa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ha)).forEach(((e,t)=>{e.posinset=t,e.level=0}))},(_a=K("template")).content.append(K("slot")),Ba([_({type:Boolean})],$a.prototype,"droptarget",void 0),Ba([_({type:String})],$a.prototype,"name",void 0),$a=Ba([H({name:"e-tree"})],$a);var Va,Ja,Ua,Ga,Xa,Ya,za=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Za=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Qa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ec=class extends HTMLElement{constructor(){super(),Va.add(this),Ja.set(this,void 0),Ua.set(this,void 0),Ga.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Ya.content.cloneNode(!0)),Za(this,Ja,null,"f"),Za(this,Ga,null,"f"),Za(this,Ua,null,"f"),e.addEventListener("slotchange",Qa(this,Va,"m",Xa).bind(this))}get badge(){return Qa(this,Ja,"f")}get toolbar(){return Qa(this,Ua,"f")}get menu(){return Qa(this,Ga,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};Ja=new WeakMap,Ua=new WeakMap,Ga=new WeakMap,Va=new WeakSet,Xa=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Za(this,Ua,e instanceof jo?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Za(this,Ja,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Za(this,Ga,e instanceof hs?e:null,"f");break}}},(Ya=K("template")).content.append(K("slot")),za([_({type:String})],ec.prototype,"name",void 0),za([_({type:Number})],ec.prototype,"posinset",void 0),za([_({type:String,observed:!0})],ec.prototype,"label",void 0),za([_({type:Boolean})],ec.prototype,"droptarget",void 0),za([_({type:Boolean})],ec.prototype,"active",void 0),za([_({type:Boolean,observed:!0})],ec.prototype,"selected",void 0),ec=za([H({name:"e-listitem"})],ec);var tc,nc,sc,ic=ec;let rc=class extends HTMLElement{constructor(){super(),tc.add(this);const e=this.attachShadow({mode:"open"});e.append(sc.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,tc,"m",nc).bind(this))}};tc=new WeakSet,nc=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ic)).forEach(((e,t)=>{e.posinset=t}))},(sc=K("template")).content.append(K("slot")),rc=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([H({name:"e-listitemgroup"})],rc);var oc,ac,cc,lc,hc,dc,uc,pc,fc,mc,bc,gc,wc,vc,yc,Ec,Sc,Tc,xc,kc,Pc,Lc,Cc,Nc,Ic,Ac,Rc,Mc,Oc,Wc,jc,Dc,Fc=rc,_c=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Hc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Bc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let qc=class extends HTMLElement{constructor(){super(),oc.add(this),ac.set(this,void 0),cc.set(this,void 0),lc.set(this,void 0),hc.set(this,void 0),dc.set(this,void 0),Bc(this,dc,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Hc(this,oc,"m",uc).bind(this)),"f"),Bc(this,cc,-1,"f"),Bc(this,ac,-1,"f"),Bc(this,lc,!1,"f"),Bc(this,hc,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Dc.content.cloneNode(!0)),this.addEventListener("contextmenu",Hc(this,oc,"m",xc).bind(this)),this.addEventListener("click",Hc(this,oc,"m",kc).bind(this)),this.addEventListener("dragend",Hc(this,oc,"m",Pc).bind(this)),this.addEventListener("dragenter",Hc(this,oc,"m",Lc).bind(this)),this.addEventListener("dragover",Hc(this,oc,"m",Cc).bind(this)),this.addEventListener("dragleave",Hc(this,oc,"m",Nc).bind(this)),this.addEventListener("dragstart",Hc(this,oc,"m",Ic).bind(this)),this.addEventListener("drop",Hc(this,oc,"m",Ac).bind(this)),this.addEventListener("focus",Hc(this,oc,"m",Mc).bind(this)),this.addEventListener("focusin",Hc(this,oc,"m",Oc).bind(this)),this.addEventListener("keydown",Hc(this,oc,"m",Rc).bind(this)),this.addEventListener("select",Hc(this,oc,"m",Wc).bind(this)),e.addEventListener("slotchange",Hc(this,oc,"m",jc).bind(this))}get dropTargetItem(){return this.items[Hc(this,ac,"f")]??null}get activeIndex(){return Hc(this,cc,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){Bc(this,lc,!0,"f")}endSelection(){Bc(this,lc,!1,"f"),Hc(this,hc,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Bc(this,hc,!1,"f"))}selectedItems(){const e=[],t=Hc(this,dc,"f");t.currentNode=t.root;let n=Hc(this,oc,"m",yc).call(this);for(;null!==n;)n.selected&&e.push(n),n=Hc(this,oc,"m",Tc).call(this,n);return e}};ac=new WeakMap,cc=new WeakMap,lc=new WeakMap,hc=new WeakMap,dc=new WeakMap,oc=new WeakSet,uc=function(e){return e instanceof ic?NodeFilter.FILTER_ACCEPT:e instanceof Fc?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pc=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},fc=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},mc=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},bc=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},gc=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},wc=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,Bc(this,cc,Array.from(n).indexOf(e),"f"))},vc=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,Bc(this,ac,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,Bc(this,ac,-1,"f"))},yc=function(){const e=Hc(this,dc,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ec=function(){const e=Hc(this,dc,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Sc=function(e){const t=Hc(this,dc,"f");return t.currentNode=e,t.previousNode()},Tc=function(e){const t=Hc(this,dc,"f");return t.currentNode=e,t.nextNode()},xc=function(e){const{target:t}=e;t instanceof ic&&(this.selectedItems().includes(t)||Hc(this,oc,"m",fc).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},kc=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof ic)if(s||n){if(n)t.selected?Hc(this,oc,"m",bc).call(this,t):Hc(this,oc,"m",mc).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=Hc(this,oc,"m",pc).call(this,n,t);e&&(i.includes(t)?Hc(this,oc,"m",bc).call(this,...e):Hc(this,oc,"m",mc).call(this,...e))}else Hc(this,oc,"m",fc).call(this,t);e.stopPropagation()}}else Hc(this,oc,"m",fc).call(this,t)},Pc=function(){Hc(this,oc,"m",vc).call(this,null)},Lc=function(e){const{target:t}=e;t instanceof ic&&Hc(this,oc,"m",vc).call(this,t),e.preventDefault()},Cc=function(e){e.preventDefault()},Nc=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||Hc(this,oc,"m",vc).call(this,null)},Ic=function(e){const{target:t}=e;t instanceof ic&&(this.selectedItems().includes(t)||Hc(this,oc,"m",fc).call(this,t))},Ac=function(){Hc(this,oc,"m",vc).call(this,null)},Rc=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Hc(this,dc,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Hc(this,oc,"m",pc).call(this,n,s);i&&Hc(this,oc,"m",fc).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Hc(this,oc,"m",Sc).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Hc(this,oc,"m",bc).call(this,t):Hc(this,oc,"m",mc).call(this,t))}}else{const e=Hc(this,oc,"m",yc).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Hc(this,oc,"m",Tc).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Hc(this,oc,"m",bc).call(this,t):Hc(this,oc,"m",mc).call(this,t))}}else{const e=Hc(this,oc,"m",Ec).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Hc(this,oc,"m",yc).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Hc(this,oc,"m",Ec).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Hc(this,oc,"m",fc).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Hc(this,oc,"m",gc).call(this),Hc(this,oc,"m",wc).call(this,null),this.focus(),e.stopPropagation()}},Mc=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Oc=function(e){const{target:t}=e;t instanceof ic&&Hc(this,oc,"m",wc).call(this,t)},Wc=function(){Hc(this,lc,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},jc=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof ic)).forEach(((e,t)=>{e.posinset=t}))},(Dc=K("template")).content.append(K("style",{children:["\n\n                    "]}),K("slot",{children:[K("slot")]})),_c([_({type:String})],qc.prototype,"name",void 0),_c([_({type:Boolean})],qc.prototype,"droptarget",void 0),qc=_c([H({name:"e-list"})],qc);var Kc,$c=qc,Vc=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Jc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Uc=class extends HTMLElement{constructor(){super(),Kc.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),K("div",{attributes:{part:"container"},children:[K("slot",{children:["&nbsp;"]})]})),this.references=[],Jc(this,Kc,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Kc,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return Jc(e,Kc,this,"f"),e}};Kc=new WeakMap,Vc([_({type:Boolean})],Uc.prototype,"selected",void 0),Vc([_({type:Boolean})],Uc.prototype,"dragovered",void 0),Vc([_({type:Boolean})],Uc.prototype,"dragged",void 0),Vc([_({type:Boolean})],Uc.prototype,"disabled",void 0),Uc=Vc([H({name:"e-draggable"})],Uc);var Gc,Xc,Yc=Uc,zc=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Zc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Qc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let el=class extends HTMLElement{constructor(){super(),Gc.set(this,void 0),Xc.set(this,void 0),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),K("div",{attributes:{part:"container"},children:[K("slot")]})),Zc(this,Gc,[],"f"),Zc(this,Xc,[],"f")}get draggables(){return Qc(this,Gc,"f")}get selectedDraggables(){return Qc(this,Xc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Zc(this,Xc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof Yc));Zc(this,Gc,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,r=s>0?this.draggables.length-1:0,o=s>0?n:e,a=s>0?e:n;for(let e=i;e!==r+s;e+=s)e>=o&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};Gc=new WeakMap,Xc=new WeakMap,zc([_({type:Boolean})],el.prototype,"disabled",void 0),el=zc([H({name:"e-dragzone"})],el);var tl=el,nl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let sl=class extends tl{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(K("div",{attributes:{part:"appendarea"},children:[K("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof tl){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof il&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const r=this.shadowRoot?.querySelector("slot");return r&&r.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};nl([_({type:String})],sl.prototype,"name",void 0),nl([_({type:String})],sl.prototype,"dragovered",void 0),nl([_({type:String,observed:!0})],sl.prototype,"placeholder",void 0),nl([_({type:Boolean})],sl.prototype,"multiple",void 0),sl=nl([H({name:"e-dropzone"})],sl);var il=sl,rl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let ol=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(K("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),K("div",{attributes:{part:"header"},children:[K("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),K("hr",{attributes:{part:"separator"}}),K("div",{attributes:{part:"body"},children:[K("slot")]}),K("hr",{attributes:{part:"separator"}}),K("div",{attributes:{part:"actions"},children:[K("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),K("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),K("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};rl([_({type:String})],ol.prototype,"type",void 0),ol=rl([H({name:"e-dialog"})],ol);var al,cl,ll,hl,dl,ul,pl,fl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ml=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},bl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let gl=class extends HTMLElement{constructor(){super(),al.add(this),cl.set(this,void 0),ll.set(this,void 0),this.attachShadow({mode:"open"}).append(pl.content.cloneNode(!0)),ml(this,cl,null,"f"),ml(this,ll,!1,"f"),this.addEventListener("pointerdown",bl(this,al,"m",dl).bind(this)),this.addEventListener("pointermove",bl(this,al,"m",ul).bind(this)),this.addEventListener("pointerup",bl(this,al,"m",hl).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;ml(this,cl,document.getElementById(e),"f");break}}}};cl=new WeakMap,ll=new WeakMap,al=new WeakSet,hl=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),ml(this,ll,!1,"f")},dl=function(e){const{pointerId:t}=e,{controls:n}=this;ml(this,cl,document.getElementById(n),"f"),this.setPointerCapture(t),ml(this,ll,!0,"f")},ul=function(e){if(bl(this,ll,"f")){const t=bl(this,cl,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:r,height:o}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),p=Math.max(c,Math.min(Math.trunc(u+s),l-r)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+i),d-o));t.style.setProperty("left",`${p}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(pl=K("template")).content.append(K("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),fl([_({type:String,observed:!0})],gl.prototype,"controls",void 0),gl=fl([H({name:"e-handle"})],gl);var wl,vl,yl,El,Sl,Tl,xl,kl,Pl,Ll,Cl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Nl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Il=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Al=class extends HTMLElement{constructor(){super(),wl.add(this),vl.set(this,void 0),yl.set(this,void 0),El.set(this,void 0),Sl.set(this,void 0),this.attachShadow({mode:"open"}).append(Ll.content.cloneNode(!0)),Nl(this,vl,null,"f"),Nl(this,El,null,"f"),Nl(this,Sl,0,"f"),Nl(this,yl,!1,"f"),this.addEventListener("pointerdown",Il(this,wl,"m",xl).bind(this)),this.addEventListener("pointermove",Il(this,wl,"m",kl).bind(this)),this.addEventListener("pointerup",Il(this,wl,"m",Tl).bind(this))}get target(){return Il(this,vl,"f")}};vl=new WeakMap,yl=new WeakMap,El=new WeakMap,Sl=new WeakMap,wl=new WeakSet,Tl=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Nl(this,yl,!1,"f")},xl=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Nl(this,vl,s.getElementById(n),"f"),this.setPointerCapture(t),Nl(this,yl,!0,"f")},kl=function(e){Il(this,yl,"f")&&(null==Il(this,El,"f")?(Nl(this,Sl,e.movementY,"f"),Nl(this,El,Il(this,wl,"m",Pl).bind(this),"f"),requestAnimationFrame(Il(this,El,"f"))):Nl(this,Sl,Il(this,Sl,"f")+e.movementY,"f"))},Pl=function(){const e=Il(this,vl,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Il(this,Sl,"f"),i=parseFloat(t.getPropertyValue("height")),r=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${r}px`);const o=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${o}px`),this.dispatchEvent(new Event("resize"))}Nl(this,El,null,"f")},(Ll=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Cl([_({type:String})],Al.prototype,"controls",void 0),Cl([_({type:String,defaultValue:"top"})],Al.prototype,"growdir",void 0),Al=Cl([H({name:"e-hsash"})],Al);var Rl,Ml,Ol=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Wl=class extends HTMLElement{constructor(){super(...arguments),Rl.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Rl,"m",Ml).call(this,e)}};Rl=new WeakSet,Ml=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Ol([_({type:String})],Wl.prototype,"src",void 0),Wl=Ol([H({name:"e-import"})],Wl);var jl,Dl,Fl,_l,Hl,Bl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ql=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Kl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let $l=class extends HTMLElement{constructor(){super(),jl.add(this),Dl.set(this,void 0),this.attachShadow({mode:"open"}),ql(this,jl,"m",Fl).call(this),Kl(this,Dl,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":ql(this,jl,"m",Fl).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Kl(this,Dl,e,"f")}get promise(){return ql(this,Dl,"f")}};Dl=new WeakMap,jl=new WeakSet,Fl=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Hl.content.cloneNode(!0));break;case"bar":t.replaceChildren(_l.content.cloneNode(!0))}},(()=>{const e=K("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(_l=K("template")).content.append(t,K("div",{attributes:{part:"bar"},children:[K("div",{attributes:{part:"slider"},children:[K("div",{attributes:{part:"cursor"}})]})]})),(Hl=K("template")).content.append(n,K("div",{attributes:{part:"circle"}}))})(),Bl([_({type:String,defaultValue:"bar",observed:!0})],$l.prototype,"type",void 0),$l=Bl([H({name:"e-loader"})],$l);var Vl,Jl,Ul,Gl,Xl,Yl,zl,Zl,Ql,eh,th=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},nh=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},sh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ih=class extends HTMLElement{constructor(){super(),Vl.add(this),Jl.set(this,void 0),Ul.set(this,void 0),Gl.set(this,void 0),Xl.set(this,void 0),this.attachShadow({mode:"open"}).append(eh.content.cloneNode(!0)),nh(this,Jl,null,"f"),nh(this,Gl,null,"f"),nh(this,Xl,0,"f"),nh(this,Ul,!1,"f"),this.addEventListener("pointerdown",sh(this,Vl,"m",zl).bind(this)),this.addEventListener("pointermove",sh(this,Vl,"m",Zl).bind(this)),this.addEventListener("pointerup",sh(this,Vl,"m",Yl).bind(this))}get target(){return sh(this,Jl,"f")}setWidth(e){const t=sh(this,Jl,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};Jl=new WeakMap,Ul=new WeakMap,Gl=new WeakMap,Xl=new WeakMap,Vl=new WeakSet,Yl=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),nh(this,Ul,!1,"f")},zl=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();nh(this,Jl,s.getElementById(n),"f"),this.setPointerCapture(t),nh(this,Ul,!0,"f")},Zl=function(e){sh(this,Ul,"f")&&(null==sh(this,Gl,"f")&&(nh(this,Gl,sh(this,Vl,"m",Ql).bind(this),"f"),requestAnimationFrame(sh(this,Gl,"f"))),nh(this,Xl,sh(this,Xl,"f")+e.movementX,"f"))},Ql=function(){const e=sh(this,Jl,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=sh(this,Xl,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}nh(this,Xl,0,"f"),nh(this,Gl,null,"f")},(eh=K("template")).content.append(K("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: transparent;\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            background-color: rgb(135, 206, 250);\n                        }\n                    "]})),th([_({type:String,observed:!0})],ih.prototype,"controls",void 0),th([_({type:String,defaultValue:"right"})],ih.prototype,"growdir",void 0),th([_({type:Boolean})],ih.prototype,"max",void 0),ih=th([H({name:"e-wsash"})],ih);var rh,oh,ah=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,oh=new WeakMap,rh=new WeakSet;var ch,lh,hh,dh,uh,ph,fh,mh,bh,gh,wh,vh,yh,Eh,Sh,Th,xh,kh,Ph,Lh,Ch,Nh,Ih,Ah,Rh,Mh,Oh,Wh,jh,Dh,Fh,_h,Hh,Bh,qh,Kh,$h,Vh,Jh,Uh,Gh,Xh,Yh,zh,Zh,Qh,ed,td,nd,sd,id,rd,od,ad,cd,ld,hd,dd,ud,pd,fd,md,bd,gd,wd,vd,yd,Ed,Sd,Td,xd,kd,Pd,Ld,Cd,Nd,Id,Ad,Rd,Md,Od,Wd,jd,Dd,Fd,_d,Hd,Bd,qd,Kd,$d,Vd,Jd,Ud,Gd,Xd,Yd,zd,Zd,Qd,eu,tu,nu,su,iu,ru,ou,au,cu,lu,hu,du,uu,pu,fu,mu,bu,gu,wu,vu,yu,Eu,Su,Tu,xu,ku,Pu,Lu,Cu,Nu,Iu,Au,Ru,Mu,Ou,Wu,ju,Du,Fu,_u,Hu,Bu,qu,Ku,$u,Vu,Ju,Uu,Gu,Xu,Yu,zu,Zu,Qu,ep,tp,np,sp,ip,rp,op,ap,cp,lp,hp,dp,up,pp,fp,mp,bp,gp,wp,vp,yp,Ep,Sp,Tp,xp,kp,Pp,Lp,Cp,Np,Ip,Ap,Rp,Mp,Op,Wp,jp,Dp,Fp,_p,Hp,Bp,qp,Kp,$p,Vp,Jp,Up=(new(oe({name:"separator"})((lh=class extends se{constructor(){super(),ch.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ch,K("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ch,"f").cloneNode(!0)}},ch=new WeakMap,lh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Gp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Xp=new(oe({name:"menuitem"})((yh=class extends se{constructor(){super(),hh.add(this),dh.set(this,void 0),uh.set(this,void 0),ph.set(this,void 0),fh.set(this,void 0),mh.set(this,void 0),bh.set(this,void 0),Up(this,dh,K("span",{attributes:{class:"icon"}}),"f"),Up(this,uh,K("span",{attributes:{class:"arrow"}}),"f"),Up(this,ph,K("span",{attributes:{class:"keyshortcuts"}}),"f"),Up(this,fh,K("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[Gp(this,dh,"f").cloneNode(!0),K("span",{attributes:{class:"label"}})]}),"f"),Up(this,mh,["checkbox","radio","menu","submenu","button"],"f"),Up(this,bh,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(e){const t=Gp(this,fh,"f").cloneNode(!0);if(t.addEventListener("click",Gp(this,hh,"m",wh).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,keyshortcut:r,checked:o,type:a,label:c,name:l,value:h,disabled:d}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setKeyShortcut(t,r),void 0!==o&&this.setChecked(t,o),void 0!==a&&("menu"!=a&&"submenu"!=a||this.setExpanded(t,!1),this.setType(t,a)),void 0!==c&&this.setLabel(t,c),void 0!==l&&this.setName(t,l),void 0!==h&&this.setValue(t,h),void 0!==d&&this.setDisabled(t,d)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",String(n))}getMenu(e){return e.querySelector(":scope > .menu")}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){let n=e.querySelector(":scope > .keyshortcuts");if(null!==t){if(e.setAttribute("aria-keyshortcuts",t),!n){const t=Gp(this,hh,"m",gh).call(this,e);n=Gp(this,ph,"f").cloneNode(!0),t.after(n)}n.textContent=t}else e.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(e){return Gp(this,hh,"m",gh).call(this,e).textContent??""}setLabel(e,t){Gp(this,hh,"m",gh).call(this,e).textContent=t}getType(e){const t=Gp(this,mh,"f"),{classList:n}=e;for(let e of t)if(n.contains(`menuitem-${e}`))return e;return null}setType(e,t){const n=Gp(this,bh,"f"),s=Gp(this,dh,"f"),i=Gp(this,uh,"f"),{role:r,hasIcon:o,hasArrow:a}=n[t],c=this.getType(e),{classList:l}=e;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${t}`),e.setAttribute("role",r);const h=Gp(this,hh,"m",gh).call(this,e),d=e.querySelector(":scope > .icon"),u=e.querySelector(":scope > .arrow");o?!d&&h&&h.before(s.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(i.cloneNode(!0)):u&&u.remove()}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getChecked(e){return JSON.parse(e.getAttribute("aria-checked")??String(!1))}setChecked(e,t){e.setAttribute("aria-checked",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&Gp(this,hh,"m",vh).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),Gp(this,hh,"m",vh).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}},dh=new WeakMap,uh=new WeakMap,ph=new WeakMap,fh=new WeakMap,mh=new WeakMap,bh=new WeakMap,hh=new WeakSet,gh=function(e){return e.querySelector(":scope > .label")},wh=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".menuitem");if(s==n)switch(this.getType(s)){case"checkbox":this.setChecked(s,!this.getChecked(s));break;case"radio":this.setChecked(s,!0);break;case"menu":case"submenu":this.toggle(s),this.getExpanded(s)&&this.getMenu(s)?.focus({preventScroll:!0})}},vh=function(e){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(e)){const e=o+a-d,t=s+c-u;n.setProperty("left",`${e>0?h+r-a:h+r}px`),n.setProperty("top",`${t>0?l+s-c:l+i}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),p=o+a-d,f=s+c-u;n.setProperty("left",(p>0?r-a-h:o-h)+"px");const m=window.getComputedStyle(t),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);n.setProperty("top",`${f>0?i-c-e+v:s-e-w}px`)}}}},yh))),Yp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},zp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Zp=(new(oe({name:"menubar"})((Fh=class extends se{constructor(){super(),Eh.add(this),Sh.set(this,void 0),Th.set(this,void 0),Yp(this,Sh,K("div",{attributes:{class:"menubar",role:"menubar",tabindex:0}}),"f"),Yp(this,Th,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,zp(this,Eh,"m",xh).bind(this)),"f")}create(){const e=zp(this,Sh,"f").cloneNode(!0);return e.addEventListener("click",zp(this,Eh,"m",Mh).bind(this)),e.addEventListener("focusin",zp(this,Eh,"m",Oh).bind(this)),e.addEventListener("focusout",zp(this,Eh,"m",Wh).bind(this)),e.addEventListener("mouseover",zp(this,Eh,"m",jh).bind(this)),e.addEventListener("keydown",zp(this,Eh,"m",Dh).bind(this)),e}slot(e){return e}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}},Sh=new WeakMap,Th=new WeakMap,Eh=new WeakSet,xh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Xp.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},kh=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Ph=function(e){const t=zp(this,Th,"f");return t.currentNode=e,t.firstChild()},Lh=function(e){const t=zp(this,Th,"f");return t.currentNode=e,t.lastChild()},Ch=function(e){const t=zp(this,Th,"f");return t.currentNode=e,t.previousSibling()},Nh=function(e){const t=zp(this,Th,"f");return t.currentNode=e,t.nextSibling()},Ih=function(e){const t=Xp.getMenu(e);if(t){const e=zp(this,Th,"f");return e.currentNode=t,e.firstChild()}return null},Ah=function(e,t){return t.closest(":is(.menubar, .menu)")==e},Rh=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Mh=function(e){const{target:t,currentTarget:n}=e,s=n,i=t.closest(".menuitem");if(i){const e=this.getExpanded(s);if(zp(this,Eh,"m",Ah).call(this,s,i)){const t=!e;this.setExpanded(s,t),t?(null===i||Xp.getExpanded(i)||Xp.expand(i),Xp.getMenu(i)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}}},Oh=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&this.getExpanded(s)){const e=zp(this,Eh,"m",Rh).call(this,s,t);e&&Xp.expand(e)}},Wh=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&!t.contains(s)){const e=zp(this,Eh,"m",Rh).call(this,i,t);e&&Xp.collapse(e)}!i.contains(s)&&this.setExpanded(i,!1)},jh=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=zp(this,Eh,"m",kh).call(this,s),n=this.getExpanded(s);if(zp(this,Eh,"m",Ah).call(this,s,t)&&t!==e&&n){const e=Xp.getMenu(t);e?e.focus({preventScroll:!0}):t.focus({preventScroll:!0})}}},Dh=function(e){const{key:t,currentTarget:n}=e,s=n;let i=zp(this,Eh,"m",kh).call(this,s);const r=this.getExpanded(s);switch(t){case"ArrowLeft":(i?zp(this,Eh,"m",Ch).call(this,i)??zp(this,Eh,"m",Lh).call(this,s):zp(this,Eh,"m",Ph).call(this,s))?.focus({preventScroll:!0}),i=zp(this,Eh,"m",kh).call(this,s),r&&i&&zp(this,Eh,"m",Ih).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?zp(this,Eh,"m",Nh).call(this,i)??zp(this,Eh,"m",Ph).call(this,s):zp(this,Eh,"m",Lh).call(this,s))?.focus({preventScroll:!0}),i=zp(this,Eh,"m",kh).call(this,s),r&&i&&zp(this,Eh,"m",Ih).call(this,i)?.focus({preventScroll:!0});break;case"Enter":case" ":i&&(this.setExpanded(s,!r),zp(this,Eh,"m",Ih).call(this,i)?.focus({preventScroll:!0}),e.preventDefault());break;case"Escape":r?(this.setExpanded(s,!1),i&&(Xp.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},Fh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Qp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ef=(new(oe({name:"menu"})((od=class extends se{constructor(){super(),_h.add(this),Hh.set(this,void 0),Bh.set(this,void 0),qh.set(this,void 0),Zp(this,Hh,K("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),Zp(this,Bh,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Qp(this,_h,"m",Kh).bind(this)),"f"),Zp(this,qh,new WeakMap,"f")}create(e){const t=Qp(this,Hh,"f").cloneNode(!0);if(t.addEventListener("click",Qp(this,_h,"m",td).bind(this)),t.addEventListener("mouseover",Qp(this,_h,"m",rd).bind(this)),t.addEventListener("mouseout",Qp(this,_h,"m",id).bind(this)),t.addEventListener("focusout",Qp(this,_h,"m",nd).bind(this)),t.addEventListener("keydown",Qp(this,_h,"m",sd).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,contextual:r,position:o}=e;if(void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setContextual(t,r),void 0!==o){const{x:e,y:n}=o;this.setPosition(t,e,n)}}return t}slot(e){return e}setPosition(e,t,n){const{style:s}=e,{width:i,height:r}=e.getBoundingClientRect(),{scrollX:o,scrollY:a}=window,c=t+o,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+i-h,p=l+r-d;s.setProperty("left",`${u>0?c-i:c}px`),s.setProperty("top",`${p>0?l-r:l}px`)}getContextual(e){const{classList:t}=e;return t.contains("menu-contextual")}setContextual(e,t){const{classList:n}=e;t?n.add("menu-contextual"):n.remove("menu-contextual")}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},Hh=new WeakMap,Bh=new WeakMap,qh=new WeakMap,_h=new WeakSet,Kh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!Xp.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},$h=function(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>Xp.collapse(e)))},Vh=function(e,t){return t.closest(".menu")==e},Jh=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Uh=function(e){const t=Qp(this,Bh,"f");return t.currentNode=e,t.firstChild()},Gh=function(e){const t=Qp(this,Bh,"f");return t.currentNode=e,t.lastChild()},Xh=function(e){const t=Qp(this,Bh,"f");return t.currentNode=e,t.previousSibling()},Yh=function(e){const t=Qp(this,Bh,"f");return t.currentNode=e,t.nextSibling()},zh=function(e){const t=Xp.getMenu(e);if(t){const e=Qp(this,Bh,"f");return e.currentNode=t,e.firstChild()}return null},Zh=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Qh=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Qp(this,qh,"f").set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Qp(this,qh,"f").delete(e)}))},ed=function(e){const t=Qp(this,qh,"f").get(e);void 0!==t&&(Qp(this,qh,"f").delete(e),t.clear())},td=function(e){const{target:t,currentTarget:n}=e,s=n,i=t.closest(".menuitem");if(i){if(this.getContextual(s))try{s.remove()}catch(e){}else if(Qp(this,_h,"m",Vh).call(this,s,i)){const e=Xp.getType(i),t=Xp.getName(i),n=Xp.getValue(i);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${t}]`).forEach((e=>{Xp.setChecked(e,Xp.getValue(e)==n)}))}e.stopPropagation()}},nd=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(!i.contains(s))if(this.getContextual(i))try{i.remove()}catch(e){}else{const e=Qp(this,_h,"m",Jh).call(this,i,t);e&&Xp.collapse(e)}},sd=function(e){const{currentTarget:t,key:n}=e,s=t,i=Qp(this,_h,"m",Zh).call(this,s);switch(n){case"ArrowUp":(i?Qp(this,_h,"m",Xh).call(this,i)??Qp(this,_h,"m",Gh).call(this,s):Qp(this,_h,"m",Uh).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(i?Qp(this,_h,"m",Yh).call(this,i)??Qp(this,_h,"m",Uh).call(this,s):Qp(this,_h,"m",Uh).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Qp(this,_h,"m",Uh).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Qp(this,_h,"m",Gh).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(i){switch(Xp.getType(i)){case"submenu":Xp.expand(i),Qp(this,_h,"m",zh).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s||(Xp.collapse(i),i.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(i)switch(Xp.getType(i)){case"submenu":Xp.getExpanded(i)||(Xp.expand(i),Qp(this,_h,"m",zh).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation())}}},id=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Qp(this,_h,"m",Jh).call(this,i,t);if(null!==n&&("submenu"!=Xp.getType(n)||Xp.getExpanded(n)||Qp(this,_h,"m",ed).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const t=Qp(this,_h,"m",Zh).call(this,i);null!==t&&"submenu"==Xp.getType(t)&&Xp.getExpanded(t)&&(Qp(this,_h,"m",ed).call(this,t),Qp(this,_h,"m",Qh).call(this,t,400).then((()=>{Xp.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:r}=e,{left:o,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(o>n||a<n||c>r||l<r),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):i.focus({preventScroll:!0})),h||i.focus({preventScroll:!0})}}},rd=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Qp(this,_h,"m",Jh).call(this,s,t);if(null!==n&&("submenu"==Xp.getType(n)&&Xp.getExpanded(n)&&Qp(this,_h,"m",ed).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const e=Qp(this,_h,"m",Zh).call(this,s);null!==e&&"submenu"==Xp.getType(e)&&Xp.getExpanded(e)&&!e.contains(t)&&(Qp(this,_h,"m",ed).call(this,e),Qp(this,_h,"m",Qh).call(this,e,400).then((()=>{Xp.collapse(e)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==Xp.getType(n)&&(Xp.getExpanded(n)?Xp.getMenu(n)?.focus({preventScroll:!0}):(Qp(this,_h,"m",ed).call(this,n),Qp(this,_h,"m",Qh).call(this,n,200).then((()=>{const e=Qp(this,_h,"m",Zh).call(this,s);Qp(this,_h,"m",$h).call(this,s),e&&(Qp(this,_h,"m",ed).call(this,e),Xp.expand(e),Xp.getMenu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},od))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),tf=(new(oe({name:"menuitemgroup"})((cd=class extends se{constructor(){super(),ad.set(this,void 0),ef(this,ad,K("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ad,"f").cloneNode(!0)}slot(e){return e}},ad=new WeakMap,cd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),nf=(new(oe({name:"treeitemgroup"})((hd=class extends se{constructor(){super(),ld.set(this,void 0),tf(this,ld,K("ul",{attributes:{class:"treeitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ld,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(qt.setPosInSet(e,t),qt.setLevel(e,(()=>{let t=-1,n=e;for(;null!==n&&n.matches(".tree :scope");)n=n.parentElement?.closest(".treeitem")??null,t++;return t})()))}))}},ld=new WeakMap,hd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),sf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},rf=new(oe({name:"listitem"})((fd=class extends se{constructor(){super(),dd.add(this),ud.set(this,void 0),nf(this,ud,K("li",{attributes:{class:"listitem",role:"listitem",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=sf(this,ud,"f").cloneNode(!0);if(void 0!==e){const{label:n,disabled:s}=e;void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setDisabled(t,s),this.setSelected(t,!1)}return t}slot(e){return e}group(e){return e.querySelector(":scope > .listitemgroup")}getLabel(e){return sf(this,dd,"m",pd).call(this,e).textContent??""}setLabel(e,t){sf(this,dd,"m",pd).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}},ud=new WeakMap,dd=new WeakSet,pd=function(e){return e.querySelector(":scope > .label")},fd))),of=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},af=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},cf=(new(oe({name:"list"})((Jd=class extends se{constructor(){super(),md.add(this),bd.set(this,void 0),gd.set(this,void 0),wd.set(this,void 0),vd.set(this,void 0),of(this,bd,K("ul",{attributes:{class:"list",role:"list",tabindex:0}}),"f"),of(this,wd,new WeakMap,"f"),of(this,vd,new WeakMap,"f"),of(this,gd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,af(this,md,"m",Sd).bind(this)),"f")}create(e){const t=af(this,bd,"f").cloneNode(!0);if(t.addEventListener("dragend",af(this,md,"m",Od).bind(this)),t.addEventListener("dragenter",af(this,md,"m",Wd).bind(this)),t.addEventListener("dragleave",af(this,md,"m",Dd).bind(this)),t.addEventListener("dragover",af(this,md,"m",jd).bind(this)),t.addEventListener("dragstart",af(this,md,"m",Fd).bind(this)),t.addEventListener("drop",af(this,md,"m",_d).bind(this)),t.addEventListener("focus",af(this,md,"m",Hd).bind(this)),t.addEventListener("focusin",af(this,md,"m",Bd).bind(this)),t.addEventListener("focusout",af(this,md,"m",$d).bind(this)),t.addEventListener("keydown",af(this,md,"m",qd).bind(this)),t.addEventListener("mousedown",af(this,md,"m",Kd).bind(this)),t.addEventListener("select",af(this,md,"m",Vd).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,multisectable:r}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setMultiSelectable(t,r)}return af(this,wd,"f").set(t,!1),af(this,vd,"f").set(t,!1),t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&rf.setPosInSet(e,t)}))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .listitemgroup) > .listitem"))}selectedItems(e){const t=[];af(this,gd,"f").currentNode=e;let n=af(this,md,"m",Id).call(this,e);for(;null!==n;)rf.getSelected(n)&&t.push(n),n=af(this,md,"m",Md).call(this,n);return t}beginSelection(e){af(this,wd,"f").set(e,!0)}endSelection(e){af(this,wd,"f").set(e,!1),af(this,vd,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),af(this,vd,"f").set(e,!1))}},bd=new WeakMap,gd=new WeakMap,wd=new WeakMap,vd=new WeakMap,md=new WeakSet,yd=function(e){return e.querySelector(".listitem.active")},Ed=function(e){return e.querySelector(".listitem.droptarget")},Sd=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("listitem")&&!rf.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("listitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Td=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=af(this,md,"m",Md).call(this,e);for(;s&&s!==t;)n.push(s),s=af(this,md,"m",Md).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=af(this,md,"m",Rd).call(this,e);for(;s&&s!==t;)n.push(s),s=af(this,md,"m",Rd).call(this,s);return n.push(t),n}return[]},xd=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||rf.setSelected(e,!1)})),t.forEach((t=>{const n=rf.getSelected(t);e.contains(t)&&!n&&rf.setSelected(t,!0)})),this.endSelection(e)},kd=function(e,...t){this.beginSelection(e),t.forEach((e=>{rf.getSelected(e)||rf.setSelected(e,!0)})),this.endSelection(e)},Pd=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&rf.setSelected(e,!1)})),this.endSelection(e)},Ld=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{rf.setSelected(e,!1)})),this.endSelection(e)},Cd=function(e,t){const n=af(this,md,"m",yd).call(this,e);null!==n&&n!==t&&(rf.setActive(n,!1),n.tabIndex=-1),null!==t&&(rf.setActive(t,!0),t.tabIndex=0)},Nd=function(e,t){const{classList:n}=e,s=af(this,md,"m",Ed).call(this,e);null!==s&&s!==t&&rf.setDropTarget(s,!1),null!==t?(rf.setDropTarget(t,!1),n.add("droptarget")):n.remove("droptarget")},Id=function(e){const t=af(this,gd,"f");return t.currentNode=e,t.firstChild()},Ad=function(e){const t=af(this,gd,"f");return t.currentNode=e,t.lastChild()},Rd=function(e){const t=af(this,gd,"f");return t.currentNode=e,t.previousNode()},Md=function(e){const t=af(this,gd,"f");return t.currentNode=e,t.nextNode()},Od=function(e){const{currentTarget:t}=e,n=t;af(this,md,"m",Nd).call(this,n,null)},Wd=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".listitem"),i=t;s&&af(this,md,"m",Nd).call(this,i,s),e.preventDefault()},jd=function(e){e.preventDefault()},Dd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(n){const e=n.getRootNode(),t=e instanceof ShadowRoot?e.host:n;s.contains(t)||af(this,md,"m",Nd).call(this,s,null)}},Fd=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".listitem");i&&(this.selectedItems(s).includes(i)||af(this,md,"m",xd).call(this,s,i))},_d=function(e){const{currentTarget:t}=e,n=t;af(this,md,"m",Nd).call(this,n,null)},Hd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=af(this,md,"m",yd).call(this,s);i&&n!==i&&i.focus()},Bd=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".listitem");i&&(af(this,md,"m",Cd).call(this,s,i),s.tabIndex=-1)},qd=function(e){const{currentTarget:t,key:n}=e,s=t,i=af(this,md,"m",yd).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=af(this,gd,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=af(this,md,"m",Td).call(this,t,n);e&&af(this,md,"m",xd).call(this,s,...e)}}e.preventDefault();break}case"ArrowUp":if(i){const t=af(this,md,"m",Rd).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(rf.getSelected(t)?af(this,md,"m",Pd).call(this,s,t):af(this,md,"m",kd).call(this,s,t))}}else{const e=af(this,md,"m",Id).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=af(this,md,"m",Md).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(rf.getSelected(t)?af(this,md,"m",Pd).call(this,s,t):af(this,md,"m",kd).call(this,s,t))}}else{const e=af(this,md,"m",Ad).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=af(this,md,"m",Id).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=af(this,md,"m",Ad).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&(af(this,md,"m",xd).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":af(this,md,"m",Ld).call(this,s),af(this,md,"m",Cd).call(this,s,null),s.focus(),e.stopPropagation()}},Kd=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".listitem");if(a){const t=rf.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),af(this,md,"m",Pd).call(this,o,a)):af(this,md,"m",kd).call(this,o,a),e.stopPropagation();else if(i){const t=af(this,md,"m",yd).call(this,o);if(t){const e=af(this,md,"m",Td).call(this,t,a);e&&af(this,md,"m",xd).call(this,o,...e)}e.stopPropagation()}}else af(this,md,"m",xd).call(this,o,a);break;case 2:t||af(this,md,"m",xd).call(this,o,a)}}},$d=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},Vd=function(e){const{currentTarget:t}=e,n=t;n&&(af(this,wd,"f").get(n)?af(this,vd,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Jd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),lf=(new(oe({name:"listitemgroup"})((Gd=class extends se{constructor(){super(),Ud.set(this,void 0),cf(this,Ud,K("ul",{attributes:{class:"listitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ud,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&rf.setPosInSet(e,t)}))}},Ud=new WeakMap,Gd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),hf=(new(oe({name:"toolbaritemgroup"})((Yd=class extends se{constructor(){super(),Xd.set(this,void 0),lf(this,Xd,K("div",{attributes:{class:"toolbaritemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Xd,"f").cloneNode(!0)}slot(e){return e}},Xd=new WeakMap,Yd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),df=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},uf=(new(oe({name:"widthsash"})((au=class extends se{constructor(){super(),zd.add(this),Zd.set(this,void 0),Qd.set(this,void 0),eu.set(this,void 0),tu.set(this,void 0),nu.set(this,void 0),hf(this,Zd,K("div",{attributes:{class:"widthsash"}}),"f"),hf(this,Qd,new WeakMap,"f"),hf(this,eu,new WeakMap,"f"),hf(this,tu,new WeakMap,"f"),hf(this,nu,new WeakMap,"f")}create(e){const t=df(this,Qd,"f"),n=df(this,nu,"f"),s=df(this,eu,"f"),i=df(this,tu,"f"),r=df(this,Zd,"f").cloneNode(!0);if(r.addEventListener("pointerdown",df(this,zd,"m",iu).bind(this)),r.addEventListener("pointermove",df(this,zd,"m",ru).bind(this)),r.addEventListener("pointerup",df(this,zd,"m",su).bind(this)),void 0!==e){const{id:t,classList:n,tabIndex:s,controls:i,growDir:o}=e;void 0!==t&&(r.id=t),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return t.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(e){return e.getAttribute("data-growdir")??"right"}setGrowDir(e,t){e.setAttribute("data-growdir",t)}getControls(e){return e.getAttribute("data-controls")}setControls(e,t){e.setAttribute("data-controls",t)}setWidth(e,t){const n=df(this,Qd,"f").get(e);null!==n&&n.style.setProperty("width",`${t}px`)}},Zd=new WeakMap,Qd=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,zd=new WeakSet,su=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=df(this,eu,"f");s.releasePointerCapture(t),i.set(s,!1)},iu=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=this.getControls(s);if(i){const e=df(this,Qd,"f"),n=df(this,eu,"f"),r=s.getRootNode();e.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(t)}},ru=function(e){const{currentTarget:t}=e,n=t,s=df(this,nu,"f"),i=df(this,eu,"f"),r=df(this,tu,"f"),o=df(this,zd,"m",ou);if(i.get(n)){let t=r.get(n);null==t&&(t=o.bind(this,n),r.set(n,t),requestAnimationFrame(t));const i=s.get(n)+e.movementX;s.set(n,i)}},ou=function(e){const t=df(this,Qd,"f"),n=df(this,nu,"f"),s=df(this,tu,"f"),i=t.get(e);if(null!==i){const t=window.getComputedStyle(i),s=this.getGrowDir(e),r=n.get(e),o=parseFloat(t.getPropertyValue("width"))+("right"==s?1:-1)*r;this.setWidth(e,o),e.dispatchEvent(new Event("resize"))}n.set(e,0),s.set(e,null)},au))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),pf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ff=(new(oe({name:"heightsash"})((wu=class extends se{constructor(){super(),cu.add(this),lu.set(this,void 0),hu.set(this,void 0),du.set(this,void 0),uu.set(this,void 0),pu.set(this,void 0),uf(this,lu,K("div",{attributes:{class:"heightsash"}}),"f"),uf(this,hu,new WeakMap,"f"),uf(this,du,new WeakMap,"f"),uf(this,uu,new WeakMap,"f"),uf(this,pu,new WeakMap,"f")}create(e){const t=pf(this,hu,"f"),n=pf(this,pu,"f"),s=pf(this,du,"f"),i=pf(this,uu,"f"),r=pf(this,lu,"f").cloneNode(!0);if(r.addEventListener("pointerdown",pf(this,cu,"m",mu).bind(this)),r.addEventListener("pointermove",pf(this,cu,"m",bu).bind(this)),r.addEventListener("pointerup",pf(this,cu,"m",fu).bind(this)),void 0!==e){const{id:t,classList:n,tabIndex:s,controls:i,growDir:o}=e;void 0!==t&&(r.id=t),void 0!==n&&r.classList.add(...n),void 0!==s&&(r.tabIndex=s),void 0!==i&&this.setControls(r,i),void 0!==o&&this.setGrowDir(r,o)}return t.set(r,null),i.set(r,null),n.set(r,0),s.set(r,!1),r}getGrowDir(e){return e.getAttribute("data-growdir")??"top"}setGrowDir(e,t){e.setAttribute("data-growdir",t)}getControls(e){return e.getAttribute("data-controls")}setControls(e,t){e.setAttribute("data-controls",t)}setHeight(e,t){const n=pf(this,hu,"f").get(e);null!==n&&n.style.setProperty("height",`${t}px`)}},lu=new WeakMap,hu=new WeakMap,du=new WeakMap,uu=new WeakMap,pu=new WeakMap,cu=new WeakSet,fu=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=pf(this,du,"f");s.releasePointerCapture(t),i.set(s,!1)},mu=function(e){const{pointerId:t,currentTarget:n}=e,s=n,i=this.getControls(s);if(i){const e=pf(this,hu,"f"),n=pf(this,du,"f"),r=s.getRootNode();e.set(s,r.getElementById(i)),n.set(s,!0),s.setPointerCapture(t)}},bu=function(e){const{currentTarget:t}=e,n=t,s=pf(this,pu,"f"),i=pf(this,du,"f"),r=pf(this,uu,"f");if(i.get(n)){let t=r.get(n);null==t&&(t=pf(this,cu,"m",gu).bind(this,n),r.set(n,t),requestAnimationFrame(t));const i=s.get(n)+e.movementX;s.set(n,i)}},gu=function(e){const t=pf(this,hu,"f"),n=pf(this,pu,"f"),s=pf(this,uu,"f"),i=t.get(e);if(null!==i){const t=window.getComputedStyle(i),s=this.getGrowDir(e),r=n.get(e),o=parseFloat(t.getPropertyValue("height"))+("top"==s?-1:1)*r;this.setHeight(e,o),e.dispatchEvent(new Event("resize"))}n.set(e,0),s.set(e,null)},wu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),mf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},bf=new(oe({name:"gridcell"})((Su=class extends se{constructor(){super(),vu.add(this),yu.set(this,void 0),ff(this,yu,K("td",{attributes:{class:"gridcell",role:"gridcell",tabindex:-1}}),"f")}create(e){const t=mf(this,yu,"f").cloneNode(!0);if(void 0!==e){const{id:n,classList:s,tabIndex:i,disabled:r,headers:o}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setDisabled(t,r),void 0!==o&&this.setHeaders(t,o),this.setSelected(t,!1)}return t}slot(e){return e}getHeaders(e){return e.getAttribute("headers")??""}setHeaders(e,t){e.setAttribute("headers",t)}getLabel(e){return mf(this,vu,"m",Eu).call(this,e).textContent??""}setLabel(e,t){mf(this,vu,"m",Eu).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}},yu=new WeakMap,vu=new WeakSet,Eu=function(e){return e.querySelector(":scope > .content > .label")},Su))),gf=new(oe({name:"gridrow"})((xu=class extends se{constructor(){super(),Tu.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Tu,K("tr",{attributes:{class:"gridrow",role:"row",tabindex:-1}}),"f")}create(e){const t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Tu,"f").cloneNode(!0);if(void 0!==e){const{disabled:n}=e;void 0!==n&&this.setDisabled(t,n),this.setSelected(t,!1)}return t}slot(e){return e}cells(e){return Array.from(e.querySelectorAll(":scope > .gridcell"))}setPosInSet(e,t){e.setAttribute("aria-posinset",String(t))}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",String(t)),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&bf.setPosInSet(e,t)}))}},Tu=new WeakMap,xu))),wf=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},vf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},yf=new(oe({name:"grid"})((hp=class extends se{constructor(){super(),ku.add(this),Cu.set(this,void 0),Nu.set(this,void 0),Iu.set(this,void 0),Au.set(this,void 0),Ru.set(this,void 0),wf(this,Cu,K("table",{attributes:{class:"grid",role:"grid",tabindex:0}}),"f"),wf(this,Au,new WeakMap,"f"),wf(this,Ru,new WeakMap,"f"),wf(this,Iu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,vf(this,ku,"m",Mu).bind(this)),"f"),wf(this,Nu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,vf(this,ku,"m",Ou).bind(this)),"f")}headers(e){return Array.from(e.querySelectorAll(":scope > .gridhead > .gridheader"))}rows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow"))}cells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell"))}create(e){const t=vf(this,Cu,"f").cloneNode(!0);if(t.addEventListener("mousedown",vf(this,ku,"m",cp).bind(this)),t.addEventListener("focus",vf(this,ku,"m",ip).bind(this)),t.addEventListener("focusin",vf(this,ku,"m",rp).bind(this)),t.addEventListener("focusout",vf(this,ku,"m",op).bind(this)),t.addEventListener("keydown",vf(this,ku,"m",ap).bind(this)),t.addEventListener("select",vf(this,ku,"m",lp).bind(this)),void 0!==e){const{id:n,classList:s,tabIndex:i,selectby:r,multisectable:o}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setSelectBy(t,r),void 0!==o&&this.setMultiSelectable(t,o)}return t}slot(e){return e}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}setSelectBy(e,t){e.setAttribute("data-selectby",t)}getSelectBy(e){return e.getAttribute("data-selectby")??"cell"}beginSelection(e){vf(this,Au,"f").set(e,!0)}endSelection(e){vf(this,Au,"f").set(e,!1),vf(this,Ru,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),vf(this,Ru,"f").set(e,!1))}clearSelection(e){vf(this,ku,"m",Ku).call(this,e),vf(this,ku,"m",$u).call(this,e)}selectedCells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell[aria-selected=true]"))}selectedRows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow[aria-selected=true]"))}},Cu=new WeakMap,Nu=new WeakMap,Iu=new WeakMap,Au=new WeakMap,Ru=new WeakMap,ku=new WeakSet,Pu=function(e){return e.querySelector(".gridrow.active")},Lu=function(e){return e.querySelector(".gridcell.active")},Mu=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridcell")&&!bf.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridrow")||t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ou=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridrow")&&!gf.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Wu=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=vf(this,ku,"m",Yu).call(this,e);for(;s&&s!==t;)n.push(s),s=vf(this,ku,"m",Yu).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=vf(this,ku,"m",Xu).call(this,e);for(;s&&s!==t;)n.push(s),s=vf(this,ku,"m",ep).call(this,s);return n.push(t),n}return[]},ju=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=vf(this,ku,"m",tp).call(this,e);for(;s&&s!==t;)n.push(s),s=vf(this,ku,"m",tp).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=vf(this,ku,"m",ep).call(this,e);for(;s&&s!==t;)n.push(s),s=vf(this,ku,"m",ep).call(this,s);return n.push(t),n}return[]},Du=function(e,...t){this.beginSelection(e),this.selectedCells(e).forEach((e=>{t.includes(e)||bf.setSelected(e,!1)})),t.forEach((e=>{bf.getSelected(e)||bf.setSelected(e,!0)})),this.endSelection(e)},Fu=function(e,...t){this.beginSelection(e),this.selectedRows(e).forEach((e=>{t.includes(e)||gf.setSelected(e,!1)})),t.forEach((e=>{gf.getSelected(e)||gf.setSelected(e,!0)})),this.endSelection(e)},_u=function(e,...t){this.beginSelection(e),t.forEach((e=>{bf.getSelected(e)||bf.setSelected(e,!0)})),this.endSelection(e)},Hu=function(e,...t){this.beginSelection(e),t.forEach((e=>{gf.getSelected(e)||gf.setSelected(e,!0)})),this.endSelection(e)},Bu=function(e,...t){this.beginSelection(e);const n=this.selectedCells(e);t.forEach((e=>{n.includes(e)&&bf.setSelected(e,!1)})),this.endSelection(e)},qu=function(e,...t){this.beginSelection(e);const n=this.selectedRows(e);t.forEach((e=>{n.includes(e)&&gf.setSelected(e,!1)})),this.endSelection(e)},Ku=function(e){this.beginSelection(e),this.selectedCells(e).forEach((e=>{bf.getSelected(e)&&bf.setSelected(e,!1)})),this.endSelection(e)},$u=function(e){this.beginSelection(e),this.selectedRows(e).forEach((e=>{gf.getSelected(e)&&gf.setSelected(e,!1)})),this.endSelection(e)},Vu=function(e,t){const n=vf(this,ku,"m",Lu).call(this,e);null!==n&&n!==t&&(bf.setActive(n,!1),n.tabIndex=-1),null!==t&&(bf.setActive(t,!0),t.tabIndex=0)},Ju=function(e,t){const n=vf(this,ku,"m",Pu).call(this,e);null!==n&&n!==t&&(gf.setActive(n,!1),n.tabIndex=-1),null!==t&&(bf.setActive(t,!0),t.tabIndex=0)},Uu=function(e){const t=vf(this,Iu,"f");return t.currentNode=e,t.firstChild()},Gu=function(e){const t=vf(this,Iu,"f");return t.currentNode=e,t.lastChild()},Xu=function(e){const t=vf(this,Iu,"f");return t.currentNode=e,t.previousNode()},Yu=function(e){const t=vf(this,Iu,"f");return t.currentNode=e,t.nextNode()},zu=function(e){const t=vf(this,Nu,"f");return t.currentNode=e,t.parentNode()},Zu=function(e){const t=vf(this,Nu,"f");return t.currentNode=e,t.firstChild()},Qu=function(e){const t=vf(this,Nu,"f");return t.currentNode=e,t.lastChild()},ep=function(e){const t=vf(this,Nu,"f");return t.currentNode=e,t.previousNode()},tp=function(e){const t=vf(this,Nu,"f");return t.currentNode=e,t.nextNode()},np=function(e){const t=vf(this,ku,"m",zu).call(this,e);if(t){const n=gf.cells(t),s=Array.from(n.values()).indexOf(e),i=vf(this,ku,"m",ep).call(this,t);if(i){const e=gf.cells(i);return e[Math.min(s,e.length)]}}return null},sp=function(e){const t=vf(this,ku,"m",zu).call(this,e);if(t){const n=gf.cells(t),s=Array.from(n.values()).indexOf(e),i=vf(this,ku,"m",tp).call(this,t);if(i){const e=gf.cells(i);return e[Math.min(s,e.length)]}}return null},ip=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=vf(this,ku,"m",Lu).call(this,s);e&&n!==e&&e.focus();break}case"row":{const e=vf(this,ku,"m",Pu).call(this,s);e&&n!==e&&e.focus();break}}},rp=function(e){const{currentTarget:t,target:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=n.closest(".gridcell");e&&vf(this,ku,"m",Vu).call(this,s,e);break}case"row":{const e=n.closest(".gridrow");e&&vf(this,ku,"m",Ju).call(this,s,e);break}}},op=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},ap=function(e){const{currentTarget:t,key:n}=e,s=t,i=vf(this,ku,"m",Lu).call(this,s),r=vf(this,ku,"m",Pu).call(this,s),o=this.getSelectBy(s),a=this.getMultiSelectable(s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&a)switch(o){case"cell":{const e=vf(this,ku,"m",Zu).call(this,s),t=e?vf(this,ku,"m",Uu).call(this,e):null,n=vf(this,ku,"m",Qu).call(this,s),i=n?vf(this,ku,"m",Gu).call(this,n):null;if(t&&i){const e=vf(this,ku,"m",Wu).call(this,t,i);e&&vf(this,ku,"m",Du).call(this,s,...e)}break}case"row":{const e=vf(this,ku,"m",Zu).call(this,s),t=vf(this,ku,"m",Qu).call(this,s);if(e&&t){const n=vf(this,ku,"m",ju).call(this,e,t);n&&vf(this,ku,"m",Fu).call(this,s,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==o&&i){const t=vf(this,ku,"m",Xu).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(bf.getSelected(t)?vf(this,ku,"m",Bu).call(this,s,t):vf(this,ku,"m",_u).call(this,s,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==o&&i){const t=vf(this,ku,"m",Yu).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(bf.getSelected(t)?vf(this,ku,"m",Bu).call(this,s,t):vf(this,ku,"m",_u).call(this,s,t))}}e.stopPropagation();break;case"ArrowUp":switch(o){case"cell":{const t=r??vf(this,ku,"m",Zu).call(this,s),n=i?vf(this,ku,"m",np).call(this,i):t?vf(this,ku,"m",Uu).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(bf.getSelected(n)?vf(this,ku,"m",Bu).call(this,s,n):vf(this,ku,"m",_u).call(this,s,n))}break}case"row":{const t=r?vf(this,ku,"m",ep).call(this,r):vf(this,ku,"m",Zu).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(gf.getSelected(t)?vf(this,ku,"m",qu).call(this,s,t):vf(this,ku,"m",Hu).call(this,s,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(o){case"cell":{const t=r??vf(this,ku,"m",Qu).call(this,s),n=i?vf(this,ku,"m",sp).call(this,i):t?vf(this,ku,"m",Gu).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(bf.getSelected(n)?vf(this,ku,"m",Bu).call(this,s,n):vf(this,ku,"m",_u).call(this,s,n))}}break;case"row":{const t=r?vf(this,ku,"m",tp).call(this,r):vf(this,ku,"m",Qu).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(gf.getSelected(t)?vf(this,ku,"m",qu).call(this,s,t):vf(this,ku,"m",Hu).call(this,s,t))}break}}e.stopPropagation();break;case"Home":switch(o){case"cell":if(r){const e=vf(this,ku,"m",Uu).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=vf(this,ku,"m",Zu).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(o){case"cell":if(r){const e=vf(this,ku,"m",Gu).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=vf(this,ku,"m",Qu).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(o){case"cell":i&&(vf(this,ku,"m",Du).call(this,s,i),i.click());break;case"row":r&&(vf(this,ku,"m",Fu).call(this,s,r),r.click())}e.stopPropagation();break;case"Escape":switch(o){case"cell":vf(this,ku,"m",Ku).call(this,s),vf(this,ku,"m",Vu).call(this,s,null);break;case"row":vf(this,ku,"m",$u).call(this,s),vf(this,ku,"m",Ju).call(this,s,null)}s.focus(),e.stopPropagation()}},cp=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i}=e,r=t,o=this.getSelectBy(r),a=this.getMultiSelectable(r);switch(o){case"cell":{const t=n.closest(".gridcell");if(t){if(a)if(i||s){if(s)bf.getSelected(t)?vf(this,ku,"m",Bu).call(this,r,t):vf(this,ku,"m",_u).call(this,r,t),e.stopPropagation();else if(i){const n=vf(this,ku,"m",Lu).call(this,r);if(n){const e=vf(this,ku,"m",Wu).call(this,n,t);e&&vf(this,ku,"m",Du).call(this,r,...e)}e.stopPropagation()}}else vf(this,ku,"m",Du).call(this,r,t);else vf(this,ku,"m",Du).call(this,r,t);e.stopPropagation()}break}case"row":{const t=n.closest(".gridrow");if(t){if(a)if(i||s){if(s)gf.getSelected(t)?vf(this,ku,"m",qu).call(this,r,t):vf(this,ku,"m",Hu).call(this,r,t),e.stopPropagation();else if(i){const n=vf(this,ku,"m",Pu).call(this,r);if(n){const e=vf(this,ku,"m",ju).call(this,n,t);e&&vf(this,ku,"m",Fu).call(this,r,...e)}e.stopPropagation()}}else vf(this,ku,"m",Fu).call(this,r,t);else vf(this,ku,"m",Fu).call(this,r,t);e.stopPropagation()}break}}},lp=function(e){const{currentTarget:t}=e,n=t;n&&(vf(this,Au,"f").get(n)?vf(this,Ru,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},hp))),Ef=(new(oe({name:"gridbody"})((up=class extends se{constructor(){super(),dp.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,dp,K("tbody",{attributes:{class:"gridbody",role:"rowgroup"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,dp,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("gridrow")&&gf.setPosInSet(e,t)}))}},dp=new WeakMap,up))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Sf=(new(oe({name:"gridhead"})((fp=class extends se{constructor(){super(),pp.set(this,void 0),Ef(this,pp,K("thead",{attributes:{class:"gridhead",role:"rowgroup"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,pp,"f").cloneNode(!0)}slot(e){return e}},pp=new WeakMap,fp))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Tf=(new(oe({name:"gridheader"})((bp=class extends se{constructor(){super(),mp.set(this,void 0),Sf(this,mp,K("th",{attributes:{class:"gridheader",scope:"column",role:"columnheader",tabindex:-1}}),"f")}create(e){const t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,mp,"f").cloneNode(!0);if(void 0!==e){const{id:n,classList:s,tabIndex:i}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i)}return t}slot(e){return e}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},mp=new WeakMap,bp))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),xf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},kf=new(oe({name:"option"})((yp=class extends se{constructor(){super(),gp.add(this),wp.set(this,void 0),Tf(this,wp,K("span",{attributes:{class:"option",role:"option",tabindex:-1},children:[K("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=xf(this,wp,"f").cloneNode(!0);if(void 0!==e){const{label:n,name:s,value:i,disabled:r}=e;let{selected:o}=e;o=o??!1,void 0!==o&&this.setSelected(t,o),void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setName(t,s),void 0!==i&&this.setValue(t,i),void 0!==r&&this.setDisabled(t,r)}return t}get observedAttributes(){return["aria-selected"]}attributeChangedCallback(e,t,n,s){switch(t){case"aria-selected":!0===JSON.parse(s)&&e.dispatchEvent(new Event("select",{bubbles:!0}))}}getLabel(e){return xf(this,gp,"m",vp).call(this,e).textContent??""}setLabel(e,t){xf(this,gp,"m",vp).call(this,e).textContent=t}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??String(!1))}setSelected(e,t){e.setAttribute("aria-selected",String(t))}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}},wp=new WeakMap,gp=new WeakSet,vp=function(e){return e.querySelector(":scope > .label")},yp))),Pf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Lf=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Cf=new(oe({name:"combobox"})((Bp=class extends se{constructor(){super(),Ep.add(this),Sp.set(this,void 0),Tp.set(this,void 0),xp.set(this,void 0),Lf(this,Tp,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Pf(this,Ep,"m",Np).bind(this)),"f"),Lf(this,xp,new MutationObserver(Pf(this,Ep,"m",Cp).bind(this)),"f"),Lf(this,Sp,K("div",{attributes:{class:"combobox",role:"combobox",tabindex:0},children:[K("div",{attributes:{class:"content"},children:[K("span",{attributes:{class:"value"}})]}),K("div",{attributes:{class:"box"}})]}),"f")}create(e){const t=Pf(this,Sp,"f").cloneNode(!0);if(Pf(this,xp,"f").observe(t,{childList:!0,subtree:!0}),t.addEventListener("focusout",Pf(this,Ep,"m",Fp).bind(this)),t.addEventListener("keydown",Pf(this,Ep,"m",_p).bind(this)),t.addEventListener("click",Pf(this,Ep,"m",Dp).bind(this)),t.addEventListener("mouseover",Pf(this,Ep,"m",Hp).bind(this)),this.setExpanded(t,!1),void 0!==e){const{id:n,classList:s,tabIndex:i,name:r,disabled:o,multiselectable:a}=e;void 0!==n&&(t.id=n),void 0!==s&&t.classList.add(...s),void 0!==i&&(t.tabIndex=i),void 0!==r&&this.setName(t,r),void 0!==o&&this.setDisabled(t,o),void 0!==a&&this.setMultiSelectable(t,a)}return t}slot(e){return Pf(this,Ep,"m",kp).call(this,e)}slottedCallback(e,t,n){const{childNodes:s}=t;Array.from(s).forEach(((e,t)=>{HTMLElement}))}options(e){return Array.from(e.querySelectorAll(":scope > :is(.box, .box > .optiongroup) > .option"))}selectedOption(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option[aria-selected=true]")}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",String(t))}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??String(!1))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",String(t))}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??String(!1))}expand(e){if(!this.getExpanded(e)){this.setExpanded(e,!0),Pf(this,Ep,"m",jp).call(this,e);const t=this.selectedOption(e);t&&t.focus({preventScroll:!0})}}collapse(e){this.getExpanded(e)&&(this.setExpanded(e,!1),e.focus())}toggle(e,t){const n=this.getExpanded(e);t??!n?this.expand(e):this.collapse(e)}},Sp=new WeakMap,Tp=new WeakMap,xp=new WeakMap,Ep=new WeakSet,kp=function(e){return e.querySelector(":scope > .box")},Pp=function(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option:focus-within")},Lp=function(e){return e.querySelector(":scope > .content > .value")},Cp=function(e){e.forEach((e=>{const{target:t,type:n}=e,s=t.closest(".combobox");if(s instanceof HTMLElement)switch(n){case"childList":{const{addedNodes:t}=e,n=".option[aria-selected=true]";for(let e of t)if(e instanceof HTMLElement){const t=e.matches(n)?e:e.querySelector(n);if(t){Pf(this,Ep,"m",Wp).call(this,s,t);break}}break}}}))},Np=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("option")&&!kf.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("optiongroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ip=function(e){const t=Pf(this,Tp,"f");return t.currentNode=Pf(this,Ep,"m",kp).call(this,e),t.firstChild()},Ap=function(e){const t=Pf(this,Tp,"f");return t.currentNode=Pf(this,Ep,"m",kp).call(this,e),t.lastChild()},Rp=function(e){const t=Pf(this,Tp,"f");return t.currentNode=e,t.previousNode()},Mp=function(e){const t=Pf(this,Tp,"f");return t.currentNode=e,t.nextNode()},Op=function(e,t){const n=this.selectedOption(e);n&&kf.setSelected(n,!1),t!==n&&(kf.setSelected(t,!0),Pf(this,Ep,"m",Wp).call(this,e,t),e.dispatchEvent(new Event("change",{bubbles:!0})))},Wp=function(e,t){Pf(this,Ep,"m",Lp).call(this,e).textContent=kf.getLabel(t)},jp=function(e){const t=e.querySelector(":scope > .box"),{style:n}=t,{bottom:s,left:i}=e.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Dp=function(e){const{currentTarget:t,target:n}=e,s=t;if(this.toggle(s),this.getExpanded(s))(this.selectedOption(s)??this.options(s)[0])?.focus({preventScroll:!0});else{const e=n.closest(".option");e&&Pf(this,Ep,"m",Op).call(this,s,e)}},Fp=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},_p=function(e){const{currentTarget:t,key:n}=e,s=t,i=this.getExpanded(s),r=Pf(this,Ep,"m",Pp).call(this,s),o=this.selectedOption(s);switch(n){case"ArrowUp":if(i){const e=r?Pf(this,Ep,"m",Rp).call(this,r):Pf(this,Ep,"m",Ip).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?Pf(this,Ep,"m",Rp).call(this,o):Pf(this,Ep,"m",Ip).call(this,s);e&&Pf(this,Ep,"m",Op).call(this,s,e)}e.stopPropagation();break;case"ArrowDown":if(i){const e=r?Pf(this,Ep,"m",Mp).call(this,r):Pf(this,Ep,"m",Ap).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?Pf(this,Ep,"m",Mp).call(this,o):Pf(this,Ep,"m",Ap).call(this,s);e&&Pf(this,Ep,"m",Op).call(this,s,e)}e.stopPropagation();break;case"Home":{const t=Pf(this,Ep,"m",Ip).call(this,s);t&&(i?t.focus({preventScroll:!0}):Pf(this,Ep,"m",Op).call(this,s,t)),e.stopPropagation();break}case"End":{const t=Pf(this,Ep,"m",Ap).call(this,s);t&&(i?t.focus({preventScroll:!0}):Pf(this,Ep,"m",Op).call(this,s,t)),e.stopPropagation();break}case"Enter":i?(this.collapse(s),r&&Pf(this,Ep,"m",Op).call(this,s,r)):(this.expand(s),o?.focus({preventScroll:!0})),e.stopPropagation();break;case"Escape":i&&this.collapse(s),e.stopPropagation();break;default:{const{length:t}=n;if(1==t){const t=n.charCodeAt(0),i=this.options(s),o=r?i.indexOf(r):-1,a=i.find(((e,n)=>kf.getLabel(e).toLowerCase().charCodeAt(0)==t&&n>o))??i.find((e=>kf.getLabel(e).toLowerCase().charCodeAt(0)==t));a&&a.focus({preventScroll:!0}),e.stopPropagation()}break}}},Hp=function(e){const{target:t}=e,n=t.closest(".option");n&&n.focus({preventScroll:!0})},Bp))),Nf=(new(oe({name:"optiongroup"})((Kp=class extends se{constructor(){super(),qp.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,qp,K("ul",{attributes:{class:"optiongroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,qp,"f").cloneNode(!0)}slot(e){return e}},qp=new WeakMap,Kp))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),If=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Af extends HTMLElement{constructor(){super(),$p.add(this),Vp.set(this,void 0),Nf(this,Vp,null,"f")}get model(){return If(this,Vp,"f")}setModel(e){Nf(this,Vp,e,"f"),If(this,$p,"m",Jp).call(this)}renderLight(){}renderShadow(){}refresh(){If(this,$p,"m",Jp).call(this)}}Vp=new WeakMap,$p=new WeakSet,Jp=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var Rf,Mf,Of,Wf,jf,Df,Ff,_f=Af,Hf=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Bf=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},qf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Kf extends W{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new j(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class $f{constructor(e){Rf.set(this,void 0),Bf(this,Rf,e,"f")}static from(e){return new $f(e)}show(){qf(this,Rf,"f").forEach((e=>{e.show()}))}hide(){qf(this,Rf,"f").forEach((e=>{e.hide()}))}display(){const e=qf(this,Rf,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=qf(this,Rf,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Kf){const{items:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}Rf=new WeakMap;class Vf extends W{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Kf?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Kf){const{items:t}=e;t&&t.remove(this)}}}Hf([R()],Vf.prototype,"visibility",void 0);let Jf=class extends _f{constructor(e){super(),Mf.add(this),Of.set(this,void 0),Wf.set(this,void 0),this.attachShadow({mode:"open"}),Bf(this,Of,new WeakMap,"f"),Bf(this,Wf,new WeakMap,"f"),this.setModel(e??new Kf)}getListElement(){const{model:e}=this;return qf(this,Of,"f").get(e)?.deref()??null}getListItemElement(e){return qf(this,Wf,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return q(K("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),K("slot"))}renderLight(){const{model:e}=this,t=K("e-list",{attributes:{tabindex:0},children:[K("e-listitemgroup",{children:z(e.items,(e=>qf(this,Mf,"m",jf).call(this,e)))})],listeners:{contextmenu:qf(this,Mf,"m",Df).bind(this),keydown:qf(this,Mf,"m",Ff).bind(this)}});return qf(this,Of,"f").set(e,new WeakRef(t)),t}};Of=new WeakMap,Wf=new WeakMap,Mf=new WeakSet,jf=function(e){const t=K("e-listitem",{attributes:{tabindex:-1,name:e.label,draggable:"true"},dataset:{index:e.index},children:[K("span",{children:[e.label]}),K("e-toolbar",{attributes:{tabindex:0},children:[K("e-toolbaritemgroup",{children:[uo.menubutton({name:"settings",label:"Actions",menubutton:new lr({menu:U(e,new ds({children:[new ts({items:[Ln.button({name:"display",label:"Display",trigger:()=>{e.display()}}),Ln.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new ts({items:[Ln.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{}))})}),U(e,K("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return qf(this,Wf,"f").set(e,new WeakRef(t)),t},Df=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:r}=this;if(s instanceof $c&&i instanceof ic){const s=r.getItemByIndex(parseInt(i.dataset.index)),o=K("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[K("e-menuitemgroup",{attributes:{tabindex:-1},children:[K("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{trigger:()=>{$f.from(this.selectedItems()).display()}}}),K("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{trigger:()=>{$f.from(this.selectedItems()).remove()}}})]}),K("e-menuitemgroup",{attributes:{tabindex:-1},children:[K("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[s.visibility?"Hide":"Show"],listeners:{trigger:()=>{const e=$f.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(o),o.positionContextual(t,n),o.focus({preventScroll:!0}),e.preventDefault()}},Ff=function(e){const{currentTarget:t,key:n}=e;if(t instanceof $c)switch(n){case"Delete":$f.from(this.selectedItems()).remove(),e.preventDefault()}},Jf=Hf([H({name:"v-list"})],Jf);var Uf,Gf,Xf,Yf,zf,Zf,Qf,em,tm,nm,sm,im,rm=Jf,om=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},am=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},cm=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class lm extends W{constructor(e){super();const t=new j(e?.rows??[]);t.setParent(this),this.rows=t;const n=new j(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n===e?t:void 0}));const n=(()=>{const{type:n}=e;switch(n){case String:return(n,s)=>{const i=String(e.extract(n)),r=String(e.extract(s));return t*i.localeCompare(r)};default:return(n,s)=>{const i=Number(e.extract(n)),r=Number(e.extract(s));return Math.sign(t*(i-r))}}})();this.rows.sort(n)}}class hm extends W{constructor(e){super();const{name:t,type:n,label:s,extract:i}=e;this.name=t,this.type=n,this.label=s,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}om([R()],hm.prototype,"sortorder",void 0);class dm extends W{constructor(e){super();const{id:t,name:n,age:s}=e;this.id=t,this.name=n,this.age=s}}om([R()],dm.prototype,"name",void 0),om([R()],dm.prototype,"age",void 0);let um=class extends _f{constructor(e){super(),Uf.add(this),Gf.set(this,void 0),Xf.set(this,void 0),Yf.set(this,void 0),zf.set(this,void 0),am(this,Yf,[],"f"),am(this,zf,null,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new lm),am(this,Xf,((e,t)=>K("label",{children:[t.extract(e)]})),"f"),am(this,Gf,(e=>K("label",{children:[e.label]})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){am(this,Gf,e,"f")}setCellDelegate(e){am(this,Xf,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > .grid")}getRowElement(e){return this.shadowRoot.querySelector(`:scope > .grid > .gridbody > .gridrow[data-index=${e.id}]`)}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > .grid > .gridhead > .gridheader[id=${e.name}]`)}getColumnCellsElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > .grid > .gridbody > .gridrow > .gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return q(K("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),K("link",{attributes:{rel:"stylesheet",href:"css/views/gridview.css"}}),K("div",{children:K("input",{attributes:{type:"search"},listeners:{input:cm(this,Uf,"m",sm).bind(this)}})}),re("grid",{properties:{tabIndex:0,selectby:"row",multisectable:!0},slotted:[re("gridhead",{slotted:z(e.columns,(e=>cm(this,Uf,"m",Qf).call(this,e))),listeners:{contextmenu:cm(this,Uf,"m",nm).bind(this),click:cm(this,Uf,"m",im).bind(this)}}),re("gridbody",{slotted:z(e.rows,(e=>cm(this,Uf,"m",em).call(this,e)))})]}))}setSearchFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t;am(this,zf,e,"f"),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!cm(this,Uf,"m",Zf).call(this,e))})),yf.clearSelection(n)}addDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t,i=cm(this,Yf,"f");i.includes(e)||(i.push(e),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!cm(this,Uf,"m",Zf).call(this,e))}))),yf.clearSelection(n)}removeDisplayFilter(e){const{model:t,gridElement:n}=this,{rows:s}=t,i=cm(this,Yf,"f"),r=i.indexOf(e);r>-1&&(i.splice(r,1),Array.from(s.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!cm(this,Uf,"m",Zf).call(this,e))}))),yf.clearSelection(n)}};Gf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,zf=new WeakMap,Uf=new WeakSet,Zf=function(e){const t=cm(this,Yf,"f"),n=cm(this,zf,"f");return(!(t.length>0)||t.some((t=>t.filter(e))))&&(!n||n.filter(e))},Qf=function(e){return U(e,re("gridheader",{properties:{id:e.name},slotted:[K("span",{attributes:{class:"gridheader-content"},children:[K("span",{attributes:{class:"gridheader-label"},children:cm(this,Gf,"f").call(this,e)})].concat(this.resizable?[re("widthsash",{properties:{controls:`${e.name}`}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":const{dataset:t}=e;void 0!==s?t.sortorder=s.toString():delete t.sortorder}}))},em=function(e){const{model:t}=this;return re("gridrow",{dataset:{index:e.id},slotted:z(t.columns,(t=>cm(this,Uf,"m",tm).call(this,e,t)))})},tm=function(e,t){return re("gridcell",{properties:{headers:t.name},slotted:K("span",{attributes:{class:"gridcell-content"},children:[K("span",{attributes:{class:"gridcell-label"},children:cm(this,Xf,"f").call(this,e,t)})]})})},nm=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,r=s,o=i.closest(".gridheader"),{model:a}=this;if(o){const s=a.getColumnByName(o.id),i=re("menu",{properties:{contextual:!0,position:{x:t,y:n}},slotted:[re("menuitem",{properties:{label:"Resize Auto"},listeners:{click:()=>{const e=this.getColumnHeaderElement(s);if(e){const{style:t}=e,n=this.getColumnCellsElements(s).map((e=>e.querySelector(".gridcell-label"))).reduce(((e,t)=>Math.max(e,t.getBoundingClientRect().width)),0);t.setProperty("width",`${n}px`)}}}}),re("menuitem",{properties:{label:"Resize To Default"},listeners:{click:()=>{const e=this.getColumnHeaderElement(s);if(e){const{style:t}=e;t.removeProperty("width")}}}}),re("menuitem",{properties:{type:"submenu",label:"Sort"},slotted:[re("menu",{slotted:[re("menuitem",{properties:{type:"radio",name:"sort",value:"1",label:"Ascending"}}),re("menuitem",{properties:{type:"radio",name:"sort",value:"-1",label:"Descending"}})],listeners:{click:e=>{const{target:t}=e,n=t;n.classList.contains("menuitem")&&a.sortByColumn(s,Number(Xp.getValue(n)))}}})]}),re("menuitem",{properties:{type:"submenu",label:"Filter"},slotted:[re("menu",{slotted:s.filters.map(((e,t)=>re("menuitem",{properties:{type:"checkbox",checked:cm(this,Yf,"f").includes(e),label:e.name},listeners:{click:t=>{const{currentTarget:n}=t,s=n;Xp.getChecked(s)?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}})))})]})]});r.append(i),i.focus({preventScroll:!0}),e.preventDefault()}},sm=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().includes(e.toLowerCase())}:null)}},im=function(e){const{target:t}=e;if(t.matches(":is(.gridheader-label, .gridheader-label :scope)")){const e=t.closest(".gridheader"),{model:n}=this,{columns:s}=n;if(e){const t=Array.from(s.values()).find((t=>t.name==e.id));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},om([_({type:Boolean,observed:!0})],um.prototype,"resizable",void 0),om([_({type:Boolean,observed:!0})],um.prototype,"sortable",void 0),um=om([H({name:"v-grid"})],um);var pm=um;async function fm(){const e=new Xt({items:[new zt({label:"TI 0",type:"parent",items:[new zt({label:"TI 1A",type:"parent",items:[new zt({type:"leaf",label:"TI 1AX"})]}),new zt({type:"parent",label:"TI 1B"})]}),new zt({label:"TI 1",type:"parent",items:[new zt({label:"TI 1A",type:"parent",items:[new zt({type:"leaf",label:"TI 1AX"})]}),new zt({type:"parent",label:"TI 1B"})]}),new zt({type:"leaf",label:"TI 2"}),new zt({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}}),t=Zt.create(e);document.body.append(t),e.childItems.append(new zt({label:"yo",type:"parent",items:[new zt({type:"leaf",label:"plop"})]})),(new rm).setModel(new Kf({items:[new Vf({label:"Hey"}),new Vf({label:"Yo"})]}));const n=new pm;n.resizable=!0,n.sortable=!0;const s=(new Date).getFullYear();n.setModel(new lm({columns:[new hm({name:"name",type:String,label:"Name",extract:e=>e.name}),new hm({name:"age",type:Number,label:"Age",extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]}),new hm({name:"birthyear",type:String,label:"Brith Year",extract:e=>s-e.age})],rows:[new dm({id:1,name:"Denis",age:13}),new dm({id:2,name:"Jean-Charles",age:32}),new dm({id:3,name:"Charles",age:25}),new dm({id:4,name:"Mamagubida",age:128})]})),document.body.append(n);const i=re("menubar",{slotted:[re("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu",disabled:!0},slotted:[re("menu",{slotted:[re("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),re("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu"},slotted:[re("menu",{slotted:[re("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),re("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},slotted:[re("menu",{slotted:[re("menuitemgroup",{slotted:[re("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B",disabled:!0,checked:!0}}),re("menuitem",{properties:{type:"button",label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),re("separator"),re("menuitem",{properties:{label:"Submenu",type:"submenu"},slotted:[re("menu",{slotted:[re("menuitem",{properties:{label:"MenuItem 1",type:"radio",name:"radio",value:"1"}}),re("menuitem",{properties:{type:"radio",label:"MenuItem 2",name:"radio",value:"2"}}),re("menuitem",{properties:{type:"radio",label:"MenuItem 3",name:"radio",value:"3"}})]})]})]})]})]});document.body.append(i),document.body.append(re("toolbar",{slotted:[re("toolbaritem",{properties:{label:"First item",type:"menubutton"},slotted:[re("menu",{slotted:[re("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}}),re("menuitem",{properties:{label:"MenuItem 2",name:"MenuItem 2",type:"checkbox"}})]})]}),re("toolbaritem",{properties:{label:"Second item",type:"checkbox"}}),re("toolbaritem",{properties:{label:"Third item",type:"checkbox",disabled:!0}}),re("toolbaritem",{properties:{label:"Fourth item",type:"checkbox"}})]})),document.body.append(re("list",{slotted:[re("listitemgroup",{slotted:[re("listitem",{properties:{label:"First item"}})]}),re("listitem",{properties:{label:"Second item"},slotted:[re("toolbar",{slotted:[re("toolbaritem",{properties:{label:"First item",type:"button"}}),re("toolbaritem",{properties:{label:"Second item",type:"checkbox"}})]})]}),re("listitem",{properties:{label:"Third item",disabled:!0}}),re("listitem",{properties:{label:"Fourth item"}})]})),document.body.append(re("grid",{properties:{selectby:"row",multisectable:!0},slotted:{headers:[re("gridheader",{slotted:"First header"}),re("gridheader",{slotted:"Second header"})],rows:[re("gridrow",{slotted:[re("gridcell",{slotted:"First cell"}),re("gridcell",{slotted:"Second cell"})]}),re("gridrow",{slotted:[re("gridcell",{slotted:"Third cell"}),re("gridcell",{slotted:"Fourth cell"})]}),re("gridrow",{slotted:[re("gridcell",{slotted:"Fifth cell"}),re("gridcell",{slotted:"Sixth cell"})]}),re("gridrow",{slotted:[re("gridcell",{slotted:"Heighth cell"}),re("gridcell",{slotted:"Nineth cell"})]})]}})),document.body.append(re("combobox",{slotted:[re("option",{properties:{label:"First option"}}),re("option",{properties:{label:"Second option"}}),re("option",{properties:{label:"Third option",selected:!0}})],listeners:{change:e=>{const{currentTarget:t}=e,n=t;console.log(kf.getLabel(Cf.selectedOption(n)))}}})),(new class{constructor(){this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(B(e)).forEach((e=>{e instanceof rn&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(B(e)).forEach((e=>{e instanceof rn&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof rn)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const i=s?.hotkey,r=s?.key,o=s?.value,a=s?.checked,c={name:e,trigger:t,key:r,type:n};o&&(c.value=o),void 0!==r&&void 0!==o&&localStorage.setItem(r,o),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const i=this._actions[s];let r;switch(t){case"radio":r=i.value??"";break;case"checkbox":r=i.value??!1}i.trigger(r,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const r=this._actionElements[n];if(r)switch(s){case"radio":r.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":r.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:i,value:r,checked:o}=s;switch(i){case"radio":"radio"==t.type?t.checked=t.value==r:"select"==t.type&&(t.value=r);break;case"checkbox":t.checked=o}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map