var main;(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Yh});var n,i,s,o,r,a,c,l,h,d,u,p,f,m,b,g,w,v,y,E=new WeakMap,x=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const e=E.get(t);e&&e.forEach((e=>{const[n,i]=e,s=n.slottedCallback;"function"==typeof s&&s(i.deref(),t)}));break}}}))})),k=class{constructor(){const e=this;this.create=new Proxy(this.create,{apply:(t,n,i)=>{const s=Reflect.apply(t,n,i);return e.slots.concat(null).map((t=>e.slot(s,t))).forEach((t=>{if(t){x.observe(t,{childList:!0});const n=E.get(t);Array.isArray(n)?n.push([e,new WeakRef(s)]):E.set(t,new Array([e,new WeakRef(s)]))}})),s}})}create(){throw new Error("create method is not implemented")}slot(e){return e}get slots(){return[]}},T=new Map,S=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},P=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class C{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new N(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new N(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return C.PROPERTY_CHANGE}get LIST_REMOVE(){return C.LIST_REMOVE}get LIST_INSERT(){return C.LIST_INSERT}get LIST_SORT(){return C.LIST_SORT}}var R=C;n=new WeakMap;var N=class{constructor(e){n.set(this,void 0),S(this,n,e.slice(),"f")}get length(){return P(this,n,"f").length}item(e){return P(this,n,"f")[e]??null}values(){return P(this,n,"f").values()}};class L{constructor(e){i.set(this,void 0),s.set(this,void 0),this.type=e,S(this,i,null,"f"),S(this,s,null,"f")}get currentTarget(){return P(this,i,"f")}get target(){return P(this,s,"f")}}i=new WeakMap,s=new WeakMap,L.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof L&&S(e,i,t,"f")}setTarget(e,t){e instanceof L&&S(e,s,t,"f")}};var I=L.ModelEventTargetAccessor;delete L.ModelEventTargetAccessor;var M=L;o=new WeakMap;class A extends class{constructor(){o.set(this,void 0),S(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,n=P(this,o,"f").get(t);I.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=P(this,o,"f").get(e);n?n.push(t):P(this,o,"f").set(e,[t])}removeEventListener(e,t){const n=P(this,o,"f").get(e);if(n){const i=n.findIndex((e=>e==t));i>-1&&n.splice(i,1),0==n.length&&P(this,o,"f").delete(e)}}dispatchEvent(e){I.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),r.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),S(this,a,null,"f"),S(this,c,[],"f"),S(this,l,!1,"f")}get parentNode(){return P(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");S(this,a,e,"f")}else S(this,a,null,"f")}beginChanges(){S(this,l,!0,"f")}endChanges(){this.dispatchEvent(new M("modelchange")),P(this,c,"f").splice(0),S(this,l,!1,"f")}getRecords(){return P(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,r=new WeakSet,h=function(e,t,n){const i=P(this,c,"f"),s=new R({target:this,changeType:R.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});i.push(s),this.dispatchEvent(new M("modelchange")),i.splice(0)},d=function(e){P(this,c,"f").push(e),P(this,l,"f")||(this.dispatchEvent(new M("modelchange")),P(this,c,"f").splice(0))},A.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,i){e instanceof A&&P(e,r,"m",h).call(e,t,n,i)}handleRecord(e,t){e instanceof A&&P(e,r,"m",d).call(e,t)}};var O=A.ModelNodeRecordsAccessor;delete A.ModelNodeRecordsAccessor;var j=A;const W=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:i}=n;Object.defineProperty(i,t,{set:function(e){const n=D.getProperty(this,t);return D.setProperty(this,t,e),e!==n&&O.triggerChange(this,t,n,e),!0},get:function(){return D.getProperty(this,t)},enumerable:!0})}};class F extends A{constructor(){super(),u.set(this,void 0),S(this,u,new Map,"f")}}u=new WeakMap,F.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof F&&P(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof F)return P(e,u,"f").get(t)}};var D=F.ModelObjectPropertiesAccessor;delete F.ModelObjectPropertiesAccessor;var _=F;p=new WeakMap;var B=class extends A{constructor(e){super(),p.set(this,void 0),S(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),P(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return P(this,p,"f").length}get(e){return P(this,p,"f")[e]??null}index(e,t){return P(this,p,"f").indexOf(e,t)}values(){return P(this,p,"f").values()}sort(e){const t=P(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),S(this,p,t.map((e=>e.item)),"f");const n=new R({target:this,changeType:R.LIST_SORT,sortedIndices:t.map((e=>e.index))});O.handleRecord(this,n)}prepend(...e){const t=P(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const i=new R({target:this,changeType:R.LIST_INSERT,insertedIndex:0,insertedItems:e});O.handleRecord(this,i)}append(...e){const t=P(this,p,"f"),{length:n}=t,{parentNode:i}=this;i&&e.forEach((e=>{e.setParent(i)})),t.push(...e);const s=new R({target:this,changeType:R.LIST_INSERT,insertedIndex:n,insertedItems:e});O.handleRecord(this,s)}insert(e,...t){const n=P(this,p,"f"),{length:i}=n;if(Math.abs(e)<=i){if(e>=0){const{parentNode:s}=this;t.forEach((e=>{e.setParent(s)})),e<i?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=i-e;const{parentNode:s}=this;s&&t.forEach((e=>{e.setParent(s)})),n.splice(e,0,...t)}const s=new R({target:this,changeType:R.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});O.handleRecord(this,s)}}remove(e){const t=P(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:i}=this;i&&e.setParent(null);const s=new R({target:this,changeType:R.LIST_REMOVE,removedIndex:n,removedItems:[e]});O.handleRecord(this,s)}}clear(){const e=P(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const i=new R({target:this,changeType:R.LIST_REMOVE,removedIndex:0,removedItems:t});O.handleRecord(this,i)}}};m=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,v=function(){const e=P(this,b,"f").splice(0);e.length>0&&P(this,m,"f").call(this,e)},y=function(e){if(!P(this,g,"f")){const{target:t,currentTarget:n}=e,i=P(this,w,"f").get(n);if(i){const{options:e}=i,{properties:s,propertiesFilter:o,childList:r,subtree:a}=e;a?s&&t instanceof j?(o?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,f,"m",v).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,f,"m",v).call(this)):t==n&&(s&&t instanceof j?(o?P(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):P(this,b,"f").push(...t.getRecords()),P(this,f,"m",v).call(this)):r&&t instanceof B&&(P(this,b,"f").push(...t.getRecords()),P(this,f,"m",v).call(this)))}}};var H=class{constructor(e){f.add(this),m.set(this,void 0),b.set(this,void 0),g.set(this,void 0),w.set(this,void 0),S(this,m,e,"f"),S(this,b,[],"f"),S(this,g,!1,"f"),S(this,w,new WeakMap,"f")}observe(e,t){S(this,g,!1,"f");const n=P(this,w,"f");let i=n.get(e);if(i)n.set(e,i);else{const s=P(this,f,"m",y).bind(this);e.addEventListener("modelchange",s),i={listener:s,options:t},n.set(e,i)}}unobserve(e){let t=P(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){P(this,b,"f").splice(0),S(this,g,!0,"f")}};function K(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const q=function(e){return(t,n)=>{const{constructor:i}=t,{prototype:s}=i,o=n.toString(),r=K(o),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(i,"observedAttributes",i);Array.isArray(e)?e.push(r):Object.defineProperty(i,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(s,o,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(s,o,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(s,o,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(s,o,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},V=function(e){return t=>{const{name:n,options:i}=e;return customElements.get(n)||customElements.define(n,t,i),t}},$=function(e){return t=>{const{name:n}=e;return T.set(n,new t),t}};function*U(e){yield e;const t=e.childNodes,n=t.length;let i=0;for(;i<n;){const e=t.item(i);null!==e&&(yield*U(e)),i++}}function z(...e){const t=document.createDocumentFragment();return t.append(...e),t}function J(e,t){if(t){const{options:n,attributes:i,dataset:s,children:o,listeners:r}=t,a=document.createElement(e,n);if(i&&Object.keys(i).forEach((e=>{const t=i[e];void 0!==t&&("boolean"==typeof t?a.toggleAttribute(K(e),t):a.setAttribute(K(e),t.toString()))})),s){const{dataset:e}=a;Object.keys(s).forEach((t=>{e[t]=s[t].toString()}))}return o&&("function"==typeof o?a.append(...o(a)):a.append(...Array.from(o))),r&&Object.entries(r).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}function X(e,t){const n=T.get(e);if(n){const e=n.create(t?.properties);if(t){const{attributes:i,dataset:s,slotted:o,listeners:r}=t;if(i&&Object.keys(i).forEach((t=>{const n=i[t];void 0!==n&&("boolean"==typeof n?e.toggleAttribute(K(t),n):e.setAttribute(K(t),n.toString()))})),s){const{dataset:t}=e;Object.keys(s).forEach((e=>{t[e]=s[e].toString()}))}if(o)if("function"==typeof o||Array.isArray(o)||o instanceof NodeList){const t=n.slot(e,null);t&&("function"==typeof o?t.append(...o(e)):t.append(...Array.from(o)))}else Object.entries(o).forEach((([t,i])=>{const s=n.slot(e,t);s&&("function"==typeof i?s.append(...i(e)):s.append(...Array.from(i)))}));r&&Object.entries(r).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return e}throw new Error(`Unknown widget ${e}`)}const Y=new WeakMap,G=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,i=Y.get(t);if(void 0!==i){const{reactiveElementsArray:e}=i;e.splice(e.indexOf(n),1)}})),Z=new H((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:i,newValue:s}=e,{reactiveElementsArray:o}=Y.get(t);o.forEach((e=>{const{elementRef:t,react:o,properties:r}=e,a=t.deref();a&&r.includes(n)&&o(a,n,i,s)}))}))}));function Q(e,t,n,i){const s={elementRef:new WeakRef(t),react:i,properties:n},o=Y.get(e);if(G.register(t,{model:e,reactiveElement:s}),o){const{reactiveElementsArray:e,observerOptions:t}=o,{propertiesFilter:i}=t;e.push(s),t.propertiesFilter=i?i.concat(n.filter((e=>!i.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},i=[s];Y.set(e,{observerOptions:t,reactiveElementsArray:i}),Z.observe(e,t)}return n.forEach((n=>{if(n in e){const s=Reflect.get(e,n,e);void 0!==s&&i(t,n,void 0,s)}})),t}const ee=new WeakMap,te=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,i=ee.get(t);if(i){const{reactiveChildElementsArray:e}=i;e.splice(e.indexOf(n),1)}})),ne=new H((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,i=n,{length:s}=i,{reactiveChildElementsArray:o}=ee.get(i);o.forEach((n=>{const{parentRef:i,mapping:o,placeholder:r}=n,a=i.deref();if(a){const{firstChild:n,children:i}=a,{length:c}=i;r&&s>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,s=Array.from(n.values()).map(o),{length:r}=i;t<r?i[t].before(...s):a.append(...s);break}case d:{const{removedIndex:n,removedItems:s}=e,{length:o}=s;t=t??document.createRange();const r=n+(o-1);r<c&&(t.setStartBefore(i[n]),t.setEndAfter(i[r]),t.deleteContents());break}case u:{const{sortedIndices:t}=e,n=Array.from(i);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==s&&r&&a.append(r)}}))}))}));function ie(e,t,n){return i=>{const s=new WeakRef(i),o=ee.get(e),r={parentRef:s,mapping:t,placeholder:n};if(te.register(i,{list:e,reactiveChildElement:r}),o){const{reactiveChildElementsArray:e}=o;e.push(r)}else{const t=[r];ee.set(e,{reactiveChildElementsArray:t}),ne.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function se(e,t,n,i,s){if(t==i)switch(e){case"boolean":return""==n&&""==s;case"string":return""!==n&&n==s;case"list":return""!==n&&null!==s&&new RegExp(`${n}s*?`,"g").test(s)}return!1}var oe,re,ae;let ce=class extends HTMLElement{constructor(){super(),oe.add(this);const e=this.attachShadow({mode:"open"});e.append(ae.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,oe,"m",re).bind(this))}};oe=new WeakSet,re=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ge)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},(ae=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot")),ce=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-treeitemgroup"})],ce);var le,he,de,ue,pe,fe=ce,me=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},be=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},ge=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let we=class extends HTMLElement{constructor(){super(),le.add(this),he.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(pe.content.cloneNode(!0)),e.addEventListener("slotchange",be(this,le,"m",ue).bind(this)),this.addEventListener("click",be(this,le,"m",de).bind(this)),ge(this,he,null,"f")}get group(){return be(this,he,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};he=new WeakMap,le=new WeakSet,de=function(e){const{target:t,shiftKey:n,ctrlKey:i}=e,{type:s}=this;this!=t||"parent"!=s||n||i||this.toggle()},ue=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];ge(this,he,e instanceof fe?e:null,"f");break}}},(pe=J("template")).content.append(J("div",{attributes:{part:"content"},children:[J("span",{attributes:{part:"arrow"}}),J("slot")]}),J("slot",{attributes:{name:"group"}})),me([q({type:String})],we.prototype,"name",void 0),me([q({type:Number})],we.prototype,"posinset",void 0),me([q({type:String,observed:!0})],we.prototype,"label",void 0),me([q({type:Boolean,observed:!0})],we.prototype,"expanded",void 0),me([q({type:Boolean})],we.prototype,"droptarget",void 0),me([q({type:Boolean})],we.prototype,"active",void 0),me([q({type:Boolean,observed:!0})],we.prototype,"selected",void 0),me([q({type:Number,observed:!0})],we.prototype,"level",void 0),me([q({type:String,defaultValue:"leaf"})],we.prototype,"type",void 0),we=me([V({name:"e-treeitem"})],we);var ve,ye,Ee,xe,ke,Te,Se,Pe,Ce,Re,Ne,Le,Ie,Me,Ae,Oe,je,We,Fe,De,_e,Be,He,Ke,qe,Ve,$e,Ue,ze,Je,Xe,Ye,Ge=we,Ze=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Qe=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},et=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let tt=class extends HTMLElement{constructor(){super(),ve.add(this),ye.set(this,void 0),Ee.set(this,void 0),xe.set(this,void 0),et(this,xe,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Qe(this,ve,"m",ke).bind(this)),"f"),et(this,ye,!1,"f"),et(this,Ee,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Ye.content.cloneNode(!0)),this.addEventListener("click",Qe(this,ve,"m",We).bind(this)),this.addEventListener("contextmenu",Qe(this,ve,"m",Fe).bind(this),!0),this.addEventListener("dragend",Qe(this,ve,"m",De).bind(this)),this.addEventListener("dragenter",Qe(this,ve,"m",_e).bind(this)),this.addEventListener("dragleave",Qe(this,ve,"m",He).bind(this)),this.addEventListener("dragover",Qe(this,ve,"m",Be).bind(this)),this.addEventListener("dragstart",Qe(this,ve,"m",Ke).bind(this)),this.addEventListener("drop",Qe(this,ve,"m",qe).bind(this)),this.addEventListener("focus",Qe(this,ve,"m",$e).bind(this)),this.addEventListener("focusin",Qe(this,ve,"m",Ue).bind(this)),this.addEventListener("focusout",Qe(this,ve,"m",ze).bind(this)),this.addEventListener("keydown",Qe(this,ve,"m",Ve).bind(this)),this.addEventListener("select",Qe(this,ve,"m",Je).bind(this)),e.addEventListener("slotchange",Qe(this,ve,"m",Xe).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=Qe(this,xe,"f");t.currentNode=t.root;let n=Qe(this,ve,"m",Ie).call(this);for(;null!==n;)n.selected&&e.push(n),n=Qe(this,ve,"m",Oe).call(this,n);return e}beginSelection(){et(this,ye,!0,"f")}endSelection(){et(this,ye,!1,"f"),Qe(this,Ee,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),et(this,Ee,!1,"f"))}};ye=new WeakMap,Ee=new WeakMap,xe=new WeakMap,ve=new WeakSet,ke=function(e){return e instanceof Ge?NodeFilter.FILTER_ACCEPT:e instanceof fe?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Te=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let i=Qe(this,ve,"m",Oe).call(this,e);for(;i&&i!==t;)n.push(i),i=Qe(this,ve,"m",Oe).call(this,i);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let i=Qe(this,ve,"m",Ae).call(this,e);for(;i&&i!==t;)n.push(i),i=Qe(this,ve,"m",Ae).call(this,i);return n.push(t),n}return[]},Se=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Pe=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ce=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Re=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Ne=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(Qe(this,xe,"f").currentNode=e,e.active=!0,e.tabIndex=0)},Le=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Ie=function(){const e=Qe(this,xe,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Me=function(){const e=Qe(this,xe,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ae=function(e){const t=Qe(this,xe,"f");t.currentNode=e;const n=t.previousSibling();return n?Qe(this,ve,"m",je).call(this,n):t.parentNode()},Oe=function(e){const t=Qe(this,xe,"f");t.currentNode=e;const{type:n,expanded:i}=e;return"leaf"===n||i?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},je=function e(t){if(t.expanded){const t=Qe(this,xe,"f").lastChild();if(t)return Qe(this,ve,"m",e).call(this,t)}return t},We=function(e){const{target:t,ctrlKey:n,shiftKey:i}=e,s=this.selectedItems();if(t instanceof Ge)if(i||n){if(n){const{selected:n}=t;n&&t.blur(),n?Qe(this,ve,"m",Ce).call(this,t):Qe(this,ve,"m",Pe).call(this,t),e.stopPropagation()}else if(i){const n=s[s.length-1];if(n){const e=Qe(this,ve,"m",Te).call(this,n,t);e&&(s.includes(t)?Qe(this,ve,"m",Ce).call(this,...e):Qe(this,ve,"m",Pe).call(this,...e))}else Qe(this,ve,"m",Se).call(this,t);e.stopPropagation()}}else Qe(this,ve,"m",Se).call(this,t)},Fe=function(e){const{target:t}=e;t instanceof Ge&&(this.selectedItems().includes(t)||Qe(this,ve,"m",Se).call(this,t),e.preventDefault())},De=function(){Qe(this,ve,"m",Le).call(this,null)},_e=function(e){const{target:t}=e;if(t instanceof Ge){const{type:e}=t;"parent"==e&&t.toggle(!0),Qe(this,ve,"m",Le).call(this,t)}e.preventDefault()},Be=function(e){e.preventDefault()},He=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||Qe(this,ve,"m",Le).call(this,null)}},Ke=function(e){const{target:t}=e;t instanceof Ge&&(this.selectedItems().includes(t)||Qe(this,ve,"m",Se).call(this,t))},qe=function(){Qe(this,ve,"m",Le).call(this,null)},Ve=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=Qe(this,xe,"f"),{root:t}=e;e.currentNode=n;const i=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild());if(i&&s){const e=Qe(this,ve,"m",Te).call(this,i,Qe(this,ve,"m",je).call(this,s));e&&Qe(this,ve,"m",Se).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=Qe(this,xe,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=Qe(this,ve,"m",Ae).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qe(this,ve,"m",Ce).call(this,t):Qe(this,ve,"m",Pe).call(this,t))}}else{const e=Qe(this,ve,"m",Ie).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Qe(this,ve,"m",Oe).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qe(this,ve,"m",Ce).call(this,t):Qe(this,ve,"m",Pe).call(this,t))}}else{const e=Qe(this,ve,"m",Me).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Qe(this,ve,"m",Ie).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Qe(this,ve,"m",Me).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(Qe(this,ve,"m",Se).call(this,n),n.click()),e.stopPropagation();break;case"Escape":Qe(this,ve,"m",Re).call(this),Qe(this,ve,"m",Ne).call(this,null),this.focus(),e.stopPropagation()}},$e=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ue=function(e){const{target:t}=e;t instanceof Ge&&(Qe(this,ve,"m",Ne).call(this,t),this.tabIndex=-1)},ze=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},Je=function(){Qe(this,ye,"f")?et(this,Ee,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Xe=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ge)).forEach(((e,t)=>{e.posinset=t,e.level=0}))},(Ye=J("template")).content.append(J("slot")),Ze([q({type:Boolean})],tt.prototype,"droptarget",void 0),Ze([q({type:String})],tt.prototype,"name",void 0),tt=Ze([V({name:"e-tree"})],tt);var nt,it,st,ot=tt,rt=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},at=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class ct extends HTMLElement{constructor(){super(),nt.add(this),it.set(this,void 0),rt(this,it,null,"f")}get model(){return at(this,it,"f")}setModel(e){rt(this,it,e,"f"),at(this,nt,"m",st).call(this)}renderLight(){}renderShadow(){}refresh(){at(this,nt,"m",st).call(this)}}it=new WeakMap,nt=new WeakSet,st=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var lt,ht,dt,ut,pt,ft,mt,bt,gt,wt,vt,yt,Et,xt,kt,Tt=ct,St=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Pt=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Ct=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};class Rt extends _{constructor(e){super(),lt.add(this);const t=new B(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new B(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",Pt(this,lt,"m",ht).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Rt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:i}=e;for(let s=0;s<n;s++){const n=t.get(s),{uri:o}=n,{length:r}=o;if(e.startsWith(o)){if("/"==e.charAt(r))return Rt.prototype.getItemByUri.call(n,e);if(r==i)return n}}return null}}lt=new WeakSet,ht=function(e){const{target:t}=e,{items:n,sortFunction:i,flattenItems:s}=this;t instanceof B&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:o}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...s.call(e)))),a=Array.from(o.values()).flatMap((e=>Array.of(e,...s.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),i&&n.sort(i),n.endChanges()}))};class Nt{constructor(e){dt.set(this,void 0),Ct(this,dt,e,"f")}static from(e){return new Nt(e)}static of(...e){return new Nt(e)}show(){console.log(Pt(this,dt,"f")),Pt(this,dt,"f").forEach((e=>e.show()))}hide(){Pt(this,dt,"f").forEach((e=>e.hide()))}display(){const e=Pt(this,dt,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Pt(this,dt,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Lt||n instanceof Rt){const{childItems:i}=n,s=e.get(i);s?s.push(t):e.set(i,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}dt=new WeakMap;class Lt extends _{constructor(e){super(),ut.add(this);const{label:t,type:n}=e,i=new B(e.items??[]);i.setParent(this),this.childItems=i,this.label=t,this.type=n,this.childCount=i.length,this.visibility=!0,this.addEventListener("modelchange",Pt(this,ut,"m",pt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Lt?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Lt?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Lt||e instanceof Rt){const{childItems:t}=e;t&&t.remove(this)}}}ut=new WeakSet,pt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},St([W()],Lt.prototype,"childCount",void 0),St([W()],Lt.prototype,"visibility",void 0);let It=class extends Tt{constructor(e){super(),ft.add(this),mt.set(this,void 0),bt.set(this,void 0),gt.set(this,void 0),Ct(this,gt,new WeakMap,"f"),Ct(this,bt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Rt)}getTreeElement(){return Pt(this,mt,"f")?.deref()??null}getTreeItemElement(e){return Pt(this,gt,"f").get(e)?.deref()??null}getDragImageElement(e){return Pt(this,bt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=J("e-tree",{attributes:{tabindex:0},children:ie(e.childItems,(e=>Pt(this,ft,"m",wt).call(this,e))),listeners:{dragstart:Pt(this,ft,"m",yt).bind(this),drop:Pt(this,ft,"m",Et).bind(this),contextmenu:Pt(this,ft,"m",xt).bind(this),keydown:Pt(this,ft,"m",kt).bind(this)}});return Ct(this,mt,new WeakRef(t),"f"),z(J("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),J("link",{attributes:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,J("div",{attributes:{class:"offscreen",hidden:!0},children:ie(e.items,(e=>Pt(this,ft,"m",vt).call(this,e)))}))}};mt=new WeakMap,bt=new WeakMap,gt=new WeakMap,ft=new WeakSet,wt=function e(t){const n=Q(t,J("e-treeitem",{attributes:{tabindex:-1,label:t.label,type:t.type,draggable:"true"},dataset:{uri:t.uri},children:("parent"==t.type?[J("e-treeitemgroup",{attributes:{slot:"group"},children:ie(t.childItems,(t=>Pt(this,ft,"m",e).call(this,t)))})]:[]).concat([J("span",{attributes:{class:"label"}})]).concat("parent"==t.type?[J("span",{attributes:{class:"badge"}})]:[]).concat([J("e-toolbar",{attributes:{tabindex:0},children:[J("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,i)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=i);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${i})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=i?"Hide":"Show",e.checked=i)}}}}));return Pt(this,gt,"f").set(t,new WeakRef(n)),n},vt=function(e){const t=Q(e,J("span",{attributes:{class:"dragimage"}}),["label"],((e,t,n,i)=>{e.textContent=i}));return Pt(this,bt,"f").set(e,new WeakRef(t)),t},yt=function(e){const{currentTarget:t,target:n}=e,{model:i}=this;if(t instanceof ot&&n instanceof Ge){const{dataTransfer:n}=e,s=t.selectedItems(),{length:o}=s;if(o>0){const e=s.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),o=e[e.length-1],r=i.getItemByUri(o);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},Et=function(e){const{currentTarget:t,target:n}=e,{model:i}=this,{sortFunction:s}=i;if(t instanceof ot&&n instanceof Ge){const{dataTransfer:o}=e;if(o){const e=n.dataset.uri,r=i.getItemByUri(e),a=o.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>i.getItemByUri(e))).filter((e=>null!==e)),{type:o,parentItem:c}=r,l="parent"==o?r.childItems:c?c.childItems:i.childItems;Nt.from(e).remove(),s?(l.beginChanges(),l.append(...e),l.sort(s),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},xt=function(e){const{clientX:t,clientY:n,currentTarget:i,target:s}=e,{model:o}=this;if(i instanceof ot&&s instanceof Ge){const i=o.getItemByUri(s.dataset.uri),r=J("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{trigger:()=>{Nt.from(this.selectedItems()).display()}}}),J("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{trigger:()=>{Nt.from(this.selectedItems()).remove()}}})]}),J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[i.visibility?"Hide":"Show"],listeners:{trigger:()=>{const e=Nt.from(this.selectedItems());i.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{s.focus({preventScroll:!0})}}});document.body.append(r),r.positionContextual(t,n),r.focus({preventScroll:!0}),e.preventDefault()}},kt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof ot)switch(n){case"Delete":Nt.from(this.selectedItems()).remove(),e.preventDefault()}},It=St([V({name:"v-tree"})],It);var Mt=It,At=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};class Ot extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}At([q({type:String})],Ot.prototype,"name",void 0),At([q({type:String})],Ot.prototype,"value",void 0),At([q({type:String})],Ot.prototype,"hotkey",void 0),At([q({type:String,defaultValue:"button"})],Ot.prototype,"type",void 0),At([q({type:Boolean})],Ot.prototype,"disabled",void 0),At([q({type:Boolean})],Ot.prototype,"checked",void 0);var jt,Wt,Ft,Dt=Ot;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(jt||(jt={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Wt||(Wt={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Ft||(Ft={})),new WeakSet;var _t,Bt=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ht=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(_t.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(_t=J("template")).content.append(J("slot")),Bt([q({type:String})],Ht.prototype,"name",void 0),Bt([q({type:String})],Ht.prototype,"headers",void 0),Bt([q({type:String})],Ht.prototype,"type",void 0),Bt([q({type:Number})],Ht.prototype,"posinset",void 0),Bt([q({type:Boolean})],Ht.prototype,"droptarget",void 0),Bt([q({type:Boolean})],Ht.prototype,"active",void 0),Bt([q({type:Boolean,observed:!0})],Ht.prototype,"selected",void 0),Ht=Bt([V({name:"e-gridcell"})],Ht);var Kt,qt,Vt,$t=Ht;let Ut=class extends HTMLElement{constructor(){super(),Kt.add(this);const e=this.attachShadow({mode:"open"});e.append(Vt.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,Kt,"m",qt).bind(this))}};Kt=new WeakSet,qt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(Vt=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),J("slot")),Ut=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridrowgroup"})],Ut);var zt,Jt,Xt,Yt=Ut,Gt=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Zt=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Qt=class extends Dt{constructor(){super(),zt.add(this),this.attachShadow({mode:"open"}).append(Xt.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&Zt(this,zt,"m",Jt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,Zt(this,zt,"m",Jt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var en;zt=new WeakSet,Jt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:i,left:s,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const e=o+r-h,u=n+a-d;t.setProperty("left",`${e>0?l+s-r:l+s}px`),t.setProperty("top",`${u>0?c+n-a:c+i}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),p=o+r-h,f=n+a-d;t.setProperty("left",(p>0?s-r-u:o-u)+"px");const m=window.getComputedStyle(e),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);t.setProperty("top",`${f>0?i-a-l+v:n-l-w}px`)}}}},(Xt=J("template")).content.append(J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"},children:[J("slot")]}),J("span",{attributes:{part:"arrow"}}),J("slot",{attributes:{name:"menu"}})),Gt([q({type:Boolean})],Qt.prototype,"active",void 0),Gt([q({type:Number})],Qt.prototype,"index",void 0),Gt([q({type:Boolean})],Qt.prototype,"expanded",void 0),Gt([q({type:String,defaultValue:"button",observed:!0})],Qt.prototype,"type",void 0),Gt([(en={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:i}=n,s=t.toString(),{selector:o}=en,r=en.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(i,s,{get:r})})],Qt.prototype,"menu",void 0),Qt=Gt([V({name:"e-menuitem"})],Qt);var tn,nn,sn,on=Qt,rn=Object.assign((function(e){const{label:t,name:n,type:i,value:s,trigger:o,menu:r}=e;return r&&(r.slot="menu"),J("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:s,type:i},children:r?[t,r]:[t],listeners:{trigger:o}})}),{prototype:on.prototype,button:e=>new rn({...e,type:"button"}),checkbox:e=>new rn({...e,type:"checkbox"}),radio:e=>new rn({...e,type:"radio"}),menu:e=>new rn({...e,type:"menu"}),submenu:e=>new rn({...e,type:"submenu"})}),an=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let cn=class extends HTMLElement{constructor(){super(),tn.add(this);const e=this.attachShadow({mode:"open"});e.append(sn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,tn,"m",nn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};tn=new WeakSet,nn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof on)).forEach(((e,t)=>{e.index=t}))},(sn=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),J("slot")),an([q({type:String})],cn.prototype,"name",void 0),an([q({type:String,observed:!0})],cn.prototype,"label",void 0),cn=an([V({name:"e-menuitemgroup"})],cn);var ln,hn,dn,un,pn,fn,mn,bn,gn,wn,vn,yn,En,xn,kn,Tn,Sn,Pn,Cn,Rn,Nn,Ln,In,Mn,An=cn,On=Object.assign((function(e){const{name:t,items:n}=e;return J("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:An.prototype,radios:e=>{const{name:t,items:n}=e;return J("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new rn({name:t,label:e,type:"radio",value:n})))})}}),jn=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Wn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Fn=Ln=class extends HTMLElement{constructor(){super(),ln.add(this),hn.set(this,void 0),this.attachShadow({mode:"open"}).append(In.content.cloneNode(!0)),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,hn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Wn(this,ln,"m",fn).bind(this)),"f"),this.items=this.getElementsByTagName("e-menuitem"),this.addEventListener("click",Wn(this,ln,"m",En).bind(this)),this.addEventListener("mouseover",Wn(this,ln,"m",Rn).bind(this)),this.addEventListener("mouseout",Wn(this,ln,"m",Cn).bind(this)),this.addEventListener("focusin",Wn(this,ln,"m",xn).bind(this)),this.addEventListener("focusout",Wn(this,ln,"m",kn).bind(this)),this.addEventListener("keydown",Wn(this,ln,"m",Pn).bind(this)),this.addEventListener("trigger",Wn(this,ln,"m",Nn).bind(this))}get activeItem(){return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[active]")}positionContextual(e,t){const{style:n}=this,{width:i,height:s}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window,a=e+o,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+i-l,u=c+s-h;n.setProperty("left",`${d>0?a-i:a}px`),n.setProperty("top",`${u>0?c-s:c}px`)}};hn=new WeakMap,ln=new WeakSet,dn=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},un=function(e){return e.closest(":is(e-menu)")==this},pn=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},fn=function(e){return e instanceof on?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},mn=function(){const e=Wn(this,hn,"f");return e.currentNode=e.root,e.firstChild()},bn=function(){const e=Wn(this,hn,"f");return e.currentNode=e.root,e.lastChild()},gn=function(e){const t=Wn(this,hn,"f");return t.currentNode=e,t.previousNode()},wn=function(e){const t=Wn(this,hn,"f");return t.currentNode=e,t.nextNode()},vn=function(e){const{menu:t}=e;return t instanceof Ln?Wn(t,ln,"m",mn).call(t):null},yn=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0)},En=function(e){const{target:t}=e;t instanceof on&&Wn(this,ln,"m",un).call(this,t)&&t.trigger()},xn=function(e){const{target:t}=e;if(t instanceof on){const e=Wn(this,ln,"m",pn).call(this,t);e&&Wn(this,ln,"m",yn).call(this,e)}},kn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Wn(this,ln,"m",yn).call(this,null)}}},Tn=async function(e,t){return new Promise(((n,i)=>{const s=setTimeout((()=>{n(void 0)}),t??0);Mn.set(e,{clear:()=>{clearTimeout(s),i()}})})).then((()=>{Mn.delete(e)}))},Sn=function(e){const t=Mn.get(e);void 0!==t&&(Mn.delete(e),t.clear())},Pn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Wn(this,ln,"m",gn).call(this,n)??Wn(this,ln,"m",bn).call(this):Wn(this,ln,"m",mn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Wn(this,ln,"m",wn).call(this,n)??Wn(this,ln,"m",mn).call(this):Wn(this,ln,"m",mn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Wn(this,ln,"m",mn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Wn(this,ln,"m",bn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Wn(this,ln,"m",vn).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Kn))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Wn(this,ln,"m",vn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Cn=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof on){const i=Wn(this,ln,"m",pn).call(this,t);if(null!==i&&("submenu"!=i.type||i.expanded||Wn(this,ln,"m",Sn).call(this,i),e.composedPath().find((e=>e instanceof Kn))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(Wn(this,ln,"m",Sn).call(this,t),Wn(this,ln,"m",Tn).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:i,clientY:s}=e,{left:o,right:r,top:a,bottom:c}=this.getBoundingClientRect(),l=!(o>i||r<i||a>s||c<s),h=this.contains(n);l&&h&&(n instanceof Kn&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),Wn(this,ln,"m",yn).call(this,null))),l||(this.focus({preventScroll:!0}),Wn(this,ln,"m",yn).call(this,null))}}},Rn=function(e){const{target:t}=e;if(t instanceof on){const n=Wn(this,ln,"m",pn).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&Wn(this,ln,"m",Sn).call(this,n),e.composedPath().find((e=>e instanceof Kn))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Wn(this,ln,"m",Sn).call(this,e),Wn(this,ln,"m",Tn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),Wn(this,ln,"m",yn).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(Wn(this,ln,"m",Sn).call(this,n),Wn(this,ln,"m",Tn).call(this,n,200).then((()=>{const{activeItem:e}=this;Wn(this,ln,"m",dn).call(this),e&&(Wn(this,ln,"m",Sn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},Nn=function(e){const{target:t}=e,{contextual:n}=this;if(t instanceof on){if(Wn(this,ln,"m",un).call(this,t)){const{type:e,name:n,value:i}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==i}))}if(n)try{this.remove()}catch(e){}}},(In=J("template")).content.append(J("slot")),Mn=new WeakMap,jn([q({type:String})],Fn.prototype,"name",void 0),jn([q({type:Boolean})],Fn.prototype,"contextual",void 0),Fn=Ln=jn([V({name:"e-menu"})],Fn);var Dn,_n,Bn,Hn,Kn=Fn,qn=Object.assign((function(e){const{name:t,children:n}=e;return J("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:Kn.prototype}),Vn=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},$n=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Un=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let zn=class extends HTMLElement{constructor(){super(),Dn.add(this),_n.set(this,void 0),$n(this,_n,null,"f"),this.cells=new ni(this);const e=this.attachShadow({mode:"open"});e.append(Hn.content.cloneNode(!0)),e.addEventListener("slotchange",Un(this,Dn,"m",Bn).bind(this))}get menu(){return Un(this,_n,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};_n=new WeakMap,Dn=new WeakSet,Bn=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];$n(this,_n,e instanceof Kn?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))}},(Hn=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),J("slot"),J("slot",{attributes:{name:"menu"}})),Vn([q({type:String})],zn.prototype,"name",void 0),Vn([q({type:Boolean})],zn.prototype,"active",void 0),Vn([q({type:Boolean})],zn.prototype,"selected",void 0),Vn([q({type:Number})],zn.prototype,"posinset",void 0),zn=Vn([V({name:"e-gridrow"})],zn);var Jn,Xn,Yn,Gn=zn,Zn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Xn=new WeakMap,Jn=new WeakSet,Yn=function(e){return e instanceof $t?NodeFilter.FILTER_ACCEPT:e instanceof ui||e instanceof Yt||e instanceof Gn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Qn,ei,ti,ni=class{constructor(e){Jn.add(this),Xn.set(this,void 0),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Xn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Zn(this,Jn,"m",Yn).bind(this)),"f")}get length(){const e=Zn(this,Xn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=Zn(this,Xn,"f");t.currentNode=t.root;let n=t.nextNode(),i=0;for(;i<e&&null!==n;)n=t.nextNode(),i++;return n}namedItem(e){if(!e)return null;const t=Zn(this,Xn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=Zn(this,Xn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ii=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};ei=new WeakMap,Qn=new WeakSet,ti=function(e){return e instanceof ui?NodeFilter.FILTER_SKIP:e instanceof Gn?NodeFilter.FILTER_ACCEPT:e instanceof Yt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var si,oi,ri,ai=class{constructor(e){Qn.add(this),ei.set(this,void 0),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,ei,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ii(this,Qn,"m",ti).bind(this)),"f")}get length(){const e=ii(this,ei,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ii(this,ei,"f");t.currentNode=t.root;let n=t.nextNode(),i=0;for(;i<e&&null!==n;)n=t.nextNode(),i++;return n}namedItem(e){if(!e)return null;const t=ii(this,ei,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ii(this,ei,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let ci=class extends HTMLElement{constructor(){super(),si.add(this),this.cells=new ni(this),this.rows=new ai(this);const e=this.attachShadow({mode:"open"});e.append(ri.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,si,"m",oi).bind(this))}};si=new WeakSet,oi=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(ri=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),J("slot")),ci=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridbody"})],ci);var li,hi,di,ui=ci;let pi=class extends HTMLElement{constructor(){super(),li.add(this),this.cells=new ni(this),this.rows=new ai(this);const e=this.attachShadow({mode:"open"});e.append(di.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,li,"m",hi).bind(this))}};li=new WeakSet,hi=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof $t)).forEach(((e,t)=>{e.posinset=t}))},(di=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),J("slot")),pi=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-gridhead"})],pi);var fi,mi,bi,gi,wi,vi,yi,Ei,xi,ki,Ti,Si,Pi,Ci,Ri,Ni,Li,Ii,Mi,Ai,Oi,ji,Wi,Fi,Di,_i,Bi,Hi,Ki,qi,Vi,$i,Ui,zi,Ji,Xi,Yi,Gi,Zi,Qi,es=pi,ts=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ns=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},is=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let ss=class extends HTMLElement{constructor(){super(),fi.add(this),mi.set(this,void 0),bi.set(this,void 0),gi.set(this,void 0),wi.set(this,void 0),vi.set(this,void 0),yi.set(this,void 0),is(this,vi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ns(this,fi,"m",Ei).bind(this)),"f"),is(this,yi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ns(this,fi,"m",xi).bind(this)),"f"),is(this,mi,-1,"f"),is(this,bi,-1,"f"),is(this,gi,!1,"f"),is(this,wi,!1,"f"),this.cells=new ni(this),this.rows=new ai(this);const e=this.attachShadow({mode:"open"});e.append(Qi.content.cloneNode(!0)),this.addEventListener("contextmenu",ns(this,fi,"m",Ui).bind(this)),this.addEventListener("click",ns(this,fi,"m",zi).bind(this)),this.addEventListener("focus",ns(this,fi,"m",Xi).bind(this)),this.addEventListener("focusin",ns(this,fi,"m",Yi).bind(this)),this.addEventListener("keydown",ns(this,fi,"m",Ji).bind(this)),this.addEventListener("select",ns(this,fi,"m",Gi).bind(this)),e.addEventListener("slotchange",ns(this,fi,"m",Zi).bind(this))}get activeCellIndex(){return ns(this,mi,"f")}get activeCell(){return this.cells.item(ns(this,mi,"f"))??null}get activeRowIndex(){return ns(this,bi,"f")}get activeRow(){return this.rows.item(ns(this,bi,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof ui))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof es))??null}beginSelection(){is(this,gi,!0,"f")}endSelection(){is(this,gi,!1,"f"),ns(this,wi,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),is(this,wi,!1,"f"))}clearSelection(){ns(this,fi,"m",Ii).call(this),ns(this,fi,"m",Mi).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};mi=new WeakMap,bi=new WeakMap,gi=new WeakMap,wi=new WeakMap,vi=new WeakMap,yi=new WeakMap,fi=new WeakSet,Ei=function(e){return e instanceof $t&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ui||e instanceof Yt||e instanceof Gn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},xi=function(e){return e instanceof Gn&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof ui||e instanceof Yt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ki=function(e,t){const n=Array.from(this.cells.values()),i=n.indexOf(e),s=n.indexOf(t);return i>-1&&s>-1?e==t?[e]:n.slice(Math.min(i,s),Math.max(i,s)+1):[]},Ti=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let i=ns(this,fi,"m",qi).call(this,e);for(;i&&i!==t;)n.push(i),i=ns(this,fi,"m",qi).call(this,i);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let i=ns(this,fi,"m",Ki).call(this,e);for(;i&&i!==t;)n.push(i),i=ns(this,fi,"m",Ki).call(this,i);return n.push(t),n}return[]},Si=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Pi=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ci=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ri=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ni=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Li=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ii=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Mi=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Ai=function(e){const{activeCell:t,cells:n}=this;if(null!==t&&t!==e)t.active=!1,t.tabIndex=-1;else if(null!==e){ns(this,vi,"f").currentNode=e,e.active=!0,e.tabIndex=0;const t=ns(this,fi,"m",_i).call(this,e);t&&ns(this,fi,"m",Oi).call(this,t),is(this,mi,Array.from(n.values()).indexOf(e),"f")}else is(this,mi,-1,"f")},Oi=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e?(t.active=!1,t.tabIndex=-1):null!==e?(ns(this,yi,"f").currentNode=e,e.active=!0,e.tabIndex=0,is(this,bi,Array.from(n.values()).indexOf(e),"f")):is(this,bi,-1,"f")},ji=function(e){const t=ns(this,vi,"f");return t.currentNode=e,t.firstChild()},Wi=function(e){const t=ns(this,vi,"f");return t.currentNode=e,t.lastChild()},Fi=function(e){const t=ns(this,vi,"f");return t.currentNode=e,t.previousNode()},Di=function(e){const t=ns(this,vi,"f");return t.currentNode=e,t.nextNode()},_i=function(e){const t=ns(this,yi,"f");return t.currentNode=e,t.parentNode()},Bi=function(){const e=ns(this,yi,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Hi=function(){const e=ns(this,yi,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ki=function(e){const t=ns(this,yi,"f");return t.currentNode=e,t.previousNode()},qi=function(e){const t=ns(this,yi,"f");return t.currentNode=e,t.nextNode()},Vi=function(e){const t=ns(this,fi,"m",_i).call(this,e);if(t){const{cells:n}=t,i=Array.from(n.values()).indexOf(e),s=ns(this,fi,"m",Ki).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(i,e.length))}}return null},$i=function(e){const t=ns(this,fi,"m",_i).call(this,e);if(t){const{cells:n}=t,i=Array.from(n.values()).indexOf(e),s=ns(this,fi,"m",qi).call(this,t);if(s){const{cells:e}=s;return e.item(Math.min(i,e.length))}}return null},Ui=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof ui))?t.find((e=>e instanceof $t)):null;n instanceof $t&&(this.selectedCells().includes(n)||ns(this,fi,"m",Si).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof ui))?t.find((e=>e instanceof Gn)):null;n instanceof Gn&&(this.selectedRows().includes(n)||ns(this,fi,"m",Pi).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},zi=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:i}=this;switch(i){case"cell":{const i=e.composedPath(),s=i.find((e=>e instanceof ui))?i.find((e=>e instanceof $t)):null,o=this.selectedCells();if(s instanceof $t)if(n||t){if(t)s.selected?ns(this,fi,"m",Ni).call(this,s):ns(this,fi,"m",Ci).call(this,s),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=ns(this,fi,"m",ki).call(this,t,s);e&&(o.includes(s)?ns(this,fi,"m",Ni).call(this,...e):ns(this,fi,"m",Ci).call(this,...e))}else ns(this,fi,"m",Si).call(this,s);e.stopPropagation()}}else ns(this,fi,"m",Si).call(this,s);break}case"row":{const i=this.selectedRows(),s=e.composedPath(),o=s.find((e=>e instanceof ui))?s.find((e=>e instanceof Gn)):null;if(o instanceof Gn)if(n||t){if(t)o.selected?ns(this,fi,"m",Li).call(this,o):ns(this,fi,"m",Ri).call(this,o),e.stopPropagation();else if(n){const t=i[i.length-1];if(t){const e=ns(this,fi,"m",Ti).call(this,t,o);e&&(i.includes(o)?ns(this,fi,"m",Li).call(this,...e):ns(this,fi,"m",Ri).call(this,...e))}else ns(this,fi,"m",Pi).call(this,o);e.stopPropagation()}}else ns(this,fi,"m",Pi).call(this,o);break}}},Ji=function(e){const{key:t}=e,{selectby:n,activeCell:i,activeRow:s}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=ns(this,fi,"m",Bi).call(this),t=e?ns(this,fi,"m",ji).call(this,e):null,n=ns(this,fi,"m",Hi).call(this),i=n?ns(this,fi,"m",Wi).call(this,n):null;if(t&&i){const e=ns(this,fi,"m",ki).call(this,t,i);e&&ns(this,fi,"m",Si).call(this,...e)}break}case"row":{const e=ns(this,fi,"m",Bi).call(this),t=ns(this,fi,"m",Hi).call(this);if(e&&t){const n=ns(this,fi,"m",Ti).call(this,e,t);n&&ns(this,fi,"m",Pi).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&i){const t=ns(this,fi,"m",Fi).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ns(this,fi,"m",Ni).call(this,t):ns(this,fi,"m",Ci).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&i){const t=ns(this,fi,"m",Di).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ns(this,fi,"m",Ni).call(this,t):ns(this,fi,"m",Ci).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=s??ns(this,fi,"m",Bi).call(this),n=i?ns(this,fi,"m",Vi).call(this,i):t?ns(this,fi,"m",ji).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ns(this,fi,"m",Ni).call(this,n):ns(this,fi,"m",Ci).call(this,n))}break}case"row":{const t=s?ns(this,fi,"m",Ki).call(this,s):ns(this,fi,"m",Bi).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ns(this,fi,"m",Li).call(this,t):ns(this,fi,"m",Ri).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=s??ns(this,fi,"m",Hi).call(this),n=i?ns(this,fi,"m",$i).call(this,i):t?ns(this,fi,"m",Wi).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ns(this,fi,"m",Ni).call(this,n):ns(this,fi,"m",Ci).call(this,n))}}break;case"row":{const t=s?ns(this,fi,"m",qi).call(this,s):ns(this,fi,"m",Hi).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ns(this,fi,"m",Li).call(this,t):ns(this,fi,"m",Ri).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(s){const e=ns(this,fi,"m",ji).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ns(this,fi,"m",Bi).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(s){const e=ns(this,fi,"m",Wi).call(this,s);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ns(this,fi,"m",Hi).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":i&&(ns(this,fi,"m",Si).call(this,i),i.click());break;case"row":s&&(ns(this,fi,"m",Pi).call(this,s),s.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":ns(this,fi,"m",Ii).call(this),ns(this,fi,"m",Ai).call(this,null);break;case"row":ns(this,fi,"m",Mi).call(this),ns(this,fi,"m",Oi).call(this,null)}this.focus(),e.stopPropagation()}},Xi=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},Yi=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof $t&&ns(this,fi,"m",Ai).call(this,t);break;case"row":t instanceof Gn&&ns(this,fi,"m",Oi).call(this,t)}},Gi=function(){ns(this,gi,"f")?is(this,wi,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Zi=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Gn)).forEach(((e,t)=>{e.posinset=t}))},(Qi=J("template")).content.append(J("slot")),ts([q({type:String})],ss.prototype,"name",void 0),ts([q({type:String,defaultValue:"cell"})],ss.prototype,"selectby",void 0),ss=ts([V({name:"e-grid"})],ss);var os,rs,as,cs,ls,hs,ds,us,ps,fs,ms,bs,gs,ws,vs,ys,Es,xs,ks,Ts,Ss=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ps=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Cs=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let Rs=class extends HTMLElement{constructor(){super(),os.add(this),rs.set(this,void 0),as.set(this,void 0),Cs(this,as,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ps(this,os,"m",cs).bind(this)),"f"),this.items=this.getElementsByTagName("e-menuitem"),Cs(this,rs,-1,"f"),this.attachShadow({mode:"open"}).append(Ts.content.cloneNode(!0)),this.addEventListener("click",Ps(this,os,"m",Es).bind(this)),this.addEventListener("focusin",Ps(this,os,"m",ws).bind(this)),this.addEventListener("focusout",Ps(this,os,"m",vs).bind(this)),this.addEventListener("mouseover",Ps(this,os,"m",ys).bind(this)),this.addEventListener("keydown",Ps(this,os,"m",xs).bind(this)),this.addEventListener("trigger",Ps(this,os,"m",ks).bind(this))}get activeIndex(){return Ps(this,rs,"f")}get activeItem(){return this.items.item(Ps(this,rs,"f"))??null}};rs=new WeakMap,as=new WeakMap,os=new WeakSet,cs=function(e){return e instanceof on?NodeFilter.FILTER_ACCEPT:e instanceof An?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ls=function(){const e=Ps(this,as,"f");return e.currentNode=e.root,e.firstChild()},hs=function(){const e=Ps(this,as,"f");return e.currentNode=e.root,e.lastChild()},ds=function(e){const t=Ps(this,as,"f");return t.currentNode=e,t.previousSibling()},us=function(e){const t=Ps(this,as,"f");return t.currentNode=e,t.nextSibling()},ps=function(e){const{menu:t}=e;if(t){const e=Ps(this,as,"f");return e.currentNode=t,e.firstChild()}return null},fs=function(e){const{activeItem:t,expanded:n,items:i}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Cs(this,rs,Array.from(i).indexOf(e),"f")):Cs(this,rs,-1,"f")},ms=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},bs=function(e){return e.closest(":is(e-menubar, e-menu)")==this},gs=function(e){return Ps(this,os,"a",ms).find((t=>t.contains(e)))??null},ws=function(e){const{target:t}=e;if(t instanceof Element){const e=Ps(this,os,"m",gs).call(this,t);Ps(this,os,"m",fs).call(this,e)}},vs=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Ps(this,os,"m",fs).call(this,null),this.expanded=!1}},ys=function(e){const{target:t}=e,{expanded:n,activeItem:i}=this;if(t instanceof on&&Ps(this,os,"m",bs).call(this,t)&&t!==i&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Es=function(e){const{target:t}=e,{expanded:n,activeItem:i}=this;if(t instanceof on&&Ps(this,os,"m",bs).call(this,t)){const e=!n;if(this.expanded=e,e){i&&!i.expanded&&i.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},xs=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:i}=this;switch(t){case"ArrowLeft":(i?Ps(this,os,"m",ds).call(this,i)??Ps(this,os,"m",hs).call(this):Ps(this,os,"m",ls).call(this))?.focus({preventScroll:!0}),({activeItem:i}=this),n&&i&&Ps(this,os,"m",ps).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?Ps(this,os,"m",us).call(this,i)??Ps(this,os,"m",ls).call(this):Ps(this,os,"m",hs).call(this))?.focus({preventScroll:!0}),({activeItem:i}=this),n&&i&&Ps(this,os,"m",ps).call(this,i)?.focus({preventScroll:!0});break;case"Enter":i&&(this.expanded=!n,Ps(this,os,"m",ps).call(this,i)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,i&&(i.collapse(),i.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},ks=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.expanded=!1,this.focus({preventScroll:!0})},(Ts=J("template")).content.append(J("slot")),Ss([q({type:String})],Rs.prototype,"name",void 0),Ss([q({type:Boolean})],Rs.prototype,"expanded",void 0),Rs=Ss([V({name:"e-menubar"})],Rs);var Ns,Ls,Is,Ms,As,Os,js,Ws,Fs=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ds=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},_s=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Bs=class extends HTMLElement{constructor(){super(),Ns.add(this),Ls.set(this,void 0),Ds(this,Ls,null,"f");const e=this.attachShadow({mode:"open"});e.append(J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"}})]}),J("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",_s(this,Ns,"m",Os).bind(this)),this.addEventListener("click",_s(this,Ns,"m",Ms).bind(this)),this.addEventListener("focusout",_s(this,Ns,"m",As).bind(this)),this.addEventListener("trigger",_s(this,Ns,"m",Ws).bind(this)),e.addEventListener("slotchange",_s(this,Ns,"m",js).bind(this))}get menu(){return _s(this,Ls,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,_s(this,Ns,"m",Is).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};Ls=new WeakMap,Ns=new WeakSet,Is=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:i,left:s,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=o+r-h,p=n+a-d;t.setProperty("left",`${u>0?l+o-r:l+s}px`),t.setProperty("top",`${p>0?c+n-a:c+i}px`)}},Ms=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},As=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Os=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},js=function(e){const{target:t}=e,n=t.assignedElements()[0];Ds(this,Ls,n instanceof Kn?n:null,"f")},Ws=function(){this.collapse(),this.focus({preventScroll:!0})},Fs([q({type:String})],Bs.prototype,"name",void 0),Fs([q({type:Boolean})],Bs.prototype,"disabled",void 0),Fs([q({type:Boolean})],Bs.prototype,"expanded",void 0),Bs=Fs([V({name:"e-menubutton"})],Bs);var Hs,Ks=Bs,qs=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",J("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:Ks.prototype}),Vs=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let $s=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Hs.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(Hs=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    ']}),J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"label"}})]})),Vs([q({type:String})],$s.prototype,"name",void 0),Vs([q({type:String})],$s.prototype,"value",void 0),Vs([q({type:String,observed:!0})],$s.prototype,"label",void 0),Vs([q({type:String})],$s.prototype,"description",void 0),Vs([q({type:Boolean})],$s.prototype,"disabled",void 0),Vs([q({type:Boolean})],$s.prototype,"active",void 0),Vs([q({type:Boolean})],$s.prototype,"selected",void 0),Vs([q({type:Boolean})],$s.prototype,"default",void 0),$s=Vs([V({name:"e-option"})],$s);var Us,zs=$s;let Js=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Us.content.cloneNode(!0))}};(Us=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot")),Js=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-optiongroup"})],Js);var Xs,Ys,Gs,Zs=Js,Qs=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Ys=new WeakMap,Xs=new WeakSet,Gs=function(e){return e instanceof zs?NodeFilter.FILTER_ACCEPT:e instanceof Zs?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var eo,to,no,io,so,oo,ro,ao,co,lo,ho,uo,po,fo,mo,bo,go,wo,vo,yo,Eo=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},xo=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},ko=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let To=class extends Dt{constructor(){super(),eo.add(this),to.set(this,void 0),no.set(this,void 0),io.set(this,void 0),ko(this,to,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,xo(this,eo,"m",so).bind(this)),"f"),ko(this,no,-1,"f"),ko(this,io,-1,"f"),this.options=new class{constructor(e){Xs.add(this),Ys.set(this,void 0),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,Ys,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Qs(this,Xs,"m",Gs).bind(this)),"f")}get length(){const e=Qs(this,Ys,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=Qs(this,Ys,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=Qs(this,Ys,"f");t.currentNode=t.root;let n=t.nextNode(),i=0;for(;i<e&&null!==n;)n=t.nextNode(),i++;return n}namedItem(e){if(!e)return null;const t=Qs(this,Ys,"f"),{root:n}=t;t.currentNode=n;let i=t.nextNode();for(;null!==i&&i.name!=e;)i=t.nextNode();return i}*values(){const e=Qs(this,Ys,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(yo.content.cloneNode(!0)),this.addEventListener("click",xo(this,eo,"m",fo).bind(this)),this.addEventListener("focusin",xo(this,eo,"m",mo).bind(this)),this.addEventListener("focusout",xo(this,eo,"m",bo).bind(this)),this.addEventListener("keydown",xo(this,eo,"m",go).bind(this)),this.addEventListener("mouseover",xo(this,eo,"m",wo).bind(this)),e.addEventListener("slotchange",xo(this,eo,"m",vo).bind(this))}get activeIndex(){return xo(this,no,"f")}get selectedIndex(){return xo(this,io,"f")}get activeOption(){return this.options.item(xo(this,no,"f"))??null}get selectedOption(){return this.options.item(xo(this,io,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(xo(this,eo,"m",uo).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;xo(this,eo,"m",po).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};to=new WeakMap,no=new WeakMap,io=new WeakMap,eo=new WeakSet,so=function(e){return e instanceof zs?NodeFilter.FILTER_ACCEPT:e instanceof Zs?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},oo=function(){const e=xo(this,to,"f");return e.currentNode=e.root,e.firstChild()},ro=function(){const e=xo(this,to,"f");return e.currentNode=e.root,e.lastChild()},ao=function(e){const t=xo(this,to,"f");return t.currentNode=e,t.previousNode()},co=function(e){const t=xo(this,to,"f");return t.currentNode=e,t.nextNode()},lo=function(e){e&&!e.disabled&&(this.value=e.value)},ho=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,i=n.querySelector("[part='description']");i&&(i.textContent=e.description),ko(this,no,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else ko(this,no,-1,"f")},uo=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:i}=this,s=n.querySelector("[part='value']");s&&(s.textContent=e.label),e.selected=!0,i&&(i.selected=!1),ko(this,io,Array.from(t.values()).indexOf(e),"f")}}else ko(this,no,-1,"f")},po=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:i,left:s}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window;n.setProperty("top",`${i+r}px`),n.setProperty("left",`${s+o}px`)},fo=function(e){const{target:t}=e;t instanceof zs?(xo(this,eo,"m",lo).call(this,t),this.collapse()):t==this&&this.toggle()},mo=function(e){const{target:t}=e,{expanded:n}=this;t instanceof zs&&(n||this.expand(),xo(this,eo,"m",ho).call(this,t))},bo=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),xo(this,eo,"m",ho).call(this,null))},go=function(e){const{key:t}=e,{options:n,activeOption:i,selectedOption:s,selectedIndex:o,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==i){const e=xo(this,eo,"m",ao).call(this,i)??xo(this,eo,"m",oo).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=xo(this,eo,"m",ao).call(this,s)??xo(this,eo,"m",oo).call(this);e&&xo(this,eo,"m",lo).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==i){const e=xo(this,eo,"m",co).call(this,i)??xo(this,eo,"m",ro).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==s){const e=xo(this,eo,"m",co).call(this,s)??xo(this,eo,"m",ro).call(this);e&&xo(this,eo,"m",lo).call(this,e)}e.stopPropagation();break;case"Home":{const t=xo(this,eo,"m",oo).call(this);null!==t&&(r?t.focus({preventScroll:!0}):xo(this,eo,"m",lo).call(this,t)),e.stopPropagation();break}case"End":{const t=xo(this,eo,"m",ro).call(this);null!==t&&(r?t.focus({preventScroll:!0}):xo(this,eo,"m",lo).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==i&&xo(this,eo,"m",lo).call(this,i);else{const e=n.item(o);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:i}=this,{length:s}=t;if(1==s){const s=t.charCodeAt(0),o=Array.from(n.values()),r=o.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==s)),a=o.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==s&&t>i)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},wo=function(e){const{target:t}=e;t instanceof zs&&t.focus({preventScroll:!0})},vo=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof zs));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=xo(this,eo,"m",oo).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&xo(this,eo,"m",uo).call(this,e)}},(yo=J("template")).content.append(J("div",{attributes:{part:"content"},children:[J("label",{attributes:{part:"label"}}),J("output",{attributes:{part:"value"}})]}),J("div",{attributes:{part:"options"},children:[J("slot"),J("hr",{attributes:{part:"separator"}}),J("span",{attributes:{part:"description"}})]})),Eo([q({type:String})],To.prototype,"name",void 0),Eo([q({type:String,observed:!0})],To.prototype,"label",void 0),Eo([q({type:String,observed:!0})],To.prototype,"value",void 0),Eo([q({type:String,defaultValue:"select",observed:!0})],To.prototype,"type",void 0),Eo([q({type:Boolean})],To.prototype,"expanded",void 0),To=Eo([V({name:"e-select"})],To);var So,Po,Co,Ro,No,Lo,Io,Mo,Ao,Oo,jo,Wo,Fo,Do,_o=To,Bo=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ho=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Ko=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let qo=class extends Dt{constructor(){super(),So.add(this),Po.set(this,void 0),Co.set(this,void 0),Ho(this,Po,null,"f"),Ho(this,Co,null,"f");const e=this.attachShadow({mode:"open"});e.append(Wo.content.cloneNode(!0)),e.addEventListener("slotchange",Ko(this,So,"m",jo).bind(this))}get menubutton(){return Ko(this,Po,"f")}get select(){return Ko(this,Co,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&Ko(this,So,"m",Ro).call(this);break}}}};Po=new WeakMap,Co=new WeakMap,So=new WeakSet,Ro=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},No=function(e){const t=Ko(this,So,"m",Ao).bind(this);Fo.set(e,t),e.addEventListener("keydown",t)},Lo=function(e){const t=Fo.get(e);t&&e.removeEventListener("keydown",t)},Io=function(e){const t=Ko(this,So,"m",Oo).bind(this);Do.set(e,t),e.addEventListener("trigger",t)},Mo=function(e){const t=Do.get(e);t&&e.removeEventListener("trigger",t)},Ao=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},Oo=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},jo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=Ko(this,Po,"f");null!==e&&(Ko(this,So,"m",Mo).call(this,e),Ko(this,So,"m",Lo).call(this,e));const n=t.assignedElements()[0];e=n instanceof Ks?n:null,null!==e&&(Ko(this,So,"m",Io).call(this,e),Ko(this,So,"m",No).call(this,e)),Ho(this,Po,e,"f");break}case"select":{let e=Ko(this,Co,"f");null!==e&&Ko(this,So,"m",Lo).call(this,e);const n=t.assignedElements()[0];e=n instanceof _o?n:null,null!==e&&Ko(this,So,"m",No).call(this,e),Ho(this,Co,e,"f");break}}},(Wo=J("template")).content.append(J("span",{attributes:{part:"content"},children:[J("span",{attributes:{part:"icon"}}),J("span",{attributes:{part:"label"}}),J("slot",{attributes:{name:"select"}}),J("slot",{attributes:{name:"menubutton"}})]})),Fo=new WeakMap,Do=new WeakMap,Bo([q({type:Boolean})],qo.prototype,"active",void 0),Bo([q({type:String,observed:!0})],qo.prototype,"value",void 0),Bo([q({type:String})],qo.prototype,"name",void 0),Bo([q({type:String,observed:!0})],qo.prototype,"label",void 0),Bo([q({type:String})],qo.prototype,"type",void 0),qo=Bo([V({name:"e-toolbaritem"})],qo);var Vo,$o=qo,Uo=Object.assign((function(e){const{label:t,name:n,type:i,value:s,trigger:o,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),J("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:s,type:i},children:r?[r]:a?[a]:void 0,listeners:{trigger:o}})}),{prototype:$o.prototype,button:e=>new Uo({...e,type:"button"}),checkbox:e=>new Uo({...e,type:"checkbox"}),radio:e=>new Uo({...e,type:"radio"}),menubutton:e=>new Uo({...e,type:"menubutton"}),select:e=>new Uo({...e,type:"select"})}),zo=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Jo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Vo.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(Vo=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),J("slot")),zo([q({type:String})],Jo.prototype,"name",void 0),zo([q({type:String,observed:!0})],Jo.prototype,"label",void 0),zo([q({type:Boolean,observed:!0})],Jo.prototype,"disabled",void 0),Jo=zo([V({name:"e-toolbaritemgroup"})],Jo);var Xo,Yo,Go,Zo,Qo,er,tr,nr,ir=Jo,sr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},or=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};class rr{constructor(e){Xo.add(this),Yo.set(this,void 0),or(this,Yo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,sr(this,Xo,"m",Go).bind(this)),"f")}get length(){const e=sr(this,Yo,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=sr(this,Yo,"f");t.currentNode=t.root;let n=t.nextNode(),i=0;for(;i<e&&null!==n;)n=t.nextNode(),i++;return n}namedItem(e){if(!e)return null;const t=sr(this,Yo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new cr(t.root,e):n}*values(){const e=sr(this,Yo,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}Yo=new WeakMap,Xo=new WeakSet,Go=function(e){return e instanceof $o?NodeFilter.FILTER_ACCEPT:e instanceof ir?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},rr.HTMLEToolBarItemRadioListBase=(nr=class{constructor(e,t){Zo.add(this),Qo.set(this,void 0),er.set(this,void 0),or(this,Qo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,sr(this,Zo,"m",tr).bind(this)),"f"),or(this,er,t,"f")}get value(){const e=sr(this,er,"f"),t=sr(this,Qo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=sr(this,er,"f"),t=sr(this,Qo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:i,type:s}=n;i==e&&"radio"==s&&(yield n),n=t.nextNode()}}},Qo=new WeakMap,er=new WeakMap,Zo=new WeakSet,tr=function(e){return e instanceof $o?NodeFilter.FILTER_ACCEPT:e instanceof ir?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},nr);var ar=rr,cr=rr.HTMLEToolBarItemRadioListBase;delete rr.HTMLEToolBarItemRadioListBase;var lr,hr,dr,ur,pr,fr,mr,br,gr,wr,vr,yr,Er,xr,kr,Tr,Sr=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Pr=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Cr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Rr=class extends HTMLElement{constructor(){super(),lr.add(this),hr.set(this,void 0),dr.set(this,void 0),Pr(this,dr,-1,"f"),Pr(this,hr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Cr(this,lr,"m",ur).bind(this)),"f"),this.items=new ar(this),this.attachShadow({mode:"open"}).append(Tr.content.cloneNode(!0)),this.addEventListener("change",Cr(this,lr,"m",wr).bind(this)),this.addEventListener("click",Cr(this,lr,"m",vr).bind(this)),this.addEventListener("focusin",Cr(this,lr,"m",yr).bind(this)),this.addEventListener("focusout",Cr(this,lr,"m",Er).bind(this)),this.addEventListener("keydown",Cr(this,lr,"m",xr).bind(this)),this.addEventListener("trigger",Cr(this,lr,"m",kr).bind(this))}get activeItem(){return this.items.item(Cr(this,dr,"f"))??null}get activeIndex(){return Cr(this,dr,"f")}};hr=new WeakMap,dr=new WeakMap,lr=new WeakSet,ur=function(e){return e instanceof $o?NodeFilter.FILTER_ACCEPT:e instanceof ir?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pr=function(){const e=Cr(this,hr,"f");return e.currentNode=e.root,e.firstChild()},fr=function(){const e=Cr(this,hr,"f");return e.currentNode=e.root,e.lastChild()},mr=function(e){const t=Cr(this,hr,"f");return t.currentNode=e,t.previousSibling()},br=function(e){const t=Cr(this,hr,"f");return t.currentNode=e,t.nextSibling()},gr=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Pr(this,dr,Array.from(n.values()).indexOf(e),"f")):Pr(this,dr,-1,"f")},wr=function(e){const{target:t}=e;if(t instanceof _o){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:i}=e;if(t==n&&n&&"select"==i){const{value:t}=e,{value:i}=n;t!==i&&(e.value=i,e.trigger())}}}},vr=function(e){const{target:t}=e;if(t instanceof $o){const{type:e}=t;t.trigger()}},yr=function(e){const{target:t}=e,{items:n}=this,i=Array.from(n.values()).find((e=>e.contains(t)))??null;Cr(this,lr,"m",gr).call(this,i)},Er=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Cr(this,lr,"m",gr).call(this,null)},xr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Cr(this,lr,"m",mr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Cr(this,lr,"m",pr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Cr(this,lr,"m",br).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Cr(this,lr,"m",fr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Cr(this,lr,"m",pr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Cr(this,lr,"m",fr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},kr=function(e){const{target:t}=e;if(t instanceof $o){const{type:e,name:n,value:i}=t;"radio"==e&&Array.from(new cr(this,n).values()).forEach((e=>{e.checked=e.value==i}))}},(Tr=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),J("slot")),Sr([q({type:String})],Rr.prototype,"name",void 0),Sr([q({type:String})],Rr.prototype,"orientation",void 0),Rr=Sr([V({name:"e-toolbar"})],Rr);var Nr=Rr,Lr=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ir=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),J("slot"))}};Lr([q({type:String})],Ir.prototype,"name",void 0),Ir=Lr([V({name:"e-tabpanel"})],Ir);var Mr,Ar=Ir,Or=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},jr=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Wr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Fr=class extends HTMLElement{constructor(){super(),Mr.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),J("slot")),jr(this,Mr,null,"f")}get panel(){return Wr(this,Mr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Wr(this,Mr,"f")&&e instanceof Ar&&jr(this,Mr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Ar&&jr(this,Mr,e,"f"),e&&(e.hidden=!this.active)}}};Mr=new WeakMap,Or([q({type:String})],Fr.prototype,"name",void 0),Or([q({type:Boolean})],Fr.prototype,"disabled",void 0),Or([q({type:Boolean,observed:!0})],Fr.prototype,"active",void 0),Or([q({type:String,observed:!0})],Fr.prototype,"controls",void 0),Fr=Or([V({name:"e-tab"})],Fr);var Dr,_r=Fr,Br=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Hr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Kr=class extends HTMLElement{constructor(){super(),Dr.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),J("slot")),this.tabs=[],Br(this,Dr,1,"f")}get activeIndex(){return Hr(this,Dr,"f")}get activeTab(){return this.tabs[Hr(this,Dr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof _r));this.tabs=t,Br(this,Dr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof _r&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Br(this,Dr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Br(this,Dr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Dr=new WeakMap,Kr=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-tablist"})],Kr);var qr,Vr,$r,Ur,zr,Jr,Xr=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Yr=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Gr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Zr=class extends HTMLElement{constructor(){super(),qr.add(this),Vr.set(this,void 0),$r.set(this,void 0),Ur.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Jr.content.cloneNode(!0)),Yr(this,Vr,null,"f"),Yr(this,Ur,null,"f"),Yr(this,$r,null,"f"),e.addEventListener("slotchange",Gr(this,qr,"m",zr).bind(this))}get badge(){return Gr(this,Vr,"f")}get toolbar(){return Gr(this,$r,"f")}get menu(){return Gr(this,Ur,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};Vr=new WeakMap,$r=new WeakMap,Ur=new WeakMap,qr=new WeakSet,zr=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Yr(this,$r,e instanceof Nr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Yr(this,Vr,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Yr(this,Ur,e instanceof Kn?e:null,"f");break}}},(Jr=J("template")).content.append(J("slot")),Xr([q({type:String})],Zr.prototype,"name",void 0),Xr([q({type:Number})],Zr.prototype,"posinset",void 0),Xr([q({type:String,observed:!0})],Zr.prototype,"label",void 0),Xr([q({type:Boolean})],Zr.prototype,"droptarget",void 0),Xr([q({type:Boolean})],Zr.prototype,"active",void 0),Xr([q({type:Boolean,observed:!0})],Zr.prototype,"selected",void 0),Zr=Xr([V({name:"e-listitem"})],Zr);var Qr,ea,ta,na=Zr;let ia=class extends HTMLElement{constructor(){super(),Qr.add(this);const e=this.attachShadow({mode:"open"});e.append(ta.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,Qr,"m",ea).bind(this))}};Qr=new WeakSet,ea=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof na)).forEach(((e,t)=>{e.posinset=t}))},(ta=J("template")).content.append(J("slot")),ia=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([V({name:"e-listitemgroup"})],ia);var sa,oa,ra,aa,ca,la,ha,da,ua,pa,fa,ma,ba,ga,wa,va,ya,Ea,xa,ka,Ta,Sa,Pa,Ca,Ra,Na,La,Ia,Ma,Aa,Oa,ja,Wa=ia,Fa=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Da=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},_a=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let Ba=class extends HTMLElement{constructor(){super(),sa.add(this),oa.set(this,void 0),ra.set(this,void 0),aa.set(this,void 0),ca.set(this,void 0),la.set(this,void 0),_a(this,la,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Da(this,sa,"m",ha).bind(this)),"f"),_a(this,ra,-1,"f"),_a(this,oa,-1,"f"),_a(this,aa,!1,"f"),_a(this,ca,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(ja.content.cloneNode(!0)),this.addEventListener("contextmenu",Da(this,sa,"m",xa).bind(this)),this.addEventListener("click",Da(this,sa,"m",ka).bind(this)),this.addEventListener("dragend",Da(this,sa,"m",Ta).bind(this)),this.addEventListener("dragenter",Da(this,sa,"m",Sa).bind(this)),this.addEventListener("dragover",Da(this,sa,"m",Pa).bind(this)),this.addEventListener("dragleave",Da(this,sa,"m",Ca).bind(this)),this.addEventListener("dragstart",Da(this,sa,"m",Ra).bind(this)),this.addEventListener("drop",Da(this,sa,"m",Na).bind(this)),this.addEventListener("focus",Da(this,sa,"m",Ia).bind(this)),this.addEventListener("focusin",Da(this,sa,"m",Ma).bind(this)),this.addEventListener("keydown",Da(this,sa,"m",La).bind(this)),this.addEventListener("select",Da(this,sa,"m",Aa).bind(this)),e.addEventListener("slotchange",Da(this,sa,"m",Oa).bind(this))}get dropTargetItem(){return this.items[Da(this,oa,"f")]??null}get activeIndex(){return Da(this,ra,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){_a(this,aa,!0,"f")}endSelection(){_a(this,aa,!1,"f"),Da(this,ca,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),_a(this,ca,!1,"f"))}selectedItems(){const e=[],t=Da(this,la,"f");t.currentNode=t.root;let n=Da(this,sa,"m",wa).call(this);for(;null!==n;)n.selected&&e.push(n),n=Da(this,sa,"m",Ea).call(this,n);return e}};oa=new WeakMap,ra=new WeakMap,aa=new WeakMap,ca=new WeakMap,la=new WeakMap,sa=new WeakSet,ha=function(e){return e instanceof na?NodeFilter.FILTER_ACCEPT:e instanceof Wa?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},da=function(e,t){const n=Array.from(this.items),i=n.indexOf(e),s=n.indexOf(t);return i>-1&&s>-1?e==t?[e]:n.slice(Math.min(i,s),Math.max(i,s)+1):[]},ua=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},pa=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},fa=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},ma=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},ba=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,_a(this,ra,Array.from(n).indexOf(e),"f"))},ga=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,_a(this,oa,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,_a(this,oa,-1,"f"))},wa=function(){const e=Da(this,la,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},va=function(){const e=Da(this,la,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},ya=function(e){const t=Da(this,la,"f");return t.currentNode=e,t.previousNode()},Ea=function(e){const t=Da(this,la,"f");return t.currentNode=e,t.nextNode()},xa=function(e){const{target:t}=e;t instanceof na&&(this.selectedItems().includes(t)||Da(this,sa,"m",ua).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},ka=function(e){const{target:t,ctrlKey:n,shiftKey:i}=e,s=this.selectedItems();if(t instanceof na)if(i||n){if(n)t.selected?Da(this,sa,"m",fa).call(this,t):Da(this,sa,"m",pa).call(this,t),e.stopPropagation();else if(i){const n=s[s.length-1];if(n){const e=Da(this,sa,"m",da).call(this,n,t);e&&(s.includes(t)?Da(this,sa,"m",fa).call(this,...e):Da(this,sa,"m",pa).call(this,...e))}else Da(this,sa,"m",ua).call(this,t);e.stopPropagation()}}else Da(this,sa,"m",ua).call(this,t)},Ta=function(){Da(this,sa,"m",ga).call(this,null)},Sa=function(e){const{target:t}=e;t instanceof na&&Da(this,sa,"m",ga).call(this,t),e.preventDefault()},Pa=function(e){e.preventDefault()},Ca=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),i=n instanceof ShadowRoot?n.host:t;this.contains(i)||Da(this,sa,"m",ga).call(this,null)},Ra=function(e){const{target:t}=e;t instanceof na&&(this.selectedItems().includes(t)||Da(this,sa,"m",ua).call(this,t))},Na=function(){Da(this,sa,"m",ga).call(this,null)},La=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Da(this,la,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild()),s=Da(this,sa,"m",da).call(this,n,i);s&&Da(this,sa,"m",ua).call(this,...s)}e.preventDefault();break}case"ArrowUp":if(n){const t=Da(this,sa,"m",ya).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Da(this,sa,"m",fa).call(this,t):Da(this,sa,"m",pa).call(this,t))}}else{const e=Da(this,sa,"m",wa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Da(this,sa,"m",Ea).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Da(this,sa,"m",fa).call(this,t):Da(this,sa,"m",pa).call(this,t))}}else{const e=Da(this,sa,"m",va).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Da(this,sa,"m",wa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Da(this,sa,"m",va).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Da(this,sa,"m",ua).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Da(this,sa,"m",ma).call(this),Da(this,sa,"m",ba).call(this,null),this.focus(),e.stopPropagation()}},Ia=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ma=function(e){const{target:t}=e;t instanceof na&&Da(this,sa,"m",ba).call(this,t)},Aa=function(){Da(this,aa,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Oa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof na)).forEach(((e,t)=>{e.posinset=t}))},(ja=J("template")).content.append(J("style",{children:["\n\n                    "]}),J("slot",{children:[J("slot")]})),Fa([q({type:String})],Ba.prototype,"name",void 0),Fa([q({type:Boolean})],Ba.prototype,"droptarget",void 0),Ba=Fa([V({name:"e-list"})],Ba);var Ha,Ka=Ba,qa=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Va=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let $a=class extends HTMLElement{constructor(){super(),Ha.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),J("div",{attributes:{part:"container"},children:[J("slot",{children:["&nbsp;"]})]})),this.references=[],Va(this,Ha,null,"f")}get referee(){return function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,Ha,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return Va(e,Ha,this,"f"),e}};Ha=new WeakMap,qa([q({type:Boolean})],$a.prototype,"selected",void 0),qa([q({type:Boolean})],$a.prototype,"dragovered",void 0),qa([q({type:Boolean})],$a.prototype,"dragged",void 0),qa([q({type:Boolean})],$a.prototype,"disabled",void 0),$a=qa([V({name:"e-draggable"})],$a);var Ua,za,Ja=$a,Xa=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ya=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Ga=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Za=class extends HTMLElement{constructor(){super(),Ua.set(this,void 0),za.set(this,void 0),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),J("div",{attributes:{part:"container"},children:[J("slot")]})),Ya(this,Ua,[],"f"),Ya(this,za,[],"f")}get draggables(){return Ga(this,Ua,"f")}get selectedDraggables(){return Ga(this,za,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Ya(this,za,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof Ja));Ya(this,Ua,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),i=Math.sign(e-n),s=i>0?0:this.draggables.length-1,o=i>0?this.draggables.length-1:0,r=i>0?n:e,a=i>0?e:n;for(let e=s;e!==o+i;e+=i)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};Ua=new WeakMap,za=new WeakMap,Xa([q({type:Boolean})],Za.prototype,"disabled",void 0),Za=Xa([V({name:"e-dragzone"})],Za);var Qa=Za,ec=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let tc=class extends Qa{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(J("div",{attributes:{part:"appendarea"},children:[J("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,i=t.target;(i==this||this.draggables.includes(i))&&(i==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):i.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const i=e.dataTransfer;if(i){const e=i.getData("text/plain"),t=document.getElementById(e);if(t instanceof Qa){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof nc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let i=[],s=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),s=s<0?t:s):(this.appendChild(n),s=s<0?this.draggables.length-1:s),i.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),i.push(t),s=0}const o=this.shadowRoot?.querySelector("slot");return o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:i,position:s}}))}),{once:!0}),i}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const i=this.shadowRoot?.querySelector("slot");i&&i.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};ec([q({type:String})],tc.prototype,"name",void 0),ec([q({type:String})],tc.prototype,"dragovered",void 0),ec([q({type:String,observed:!0})],tc.prototype,"placeholder",void 0),ec([q({type:Boolean})],tc.prototype,"multiple",void 0),tc=ec([V({name:"e-dropzone"})],tc);var nc=tc,ic=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let sc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(J("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),J("div",{attributes:{part:"header"},children:[J("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),J("hr",{attributes:{part:"separator"}}),J("div",{attributes:{part:"body"},children:[J("slot")]}),J("hr",{attributes:{part:"separator"}}),J("div",{attributes:{part:"actions"},children:[J("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),J("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),J("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};ic([q({type:String})],sc.prototype,"type",void 0),sc=ic([V({name:"e-dialog"})],sc);var oc,rc,ac,cc,lc,hc,dc,uc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},pc=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},fc=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let mc=class extends HTMLElement{constructor(){super(),oc.add(this),rc.set(this,void 0),ac.set(this,void 0),this.attachShadow({mode:"open"}).append(dc.content.cloneNode(!0)),pc(this,rc,null,"f"),pc(this,ac,!1,"f"),this.addEventListener("pointerdown",fc(this,oc,"m",lc).bind(this)),this.addEventListener("pointermove",fc(this,oc,"m",hc).bind(this)),this.addEventListener("pointerup",fc(this,oc,"m",cc).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;pc(this,rc,document.getElementById(e),"f");break}}}};rc=new WeakMap,ac=new WeakMap,oc=new WeakSet,cc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),pc(this,ac,!1,"f")},lc=function(e){const{pointerId:t}=e,{controls:n}=this;pc(this,rc,document.getElementById(n),"f"),this.setPointerCapture(t),pc(this,ac,!0,"f")},hc=function(e){if(fc(this,ac,"f")){const t=fc(this,rc,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:i,movementY:s}=e,{width:o,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),p=Math.max(c,Math.min(Math.trunc(u+i),l-o)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+s),d-r));t.style.setProperty("left",`${p}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(dc=J("template")).content.append(J("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),uc([q({type:String,observed:!0})],mc.prototype,"controls",void 0),mc=uc([V({name:"e-handle"})],mc);var bc,gc,wc,vc,yc,Ec,xc,kc,Tc,Sc,Pc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Cc=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Rc=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let Nc=class extends HTMLElement{constructor(){super(),bc.add(this),gc.set(this,void 0),wc.set(this,void 0),vc.set(this,void 0),yc.set(this,void 0),this.attachShadow({mode:"open"}).append(Sc.content.cloneNode(!0)),Cc(this,gc,null,"f"),Cc(this,vc,null,"f"),Cc(this,yc,0,"f"),Cc(this,wc,!1,"f"),this.addEventListener("pointerdown",Rc(this,bc,"m",xc).bind(this)),this.addEventListener("pointermove",Rc(this,bc,"m",kc).bind(this)),this.addEventListener("pointerup",Rc(this,bc,"m",Ec).bind(this))}get target(){return Rc(this,gc,"f")}};gc=new WeakMap,wc=new WeakMap,vc=new WeakMap,yc=new WeakMap,bc=new WeakSet,Ec=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Cc(this,wc,!1,"f")},xc=function(e){const{pointerId:t}=e,{controls:n}=this,i=this.getRootNode();Cc(this,gc,i.getElementById(n),"f"),this.setPointerCapture(t),Cc(this,wc,!0,"f")},kc=function(e){Rc(this,wc,"f")&&(null==Rc(this,vc,"f")?(Cc(this,yc,e.movementY,"f"),Cc(this,vc,Rc(this,bc,"m",Tc).bind(this),"f"),requestAnimationFrame(Rc(this,vc,"f"))):Cc(this,yc,Rc(this,yc,"f")+e.movementY,"f"))},Tc=function(){const e=Rc(this,gc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,i=Rc(this,yc,"f"),s=parseFloat(t.getPropertyValue("height")),o=Math.trunc(s+("top"==n?-1:1)*i);e.style.setProperty("height",`${o}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Cc(this,vc,null,"f")},(Sc=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Pc([q({type:String})],Nc.prototype,"controls",void 0),Pc([q({type:String,defaultValue:"top"})],Nc.prototype,"growdir",void 0),Nc=Pc([V({name:"e-hsash"})],Nc);var Lc,Ic,Mc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Ac=class extends HTMLElement{constructor(){super(...arguments),Lc.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,Lc,"m",Ic).call(this,e)}};Lc=new WeakSet,Ic=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Mc([q({type:String})],Ac.prototype,"src",void 0),Ac=Mc([V({name:"e-import"})],Ac);var Oc,jc,Wc,Fc,Dc,_c=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Bc=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Hc=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};let Kc=class extends HTMLElement{constructor(){super(),Oc.add(this),jc.set(this,void 0),this.attachShadow({mode:"open"}),Bc(this,Oc,"m",Wc).call(this),Hc(this,jc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":Bc(this,Oc,"m",Wc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Hc(this,jc,e,"f")}get promise(){return Bc(this,jc,"f")}};jc=new WeakMap,Oc=new WeakSet,Wc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Dc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Fc.content.cloneNode(!0))}},(()=>{const e=J("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Fc=J("template")).content.append(t,J("div",{attributes:{part:"bar"},children:[J("div",{attributes:{part:"slider"},children:[J("div",{attributes:{part:"cursor"}})]})]})),(Dc=J("template")).content.append(n,J("div",{attributes:{part:"circle"}}))})(),_c([q({type:String,defaultValue:"bar",observed:!0})],Kc.prototype,"type",void 0),Kc=_c([V({name:"e-loader"})],Kc);var qc,Vc,$c,Uc,zc,Jc,Xc,Yc,Gc,Zc,Qc=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},el=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},tl=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let nl=class extends HTMLElement{constructor(){super(),qc.add(this),Vc.set(this,void 0),$c.set(this,void 0),Uc.set(this,void 0),zc.set(this,void 0),this.attachShadow({mode:"open"}).append(Zc.content.cloneNode(!0)),el(this,Vc,null,"f"),el(this,Uc,null,"f"),el(this,zc,0,"f"),el(this,$c,!1,"f"),this.addEventListener("pointerdown",tl(this,qc,"m",Xc).bind(this)),this.addEventListener("pointermove",tl(this,qc,"m",Yc).bind(this)),this.addEventListener("pointerup",tl(this,qc,"m",Jc).bind(this))}get target(){return tl(this,Vc,"f")}setWidth(e){const t=tl(this,Vc,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};Vc=new WeakMap,$c=new WeakMap,Uc=new WeakMap,zc=new WeakMap,qc=new WeakSet,Jc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),el(this,$c,!1,"f")},Xc=function(e){const{pointerId:t}=e,{controls:n}=this,i=this.getRootNode();el(this,Vc,i.getElementById(n),"f"),this.setPointerCapture(t),el(this,$c,!0,"f")},Yc=function(e){tl(this,$c,"f")&&(null==tl(this,Uc,"f")&&(el(this,Uc,tl(this,qc,"m",Gc).bind(this),"f"),requestAnimationFrame(tl(this,Uc,"f"))),el(this,zc,tl(this,zc,"f")+e.movementX,"f"))},Gc=function(){const e=tl(this,Vc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,i=tl(this,zc,"f"),s=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*i;this.setWidth(s),this.dispatchEvent(new Event("resize"))}el(this,zc,0,"f"),el(this,Uc,null,"f")},(Zc=J("template")).content.append(J("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Qc([q({type:String,observed:!0})],nl.prototype,"controls",void 0),Qc([q({type:String,defaultValue:"right"})],nl.prototype,"growdir",void 0),Qc([q({type:Boolean})],nl.prototype,"max",void 0),nl=Qc([V({name:"e-wsash"})],nl);var il,sl,ol=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};new WeakMap,sl=new WeakMap,il=new WeakSet;var rl,al,cl,ll,hl,dl,ul,pl,fl,ml,bl,gl,wl,vl,yl,El,xl,kl,Tl,Sl,Pl,Cl,Rl,Nl,Ll,Il,Ml,Al,Ol,jl,Wl,Fl,Dl,_l,Bl,Hl,Kl,ql,Vl,$l,Ul,zl,Jl,Xl,Yl,Gl,Zl,Ql,eh,th,nh,ih,sh,oh,rh,ah,ch,lh,hh,dh,uh,ph,fh,mh=(new($({name:"separator"})((al=class extends k{constructor(){super(),rl.set(this,void 0),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?s.call(e,n):s?s.value=n:t.set(e,n)}(this,rl,J("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,rl,"f").cloneNode(!0)}},rl=new WeakMap,al))),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n}),bh=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},gh=new($({name:"menuitem"})((wl=class extends k{constructor(){super(),cl.add(this),ll.set(this,void 0),hl.set(this,void 0),dl.set(this,void 0),ul.set(this,void 0),pl.set(this,void 0),fl.set(this,void 0),mh(this,ll,J("span",{attributes:{class:"icon"}}),"f"),mh(this,hl,J("span",{attributes:{class:"arrow"}}),"f"),mh(this,dl,J("span",{attributes:{class:"keyshortcuts"}}),"f"),mh(this,ul,J("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[bh(this,ll,"f").cloneNode(!0),J("span",{attributes:{class:"label"}})]}),"f"),mh(this,pl,["checkbox","radio","menu","submenu","button"],"f"),mh(this,fl,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(e){const t=bh(this,ul,"f").cloneNode(!0);if(t.addEventListener("click",bh(this,cl,"m",bl).bind(this)),void 0!==e){const{keyshortcut:n,checked:i,type:s,label:o,name:r,value:a,disabled:c}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==i&&this.setChecked(t,i),void 0!==s&&this.setType(t,s),void 0!==o&&this.setLabel(t,o),void 0!==r&&this.setName(t,r),void 0!==a&&this.setValue(t,a),void 0!==c&&this.setDisabled(t,c)}return t}slot(e,t){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",n.toString())}getMenu(e){return e.querySelector(":scope > .menu")}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){let n=e.querySelector(":scope > .keyshortcuts");if(null!==t){if(e.setAttribute("aria-keyshortcuts",t),!n){const t=bh(this,cl,"m",ml).call(this,e);n=bh(this,dl,"f").cloneNode(!0),t.after(n)}n.textContent=t}else e.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(e){return bh(this,cl,"m",ml).call(this,e).textContent??""}setLabel(e,t){bh(this,cl,"m",ml).call(this,e).textContent=t}getType(e){const t=bh(this,pl,"f"),{classList:n}=e;for(let e of t)if(n.contains(`menuitem-${e}`))return e;return null}setType(e,t){const n=bh(this,fl,"f"),i=bh(this,ll,"f"),s=bh(this,hl,"f"),{role:o,hasIcon:r,hasArrow:a}=n[t],c=this.getType(e),{classList:l}=e;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${t}`),e.setAttribute("role",o);const h=bh(this,cl,"m",ml).call(this,e),d=e.querySelector(":scope > .icon"),u=e.querySelector(":scope > .arrow");r?!d&&h&&h.before(i.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(s.cloneNode(!0)):u&&u.remove()}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getChecked(e){return JSON.parse(e.getAttribute("aria-checked")??(!1).toString())}setChecked(e,t){e.setAttribute("aria-checked",t.toString())}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}trigger(e){if(!this.getDisabled(e)){switch(this.getType(e)){case"checkbox":this.setChecked(e,!this.getChecked(e));break;case"radio":this.setChecked(e,!0);break;case"menu":case"submenu":this.toggle(e)}e.dispatchEvent(new Event("trigger",{bubbles:!0}))}}toggle(e,t){if(!this.getDisabled(e)){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&bh(this,cl,"m",gl).call(this,e)}}expand(e){this.getDisabled(e)||this.getExpanded(e)||(this.setExpanded(e,!0),bh(this,cl,"m",gl).call(this,e))}collapse(e){this.getDisabled(e)||this.getExpanded(e)&&this.setExpanded(e,!1)}},ll=new WeakMap,hl=new WeakMap,dl=new WeakMap,ul=new WeakMap,pl=new WeakMap,fl=new WeakMap,cl=new WeakSet,ml=function(e){const t=e.querySelector(":scope > .label");if(!t)throw new Error("No label found.");return t},bl=function(e){const{target:t,currentTarget:n}=e;t==n&&this.trigger(n)},gl=function(e){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:i,bottom:s,left:o,right:r}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(e)){const e=r+a-d,t=i+c-u;n.setProperty("left",`${e>0?h+o-a:h+o}px`),n.setProperty("top",`${t>0?l+i-c:l+s}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),p=r+a-d,f=i+c-u;n.setProperty("left",(p>0?o-a-h:r-h)+"px");const m=window.getComputedStyle(t),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);n.setProperty("top",`${f>0?s-c-e+v:i-e-w}px`)}}}},wl))),wh=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},vh=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},yh=(new($({name:"menubar"})((Fl=class extends k{constructor(){super(),vl.add(this),yl.set(this,void 0),El.set(this,void 0),wh(this,yl,J("div",{attributes:{class:"menubar",role:"menubar",tabindex:-1}}),"f"),wh(this,El,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,vh(this,vl,"m",xl).bind(this)),"f")}create(){const e=vh(this,yl,"f").cloneNode(!0);return e.addEventListener("click",vh(this,vl,"m",Ol).bind(this)),e.addEventListener("focusin",vh(this,vl,"m",Il).bind(this)),e.addEventListener("focusout",vh(this,vl,"m",Ml).bind(this)),e.addEventListener("mouseover",vh(this,vl,"m",Al).bind(this)),e.addEventListener("keydown",vh(this,vl,"m",jl).bind(this)),e.addEventListener("trigger",vh(this,vl,"m",Wl).bind(this)),e}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}},yl=new WeakMap,El=new WeakMap,vl=new WeakSet,xl=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem"))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},kl=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Tl=function(e){const t=vh(this,El,"f");return t.currentNode=e,t.firstChild()},Sl=function(e){const t=vh(this,El,"f");return t.currentNode=e,t.lastChild()},Pl=function(e){const t=vh(this,El,"f");return t.currentNode=e,t.previousSibling()},Cl=function(e){const t=vh(this,El,"f");return t.currentNode=e,t.nextSibling()},Rl=function(e){const t=gh.getMenu(e);if(t){const e=vh(this,El,"f");return e.currentNode=t,e.firstChild()}return null},Nl=function(e,t){return t.closest(":is(.menubar, .menu)")==e},Ll=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Il=function(e){const{target:t,currentTarget:n}=e,i=n;if(t instanceof HTMLElement&&this.getExpanded(i)){const e=vh(this,vl,"m",Ll).call(this,i,t);e&&gh.expand(e)}},Ml=function(e){const{target:t,currentTarget:n,relatedTarget:i}=e,s=n;if(t instanceof HTMLElement&&!t.contains(i)){const e=vh(this,vl,"m",Ll).call(this,s,t);e&&gh.collapse(e)}!s.contains(i)&&this.setExpanded(s,!1)},Al=function(e){const{target:t,currentTarget:n}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=vh(this,vl,"m",kl).call(this,i),n=this.getExpanded(i);if(vh(this,vl,"m",Nl).call(this,i,t)&&t!==e&&n){const e=gh.getMenu(t);e?e.focus({preventScroll:!0}):t.focus({preventScroll:!0})}}},Ol=function(e){const{target:t,currentTarget:n}=e,i=n,s=vh(this,vl,"m",kl).call(this,i),o=this.getExpanded(i);if(t instanceof HTMLElement&&t.classList.contains("menuitem")&&vh(this,vl,"m",Nl).call(this,i,t)){const e=!o;this.setExpanded(i,e),e?(null===s||gh.getExpanded(s)||gh.expand(s),gh.getMenu(t)?.focus({preventScroll:!0})):i.focus({preventScroll:!0})}},jl=function(e){const{key:t,currentTarget:n}=e,i=n;let s=vh(this,vl,"m",kl).call(this,i);const o=this.getExpanded(i);switch(t){case"ArrowLeft":(s?vh(this,vl,"m",Pl).call(this,s)??vh(this,vl,"m",Sl).call(this,i):vh(this,vl,"m",Tl).call(this,i))?.focus({preventScroll:!0}),s=vh(this,vl,"m",kl).call(this,i),o&&s&&vh(this,vl,"m",Rl).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?vh(this,vl,"m",Cl).call(this,s)??vh(this,vl,"m",Tl).call(this,i):vh(this,vl,"m",Sl).call(this,i))?.focus({preventScroll:!0}),s=vh(this,vl,"m",kl).call(this,i),o&&s&&vh(this,vl,"m",Rl).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.setExpanded(i,!o),vh(this,vl,"m",Rl).call(this,s)?.focus({preventScroll:!0}),e.preventDefault());break;case"Escape":o?(this.setExpanded(i,!1),s&&(gh.collapse(s),s.focus({preventScroll:!0}))):i.focus({preventScroll:!0})}},Wl=function(e){const{target:t,currentTarget:n}=e,i=n;if(this.getExpanded(i)&&t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=gh.getType(t);t!==vh(this,vl,"m",kl).call(this,i)&&"menu"!==e&&"submenu"!==e&&(gh.collapse(t),this.setExpanded(i,!1),i.focus({preventScroll:!0}))}},Fl))),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n}),Eh=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},xh=(new($({name:"menu"})((oh=class extends k{constructor(){super(),Dl.add(this),_l.set(this,void 0),Bl.set(this,void 0),Hl.set(this,void 0),yh(this,_l,J("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),yh(this,Bl,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Eh(this,Dl,"m",Kl).bind(this)),"f"),yh(this,Hl,new WeakMap,"f")}create(e){const t=Eh(this,_l,"f").cloneNode(!0);if(t.addEventListener("mouseover",Eh(this,Dl,"m",ih).bind(this)),t.addEventListener("mouseout",Eh(this,Dl,"m",nh).bind(this)),t.addEventListener("focusout",Eh(this,Dl,"m",eh).bind(this)),t.addEventListener("keydown",Eh(this,Dl,"m",th).bind(this)),t.addEventListener("trigger",Eh(this,Dl,"m",sh).bind(this)),void 0!==e){const{contextual:n}=e;void 0!==n&&this.setContextual(t,n)}return t}positionContextual(e,t,n){const{style:i}=e,{width:s,height:o}=e.getBoundingClientRect(),{scrollX:r,scrollY:a}=window,c=t+r,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+s-h,p=l+o-d;i.setProperty("left",`${u>0?c-s:c}px`),i.setProperty("top",`${p>0?l-o:l}px`)}getContextual(e){const{classList:t}=e;return t.contains("menu-contextual")}setContextual(e,t){const{classList:n}=e;t?n.add("menu-contextual"):n.remove("menu-contextual")}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},_l=new WeakMap,Bl=new WeakMap,Hl=new WeakMap,Dl=new WeakSet,Kl=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem"))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},ql=function(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>gh.collapse(e)))},Vl=function(e,t){return t.closest(".menu")==e},$l=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Ul=function(e){const t=Eh(this,Bl,"f");return t.currentNode=e,t.firstChild()},zl=function(e){const t=Eh(this,Bl,"f");return t.currentNode=e,t.lastChild()},Jl=function(e){const t=Eh(this,Bl,"f");return t.currentNode=e,t.previousSibling()},Xl=function(e){const t=Eh(this,Bl,"f");return t.currentNode=e,t.nextSibling()},Yl=function(e){const t=gh.getMenu(e);if(t){const e=Eh(this,Bl,"f");return e.currentNode=t,e.firstChild()}return null},Gl=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Zl=async function(e,t){return new Promise(((n,i)=>{const s=setTimeout((()=>{n(void 0)}),t??0);Eh(this,Hl,"f").set(e,{clear:()=>{clearTimeout(s),i()}})})).then((()=>{Eh(this,Hl,"f").delete(e)}))},Ql=function(e){const t=Eh(this,Hl,"f").get(e);void 0!==t&&(Eh(this,Hl,"f").delete(e),t.clear())},eh=function(e){const{target:t,currentTarget:n,relatedTarget:i}=e,s=n;if(!s.contains(i)&&t instanceof HTMLElement)if(this.getContextual(s))try{s.remove()}catch(e){}else{const e=Eh(this,Dl,"m",$l).call(this,s,t);e&&gh.collapse(e)}},th=function(e){const{currentTarget:t,key:n}=e,i=t,s=Eh(this,Dl,"m",Gl).call(this,i);switch(n){case"ArrowUp":(s?Eh(this,Dl,"m",Jl).call(this,s)??Eh(this,Dl,"m",zl).call(this,i):Eh(this,Dl,"m",Ul).call(this,i))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(s?Eh(this,Dl,"m",Xl).call(this,s)??Eh(this,Dl,"m",Ul).call(this,i):Eh(this,Dl,"m",zl).call(this,i))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Eh(this,Dl,"m",Ul).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Eh(this,Dl,"m",zl).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(s){switch(gh.getType(s)){case"submenu":gh.expand(s),Eh(this,Dl,"m",Yl).call(this,s)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":s&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i||(gh.collapse(s),s.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(s)switch(gh.getType(s)){case"submenu":gh.getExpanded(s)||(gh.expand(s),Eh(this,Dl,"m",Yl).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation())}}},nh=function(e){const{target:t,currentTarget:n,relatedTarget:i}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Eh(this,Dl,"m",$l).call(this,s,t);if(null!==n&&("submenu"!=gh.getType(n)||gh.getExpanded(n)||Eh(this,Dl,"m",Ql).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const t=Eh(this,Dl,"m",Gl).call(this,s);null!==t&&"submenu"==gh.getType(t)&&gh.getExpanded(t)&&(Eh(this,Dl,"m",Ql).call(this,t),Eh(this,Dl,"m",Zl).call(this,t,400).then((()=>{gh.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:o}=e,{left:r,right:a,top:c,bottom:l}=s.getBoundingClientRect(),h=!(r>n||a<n||c>o||l<o),d=s.contains(i);h&&d&&(i instanceof HTMLElement&&i.classList.contains("menu")&&i!==s?i.focus({preventScroll:!0}):s.focus({preventScroll:!0})),h||s.focus({preventScroll:!0})}}},ih=function(e){const{target:t,currentTarget:n}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=Eh(this,Dl,"m",$l).call(this,i,t);if(null!==n&&("submenu"==gh.getType(n)&&gh.getExpanded(n)&&Eh(this,Dl,"m",Ql).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const e=Eh(this,Dl,"m",Gl).call(this,i);null!==e&&"submenu"==gh.getType(e)&&gh.getExpanded(e)&&!e.contains(t)&&(Eh(this,Dl,"m",Ql).call(this,e),Eh(this,Dl,"m",Zl).call(this,e,400).then((()=>{gh.collapse(e)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==gh.getType(n)&&(gh.getExpanded(n)?gh.getMenu(n)?.focus({preventScroll:!0}):(Eh(this,Dl,"m",Ql).call(this,n),Eh(this,Dl,"m",Zl).call(this,n,200).then((()=>{const e=Eh(this,Dl,"m",Gl).call(this,i);Eh(this,Dl,"m",ql).call(this,i),e&&(Eh(this,Dl,"m",Ql).call(this,e),gh.expand(e),gh.getMenu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},sh=function(e){const{target:t,currentTarget:n}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem"))if(this.getContextual(i))try{i.remove()}catch(e){}else if(Eh(this,Dl,"m",Vl).call(this,i,t)){const e=gh.getType(t),n=gh.getName(t),s=gh.getValue(t);"radio"==e&&i.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${n}]`).forEach((e=>{gh.setChecked(e,gh.getValue(e)==s)}))}},oh))),function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n}),kh=(new($({name:"menuitemgroup"})((ah=class extends k{constructor(){super(),rh.set(this,void 0),xh(this,rh,J("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}(this,rh,"f").cloneNode(!0)}},rh=new WeakMap,ah))),function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}),Th=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Sh=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class Ph extends _{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new B(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Ch{constructor(e){ch.set(this,void 0),Th(this,ch,e,"f")}static from(e){return new Ch(e)}show(){Sh(this,ch,"f").forEach((e=>{e.show()}))}hide(){Sh(this,ch,"f").forEach((e=>{e.hide()}))}display(){const e=Sh(this,ch,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Sh(this,ch,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ph){const{items:i}=n,s=e.get(i);s?s.push(t):e.set(i,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ch=new WeakMap;class Rh extends _{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Ph?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Ph){const{items:t}=e;t&&t.remove(this)}}}kh([W()],Rh.prototype,"visibility",void 0);let Nh=class extends Tt{constructor(e){super(),lh.add(this),hh.set(this,void 0),dh.set(this,void 0),this.attachShadow({mode:"open"}),Th(this,hh,new WeakMap,"f"),Th(this,dh,new WeakMap,"f"),this.setModel(e??new Ph)}getListElement(){const{model:e}=this;return Sh(this,hh,"f").get(e)?.deref()??null}getListItemElement(e){return Sh(this,dh,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return z(J("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),J("slot"))}renderLight(){const{model:e}=this,t=J("e-list",{attributes:{tabindex:0},children:[J("e-listitemgroup",{children:ie(e.items,(e=>Sh(this,lh,"m",uh).call(this,e)))})],listeners:{contextmenu:Sh(this,lh,"m",ph).bind(this),keydown:Sh(this,lh,"m",fh).bind(this)}});return Sh(this,hh,"f").set(e,new WeakRef(t)),t}};hh=new WeakMap,dh=new WeakMap,lh=new WeakSet,uh=function(e){const t=J("e-listitem",{attributes:{tabindex:-1,name:e.label,draggable:"true"},dataset:{index:e.index},children:[J("span",{children:[e.label]}),J("e-toolbar",{attributes:{tabindex:0},children:[J("e-toolbaritemgroup",{children:[Uo.menubutton({name:"settings",label:"Actions",menubutton:new qs({menu:Q(e,new qn({children:[new On({items:[rn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),rn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new On({items:[rn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,i)=>{}))})}),Q(e,J("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,i)=>{e.title=i?"Hide":"Show",e.checked=i}))]})]})]});return Sh(this,dh,"f").set(e,new WeakRef(t)),t},ph=function(e){const{clientX:t,clientY:n,currentTarget:i,target:s}=e,{model:o}=this;if(i instanceof Ka&&s instanceof na){const i=o.getItemByIndex(parseInt(s.dataset.index)),r=J("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{trigger:()=>{Ch.from(this.selectedItems()).display()}}}),J("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{trigger:()=>{Ch.from(this.selectedItems()).remove()}}})]}),J("e-menuitemgroup",{attributes:{tabindex:-1},children:[J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[i.visibility?"Hide":"Show"],listeners:{trigger:()=>{const e=Ch.from(this.selectedItems());i.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{s.focus({preventScroll:!0})}}});s.append(r),r.positionContextual(t,n),r.focus({preventScroll:!0}),e.preventDefault()}},fh=function(e){const{currentTarget:t,key:n}=e;if(t instanceof Ka)switch(n){case"Delete":Ch.from(this.selectedItems()).remove(),e.preventDefault()}},Nh=kh([V({name:"v-list"})],Nh);var Lh,Ih,Mh,Ah,Oh,jh,Wh,Fh,Dh,_h,Bh,Hh=Nh,Kh=function(e,t,n,i){var s,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,n,r):s(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},qh=function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},Vh=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class $h extends _{constructor(e){super();const t=new B(e?.rows??[]);t.setParent(this),this.rows=t;const n=new B(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,i)=>{const s=e.extract(n).toString(),o=e.extract(i).toString();return t*s.localeCompare(o)}))}}class Uh extends _{constructor(e){super();const{name:t,label:n,type:i,extract:s}=e;this.name=t,this.label=n,this.type=i,this.extract=s,this.filters=e.filters??[],this.sortorder=1}}Kh([W()],Uh.prototype,"sortorder",void 0);class zh extends _{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}Kh([W()],zh.prototype,"name",void 0),Kh([W()],zh.prototype,"age",void 0);let Jh=class extends Tt{constructor(e){super(),Lh.add(this),Ih.set(this,void 0),Mh.set(this,void 0),Ah.set(this,void 0),Oh.set(this,void 0),jh.set(this,void 0),qh(this,Ah,[],"f"),qh(this,Oh,null,"f"),qh(this,jh,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new $h),qh(this,Mh,((e,t)=>J("label",{children:[t.extract(e)]})),"f"),qh(this,Ih,(e=>J("label",{children:[e.label]})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){qh(this,Ih,e,"f")}setCellDelegate(e){qh(this,Mh,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Vh(this,jh,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return z(J("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),J("link",{attributes:{rel:"stylesheet",href:"css/views/gridview.css"}}),J("div",{children:[J("input",{attributes:{type:"search"},listeners:{input:Vh(this,Lh,"m",_h).bind(this)}})]}),J("e-grid",{attributes:{tabindex:0,selectby:"row"},children:[J("e-gridhead",{children:[J("e-gridrow",{children:ie(e.columns,(e=>Vh(this,Lh,"m",Wh).call(this,e)))})]}),J("e-gridbody",{children:ie(e.rows,(e=>Vh(this,Lh,"m",Fh).call(this,e)))})]}))}setSearchFilter(e){qh(this,Oh,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Vh(this,Ah,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Vh(this,Ah,"f").includes(e)||(Vh(this,Ah,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Vh(this,Ah,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Vh(this,Ah,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Vh(this,Ah,"f").every((t=>t.filter(e))))})));const{gridElement:i}=this;i.beginSelection(),i.selectedRows().forEach((e=>e.selected=!1)),i.endSelection()}};Ih=new WeakMap,Mh=new WeakMap,Ah=new WeakMap,Oh=new WeakMap,jh=new WeakMap,Lh=new WeakSet,Wh=function(e){const{model:t}=this;return Q(e,J("e-gridcell",{attributes:{tabindex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[J("span",{attributes:{class:"gridcell-content"},children:[J("label",{attributes:{class:"gridcell-label"},children:[e.label],listeners:{click:Vh(this,Lh,"m",Bh).bind(this)}}),J("e-toolbar",{attributes:{tabindex:-1},children:[J("e-toolbaritem",{attributes:{type:"menubutton",tabindex:-1},children:[J("e-menubutton",{attributes:{slot:"menubutton",tabindex:-1},children:[J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[J("e-menuitem",{attributes:{type:"button",tabindex:-1},children:["Resize Column"],listeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),J("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Sort",Q(e,J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[J("e-menuitem",{attributes:{type:"radio",name:"sort",value:"1",tabindex:-1},children:["Ascending"]}),J("e-menuitem",{attributes:{type:"radio",name:"sort",value:"-1",tabindex:-1},children:["Descending"]})],listeners:{trigger:n=>{const{target:i}=n,s=i.value;t.sortByColumn(e,parseInt(s))}}}),["sortorder"],((e,t,n,i)=>{e.querySelectorAll("e-menuitem[name^=sort]").forEach((e=>{e.checked=parseInt(e.value)===i}))}))]}),J("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Filter",J("e-menu",{attributes:{slot:"menu",tabindex:-1},children:e.filters.map(((e,t)=>J("e-menuitem",{attributes:{tabindex:-1,type:"checkbox",checked:Vh(this,Ah,"f").includes(e)},children:[e.name],listeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof on){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[J("e-wsash",{attributes:{controls:`${e.name}-columnheader`},listeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,i)=>{switch(t){case"sortorder":void 0!==i?e.dataset.sortorder=i.toString():delete e.dataset.sortorder}}))},Fh=function(e){const{model:t}=this,n=J("e-gridrow",{attributes:{tabindex:-1},children:ie(t.columns,(t=>Vh(this,Lh,"m",Dh).call(this,e,t)))});return Vh(this,jh,"f").set(e,new WeakRef(n)),n},Dh=function(e,t){return J("e-gridcell",{attributes:{type:"gridcell",headers:t.name},children:[Vh(this,Mh,"f").call(this,e,t)]})},_h=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Bh=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:i}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(i.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Kh([q({type:Boolean,observed:!0})],Jh.prototype,"resizable",void 0),Kh([q({type:Boolean,observed:!0})],Jh.prototype,"sortable",void 0),Jh=Kh([V({name:"v-grid"})],Jh);var Xh=Jh;async function Yh(){const e=new Mt,t=new Rt({items:[new Lt({label:"TI 0",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({label:"TI 1",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({type:"leaf",label:"TI 2"}),new Lt({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:i}=t;return i.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Lt({label:"yo",type:"parent",items:[new Lt({type:"leaf",label:"plop"})]}));const n=new Hh;n.setModel(new Ph({items:[new Rh({label:"Hey"}),new Rh({label:"Yo"})]})),document.body.append(n);const i=new Xh;i.resizable=!0,i.sortable=!0,i.setColumnDelegate((e=>z(J("label",{children:[e.label]})))),i.setModel(new $h({columns:[new Uh({name:"name",label:"Name",type:String,extract:e=>e.name}),new Uh({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new zh({name:"Denis",age:13}),new zh({name:"Jean-Charles",age:32}),new zh({name:"Charles",age:25})]})),document.body.append(i);const s=X("menubar",{slotted:[X("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu",disabled:!0},slotted:[X("menu",{slotted:[X("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),X("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},slotted:[X("menu",{slotted:[X("menuitemgroup",{slotted:[X("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B",disabled:!0,checked:!0}}),X("menuitem",{properties:{type:"button",label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),X("separator"),X("menuitem",{properties:{label:"Submenu",type:"submenu"},slotted:[X("menu",{slotted:[X("menuitem",{properties:{label:"MenuItem 1",type:"radio",name:"radio",value:"1"}}),X("menuitem",{properties:{type:"radio",label:"MenuItem 2",name:"radio",value:"2"}})]})]})]})]})]});document.body.append(s),(new class{constructor(){this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(U(e)).forEach((e=>{e instanceof Dt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(U(e)).forEach((e=>{e instanceof Dt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:i,checked:s}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,s);break;case"radio":this.executeRadioAction(t,i)}}));break;case"trigger":if(t instanceof Dt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,i){const s=i?.hotkey,o=i?.key,r=i?.value,a=i?.checked,c={name:e,trigger:t,key:o,type:n};r&&(c.value=r),void 0!==o&&void 0!==r&&localStorage.setItem(o,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return s&&(this._hotkeys[l]=s),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const i=this._actions.findIndex((t=>t.name==e));if(i>-1){const s=this._actions[i];let o;switch(t){case"radio":o=s.value??"";break;case"checkbox":o=s.value??!1}s.trigger(o,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:i,key:s}=e;e.value=t,s&&localStorage.setItem(s,t);const o=this._actionElements[n];if(o)switch(i){case"radio":o.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":o.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const i=this._actions[n],{type:s,value:o,checked:r}=i;switch(s){case"radio":"radio"==t.type?t.checked=t.value==o:"select"==t.type&&(t.value=o);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map