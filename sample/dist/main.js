var main;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Ql});var n,o,i,s,r,a,c,l,h,d,p,f,u,m,g,v,b,w,y,E=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},x=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class k{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new S(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new S(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return k.PROPERTY_CHANGE}get LIST_REMOVE(){return k.LIST_REMOVE}get LIST_INSERT(){return k.LIST_INSERT}get LIST_SORT(){return k.LIST_SORT}}var T=k;n=new WeakMap;var S=class{constructor(e){n.set(this,void 0),E(this,n,e.slice(),"f")}get length(){return x(this,n,"f").length}item(e){return x(this,n,"f")[e]??null}values(){return x(this,n,"f").values()}};class P{constructor(e){o.set(this,void 0),i.set(this,void 0),this.type=e,E(this,o,null,"f"),E(this,i,null,"f")}get currentTarget(){return x(this,o,"f")}get target(){return x(this,i,"f")}}o=new WeakMap,i=new WeakMap,P.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof P&&E(e,o,t,"f")}setTarget(e,t){e instanceof P&&E(e,i,t,"f")}};var I=P.ModelEventTargetAccessor;delete P.ModelEventTargetAccessor;var C=P;s=new WeakMap;class R extends class{constructor(){s.set(this,void 0),E(this,s,new Map,"f")}receiveEvent(e){const{type:t}=e,n=x(this,s,"f").get(t);I.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=x(this,s,"f").get(e);n?n.push(t):x(this,s,"f").set(e,[t])}removeEventListener(e,t){const n=x(this,s,"f").get(e);if(n){const o=n.findIndex((e=>e==t));o>-1&&n.splice(o,1),0==n.length&&x(this,s,"f").delete(e)}}dispatchEvent(e){I.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),r.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),E(this,a,null,"f"),E(this,c,[],"f"),E(this,l,!1,"f")}get parentNode(){return x(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");E(this,a,e,"f")}else E(this,a,null,"f")}beginChanges(){E(this,l,!0,"f")}endChanges(){this.dispatchEvent(new C("modelchange")),x(this,c,"f").splice(0),E(this,l,!1,"f")}getRecords(){return x(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,r=new WeakSet,h=function(e,t,n){const o=x(this,c,"f"),i=new T({target:this,changeType:T.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});o.push(i),this.dispatchEvent(new C("modelchange")),o.splice(0)},d=function(e){x(this,c,"f").push(e),x(this,l,"f")||(this.dispatchEvent(new C("modelchange")),x(this,c,"f").splice(0))},R.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,o){e instanceof R&&x(e,r,"m",h).call(e,t,n,o)}handleRecord(e,t){e instanceof R&&x(e,r,"m",d).call(e,t)}};var N=R.ModelNodeRecordsAccessor;delete R.ModelNodeRecordsAccessor;var L=R;const O=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:o}=n;Object.defineProperty(o,t,{set:function(e){const n=A.getProperty(this,t);return A.setProperty(this,t,e),e!==n&&N.triggerChange(this,t,n,e),!0},get:function(){return A.getProperty(this,t)},enumerable:!0})}};class j extends R{constructor(){super(),p.set(this,void 0),E(this,p,new Map,"f")}}p=new WeakMap,j.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof j&&x(e,p,"f").set(t,n)}getProperty(e,t){if(e instanceof j)return x(e,p,"f").get(t)}};var A=j.ModelObjectPropertiesAccessor;delete j.ModelObjectPropertiesAccessor;var M=j;f=new WeakMap;var W=class extends R{constructor(e){super(),f.set(this,void 0),E(this,f,e?.slice()??[],"f")}setParent(e){super.setParent(e),x(this,f,"f").forEach((t=>{t.setParent(e)}))}get length(){return x(this,f,"f").length}get(e){return x(this,f,"f")[e]??null}index(e,t){return x(this,f,"f").indexOf(e,t)}values(){return x(this,f,"f").values()}sort(e){const t=x(this,f,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),E(this,f,t.map((e=>e.item)),"f");const n=new T({target:this,changeType:T.LIST_SORT,sortedIndices:t.map((e=>e.index))});N.handleRecord(this,n)}prepend(...e){const t=x(this,f,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const o=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:0,insertedItems:e});N.handleRecord(this,o)}append(...e){const t=x(this,f,"f"),{length:n}=t,{parentNode:o}=this;o&&e.forEach((e=>{e.setParent(o)})),t.push(...e);const i=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:n,insertedItems:e});N.handleRecord(this,i)}insert(e,...t){const n=x(this,f,"f"),{length:o}=n;if(Math.abs(e)<=o){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<o?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=o-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});N.handleRecord(this,i)}}remove(e){const t=x(this,f,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:o}=this;o&&e.setParent(null);const i=new T({target:this,changeType:T.LIST_REMOVE,removedIndex:n,removedItems:[e]});N.handleRecord(this,i)}}clear(){const e=x(this,f,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const o=new T({target:this,changeType:T.LIST_REMOVE,removedIndex:0,removedItems:t});N.handleRecord(this,o)}}};m=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,u=new WeakSet,w=function(){const e=x(this,g,"f").splice(0);e.length>0&&x(this,m,"f").call(this,e)},y=function(e){if(!x(this,v,"f")){const{target:t,currentTarget:n}=e,o=x(this,b,"f").get(n);if(o){const{options:e}=o,{properties:i,propertiesFilter:s,childList:r,subtree:a}=e;a?i&&t instanceof L?(s?x(this,g,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return s.includes(t)}))):x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):r&&t instanceof W&&(x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):t==n&&(i&&t instanceof L?(s?x(this,g,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return s.includes(t)}))):x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):r&&t instanceof W&&(x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)))}}};var F=class{constructor(e){u.add(this),m.set(this,void 0),g.set(this,void 0),v.set(this,void 0),b.set(this,void 0),E(this,m,e,"f"),E(this,g,[],"f"),E(this,v,!1,"f"),E(this,b,new WeakMap,"f")}observe(e,t){E(this,v,!1,"f");const n=x(this,b,"f");let o=n.get(e);if(o)n.set(e,o);else{const i=x(this,u,"m",y).bind(this);e.addEventListener("modelchange",i),o={listener:i,options:t},n.set(e,o)}}unobserve(e){let t=x(this,b,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){x(this,g,"f").splice(0),E(this,v,!0,"f")}};function _(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const D=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:i}=o,s=n.toString(),r=_(s),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(o,"observedAttributes",o);Array.isArray(e)?e.push(r):Object.defineProperty(o,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,s,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(i,s,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(i,s,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(i,s,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},B=function(e){return t=>H(t,e)},H=function(e,t){const{name:n,options:o}=t;return customElements.get(n)||customElements.define(n,e,o),e};function*K(e){yield e;const t=e.childNodes,n=t.length;let o=0;for(;o<n;){const e=t.item(o);null!==e&&(yield*K(e)),o++}}const V=function(e){return(t,n)=>{const{constructor:o}=t,{prototype:i}=o,s=n.toString(),{selector:r}=e,a=e.withinShadowRoot?function(){return this.shadowRoot.querySelector(r)}:function(){return this.querySelector(r)};Object.defineProperty(i,s,{get:a})}};function q(...e){const t=document.createDocumentFragment();return t.append(...e),t}function $(e,t){if(t){const{options:n,properties:o,part:i,exportParts:s,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(d,{[e]:t})})),o&&Object.keys(o).forEach((e=>{const t=o[e];void 0!==o[e]&&Object.assign(d,{[e]:t})})),i){const{part:e}=d;i.forEach((t=>{e.add(t)}))}if(s&&d.setAttribute("exportparts",s.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(_(e),""):d.setAttribute(_(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.replaceChildren(...c(d)):d.replaceChildren(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}const z=new WeakMap,J=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,o=z.get(t);if(o){const{reactiveElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),U=new F((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:o,newValue:i}=e,{reactiveElementsArray:s}=z.get(t);s.forEach((e=>{const{elementRef:t,react:s,properties:r}=e,a=t.deref();a&&r.includes(n)&&s(a,n,o,i)}))}))}));function X(e,t,n,o){const i={elementRef:new WeakRef(t),react:o,properties:n},s=z.get(e);if(J.register(t,{model:e,reactiveElement:i}),s){const{reactiveElementsArray:e,observerOptions:t}=s,{propertiesFilter:o}=t;e.push(i),t.propertiesFilter=o?o.concat(n.filter((e=>!o.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},o=[i];z.set(e,{observerOptions:t,reactiveElementsArray:o}),U.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&o(t,n,void 0,i)}})),t}const Y=new WeakMap,G=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,o=Y.get(t);if(o){const{reactiveChildElementsArray:e}=o;e.splice(e.indexOf(n),1)}})),Z=new F((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,o=n,{length:i}=o,{reactiveChildElementsArray:s}=Y.get(o);s.forEach((n=>{const{parentRef:o,mapping:s,placeholder:r}=n,a=o.deref();if(a){const{firstChild:n,children:o}=a,{length:c}=o;r&&i>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map((e=>s(e))),{length:r}=o;t<r?o[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:s}=i;t=t??document.createRange();const r=n+(s-1);r<c&&(t.setStartBefore(o[n]),t.setEndAfter(o[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(o);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&r&&a.append(r)}}))}))}));function Q(e,t,n){return o=>{const i=new WeakRef(o),s=Y.get(e),r={parentRef:i,mapping:t,placeholder:n};if(G.register(o,{list:e,reactiveChildElement:r}),s){const{reactiveChildElementsArray:e}=s;e.push(r)}else{const t=[r];Y.set(e,{reactiveChildElementsArray:t}),Z.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function ee(e,t,n,o,i){if(t==o)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var te,ne,oe;let ie=class extends HTMLElement{constructor(){super(),te.add(this);const e=this.attachShadow({mode:"open"});e.append(oe.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,te,"m",ne).bind(this))}};te=new WeakSet,ne=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof be)).forEach(((e,t)=>{e.posinset=t}))},(oe=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),ie=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-treeitemgroup"})],ie);var se,re,ae,ce,le,he=ie,de=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},pe=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},fe=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let ue=class extends HTMLElement{constructor(){super(),se.add(this),re.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(le.content.cloneNode(!0)),e.addEventListener("slotchange",pe(this,se,"m",ce).bind(this)),this.addEventListener("click",pe(this,se,"m",ae).bind(this)),fe(this,re,null,"f")}get group(){return pe(this,re,"f")}connectedCallback(){this.level=(()=>{let e=0,{parentElement:t}=this;for(;t instanceof he;){if(e++,({parentElement:t}=t),!(t instanceof be))return e;({parentElement:t}=t)}return t instanceof rt&&e++,e})()}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};re=new WeakMap,se=new WeakSet,ae=function(e){const{target:t,shiftKey:n,ctrlKey:o}=e,{type:i}=this;this!=t||"parent"!=i||n||o||this.toggle()},ce=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];fe(this,re,e instanceof he?e:null,"f");break}}},le=$("template",{content:[$("div",{part:["content"],children:[$("span",{part:["arrow"]}),$("slot")]}),$("slot",{properties:{name:"group"}})]}),de([D({type:String})],ue.prototype,"name",void 0),de([D({type:Number})],ue.prototype,"posinset",void 0),de([D({type:String,observed:!0})],ue.prototype,"label",void 0),de([D({type:Boolean,observed:!0})],ue.prototype,"expanded",void 0),de([D({type:Boolean})],ue.prototype,"droptarget",void 0),de([D({type:Boolean})],ue.prototype,"active",void 0),de([D({type:Boolean,observed:!0})],ue.prototype,"selected",void 0),de([D({type:Number,observed:!0})],ue.prototype,"level",void 0),de([D({type:String,defaultValue:"leaf"})],ue.prototype,"type",void 0),ue=de([B({name:"e-treeitem"})],ue);var me,ge,ve,be=ue,we=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};ge=new WeakMap,me=new WeakSet,ve=function(e){return e instanceof be?NodeFilter.FILTER_ACCEPT:e instanceof he?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ye,Ee,xe,ke,Te,Se,Pe,Ie,Ce,Re,Ne,Le,Oe,je,Ae,Me,We,Fe,_e,De,Be,He,Ke,Ve,qe,$e,ze,Je,Ue,Xe,Ye,Ge,Ze,Qe=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},et=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},tt=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let nt=class extends HTMLElement{constructor(){super(),ye.add(this),Ee.set(this,void 0),xe.set(this,void 0),ke.set(this,void 0),Te.set(this,void 0),Se.set(this,void 0),tt(this,Se,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,et(this,ye,"m",Pe).bind(this)),"f"),tt(this,Ee,-1,"f"),tt(this,xe,-1,"f"),tt(this,ke,!1,"f"),tt(this,Te,!1,"f"),this.items=new class{constructor(e){me.add(this),ge.set(this,void 0),function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ge,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,we(this,me,"m",ve).bind(this)),"f")}get length(){const e=we(this,ge,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=we(this,ge,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=we(this,ge,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=we(this,ge,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(Ze.content.cloneNode(!0)),this.addEventListener("click",et(this,ye,"m",De).bind(this)),this.addEventListener("contextmenu",et(this,ye,"m",Be).bind(this),!0),this.addEventListener("dragend",et(this,ye,"m",He).bind(this)),this.addEventListener("dragenter",et(this,ye,"m",Ke).bind(this)),this.addEventListener("dragleave",et(this,ye,"m",qe).bind(this)),this.addEventListener("dragover",et(this,ye,"m",Ve).bind(this)),this.addEventListener("dragstart",et(this,ye,"m",$e).bind(this)),this.addEventListener("drop",et(this,ye,"m",ze).bind(this)),this.addEventListener("focus",et(this,ye,"m",Ue).bind(this)),this.addEventListener("focusin",et(this,ye,"m",Xe).bind(this)),this.addEventListener("keydown",et(this,ye,"m",Je).bind(this)),this.addEventListener("select",et(this,ye,"m",Ye).bind(this)),e.addEventListener("slotchange",et(this,ye,"m",Ge).bind(this))}get activeIndex(){return et(this,Ee,"f")}get activeItem(){return this.items.item(et(this,Ee,"f"))??null}get dropTargetItem(){return this.items.item(et(this,xe,"f"))??null}selectedItems(){const e=[],t=et(this,Se,"f");t.currentNode=t.root;let n=et(this,ye,"m",Ae).call(this);for(;null!==n;)n.selected&&e.push(n),n=et(this,ye,"m",Fe).call(this,n);return e}beginSelection(){tt(this,ke,!0,"f")}endSelection(){tt(this,ke,!1,"f"),et(this,Te,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),tt(this,Te,!1,"f"))}};Ee=new WeakMap,xe=new WeakMap,ke=new WeakMap,Te=new WeakMap,Se=new WeakMap,ye=new WeakSet,Pe=function(e){return e instanceof be?NodeFilter.FILTER_ACCEPT:e instanceof he?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ie=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=et(this,ye,"m",Fe).call(this,e);for(;o&&o!==t;)n.push(o),o=et(this,ye,"m",Fe).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=et(this,ye,"m",We).call(this,e);for(;o&&o!==t;)n.push(o),o=et(this,ye,"m",We).call(this,o);return n.push(t),n}return[]},Ce=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Re=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ne=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Le=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Oe=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),et(this,Se,"f").currentNode=e,e.active=!0,e.tabIndex=0,tt(this,Ee,Array.from(n.values()).indexOf(e),"f")},je=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,tt(this,xe,Array.from(n.values()).indexOf(e),"f")):(this.droptarget=!1,tt(this,xe,-1,"f"))},Ae=function(){const e=et(this,Se,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Me=function(){const e=et(this,Se,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},We=function(e){const t=et(this,Se,"f");t.currentNode=e;const n=t.previousSibling();return n?et(this,ye,"m",_e).call(this,n):t.parentNode()},Fe=function(e){const t=et(this,Se,"f");t.currentNode=e;const{expanded:n}=e;return n?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},_e=function e(t){if(t.expanded){const t=et(this,Se,"f").lastChild();if(t)return et(this,ye,"m",e).call(this,t)}return t},De=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,i=this.selectedItems();if(t instanceof be)if(o||n){if(n){const{selected:n}=t;n&&t.blur(),n?et(this,ye,"m",Ne).call(this,t):et(this,ye,"m",Re).call(this,t),e.stopPropagation()}else if(o){const n=i[i.length-1];if(n){const e=et(this,ye,"m",Ie).call(this,n,t);e&&(i.includes(t)?et(this,ye,"m",Ne).call(this,...e):et(this,ye,"m",Re).call(this,...e))}else et(this,ye,"m",Ce).call(this,t);e.stopPropagation()}}else et(this,ye,"m",Ce).call(this,t)},Be=function(e){const{target:t}=e;t instanceof be&&(this.selectedItems().includes(t)||et(this,ye,"m",Ce).call(this,t),e.preventDefault())},He=function(){et(this,ye,"m",je).call(this,null)},Ke=function(e){const{target:t}=e;if(t instanceof be){const{type:e}=t;"parent"==e&&t.toggle(!0),et(this,ye,"m",je).call(this,t)}e.preventDefault()},Ve=function(e){e.preventDefault()},qe=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||et(this,ye,"m",je).call(this,null)}},$e=function(e){const{target:t}=e;t instanceof be&&(this.selectedItems().includes(t)||et(this,ye,"m",Ce).call(this,t))},ze=function(){et(this,ye,"m",je).call(this,null)},Je=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=et(this,Se,"f"),{root:t}=e;e.currentNode=n;const o=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(o&&i){const e=et(this,ye,"m",Ie).call(this,o,et(this,ye,"m",_e).call(this,i));e&&et(this,ye,"m",Ce).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=et(this,Se,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=et(this,ye,"m",We).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?et(this,ye,"m",Ne).call(this,t):et(this,ye,"m",Re).call(this,t))}}else{const e=et(this,ye,"m",Ae).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=et(this,ye,"m",Fe).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?et(this,ye,"m",Ne).call(this,t):et(this,ye,"m",Re).call(this,t))}}else{const e=et(this,ye,"m",Me).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=et(this,ye,"m",Ae).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=et(this,ye,"m",Me).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(et(this,ye,"m",Ce).call(this,n),n.click()),e.stopPropagation();break;case"Escape":et(this,ye,"m",Le).call(this),this.focus(),e.stopPropagation()}},Ue=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Xe=function(e){const{target:t}=e;t instanceof be&&et(this,ye,"m",Oe).call(this,t)},Ye=function(){et(this,ke,"f")?tt(this,Te,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Ge=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof be)).forEach(((e,t)=>{e.posinset=t}))},(Ze=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),$("slot")),Qe([D({type:Boolean})],nt.prototype,"droptarget",void 0),Qe([D({type:String})],nt.prototype,"name",void 0),nt=Qe([B({name:"e-tree"})],nt);var ot,it,st,rt=nt,at=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},ct=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class lt extends HTMLElement{constructor(){super(),ot.add(this),it.set(this,void 0),at(this,it,null,"f")}get model(){return ct(this,it,"f")}setModel(e){at(this,it,e,"f"),ct(this,ot,"m",st).call(this)}renderLight(){}renderShadow(){}refresh(){ct(this,ot,"m",st).call(this)}}it=new WeakMap,ot=new WeakSet,st=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var ht,dt,pt,ft,ut,mt,gt,vt,bt,wt,yt,Et,xt,kt,Tt,St=lt,Pt=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},It=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Ct=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};class Rt extends M{constructor(e){super(),ht.add(this);const t=new W(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new W(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",It(this,ht,"m",dt).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...Rt.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:o}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:s}=n,{length:r}=s;if(e.startsWith(s)){if("/"==e.charAt(r))return Rt.prototype.getItemByUri.call(n,e);if(r==o)return n}}return null}}ht=new WeakSet,dt=function(e){const{target:t}=e,{items:n,sortFunction:o,flattenItems:i}=this;t instanceof W&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:s}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(s.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),o&&n.sort(o),n.endChanges()}))};class Nt{constructor(e){pt.set(this,void 0),Ct(this,pt,e,"f")}static from(e){return new Nt(e)}static of(...e){return new Nt(e)}show(){console.log(It(this,pt,"f")),It(this,pt,"f").forEach((e=>e.show()))}hide(){It(this,pt,"f").forEach((e=>e.hide()))}display(){const e=It(this,pt,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=It(this,pt,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Lt||n instanceof Rt){const{childItems:o}=n,i=e.get(o);i?i.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}pt=new WeakMap;class Lt extends M{constructor(e){super(),ft.add(this);const{label:t,type:n}=e,o=new W(e.items??[]);o.setParent(this),this.childItems=o,this.label=t,this.type=n,this.childCount=o.length,this.visibility=!0,this.addEventListener("modelchange",It(this,ft,"m",ut).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof Lt?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof Lt?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Lt||e instanceof Rt){const{childItems:t}=e;t&&t.remove(this)}}}ft=new WeakSet,ut=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},Pt([O()],Lt.prototype,"childCount",void 0),Pt([O()],Lt.prototype,"visibility",void 0);let Ot=class extends St{constructor(e){super(),mt.add(this),gt.set(this,void 0),vt.set(this,void 0),bt.set(this,void 0),Ct(this,bt,new WeakMap,"f"),Ct(this,vt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Rt)}getTreeElement(){return It(this,gt,"f")?.deref()??null}getTreeItemElement(e){return It(this,bt,"f").get(e)?.deref()??null}getDragImageElement(e){return It(this,vt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this;return q($("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                        }\n\n                        [part="offscreen"] {\n                            position: absolute;\n                            left: 100%;\n                        }\n\n                        [part="dragimage"] {\n                            white-space: nowrap;\n                            margin: 1px;\n                            display: inline-block;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                            border-radius: 2px; \n                            padding: 2px 4px;\n                        }\n                    '}}),$("div",{properties:{ariaHidden:"true"},part:["offscreen"],children:Q(e.items,(e=>It(this,mt,"m",yt).call(this,e)))}),$("slot"))}renderLight(){const{model:e}=this,t=$("e-tree",{properties:{tabIndex:0},children:Q(e.childItems,(e=>It(this,mt,"m",wt).call(this,e))),eventListeners:{dragstart:It(this,mt,"m",Et).bind(this),drop:It(this,mt,"m",xt).bind(this),contextmenu:It(this,mt,"m",kt).bind(this),keydown:It(this,mt,"m",Tt).bind(this)}});return Ct(this,gt,new WeakRef(t),"f"),t}};gt=new WeakMap,vt=new WeakMap,bt=new WeakMap,mt=new WeakSet,wt=function e(t){const n=X(t,$("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:[$("span",{properties:{className:"c-label"}})].concat($("e-toolbar",{properties:{tabIndex:0},children:[$("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})).concat("parent"==t.type?[$("e-treeitemgroup",{properties:{slot:"group"},children:Q(t.childItems,(t=>It(this,mt,"m",e).call(this,t)))}),$("span",{properties:{className:"c-badge"}})]:[])}),["label","childCount","visibility"],((e,t,n,o)=>{switch(t){case"label":const t=e.querySelector(":scope > .c-label");t&&(t.textContent=o);break;case"childCount":const n=e.querySelector(":scope > .c-badge");n&&(n.textContent=`(${o})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=o?"Hide":"Show",e.checked=o)}}}}));return It(this,bt,"f").set(t,new WeakRef(n)),n},yt=function(e){const t=X(e,$("span",{part:["dragimage"]}),["label"],((e,t,n,o)=>{e.textContent=o}));return It(this,vt,"f").set(e,new WeakRef(t)),t},Et=function(e){const{currentTarget:t,target:n}=e,{model:o}=this;if(t instanceof rt&&n instanceof be){const{dataTransfer:n}=e,i=t.selectedItems(),{length:s}=i;if(s>0){const e=i.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),s=e[e.length-1],r=o.getItemByUri(s);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},xt=function(e){const{currentTarget:t,target:n}=e,{model:o}=this,{sortFunction:i}=o;if(t instanceof rt&&n instanceof be){const{dataTransfer:s}=e;if(s){const e=n.dataset.uri,r=o.getItemByUri(e),a=s.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>o.getItemByUri(e))).filter((e=>null!==e)),{type:s,parentItem:c}=r,l="parent"==s?r.childItems:c?c.childItems:o.childItems;Nt.from(e).remove(),i?(l.beginChanges(),l.append(...e),l.sort(i),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},kt=function(e){const{clientX:t,clientY:n,currentTarget:o,target:i}=e,{model:s}=this;if(o instanceof rt&&i instanceof be){const o=s.getItemByUri(i.dataset.uri),r=$("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n},children:[$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,label:"Display"},eventListeners:{trigger:()=>{Nt.from(this.selectedItems()).display()}}}),$("e-menuitem",{properties:{tabIndex:-1,label:"Delete"},eventListeners:{trigger:()=>{Nt.from(this.selectedItems()).remove()}}})]}),$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",label:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Nt.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});document.body.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},Tt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof rt)switch(n){case"Delete":Nt.from(this.selectedItems()).remove(),e.preventDefault()}},Ot=Pt([B({name:"v-tree"})],Ot);var jt=Ot,At=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};class Mt extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}At([D({type:String})],Mt.prototype,"name",void 0),At([D({type:String})],Mt.prototype,"value",void 0),At([D({type:String})],Mt.prototype,"hotkey",void 0),At([D({type:String,defaultValue:"button"})],Mt.prototype,"type",void 0),At([D({type:Boolean})],Mt.prototype,"disabled",void 0),At([D({type:Boolean})],Mt.prototype,"checked",void 0);var Wt,Ft,_t,Dt=Mt;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Wt||(Wt={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Ft||(Ft={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(_t||(_t={})),new WeakSet;var Bt,Ht=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let Kt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Bt.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Bt=$("template")).content.append($("slot")),Ht([D({type:String})],Kt.prototype,"name",void 0),Ht([D({type:String})],Kt.prototype,"headers",void 0),Ht([D({type:String})],Kt.prototype,"type",void 0),Ht([D({type:Number})],Kt.prototype,"posinset",void 0),Ht([D({type:Boolean})],Kt.prototype,"droptarget",void 0),Ht([D({type:Boolean})],Kt.prototype,"active",void 0),Ht([D({type:Boolean,observed:!0})],Kt.prototype,"selected",void 0),Kt=Ht([B({name:"e-gridcell"})],Kt);var Vt,qt,$t,zt=Kt;let Jt=class extends HTMLElement{constructor(){super(),Vt.add(this);const e=this.attachShadow({mode:"open"});e.append($t.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,Vt,"m",qt).bind(this))}};Vt=new WeakSet,qt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof zt)).forEach(((e,t)=>{e.posinset=t}))},($t=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),$("slot")),Jt=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridrowgroup"})],Jt);var Ut,Xt,Yt,Gt,Zt,Qt=Jt,en=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},tn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let nn=class extends Dt{constructor(){super(),Ut.add(this),this.attachShadow({mode:"open"}).append(Zt.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{labelPart:e}=this;e.textContent=n;break}}}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&tn(this,Ut,"m",Xt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,tn(this,Ut,"m",Xt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};Ut=new WeakSet,Xt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:i,right:s}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=s+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+i-r:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+o}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),f=s+r-h,u=n+a-d;t.setProperty("left",(f>0?i-r-p:s-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${u>0?o-a-l+w:n-l-b}px`)}}}},Yt=$("span",{part:["icon"]}),Gt=$("span",{part:["arrow"]}),$("span",{part:["hotkey"]}),Zt=$("template",{content:[$("span",{part:["content"],children:[Yt,$("span",{part:["label"]}),Gt]}),$("slot",{properties:{name:"menu"}})]}),en([D({type:Boolean})],nn.prototype,"active",void 0),en([D({type:String,observed:!0})],nn.prototype,"label",void 0),en([D({type:Number})],nn.prototype,"index",void 0),en([D({type:Boolean})],nn.prototype,"expanded",void 0),en([D({type:String,defaultValue:"button",observed:!0})],nn.prototype,"type",void 0),en([V({selector:"e-menu[slot=menu]"})],nn.prototype,"menu",void 0),en([V({selector:"[part=arrow]",withinShadowRoot:!0})],nn.prototype,"arrowPart",void 0),en([V({selector:"[part=content]",withinShadowRoot:!0})],nn.prototype,"contentPart",void 0),en([V({selector:"[part=icon]",withinShadowRoot:!0})],nn.prototype,"iconPart",void 0),en([V({selector:"[part=label]",withinShadowRoot:!0})],nn.prototype,"labelPart",void 0),nn=en([B({name:"e-menuitem"})],nn);var on,sn,rn,an=nn,cn=Object.assign((function(e){const{label:t,name:n,type:o,value:i,trigger:s,menu:r}=e;return r&&(r.slot="menu"),$("e-menuitem",{properties:{tabIndex:-1,label:t,title:t,name:n,value:i,type:o},children:r?[r]:void 0,eventListeners:{trigger:s}})}),{prototype:an.prototype,button:e=>new cn({...e,type:"button"}),checkbox:e=>new cn({...e,type:"checkbox"}),radio:e=>new cn({...e,type:"radio"}),menu:e=>new cn({...e,type:"menu"}),submenu:e=>new cn({...e,type:"submenu"})}),ln=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let hn=class extends HTMLElement{constructor(){super(),on.add(this);const e=this.attachShadow({mode:"open"});e.append(rn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,on,"m",sn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};on=new WeakSet,sn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof an)).forEach(((e,t)=>{e.index=t}))},(rn=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),$("slot")),ln([D({type:String})],hn.prototype,"name",void 0),ln([D({type:String,observed:!0})],hn.prototype,"label",void 0),hn=ln([B({name:"e-menuitemgroup"})],hn);var dn,pn,fn,un,mn,gn,vn,bn,wn=hn,yn=Object.assign((function(e){const{name:t,items:n}=e;return $("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:wn.prototype,radios:e=>{const{name:t,items:n}=e;return $("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new cn({name:t,label:e,type:"radio",value:n})))})}}),En=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},xn=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};class kn{constructor(e){dn.add(this),pn.set(this,void 0),xn(this,pn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,En(this,dn,"m",fn).bind(this)),"f")}get length(){const e=En(this,pn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=En(this,pn,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=En(this,pn,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return"radio"==o?.type?new Sn(n,e):o}*values(){const e=En(this,pn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}pn=new WeakMap,dn=new WeakSet,fn=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},kn.HTMLEMenuItemRadioListBase=(bn=class{constructor(e,t){un.add(this),mn.set(this,void 0),gn.set(this,void 0),xn(this,mn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,En(this,un,"m",vn).bind(this)),"f"),xn(this,gn,t,"f")}get value(){const e=En(this,gn,"f"),t=En(this,mn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=En(this,gn,"f"),t=En(this,mn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:i}=n;o==e&&"radio"==i&&(yield n),n=t.nextNode()}}},mn=new WeakMap,gn=new WeakMap,un=new WeakSet,vn=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},bn);var Tn=kn,Sn=kn.HTMLEMenuItemRadioListBase;delete kn.HTMLEMenuItemRadioListBase;var Pn,In,Cn,Rn,Nn,Ln,On,jn,An,Mn,Wn,Fn,_n,Dn,Bn,Hn,Kn,Vn,qn,$n,zn,Jn,Un,Xn,Yn=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Gn=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Zn=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let Qn=Jn=class extends HTMLElement{constructor(){super(),Pn.add(this),In.set(this,void 0),Cn.set(this,void 0),Zn(this,Cn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Gn(this,Pn,"m",Ln).bind(this)),"f"),Zn(this,In,-1,"f"),this.items=new Tn(this),this.attachShadow({mode:"open"}).append(Un.content.cloneNode(!0)),this.addEventListener("click",Gn(this,Pn,"m",_n).bind(this)),this.addEventListener("mouseover",Gn(this,Pn,"m",$n).bind(this)),this.addEventListener("mouseout",Gn(this,Pn,"m",qn).bind(this)),this.addEventListener("focusin",Gn(this,Pn,"m",Dn).bind(this)),this.addEventListener("focusout",Gn(this,Pn,"m",Bn).bind(this)),this.addEventListener("keydown",Gn(this,Pn,"m",Vn).bind(this)),this.addEventListener("trigger",Gn(this,Pn,"m",zn).bind(this))}get activeItem(){return this.items.item(Gn(this,In,"f"))}get activeIndex(){return Gn(this,In,"f")}connectedCallback(){const{contextual:e}=this;e&&Gn(this,Pn,"m",Rn).call(this)}};In=new WeakMap,Cn=new WeakMap,Pn=new WeakSet,Rn=function(){const{contextX:e,contextY:t}=this,{style:n}=this,{width:o,height:i}=this.getBoundingClientRect(),{scrollX:s,scrollY:r}=window,a=e+s,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+o-l,p=c+i-h;n.setProperty("left",`${d>0?a-o:a}px`),n.setProperty("top",`${p>0?c-i:c}px`)},Nn=function(){Array.from(this.items.values()).forEach((e=>{e.expanded&&e.collapse()}))},Ln=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},On=function(){const e=Gn(this,Cn,"f");return e.currentNode=e.root,e.firstChild()},jn=function(){const e=Gn(this,Cn,"f");return e.currentNode=e.root,e.lastChild()},An=function(e){const t=Gn(this,Cn,"f");return t.currentNode=e,t.previousNode()},Mn=function(e){const t=Gn(this,Cn,"f");return t.currentNode=e,t.nextNode()},Wn=function(e){const{menu:t}=e;return t instanceof Jn?Gn(t,Pn,"m",On).call(t):null},Fn=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0,Zn(this,In,Array.from(n.values()).indexOf(e),"f")),null==e&&Zn(this,In,-1,"f")},_n=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;o&&o.trigger()},Dn=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;o&&Gn(this,Pn,"m",Fn).call(this,o)},Bn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Gn(this,Pn,"m",Fn).call(this,null)}}},Hn=async function(e,t){return new Promise(((n,o)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Xn.set(e,{clear:()=>{clearTimeout(i),o()}})})).then((()=>{Xn.delete(e)}))},Kn=function(e){const t=Xn.get(e);void 0!==t&&(Xn.delete(e),t.clear())},Vn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Gn(this,Pn,"m",An).call(this,n)??Gn(this,Pn,"m",jn).call(this):Gn(this,Pn,"m",On).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Gn(this,Pn,"m",Mn).call(this,n)??Gn(this,Pn,"m",On).call(this):Gn(this,Pn,"m",On).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Gn(this,Pn,"m",On).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Gn(this,Pn,"m",jn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Gn(this,Pn,"m",Wn).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof io))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Gn(this,Pn,"m",Wn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}break;default:{const{activeIndex:n,items:o}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),s=Array.from(o.values()),r=s.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=s.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>n)),c=a>-1?a:r,l=o.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},qn=function(e){const{target:t,relatedTarget:n}=e,{items:o}=this,i=Array.from(o.values()).find((e=>e.contains(t)))??null;if("submenu"!=i?.type||i.expanded||Gn(this,Pn,"m",Kn).call(this,i),e.composedPath().find((e=>e instanceof io))==this){const{clientX:t,clientY:o}=e,{left:i,right:s,top:r,bottom:a}=this.getBoundingClientRect(),c=!(i>t||s<t||r>o||a<o),l=this.contains(n);if(c&&l)if(n instanceof io&&n!==this)n.focus({preventScroll:!0});else{const e=Gn(this,In,"f");this.focus({preventScroll:!0}),Gn(this,Pn,"m",Fn).call(this,null),Zn(this,In,e,"f")}c||(this.focus({preventScroll:!0}),Gn(this,Pn,"m",Fn).call(this,null))}},$n=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;if("submenu"==o?.type&&o.expanded&&Gn(this,Pn,"m",Kn).call(this,o),e.composedPath().find((e=>e instanceof io))==this){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Gn(this,Pn,"m",Kn).call(this,e),Gn(this,Pn,"m",Hn).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==o&&(Gn(this,Pn,"m",Fn).call(this,o),o.focus({preventScroll:!0}),"submenu"==o.type&&(o.expanded?o.menu?.focus({preventScroll:!0}):(Gn(this,Pn,"m",Kn).call(this,o),Gn(this,Pn,"m",Hn).call(this,o,200).then((()=>{const{activeItem:e}=this;Gn(this,Pn,"m",Nn).call(this),e&&(Gn(this,Pn,"m",Kn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},zn=function(e){const{target:t}=e,n=e.composedPath(),{contextual:o}=this;if(t instanceof an){if(n.find((e=>e instanceof io))==this){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(new Sn(this,n).values()).forEach((e=>{e.checked=e.value==o}))}if(o)try{this.remove()}catch(e){}}},Un=$("template",{content:[$("slot")]}),Xn=new WeakMap,Yn([D({type:String})],Qn.prototype,"name",void 0),Yn([D({type:Boolean})],Qn.prototype,"contextual",void 0),Yn([D({type:Number,defaultValue:0})],Qn.prototype,"contextX",void 0),Yn([D({type:Number,defaultValue:0})],Qn.prototype,"contextY",void 0),Qn=Jn=Yn([B({name:"e-menu"})],Qn);var eo,to,no,oo,io=Qn,so=Object.assign((function(e){const{name:t,children:n}=e;return $("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:io.prototype}),ro=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},ao=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},co=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let lo=class extends HTMLElement{constructor(){super(),eo.add(this),to.set(this,void 0),ao(this,to,null,"f"),this.cells=new wo(this);const e=this.attachShadow({mode:"open"});e.append(oo.content.cloneNode(!0)),e.addEventListener("slotchange",co(this,eo,"m",no).bind(this))}get menu(){return co(this,to,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};to=new WeakMap,eo=new WeakSet,no=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];ao(this,to,e instanceof io?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof zt)).forEach(((e,t)=>{e.posinset=t}))}},(oo=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),$("slot"),$("slot",{properties:{name:"menu"}})),ro([D({type:String})],lo.prototype,"name",void 0),ro([D({type:Boolean})],lo.prototype,"active",void 0),ro([D({type:Boolean})],lo.prototype,"selected",void 0),ro([D({type:Number})],lo.prototype,"posinset",void 0),lo=ro([B({name:"e-gridrow"})],lo);var ho,po,fo,uo=lo,mo=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};po=new WeakMap,ho=new WeakSet,fo=function(e){return e instanceof zt?NodeFilter.FILTER_ACCEPT:e instanceof Ro||e instanceof Qt||e instanceof uo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var go,vo,bo,wo=class{constructor(e){ho.add(this),po.set(this,void 0),function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,po,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,mo(this,ho,"m",fo).bind(this)),"f")}get length(){const e=mo(this,po,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=mo(this,po,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=mo(this,po,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=mo(this,po,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},yo=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};vo=new WeakMap,go=new WeakSet,bo=function(e){return e instanceof Ro?NodeFilter.FILTER_SKIP:e instanceof uo?NodeFilter.FILTER_ACCEPT:e instanceof Qt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Eo,xo,ko,To=class{constructor(e){go.add(this),vo.set(this,void 0),function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,vo,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,yo(this,go,"m",bo).bind(this)),"f")}get length(){const e=yo(this,vo,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=yo(this,vo,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=yo(this,vo,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=yo(this,vo,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let So=class extends HTMLElement{constructor(){super(),Eo.add(this),this.cells=new wo(this),this.rows=new To(this);const e=this.attachShadow({mode:"open"});e.append(ko.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,Eo,"m",xo).bind(this))}};Eo=new WeakSet,xo=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof zt)).forEach(((e,t)=>{e.posinset=t}))},(ko=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),$("slot")),So=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridbody"})],So);var Po,Io,Co,Ro=So;let No=class extends HTMLElement{constructor(){super(),Po.add(this),this.cells=new wo(this),this.rows=new To(this);const e=this.attachShadow({mode:"open"});e.append(Co.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,Po,"m",Io).bind(this))}};Po=new WeakSet,Io=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof zt)).forEach(((e,t)=>{e.posinset=t}))},(Co=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),$("slot")),No=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridhead"})],No);var Lo,Oo,jo,Ao,Mo,Wo,Fo,_o,Do,Bo,Ho,Ko,Vo,qo,$o,zo,Jo,Uo,Xo,Yo,Go,Zo,Qo,ei,ti,ni,oi,ii,si,ri,ai,ci,li,hi,di,pi,fi,ui,mi,gi,vi,bi,wi=No,yi=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Ei=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},xi=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};class ki extends HTMLElement{constructor(){super(),Lo.add(this),Mo.set(this,void 0),Wo.set(this,void 0),Fo.set(this,void 0),_o.set(this,void 0),Do.set(this,void 0),Bo.set(this,void 0),xi(this,Do,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ei(this,Lo,"m",Ho).bind(this)),"f"),xi(this,Bo,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ei(this,Lo,"m",Ko).bind(this)),"f"),xi(this,Mo,-1,"f"),xi(this,Wo,-1,"f"),xi(this,Fo,!1,"f"),xi(this,_o,!1,"f"),this.cells=new wo(this),this.rows=new To(this);const e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[Ei(ki,Oo,"f",Ao)],e.append(Ei(ki,Oo,"f",jo).content.cloneNode(!0)),this.addEventListener("contextmenu",Ei(this,Lo,"m",pi).bind(this)),this.addEventListener("click",Ei(this,Lo,"m",fi).bind(this)),this.addEventListener("focus",Ei(this,Lo,"m",mi).bind(this)),this.addEventListener("focusin",Ei(this,Lo,"m",gi).bind(this)),this.addEventListener("keydown",Ei(this,Lo,"m",ui).bind(this)),this.addEventListener("select",Ei(this,Lo,"m",vi).bind(this)),e.addEventListener("slotchange",Ei(this,Lo,"m",bi).bind(this))}get activeCellIndex(){return Ei(this,Mo,"f")}get activeCell(){return this.cells.item(Ei(this,Mo,"f"))??null}get activeRowIndex(){return Ei(this,Wo,"f")}get activeRow(){return this.rows.item(Ei(this,Wo,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof Ro))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof wi))??null}beginSelection(){xi(this,Fo,!0,"f")}endSelection(){xi(this,Fo,!1,"f"),Ei(this,_o,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),xi(this,_o,!1,"f"))}clearSelection(){Ei(this,Lo,"m",Go).call(this),Ei(this,Lo,"m",Zo).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}}Oo=ki,Mo=new WeakMap,Wo=new WeakMap,Fo=new WeakMap,_o=new WeakMap,Do=new WeakMap,Bo=new WeakMap,Lo=new WeakSet,Ho=function(e){return e instanceof zt&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Ro||e instanceof Qt||e instanceof uo?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ko=function(e){return e instanceof uo&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Ro||e instanceof Qt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Vo=function(e,t){const n=Array.from(this.cells.values()),o=n.indexOf(e),i=n.indexOf(t);return o>-1&&i>-1?e==t?[e]:n.slice(Math.min(o,i),Math.max(o,i)+1):[]},qo=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let o=Ei(this,Lo,"m",li).call(this,e);for(;o&&o!==t;)n.push(o),o=Ei(this,Lo,"m",li).call(this,o);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let o=Ei(this,Lo,"m",ci).call(this,e);for(;o&&o!==t;)n.push(o),o=Ei(this,Lo,"m",ci).call(this,o);return n.push(t),n}return[]},$o=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},zo=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Jo=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Uo=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Xo=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Yo=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Go=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Zo=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Qo=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),Ei(this,Do,"f").currentNode=e,e.active=!0,e.tabIndex=0;const o=Ei(this,Lo,"m",si).call(this,e);o&&Ei(this,Lo,"m",ei).call(this,o),xi(this,Mo,Array.from(n.values()).indexOf(e),"f")},ei=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),Ei(this,Bo,"f").currentNode=e,e.active=!0,e.tabIndex=0,xi(this,Wo,Array.from(n.values()).indexOf(e),"f")},ti=function(e){const t=Ei(this,Do,"f");return t.currentNode=e,t.firstChild()},ni=function(e){const t=Ei(this,Do,"f");return t.currentNode=e,t.lastChild()},oi=function(e){const t=Ei(this,Do,"f");return t.currentNode=e,t.previousNode()},ii=function(e){const t=Ei(this,Do,"f");return t.currentNode=e,t.nextNode()},si=function(e){const t=Ei(this,Bo,"f");return t.currentNode=e,t.parentNode()},ri=function(){const e=Ei(this,Bo,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},ai=function(){const e=Ei(this,Bo,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},ci=function(e){const t=Ei(this,Bo,"f");return t.currentNode=e,t.previousNode()},li=function(e){const t=Ei(this,Bo,"f");return t.currentNode=e,t.nextNode()},hi=function(e){const t=Ei(this,Lo,"m",si).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),i=Ei(this,Lo,"m",ci).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(o,e.length))}}return null},di=function(e){const t=Ei(this,Lo,"m",si).call(this,e);if(t){const{cells:n}=t,o=Array.from(n.values()).indexOf(e),i=Ei(this,Lo,"m",li).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(o,e.length))}}return null},pi=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof Ro))?t.find((e=>e instanceof zt)):null;n instanceof zt&&(this.selectedCells().includes(n)||Ei(this,Lo,"m",$o).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof Ro))?t.find((e=>e instanceof uo)):null;n instanceof uo&&(this.selectedRows().includes(n)||Ei(this,Lo,"m",zo).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},fi=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:o}=this;switch(o){case"cell":{const o=e.composedPath(),i=o.find((e=>e instanceof Ro))?o.find((e=>e instanceof zt)):null,s=this.selectedCells();if(i instanceof zt)if(n||t){if(t)i.selected?Ei(this,Lo,"m",Xo).call(this,i):Ei(this,Lo,"m",Jo).call(this,i),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=Ei(this,Lo,"m",Vo).call(this,t,i);e&&(s.includes(i)?Ei(this,Lo,"m",Xo).call(this,...e):Ei(this,Lo,"m",Jo).call(this,...e))}else Ei(this,Lo,"m",$o).call(this,i);e.stopPropagation()}}else Ei(this,Lo,"m",$o).call(this,i);break}case"row":{const o=this.selectedRows(),i=e.composedPath(),s=i.find((e=>e instanceof Ro))?i.find((e=>e instanceof uo)):null;if(s instanceof uo)if(n||t){if(t)s.selected?Ei(this,Lo,"m",Yo).call(this,s):Ei(this,Lo,"m",Uo).call(this,s),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=Ei(this,Lo,"m",qo).call(this,t,s);e&&(o.includes(s)?Ei(this,Lo,"m",Yo).call(this,...e):Ei(this,Lo,"m",Uo).call(this,...e))}else Ei(this,Lo,"m",zo).call(this,s);e.stopPropagation()}}else Ei(this,Lo,"m",zo).call(this,s);break}}},ui=function(e){const{key:t}=e,{selectby:n,activeCell:o,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=Ei(this,Lo,"m",ri).call(this),t=e?Ei(this,Lo,"m",ti).call(this,e):null,n=Ei(this,Lo,"m",ai).call(this),o=n?Ei(this,Lo,"m",ni).call(this,n):null;if(t&&o){const e=Ei(this,Lo,"m",Vo).call(this,t,o);e&&Ei(this,Lo,"m",$o).call(this,...e)}break}case"row":{const e=Ei(this,Lo,"m",ri).call(this),t=Ei(this,Lo,"m",ai).call(this);if(e&&t){const n=Ei(this,Lo,"m",qo).call(this,e,t);n&&Ei(this,Lo,"m",zo).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&o){const t=Ei(this,Lo,"m",oi).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ei(this,Lo,"m",Xo).call(this,t):Ei(this,Lo,"m",Jo).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&o){const t=Ei(this,Lo,"m",ii).call(this,o);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ei(this,Lo,"m",Xo).call(this,t):Ei(this,Lo,"m",Jo).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??Ei(this,Lo,"m",ri).call(this),n=o?Ei(this,Lo,"m",hi).call(this,o):t?Ei(this,Lo,"m",ti).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?Ei(this,Lo,"m",Xo).call(this,n):Ei(this,Lo,"m",Jo).call(this,n))}break}case"row":{const t=i?Ei(this,Lo,"m",ci).call(this,i):Ei(this,Lo,"m",ri).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ei(this,Lo,"m",Yo).call(this,t):Ei(this,Lo,"m",Uo).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??Ei(this,Lo,"m",ai).call(this),n=o?Ei(this,Lo,"m",di).call(this,o):t?Ei(this,Lo,"m",ni).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?Ei(this,Lo,"m",Xo).call(this,n):Ei(this,Lo,"m",Jo).call(this,n))}}break;case"row":{const t=i?Ei(this,Lo,"m",li).call(this,i):Ei(this,Lo,"m",ai).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ei(this,Lo,"m",Yo).call(this,t):Ei(this,Lo,"m",Uo).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=Ei(this,Lo,"m",ti).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=Ei(this,Lo,"m",ri).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=Ei(this,Lo,"m",ni).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=Ei(this,Lo,"m",ai).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":o&&(Ei(this,Lo,"m",$o).call(this,o),o.click());break;case"row":i&&(Ei(this,Lo,"m",zo).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":Ei(this,Lo,"m",Go).call(this);break;case"row":Ei(this,Lo,"m",Zo).call(this)}this.focus(),e.stopPropagation()}},mi=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},gi=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof zt&&Ei(this,Lo,"m",Qo).call(this,t);break;case"row":t instanceof uo&&Ei(this,Lo,"m",ei).call(this,t)}},vi=function(){Ei(this,Fo,"f")?xi(this,_o,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},bi=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof uo)).forEach(((e,t)=>{e.posinset=t}))},B({name:"e-grid"})(Oo),jo={value:$("template",{content:[$("slot")]})},Ao={value:function(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}(function(e){const t=e.indexOf("\n"),n=(e=e.substring(t+1)).match(/^[\s]*/);if(n){const t=e.substring(0,n[0].length);e=e.replaceAll(t,"").trimEnd()}return e}("\n            :host {\n                display: table;\n            }\n\n            :host([droptarget]) {\n                background-color: gainsboro;\n            }\n        "))},yi([D({type:String})],ki.prototype,"name",void 0),yi([D({type:String,defaultValue:"cell"})],ki.prototype,"selectby",void 0);var Ti,Si,Pi,Ii,Ci,Ri,Ni,Li,Oi,ji,Ai,Mi,Wi,Fi,_i,Di,Bi,Hi=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Ki=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},Vi=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let qi=class extends HTMLElement{constructor(){super(),Ti.add(this),Si.set(this,void 0),Pi.set(this,void 0),Vi(this,Pi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ki(this,Ti,"m",Ii).bind(this)),"f"),this.items=new Tn(this),Vi(this,Si,-1,"f"),this.attachShadow({mode:"open"}).append(Bi.content.cloneNode(!0)),this.addEventListener("click",Ki(this,Ti,"m",Fi).bind(this)),this.addEventListener("focusin",Ki(this,Ti,"m",Ai).bind(this)),this.addEventListener("focusout",Ki(this,Ti,"m",Mi).bind(this)),this.addEventListener("mouseover",Ki(this,Ti,"m",Wi).bind(this)),this.addEventListener("keydown",Ki(this,Ti,"m",_i).bind(this)),this.addEventListener("trigger",Ki(this,Ti,"m",Di).bind(this))}get activeIndex(){return Ki(this,Si,"f")}get activeItem(){return this.items.item(Ki(this,Si,"f"))??null}};Si=new WeakMap,Pi=new WeakMap,Ti=new WeakSet,Ii=function(e){return e instanceof an?NodeFilter.FILTER_ACCEPT:e instanceof wn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ci=function(){const e=Ki(this,Pi,"f");return e.currentNode=e.root,e.firstChild()},Ri=function(){const e=Ki(this,Pi,"f");return e.currentNode=e.root,e.lastChild()},Ni=function(e){const t=Ki(this,Pi,"f");return t.currentNode=e,t.previousSibling()},Li=function(e){const t=Ki(this,Pi,"f");return t.currentNode=e,t.nextSibling()},Oi=function(e){const{menu:t}=e;return t?t.items.item(0):null},ji=function(e){const{activeItem:t,active:n,items:o}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Vi(this,Si,Array.from(o.values()).indexOf(e),"f")):Vi(this,Si,-1,"f")},Ai=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Ki(this,Ti,"m",ji).call(this,o)},Mi=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Ki(this,Ti,"m",ji).call(this,null),this.active=!1}},Wi=function(e){const{target:t}=e,{active:n,activeItem:o,items:i}=this;if(t instanceof an&&Array.from(i.values()).includes(t)&&t!==o&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Fi=function(e){const{target:t}=e,{active:n,activeItem:o,items:i}=this;if(t instanceof an&&Array.from(i.values()).includes(t)){const e=!n;if(this.active=e,e){o&&!o.expanded&&o.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},_i=function(e){const{key:t}=e,{active:n}=this;let{activeItem:o}=this;switch(t){case"ArrowLeft":(o?Ki(this,Ti,"m",Ni).call(this,o)??Ki(this,Ti,"m",Ri).call(this):Ki(this,Ti,"m",Ci).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Ki(this,Ti,"m",Oi).call(this,o)?.focus({preventScroll:!0});break;case"ArrowRight":(o?Ki(this,Ti,"m",Li).call(this,o)??Ki(this,Ti,"m",Ci).call(this):Ki(this,Ti,"m",Ri).call(this))?.focus({preventScroll:!0}),({activeItem:o}=this),n&&o&&Ki(this,Ti,"m",Oi).call(this,o)?.focus({preventScroll:!0});break;case"Enter":o&&(this.active=!n,Ki(this,Ti,"m",Oi).call(this,o)?.focus({preventScroll:!0}));break;case"Escape":n?(this.active=!1,o&&(o.collapse(),o.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},Di=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.active=!1,this.focus({preventScroll:!0})},(Bi=$("template")).content.append($("slot")),Hi([D({type:String})],qi.prototype,"name",void 0),Hi([D({type:Boolean})],qi.prototype,"active",void 0),qi=Hi([B({name:"e-menubar"})],qi);var $i,zi,Ji,Ui,Xi,Yi,Gi,Zi,Qi=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},es=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},ts=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ns=class extends HTMLElement{constructor(){super(),$i.add(this),zi.set(this,void 0),es(this,zi,null,"f");const e=this.attachShadow({mode:"open"});e.append($("span",{part:["content"],children:[$("span",{part:["icon"]}),$("span",{part:["label"]})]}),$("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",ts(this,$i,"m",Yi).bind(this)),this.addEventListener("click",ts(this,$i,"m",Ui).bind(this)),this.addEventListener("focusout",ts(this,$i,"m",Xi).bind(this)),this.addEventListener("trigger",ts(this,$i,"m",Zi).bind(this)),e.addEventListener("slotchange",ts(this,$i,"m",Gi).bind(this))}get menu(){return ts(this,zi,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,ts(this,$i,"m",Ji).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};zi=new WeakMap,$i=new WeakSet,Ji=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:o,left:i,right:s}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=s+r-h,f=n+a-d;t.setProperty("left",`${p>0?l+s-r:l+i}px`),t.setProperty("top",`${f>0?c+n-a:c+o}px`)}},Ui=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Xi=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},Yi=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},Gi=function(e){const{target:t}=e,n=t.assignedElements()[0];es(this,zi,n instanceof io?n:null,"f")},Zi=function(){this.collapse(),this.focus({preventScroll:!0})},Qi([D({type:String})],ns.prototype,"name",void 0),Qi([D({type:Boolean})],ns.prototype,"disabled",void 0),Qi([D({type:Boolean})],ns.prototype,"expanded",void 0),ns=Qi([B({name:"e-menubutton"})],ns);var os,is=ns,ss=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",$("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:is.prototype}),rs=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let as=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(os.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(os=$("template")).content.append($("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),$("span",{part:["content"],children:[$("span",{part:["label"]})]})),rs([D({type:String})],as.prototype,"name",void 0),rs([D({type:String})],as.prototype,"value",void 0),rs([D({type:String,observed:!0})],as.prototype,"label",void 0),rs([D({type:String})],as.prototype,"description",void 0),rs([D({type:Boolean})],as.prototype,"disabled",void 0),rs([D({type:Boolean})],as.prototype,"active",void 0),rs([D({type:Boolean})],as.prototype,"selected",void 0),rs([D({type:Boolean})],as.prototype,"default",void 0),as=rs([B({name:"e-option"})],as);var cs,ls=as;let hs=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(cs.content.cloneNode(!0))}};(cs=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),hs=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-optiongroup"})],hs);var ds,ps,fs,us=hs,ms=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};ps=new WeakMap,ds=new WeakSet,fs=function(e){return e instanceof ls?NodeFilter.FILTER_ACCEPT:e instanceof us?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var gs,vs,bs,ws,ys,Es,xs,ks,Ts,Ss,Ps,Is,Cs,Rs,Ns,Ls,Os,js,As,Ms,Ws=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Fs=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},_s=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ds=class extends Dt{constructor(){super(),gs.add(this),vs.set(this,void 0),bs.set(this,void 0),ws.set(this,void 0),_s(this,vs,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Fs(this,gs,"m",ys).bind(this)),"f"),_s(this,bs,-1,"f"),_s(this,ws,-1,"f"),this.options=new class{constructor(e){ds.add(this),ps.set(this,void 0),function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===o?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ps,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ms(this,ds,"m",fs).bind(this)),"f")}get length(){const e=ms(this,ps,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=ms(this,ps,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=ms(this,ps,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=ms(this,ps,"f"),{root:n}=t;t.currentNode=n;let o=t.nextNode();for(;null!==o&&o.name!=e;)o=t.nextNode();return o}*values(){const e=ms(this,ps,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(Ms.content.cloneNode(!0)),this.addEventListener("click",Fs(this,gs,"m",Rs).bind(this)),this.addEventListener("focusin",Fs(this,gs,"m",Ns).bind(this)),this.addEventListener("focusout",Fs(this,gs,"m",Ls).bind(this)),this.addEventListener("keydown",Fs(this,gs,"m",Os).bind(this)),this.addEventListener("mouseover",Fs(this,gs,"m",js).bind(this)),e.addEventListener("slotchange",Fs(this,gs,"m",As).bind(this))}get activeIndex(){return Fs(this,bs,"f")}get selectedIndex(){return Fs(this,ws,"f")}get activeOption(){return this.options.item(Fs(this,bs,"f"))??null}get selectedOption(){return this.options.item(Fs(this,ws,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Fs(this,gs,"m",Is).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Fs(this,gs,"m",Cs).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};vs=new WeakMap,bs=new WeakMap,ws=new WeakMap,gs=new WeakSet,ys=function(e){return e instanceof ls?NodeFilter.FILTER_ACCEPT:e instanceof us?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Es=function(){const e=Fs(this,vs,"f");return e.currentNode=e.root,e.firstChild()},xs=function(){const e=Fs(this,vs,"f");return e.currentNode=e.root,e.lastChild()},ks=function(e){const t=Fs(this,vs,"f");return t.currentNode=e,t.previousNode()},Ts=function(e){const t=Fs(this,vs,"f");return t.currentNode=e,t.nextNode()},Ss=function(e){e&&!e.disabled&&(this.value=e.value)},Ps=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,o=n.querySelector("[part='description']");o&&(o.textContent=e.description),_s(this,bs,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else _s(this,bs,-1,"f")},Is=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:o}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,o&&(o.selected=!1),_s(this,ws,Array.from(t.values()).indexOf(e),"f")}}else _s(this,bs,-1,"f")},Cs=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:o,left:i}=this.getBoundingClientRect(),{scrollX:s,scrollY:r}=window;n.setProperty("top",`${o+r}px`),n.setProperty("left",`${i+s}px`)},Rs=function(e){const{target:t}=e;t instanceof ls?(Fs(this,gs,"m",Ss).call(this,t),this.collapse()):t==this&&this.toggle()},Ns=function(e){const{target:t}=e,{expanded:n}=this;t instanceof ls&&(n||this.expand(),Fs(this,gs,"m",Ps).call(this,t))},Ls=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Fs(this,gs,"m",Ps).call(this,null))},Os=function(e){const{key:t}=e,{options:n,activeOption:o,selectedOption:i,selectedIndex:s,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==o){const e=Fs(this,gs,"m",ks).call(this,o)??Fs(this,gs,"m",Es).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Fs(this,gs,"m",ks).call(this,i)??Fs(this,gs,"m",Es).call(this);e&&Fs(this,gs,"m",Ss).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==o){const e=Fs(this,gs,"m",Ts).call(this,o)??Fs(this,gs,"m",xs).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Fs(this,gs,"m",Ts).call(this,i)??Fs(this,gs,"m",xs).call(this);e&&Fs(this,gs,"m",Ss).call(this,e)}e.stopPropagation();break;case"Home":{const t=Fs(this,gs,"m",Es).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Fs(this,gs,"m",Ss).call(this,t)),e.stopPropagation();break}case"End":{const t=Fs(this,gs,"m",xs).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Fs(this,gs,"m",Ss).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==o&&Fs(this,gs,"m",Ss).call(this,o);else{const e=n.item(s);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:o}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),s=Array.from(n.values()),r=s.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=s.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>o)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},js=function(e){const{target:t}=e;t instanceof ls&&t.focus({preventScroll:!0})},As=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof ls));if(n.length>0){let e=null;null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Fs(this,gs,"m",Es).call(this)),console.log(e),n.forEach((t=>{t.selected=t==e})),null!==e&&Fs(this,gs,"m",Is).call(this,e)}},(Ms=$("template")).content.append($("div",{part:["content"],children:[$("label",{part:["label"]}),$("output",{part:["value"]})]}),$("div",{part:["options"],children:[$("slot"),$("hr",{part:["separator"]}),$("span",{part:["description"]})]})),Ws([D({type:String})],Ds.prototype,"name",void 0),Ws([D({type:String,observed:!0})],Ds.prototype,"label",void 0),Ws([D({type:String,observed:!0})],Ds.prototype,"value",void 0),Ws([D({type:String,defaultValue:"select",observed:!0})],Ds.prototype,"type",void 0),Ws([D({type:Boolean})],Ds.prototype,"expanded",void 0),Ds=Ws([B({name:"e-select"})],Ds);var Bs,Hs,Ks,Vs,qs,$s,zs,Js,Us,Xs,Ys,Gs,Zs,Qs,er=Ds,tr=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},nr=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},or=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let ir=class extends Dt{constructor(){super(),Bs.add(this),Hs.set(this,void 0),Ks.set(this,void 0),nr(this,Hs,null,"f"),nr(this,Ks,null,"f");const e=this.attachShadow({mode:"open"});e.append(Gs.content.cloneNode(!0)),e.addEventListener("slotchange",or(this,Bs,"m",Ys).bind(this))}get menubutton(){return or(this,Hs,"f")}get select(){return or(this,Ks,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&or(this,Bs,"m",Vs).call(this);break}}}};Hs=new WeakMap,Ks=new WeakMap,Bs=new WeakSet,Vs=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},qs=function(e){const t=or(this,Bs,"m",Us).bind(this);Zs.set(e,t),e.addEventListener("keydown",t)},$s=function(e){const t=Zs.get(e);t&&e.removeEventListener("keydown",t)},zs=function(e){const t=or(this,Bs,"m",Xs).bind(this);Qs.set(e,t),e.addEventListener("trigger",t)},Js=function(e){const t=Qs.get(e);t&&e.removeEventListener("trigger",t)},Us=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},Xs=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},Ys=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=or(this,Hs,"f");null!==e&&(or(this,Bs,"m",Js).call(this,e),or(this,Bs,"m",$s).call(this,e));const n=t.assignedElements()[0];e=n instanceof is?n:null,null!==e&&(or(this,Bs,"m",zs).call(this,e),or(this,Bs,"m",qs).call(this,e)),nr(this,Hs,e,"f");break}case"select":{let e=or(this,Ks,"f");null!==e&&or(this,Bs,"m",$s).call(this,e);const n=t.assignedElements()[0];e=n instanceof er?n:null,null!==e&&or(this,Bs,"m",qs).call(this,e),nr(this,Ks,e,"f");break}}},Gs=$("template",{content:[$("span",{part:["content"],children:[$("span",{part:["icon"]}),$("span",{part:["label"]}),$("slot",{properties:{name:"select"}}),$("slot",{properties:{name:"menubutton"}})]})]}),Zs=new WeakMap,Qs=new WeakMap,tr([D({type:Boolean})],ir.prototype,"active",void 0),tr([D({type:String,observed:!0})],ir.prototype,"value",void 0),tr([D({type:String})],ir.prototype,"name",void 0),tr([D({type:String,observed:!0})],ir.prototype,"label",void 0),tr([D({type:String})],ir.prototype,"type",void 0),ir=tr([B({name:"e-toolbaritem"})],ir);var sr,rr=ir,ar=Object.assign((function(e){const{label:t,name:n,type:o,value:i,trigger:s,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),$("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:i,type:o},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:s}})}),{prototype:rr.prototype,button:e=>new ar({...e,type:"button"}),checkbox:e=>new ar({...e,type:"checkbox"}),radio:e=>new ar({...e,type:"radio"}),menubutton:e=>new ar({...e,type:"menubutton"}),select:e=>new ar({...e,type:"select"})}),cr=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let lr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(sr.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(sr=$("template")).content.append($("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),$("slot")),cr([D({type:String})],lr.prototype,"name",void 0),cr([D({type:String,observed:!0})],lr.prototype,"label",void 0),cr([D({type:Boolean,observed:!0})],lr.prototype,"disabled",void 0),lr=cr([B({name:"e-toolbaritemgroup"})],lr);var hr,dr,pr,fr,ur,mr,gr,vr,br=lr,wr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},yr=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};class Er{constructor(e){hr.add(this),dr.set(this,void 0),yr(this,dr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,wr(this,hr,"m",pr).bind(this)),"f")}get length(){const e=wr(this,dr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=wr(this,dr,"f");t.currentNode=t.root;let n=t.nextNode(),o=0;for(;o<e&&null!==n;)n=t.nextNode(),o++;return n}namedItem(e){if(!e)return null;const t=wr(this,dr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new kr(t.root,e):n}*values(){const e=wr(this,dr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}dr=new WeakMap,hr=new WeakSet,pr=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Er.HTMLEToolBarItemRadioListBase=(vr=class{constructor(e,t){fr.add(this),ur.set(this,void 0),mr.set(this,void 0),yr(this,ur,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,wr(this,fr,"m",gr).bind(this)),"f"),yr(this,mr,t,"f")}get value(){const e=wr(this,mr,"f"),t=wr(this,ur,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=wr(this,mr,"f"),t=wr(this,ur,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:o,type:i}=n;o==e&&"radio"==i&&(yield n),n=t.nextNode()}}},ur=new WeakMap,mr=new WeakMap,fr=new WeakSet,gr=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},vr);var xr=Er,kr=Er.HTMLEToolBarItemRadioListBase;delete Er.HTMLEToolBarItemRadioListBase;var Tr,Sr,Pr,Ir,Cr,Rr,Nr,Lr,Or,jr,Ar,Mr,Wr,Fr,_r,Dr,Br=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Hr=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Kr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Vr=class extends HTMLElement{constructor(){super(),Tr.add(this),Sr.set(this,void 0),Pr.set(this,void 0),Hr(this,Pr,-1,"f"),Hr(this,Sr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Kr(this,Tr,"m",Ir).bind(this)),"f"),this.items=new xr(this),this.attachShadow({mode:"open"}).append(Dr.content.cloneNode(!0)),this.addEventListener("change",Kr(this,Tr,"m",jr).bind(this)),this.addEventListener("click",Kr(this,Tr,"m",Ar).bind(this)),this.addEventListener("focusin",Kr(this,Tr,"m",Mr).bind(this)),this.addEventListener("focusout",Kr(this,Tr,"m",Wr).bind(this)),this.addEventListener("keydown",Kr(this,Tr,"m",Fr).bind(this)),this.addEventListener("trigger",Kr(this,Tr,"m",_r).bind(this))}get activeItem(){return this.items.item(Kr(this,Pr,"f"))??null}get activeIndex(){return Kr(this,Pr,"f")}};Sr=new WeakMap,Pr=new WeakMap,Tr=new WeakSet,Ir=function(e){return e instanceof rr?NodeFilter.FILTER_ACCEPT:e instanceof br?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Cr=function(){const e=Kr(this,Sr,"f");return e.currentNode=e.root,e.firstChild()},Rr=function(){const e=Kr(this,Sr,"f");return e.currentNode=e.root,e.lastChild()},Nr=function(e){const t=Kr(this,Sr,"f");return t.currentNode=e,t.previousSibling()},Lr=function(e){const t=Kr(this,Sr,"f");return t.currentNode=e,t.nextSibling()},Or=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Hr(this,Pr,Array.from(n.values()).indexOf(e),"f")):Hr(this,Pr,-1,"f")},jr=function(e){const{target:t}=e;if(t instanceof er){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:o}=e;if(t==n&&n&&"select"==o){const{value:t}=e,{value:o}=n;t!==o&&(e.value=o,e.trigger())}}}},Ar=function(e){const{target:t}=e;if(t instanceof rr){const{type:e}=t;t.trigger()}},Mr=function(e){const{target:t}=e,{items:n}=this,o=Array.from(n.values()).find((e=>e.contains(t)))??null;Kr(this,Tr,"m",Or).call(this,o)},Wr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Kr(this,Tr,"m",Or).call(this,null)},Fr=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Kr(this,Tr,"m",Nr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Kr(this,Tr,"m",Cr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Kr(this,Tr,"m",Lr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Kr(this,Tr,"m",Rr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Kr(this,Tr,"m",Cr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Kr(this,Tr,"m",Rr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},_r=function(e){const{target:t}=e;if(t instanceof rr){const{type:e,name:n,value:o}=t;"radio"==e&&Array.from(new kr(this,n).values()).forEach((e=>{e.checked=e.value==o}))}},(Dr=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),$("slot")),Br([D({type:String})],Vr.prototype,"name",void 0),Br([D({type:String})],Vr.prototype,"orientation",void 0),Vr=Br([B({name:"e-toolbar"})],Vr);var qr=Vr,$r=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let zr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),$("slot"))}};$r([D({type:String})],zr.prototype,"name",void 0),zr=$r([B({name:"e-tabpanel"})],zr);var Jr,Ur=zr,Xr=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Yr=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Gr=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Zr=class extends HTMLElement{constructor(){super(),Jr.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),$("slot")),Yr(this,Jr,null,"f")}get panel(){return Gr(this,Jr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Gr(this,Jr,"f")&&e instanceof Ur&&Yr(this,Jr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Ur&&Yr(this,Jr,e,"f"),e&&(e.hidden=!this.active)}}};Jr=new WeakMap,Xr([D({type:String})],Zr.prototype,"name",void 0),Xr([D({type:Boolean})],Zr.prototype,"disabled",void 0),Xr([D({type:Boolean,observed:!0})],Zr.prototype,"active",void 0),Xr([D({type:String,observed:!0})],Zr.prototype,"controls",void 0),Zr=Xr([B({name:"e-tab"})],Zr);var Qr,ea=Zr,ta=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},na=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let oa=class extends HTMLElement{constructor(){super(),Qr.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),$("slot")),this.tabs=[],ta(this,Qr,1,"f")}get activeIndex(){return na(this,Qr,"f")}get activeTab(){return this.tabs[na(this,Qr,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof ea));this.tabs=t,ta(this,Qr,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof ea&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);ta(this,Qr,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(ta(this,Qr,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Qr=new WeakMap,oa=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-tablist"})],oa);var ia,sa,ra,aa,ca,la,ha=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},da=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},pa=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let fa=class extends HTMLElement{constructor(){super(),ia.add(this),sa.set(this,void 0),ra.set(this,void 0),aa.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(la.content.cloneNode(!0)),da(this,sa,null,"f"),da(this,aa,null,"f"),da(this,ra,null,"f"),e.addEventListener("slotchange",pa(this,ia,"m",ca).bind(this))}get badge(){return pa(this,sa,"f")}get toolbar(){return pa(this,ra,"f")}get menu(){return pa(this,aa,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};sa=new WeakMap,ra=new WeakMap,aa=new WeakMap,ia=new WeakSet,ca=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];da(this,ra,e instanceof qr?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];da(this,sa,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];da(this,aa,e instanceof io?e:null,"f");break}}},(la=$("template")).content.append($("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                            user-select: none;\n                        }\n                        \n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        [part="content"]:hover {\n                            background-color: whitesmoke;\n                        }\n\n                        :host([active]) [part="content"] {\n                            background-color: whitesmoke;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) [part="content"] {\n                            background-color: gainsboro;\n                        }\n\n                        [part="content"] {\n                            display: flex;\n                            line-height: 22px;\n                        }\n                        \n                        [part="label"] {\n                            order: 0;\n                            margin-right: auto;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="toolbar"]) {\n                            order: 1;\n                        }\n\n                        ::slotted([slot="badge"]) {\n                            order: 2;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="menu"]) {\n                            position: absolute;\n                        }\n                    '}}),$("div",{part:["content"],children:[$("span",{part:["label"]}),$("slot",{properties:{name:"toolbar"}}),$("slot",{properties:{name:"badge"}})]}),$("slot",{properties:{name:"menu"}})),ha([D({type:String})],fa.prototype,"name",void 0),ha([D({type:Number})],fa.prototype,"posinset",void 0),ha([D({type:String,observed:!0})],fa.prototype,"label",void 0),ha([D({type:Boolean})],fa.prototype,"droptarget",void 0),ha([D({type:Boolean})],fa.prototype,"active",void 0),ha([D({type:Boolean,observed:!0})],fa.prototype,"selected",void 0),fa=ha([B({name:"e-listitem"})],fa);var ua,ma,ga,va=fa;let ba=class extends HTMLElement{constructor(){super(),ua.add(this);const e=this.attachShadow({mode:"open"});e.append(ga.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,ua,"m",ma).bind(this))}};ua=new WeakSet,ma=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof va)).forEach(((e,t)=>{e.posinset=t}))},(ga=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),ba=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-listitemgroup"})],ba);var wa,ya,Ea,xa,ka,Ta,Sa,Pa,Ia,Ca,Ra,Na,La,Oa,ja,Aa,Ma,Wa,Fa,_a,Da,Ba,Ha,Ka,Va,qa,$a,za,Ja,Ua,Xa,Ya,Ga=ba,Za=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Qa=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},ec=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let tc=class extends HTMLElement{constructor(){super(),wa.add(this),ya.set(this,void 0),Ea.set(this,void 0),xa.set(this,void 0),ka.set(this,void 0),Ta.set(this,void 0),ec(this,Ta,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Qa(this,wa,"m",Sa).bind(this)),"f"),ec(this,Ea,-1,"f"),ec(this,ya,-1,"f"),ec(this,xa,!1,"f"),ec(this,ka,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(Ya.content.cloneNode(!0)),this.addEventListener("contextmenu",Qa(this,wa,"m",Fa).bind(this)),this.addEventListener("click",Qa(this,wa,"m",_a).bind(this)),this.addEventListener("dragend",Qa(this,wa,"m",Da).bind(this)),this.addEventListener("dragenter",Qa(this,wa,"m",Ba).bind(this)),this.addEventListener("dragover",Qa(this,wa,"m",Ha).bind(this)),this.addEventListener("dragleave",Qa(this,wa,"m",Ka).bind(this)),this.addEventListener("dragstart",Qa(this,wa,"m",Va).bind(this)),this.addEventListener("drop",Qa(this,wa,"m",qa).bind(this)),this.addEventListener("focus",Qa(this,wa,"m",za).bind(this)),this.addEventListener("focusin",Qa(this,wa,"m",Ja).bind(this)),this.addEventListener("keydown",Qa(this,wa,"m",$a).bind(this)),this.addEventListener("select",Qa(this,wa,"m",Ua).bind(this)),e.addEventListener("slotchange",Qa(this,wa,"m",Xa).bind(this))}get dropTargetItem(){return this.items[Qa(this,ya,"f")]??null}get activeIndex(){return Qa(this,Ea,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){ec(this,xa,!0,"f")}endSelection(){ec(this,xa,!1,"f"),Qa(this,ka,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ec(this,ka,!1,"f"))}selectedItems(){const e=[],t=Qa(this,Ta,"f");t.currentNode=t.root;let n=Qa(this,wa,"m",ja).call(this);for(;null!==n;)n.selected&&e.push(n),n=Qa(this,wa,"m",Wa).call(this,n);return e}};ya=new WeakMap,Ea=new WeakMap,xa=new WeakMap,ka=new WeakMap,Ta=new WeakMap,wa=new WeakSet,Sa=function(e){return e instanceof va?NodeFilter.FILTER_ACCEPT:e instanceof Ga?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Pa=function(e,t){const n=Array.from(this.items),o=n.indexOf(e),i=n.indexOf(t);return o>-1&&i>-1?e==t?[e]:n.slice(Math.min(o,i),Math.max(o,i)+1):[]},Ia=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ca=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ra=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Na=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},La=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),e.active=!0,e.tabIndex=0,ec(this,Ea,Array.from(n).indexOf(e),"f")},Oa=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,ec(this,ya,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,ec(this,ya,-1,"f"))},ja=function(){const e=Qa(this,Ta,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Aa=function(){const e=Qa(this,Ta,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ma=function(e){const t=Qa(this,Ta,"f");return t.currentNode=e,t.previousNode()},Wa=function(e){const t=Qa(this,Ta,"f");return t.currentNode=e,t.nextNode()},Fa=function(e){const{target:t}=e;t instanceof va&&(this.selectedItems().includes(t)||Qa(this,wa,"m",Ia).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},_a=function(e){const{target:t,ctrlKey:n,shiftKey:o}=e,i=this.selectedItems();if(t instanceof va)if(o||n){if(n)t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t),e.stopPropagation();else if(o){const n=i[i.length-1];if(n){const e=Qa(this,wa,"m",Pa).call(this,n,t);e&&(i.includes(t)?Qa(this,wa,"m",Ra).call(this,...e):Qa(this,wa,"m",Ca).call(this,...e))}else Qa(this,wa,"m",Ia).call(this,t);e.stopPropagation()}}else Qa(this,wa,"m",Ia).call(this,t)},Da=function(){Qa(this,wa,"m",Oa).call(this,null)},Ba=function(e){const{target:t}=e;t instanceof va&&Qa(this,wa,"m",Oa).call(this,t),e.preventDefault()},Ha=function(e){e.preventDefault()},Ka=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),o=n instanceof ShadowRoot?n.host:t;this.contains(o)||Qa(this,wa,"m",Oa).call(this,null)},Va=function(e){const{target:t}=e;t instanceof va&&(this.selectedItems().includes(t)||Qa(this,wa,"m",Ia).call(this,t))},qa=function(){Qa(this,wa,"m",Oa).call(this,null)},$a=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Qa(this,Ta,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),o=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Qa(this,wa,"m",Pa).call(this,n,o);i&&Qa(this,wa,"m",Ia).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Qa(this,wa,"m",Ma).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t))}}else{const e=Qa(this,wa,"m",ja).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Qa(this,wa,"m",Wa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Qa(this,wa,"m",Ra).call(this,t):Qa(this,wa,"m",Ca).call(this,t))}}else{const e=Qa(this,wa,"m",Aa).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Qa(this,wa,"m",ja).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Qa(this,wa,"m",Aa).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Qa(this,wa,"m",Ia).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Qa(this,wa,"m",Na).call(this),this.focus(),e.stopPropagation()}},za=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ja=function(e){const{target:t}=e;t instanceof va&&Qa(this,wa,"m",La).call(this,t)},Ua=function(){Qa(this,xa,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Xa=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof va)).forEach(((e,t)=>{e.posinset=t}))},(Ya=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),$("slot",{children:[$("slot")]})),Za([D({type:String})],tc.prototype,"name",void 0),Za([D({type:Boolean})],tc.prototype,"droptarget",void 0),tc=Za([B({name:"e-list"})],tc);var nc,oc=tc,ic=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},sc=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let rc=class extends HTMLElement{constructor(){super(),nc.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),$("div",{part:["container"],children:[$("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],sc(this,nc,null,"f")}get referee(){return function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,nc,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return sc(e,nc,this,"f"),e}};nc=new WeakMap,ic([D({type:Boolean})],rc.prototype,"selected",void 0),ic([D({type:Boolean})],rc.prototype,"dragovered",void 0),ic([D({type:Boolean})],rc.prototype,"dragged",void 0),ic([D({type:Boolean})],rc.prototype,"disabled",void 0),rc=ic([B({name:"e-draggable"})],rc);var ac,cc,lc=rc,hc=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},dc=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},pc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let fc=class extends HTMLElement{constructor(){super(),ac.set(this,void 0),cc.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),$("div",{part:["container"],children:[$("slot")]})),dc(this,ac,[],"f"),dc(this,cc,[],"f")}get draggables(){return pc(this,ac,"f")}get selectedDraggables(){return pc(this,cc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),dc(this,cc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof lc));dc(this,ac,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),o=Math.sign(e-n),i=o>0?0:this.draggables.length-1,s=o>0?this.draggables.length-1:0,r=o>0?n:e,a=o>0?e:n;for(let e=i;e!==s+o;e+=o)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};ac=new WeakMap,cc=new WeakMap,hc([D({type:Boolean})],fc.prototype,"disabled",void 0),fc=hc([B({name:"e-dragzone"})],fc);var uc=fc,mc=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let gc=class extends uc{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append($("div",{part:["appendarea"],children:[$("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,o=t.target;(o==this||this.draggables.includes(o))&&(o==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):o.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const o=e.dataTransfer;if(o){const e=o.getData("text/plain"),t=document.getElementById(e);if(t instanceof uc){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof vc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let o=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),o.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),o.push(t),i=0}const s=this.shadowRoot?.querySelector("slot");return s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:o,position:i}}))}),{once:!0}),o}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const o=this.shadowRoot?.querySelector("slot");o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};mc([D({type:String})],gc.prototype,"name",void 0),mc([D({type:String})],gc.prototype,"dragovered",void 0),mc([D({type:String,observed:!0})],gc.prototype,"placeholder",void 0),mc([D({type:Boolean})],gc.prototype,"multiple",void 0),gc=mc([B({name:"e-dropzone"})],gc);var vc=gc,bc=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let wc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),$("div",{part:["header"],children:[$("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),$("hr",{part:["separator"]}),$("div",{part:["body"],children:[$("slot")]}),$("hr",{part:["separator"]}),$("div",{part:["actions"],children:[$("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),$("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),$("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};bc([D({type:String})],wc.prototype,"type",void 0),wc=bc([B({name:"e-dialog"})],wc);var yc,Ec,xc,kc,Tc,Sc,Pc,Ic=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Cc=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Rc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let Nc=class extends HTMLElement{constructor(){super(),yc.add(this),Ec.set(this,void 0),xc.set(this,void 0),this.attachShadow({mode:"open"}).append(Pc.content.cloneNode(!0)),Cc(this,Ec,null,"f"),Cc(this,xc,!1,"f"),this.addEventListener("pointerdown",Rc(this,yc,"m",Tc).bind(this)),this.addEventListener("pointermove",Rc(this,yc,"m",Sc).bind(this)),this.addEventListener("pointerup",Rc(this,yc,"m",kc).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;Cc(this,Ec,document.getElementById(e),"f");break}}}};Ec=new WeakMap,xc=new WeakMap,yc=new WeakSet,kc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Cc(this,xc,!1,"f")},Tc=function(e){const{pointerId:t}=e,{controls:n}=this;Cc(this,Ec,document.getElementById(n),"f"),this.setPointerCapture(t),Cc(this,xc,!0,"f")},Sc=function(e){if(Rc(this,xc,"f")){const t=Rc(this,Ec,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:o,movementY:i}=e,{width:s,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(p+o),l-s)),u=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(u+i),d-r));t.style.setProperty("left",`${f}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Pc=$("template")).content.append($("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),Ic([D({type:String,observed:!0})],Nc.prototype,"controls",void 0),Nc=Ic([B({name:"e-handle"})],Nc);var Lc,Oc,jc,Ac,Mc,Wc,Fc,_c,Dc,Bc,Hc=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Kc=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Vc=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let qc=class extends HTMLElement{constructor(){super(),Lc.add(this),Oc.set(this,void 0),jc.set(this,void 0),Ac.set(this,void 0),Mc.set(this,void 0),this.attachShadow({mode:"open"}).append(Bc.content.cloneNode(!0)),Kc(this,Oc,null,"f"),Kc(this,Ac,null,"f"),Kc(this,Mc,0,"f"),Kc(this,jc,!1,"f"),this.addEventListener("pointerdown",Vc(this,Lc,"m",Fc).bind(this)),this.addEventListener("pointermove",Vc(this,Lc,"m",_c).bind(this)),this.addEventListener("pointerup",Vc(this,Lc,"m",Wc).bind(this))}get target(){return Vc(this,Oc,"f")}};Oc=new WeakMap,jc=new WeakMap,Ac=new WeakMap,Mc=new WeakMap,Lc=new WeakSet,Wc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Kc(this,jc,!1,"f")},Fc=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();Kc(this,Oc,o.getElementById(n),"f"),this.setPointerCapture(t),Kc(this,jc,!0,"f")},_c=function(e){Vc(this,jc,"f")&&(null==Vc(this,Ac,"f")?(Kc(this,Mc,e.movementY,"f"),Kc(this,Ac,Vc(this,Lc,"m",Dc).bind(this),"f"),requestAnimationFrame(Vc(this,Ac,"f"))):Kc(this,Mc,Vc(this,Mc,"f")+e.movementY,"f"))},Dc=function(){const e=Vc(this,Oc,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=Vc(this,Mc,"f"),i=parseFloat(t.getPropertyValue("height")),s=Math.trunc(i+("top"==n?-1:1)*o);e.style.setProperty("height",`${s}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Kc(this,Ac,null,"f")},(Bc=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Hc([D({type:String})],qc.prototype,"controls",void 0),Hc([D({type:String,defaultValue:"top"})],qc.prototype,"growdir",void 0),qc=Hc([B({name:"e-hsash"})],qc);var $c,zc,Jc=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r};let Uc=class extends HTMLElement{constructor(){super(...arguments),$c.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}(this,$c,"m",zc).call(this,e)}};$c=new WeakSet,zc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Jc([D({type:String})],Uc.prototype,"src",void 0),Uc=Jc([B({name:"e-import"})],Uc);var Xc,Yc,Gc,Zc,Qc,el=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},tl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)},nl=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n};let ol=class extends HTMLElement{constructor(){super(),Xc.add(this),Yc.set(this,void 0),this.attachShadow({mode:"open"}),tl(this,Xc,"m",Gc).call(this),nl(this,Yc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":tl(this,Xc,"m",Gc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),nl(this,Yc,e,"f")}get promise(){return tl(this,Yc,"f")}};Yc=new WeakMap,Xc=new WeakSet,Gc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Qc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Zc.content.cloneNode(!0))}},(()=>{const e=$("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Zc=$("template")).content.append(t,$("div",{part:["bar"],children:[$("div",{part:["slider"],children:[$("div",{part:["cursor"]})]})]})),(Qc=$("template")).content.append(n,$("div",{part:["circle"]}))})(),el([D({type:String,defaultValue:"bar",observed:!0})],ol.prototype,"type",void 0),ol=el([B({name:"e-loader"})],ol);var il,sl,rl,al,cl,ll,hl,dl,pl,fl,ul=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},ml=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},gl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};let vl=class extends HTMLElement{constructor(){super(),il.add(this),sl.set(this,void 0),rl.set(this,void 0),al.set(this,void 0),cl.set(this,void 0),this.attachShadow({mode:"open"}).append(fl.content.cloneNode(!0)),ml(this,sl,null,"f"),ml(this,al,null,"f"),ml(this,cl,0,"f"),ml(this,rl,!1,"f"),this.addEventListener("pointerdown",gl(this,il,"m",hl).bind(this)),this.addEventListener("pointermove",gl(this,il,"m",dl).bind(this)),this.addEventListener("pointerup",gl(this,il,"m",ll).bind(this))}get target(){return gl(this,sl,"f")}setWidth(e){const t=gl(this,sl,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};sl=new WeakMap,rl=new WeakMap,al=new WeakMap,cl=new WeakMap,il=new WeakSet,ll=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),ml(this,rl,!1,"f")},hl=function(e){const{pointerId:t}=e,{controls:n}=this,o=this.getRootNode();ml(this,sl,o.getElementById(n),"f"),this.setPointerCapture(t),ml(this,rl,!0,"f")},dl=function(e){gl(this,rl,"f")&&(null==gl(this,al,"f")&&(ml(this,al,gl(this,il,"m",pl).bind(this),"f"),requestAnimationFrame(gl(this,al,"f"))),ml(this,cl,gl(this,cl,"f")+e.movementX,"f"))},pl=function(){const e=gl(this,sl,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,o=gl(this,cl,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*o;this.setWidth(i),this.dispatchEvent(new Event("resize"))}ml(this,cl,0,"f"),ml(this,al,null,"f")},(fl=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),ul([D({type:String,observed:!0})],vl.prototype,"controls",void 0),ul([D({type:String,defaultValue:"right"})],vl.prototype,"growdir",void 0),ul([D({type:Boolean})],vl.prototype,"max",void 0),vl=ul([B({name:"e-wsash"})],vl);var bl,wl,yl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};new WeakMap,wl=new WeakMap,bl=new WeakSet;var El,xl,kl,Tl,Sl,Pl,Il,Cl=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Rl=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Nl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Ll extends M{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new W(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Ol{constructor(e){El.set(this,void 0),Rl(this,El,e,"f")}static from(e){return new Ol(e)}show(){Nl(this,El,"f").forEach((e=>{e.show()}))}hide(){Nl(this,El,"f").forEach((e=>{e.hide()}))}display(){const e=Nl(this,El,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Nl(this,El,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Ll){const{items:o}=n,i=e.get(o);i?i.push(t):e.set(o,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}El=new WeakMap;class jl extends M{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Ll?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Ll){const{items:t}=e;t&&t.remove(this)}}}Cl([O()],jl.prototype,"visibility",void 0);let Al=class extends St{constructor(e){super(),xl.add(this),kl.set(this,void 0),Tl.set(this,void 0),this.attachShadow({mode:"open"}),Rl(this,kl,new WeakMap,"f"),Rl(this,Tl,new WeakMap,"f"),this.setModel(e??new Ll)}getListElement(){const{model:e}=this;return Nl(this,kl,"f").get(e)?.deref()??null}getListItemElement(e){return Nl(this,Tl,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return q($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot"))}renderLight(){const{model:e}=this,t=$("e-list",{properties:{tabIndex:0},children:[$("e-listitemgroup",{children:Q(e.items,(e=>Nl(this,xl,"m",Sl).call(this,e)))})],eventListeners:{contextmenu:Nl(this,xl,"m",Pl).bind(this),keydown:Nl(this,xl,"m",Il).bind(this)}});return Nl(this,kl,"f").set(e,new WeakRef(t)),t}};kl=new WeakMap,Tl=new WeakMap,xl=new WeakSet,Sl=function(e){const t=$("e-listitem",{properties:{tabIndex:-1,label:e.label,name:e.label,draggable:!0},dataset:{index:e.index},children:[$("e-toolbar",{properties:{slot:"toolbar",tabIndex:0},children:[$("e-toolbaritemgroup",{children:[ar.menubutton({name:"settings",label:"Actions",menubutton:new ss({menu:X(e,new so({children:[new yn({items:[cn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),cn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new yn({items:[cn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,o)=>{const{items:i}=e;switch(t){case"visibility":{const e=i.namedItem("visibility");e.label=o?"Hide":"Show",e.title=o?"Hide":"Show"}}}))})}),X(e,$("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,o)=>{e.title=o?"Hide":"Show",e.checked=o}))]})]})]});return Nl(this,Tl,"f").set(e,new WeakRef(t)),t},Pl=function(e){const{clientX:t,clientY:n,currentTarget:o,target:i}=e,{model:s}=this;if(o instanceof oc&&i instanceof va){const o=s.getItemByIndex(parseInt(i.dataset.index)),r=$("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n,slot:"menu"},children:[$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,label:"Display"},eventListeners:{trigger:()=>{Ol.from(this.selectedItems()).display()}}}),$("e-menuitem",{properties:{tabIndex:-1,label:"Delete"},eventListeners:{trigger:()=>{Ol.from(this.selectedItems()).remove()}}})]}),$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",label:o.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Ol.from(this.selectedItems());o.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},Il=function(e){const{currentTarget:t,key:n}=e;if(t instanceof oc)switch(n){case"Delete":Ol.from(this.selectedItems()).remove(),e.preventDefault()}},Al=Cl([B({name:"v-list"})],Al);var Ml,Wl,Fl,_l,Dl,Bl,Hl,Kl,Vl,ql=Al,$l=function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(s<3?i(r):s>3?i(t,n,r):i(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},zl=function(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n},Jl=function(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)};class Ul extends M{constructor(e){super();const t=new W(e?.rows??[]);t.setParent(this),this.rows=t;const n=new W(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,o)=>{const i=e.extract(n).toString(),s=e.extract(o).toString();return t*i.localeCompare(s)}))}}class Xl extends M{constructor(e){super();const{name:t,label:n,type:o,extract:i}=e;this.name=t,this.label=n,this.type=o,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}$l([O()],Xl.prototype,"sortorder",void 0);class Yl extends M{constructor(e){super();const{label:t,age:n}=e;this.label=t,this.age=n}}$l([O()],Yl.prototype,"label",void 0),$l([O()],Yl.prototype,"age",void 0);let Gl=class extends St{constructor(e){super(),Ml.add(this),Wl.set(this,void 0),Fl.set(this,void 0),_l.set(this,void 0),Dl.set(this,void 0),zl(this,_l,[],"f"),zl(this,Dl,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Ul),zl(this,Fl,((e,t)=>$("label",{properties:{textContent:t.extract(e)}})),"f"),zl(this,Wl,(e=>$("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){zl(this,Wl,e,"f")}setCellDelegate(e){zl(this,Fl,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Jl(this,Dl,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this,t=$("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[$("e-gridhead",{children:[$("e-gridrow",{children:Q(e.columns,(e=>Jl(this,Ml,"m",Bl).call(this,e)))})]}),$("e-gridbody",{children:Q(e.rows,(e=>Jl(this,Ml,"m",Hl).call(this,e)))})]});return q($("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),$("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),t)}applyFilter(e){Jl(this,_l,"f").includes(e)||(Jl(this,_l,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Jl(this,_l,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeFilter(e){const t=Jl(this,_l,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Jl(this,_l,"f").every((t=>t.filter(e))))}))),this.gridElement.clearSelection()}};Wl=new WeakMap,Fl=new WeakMap,_l=new WeakMap,Dl=new WeakMap,Ml=new WeakSet,Bl=function(e){const{model:t}=this;return X(e,$("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[$("span",{properties:{className:"gridcell-content"},children:[$("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:Jl(this,Ml,"m",Vl).bind(this)}}),$("e-toolbar",{properties:{tabIndex:-1},children:[$("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[$("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[$("e-menuitem",{properties:{type:"button",label:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),$("e-menuitem",{properties:{type:"submenu",label:"Sort",tabIndex:-1},children:[X(e,$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[$("e-menuitem",{properties:{type:"radio",name:"sort",label:"Ascending",value:"1",tabIndex:-1}}),$("e-menuitem",{properties:{type:"radio",name:"sort",label:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:o}=n,i=o.value;t.sortByColumn(e,parseInt(i))}}}),["sortorder"],((e,t,n,o)=>{const i=e.items.namedItem("sort");i instanceof Sn&&Array.from(i.values()).forEach((e=>{e.checked=parseInt(e.value)===o}))}))]}),$("e-menuitem",{properties:{type:"submenu",label:"Filter",tabIndex:-1},children:[$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>$("e-menuitem",{properties:{tabIndex:-1,label:e.name,type:"checkbox",checked:Jl(this,_l,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof an){const{checked:t}=n;t?this.applyFilter(e):this.removeFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[$("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,o)=>{switch(t){case"sortorder":void 0!==o?e.dataset.sortorder=o.toString():delete e.dataset.sortorder}}))},Hl=function(e){const{model:t}=this,n=$("e-gridrow",{properties:{tabIndex:-1},children:Q(t.columns,(t=>Jl(this,Ml,"m",Kl).call(this,e,t)))});return Jl(this,Dl,"f").set(e,new WeakRef(n)),n},Kl=function(e,t){return $("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[Jl(this,Fl,"f").call(this,e,t)]})},Vl=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:o}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(o.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},$l([D({type:Boolean,observed:!0})],Gl.prototype,"resizable",void 0),$l([D({type:Boolean,observed:!0})],Gl.prototype,"sortable",void 0),Gl=$l([B({name:"v-grid"})],Gl);var Zl=Gl;async function Ql(){const e=new jt,t=new Rt({items:[new Lt({label:"TI 0",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({label:"TI 1",type:"parent",items:[new Lt({label:"TI 1A",type:"parent",items:[new Lt({type:"leaf",label:"TI 1AX"})]}),new Lt({type:"parent",label:"TI 1B"})]}),new Lt({type:"leaf",label:"TI 2"}),new Lt({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:o}=t;return o.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new Lt({label:"yo",type:"parent",items:[new Lt({type:"leaf",label:"plop"})]}));const n=new ql;n.setModel(new Ll({items:[new jl({label:"Hey"}),new jl({label:"Yo"})]})),document.body.append(n);const o=new Zl;o.resizable=!0,o.sortable=!0,o.setColumnDelegate((e=>q($("label",{properties:{textContent:e.label}})))),o.setModel(new Ul({columns:[new Xl({name:"name",label:"Name",type:String,extract:e=>e.label}),new Xl({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Yl({label:"Denis",age:13}),new Yl({label:"Jean-Charles",age:32}),new Yl({label:"Charles",age:25})]})),document.body.append(o),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(K(e)).forEach((e=>{e instanceof Dt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(K(e)).forEach((e=>{e instanceof Dt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){e.element.addEventListener("focusin",this),this._widgets.push(e)}unregisterWidget(e){this._widgets.includes(e)&&(e.element.removeEventListener("focusin",this),this._widgets.splice(this._widgets.indexOf(e),1))}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:o,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,o)}}));break;case"trigger":if(t instanceof Dt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,o){const i=o?.hotkey,s=o?.key,r=o?.value,a=o?.checked,c={name:e,trigger:t,key:s,type:n};r&&(c.value=r),void 0!==s&&void 0!==r&&localStorage.setItem(s,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const o=this._actions.findIndex((t=>t.name==e));if(o>-1){const i=this._actions[o];let s;switch(t){case"radio":s=i.value??"";break;case"checkbox":s=i.value??!1}i.trigger(s,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:o,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const s=this._actionElements[n];if(s)switch(o){case"radio":s.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":s.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const o=this._actions[n],{type:i,value:s,checked:r}=o;switch(i){case"radio":"radio"==t.type?t.checked=t.value==s:"select"==t.type&&(t.value=s);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map