var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Ch});var n,s,i,o,r,a,c,l,h,d,p,f,u,m,g,v,b,w,y,E=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},x=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class k{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new S(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new S(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return k.PROPERTY_CHANGE}get LIST_REMOVE(){return k.LIST_REMOVE}get LIST_INSERT(){return k.LIST_INSERT}get LIST_SORT(){return k.LIST_SORT}}var T=k;n=new WeakMap;var S=class{constructor(e){n.set(this,void 0),E(this,n,e.slice(),"f")}get length(){return x(this,n,"f").length}item(e){return x(this,n,"f")[e]??null}values(){return x(this,n,"f").values()}};class P{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,E(this,s,null,"f"),E(this,i,null,"f")}get currentTarget(){return x(this,s,"f")}get target(){return x(this,i,"f")}}s=new WeakMap,i=new WeakMap,P.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof P&&E(e,s,t,"f")}setTarget(e,t){e instanceof P&&E(e,i,t,"f")}};var I=P.ModelEventTargetAccessor;delete P.ModelEventTargetAccessor;var C=P;o=new WeakMap;class R extends class{constructor(){o.set(this,void 0),E(this,o,new Map,"f")}receiveEvent(e){const{type:t}=e,n=x(this,o,"f").get(t);I.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=x(this,o,"f").get(e);n?n.push(t):x(this,o,"f").set(e,[t])}removeEventListener(e,t){const n=x(this,o,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&x(this,o,"f").delete(e)}}dispatchEvent(e){I.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),r.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),E(this,a,null,"f"),E(this,c,[],"f"),E(this,l,!1,"f")}get parentNode(){return x(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");E(this,a,e,"f")}else E(this,a,null,"f")}beginChanges(){E(this,l,!0,"f")}endChanges(){this.dispatchEvent(new C("modelchange")),x(this,c,"f").splice(0),E(this,l,!1,"f")}getRecords(){return x(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,r=new WeakSet,h=function(e,t,n){const s=x(this,c,"f"),i=new T({target:this,changeType:T.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new C("modelchange")),s.splice(0)},d=function(e){x(this,c,"f").push(e),x(this,l,"f")||(this.dispatchEvent(new C("modelchange")),x(this,c,"f").splice(0))},R.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof R&&x(e,r,"m",h).call(e,t,n,s)}handleRecord(e,t){e instanceof R&&x(e,r,"m",d).call(e,t)}};var N=R.ModelNodeRecordsAccessor;delete R.ModelNodeRecordsAccessor;var L=R;const O=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=M.getProperty(this,t);return M.setProperty(this,t,e),e!==n&&N.triggerChange(this,t,n,e),!0},get:function(){return M.getProperty(this,t)},enumerable:!0})}};class A extends R{constructor(){super(),p.set(this,void 0),E(this,p,new Map,"f")}}p=new WeakMap,A.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof A&&x(e,p,"f").set(t,n)}getProperty(e,t){if(e instanceof A)return x(e,p,"f").get(t)}};var M=A.ModelObjectPropertiesAccessor;delete A.ModelObjectPropertiesAccessor;var j=A;f=new WeakMap;var W=class extends R{constructor(e){super(),f.set(this,void 0),E(this,f,e?.slice()??[],"f")}setParent(e){super.setParent(e),x(this,f,"f").forEach((t=>{t.setParent(e)}))}get length(){return x(this,f,"f").length}get(e){return x(this,f,"f")[e]??null}index(e,t){return x(this,f,"f").indexOf(e,t)}values(){return x(this,f,"f").values()}sort(e){const t=x(this,f,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),E(this,f,t.map((e=>e.item)),"f");const n=new T({target:this,changeType:T.LIST_SORT,sortedIndices:t.map((e=>e.index))});N.handleRecord(this,n)}prepend(...e){const t=x(this,f,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:0,insertedItems:e});N.handleRecord(this,s)}append(...e){const t=x(this,f,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:n,insertedItems:e});N.handleRecord(this,i)}insert(e,...t){const n=x(this,f,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new T({target:this,changeType:T.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});N.handleRecord(this,i)}}remove(e){const t=x(this,f,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new T({target:this,changeType:T.LIST_REMOVE,removedIndex:n,removedItems:[e]});N.handleRecord(this,i)}}clear(){const e=x(this,f,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new T({target:this,changeType:T.LIST_REMOVE,removedIndex:0,removedItems:t});N.handleRecord(this,s)}}};m=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,u=new WeakSet,w=function(){const e=x(this,g,"f").splice(0);e.length>0&&x(this,m,"f").call(this,e)},y=function(e){if(!x(this,v,"f")){const{target:t,currentTarget:n}=e,s=x(this,b,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:o,childList:r,subtree:a}=e;a?i&&t instanceof L?(o?x(this,g,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):r&&t instanceof W&&(x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):t==n&&(i&&t instanceof L?(o?x(this,g,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return o.includes(t)}))):x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)):r&&t instanceof W&&(x(this,g,"f").push(...t.getRecords()),x(this,u,"m",w).call(this)))}}};var F=class{constructor(e){u.add(this),m.set(this,void 0),g.set(this,void 0),v.set(this,void 0),b.set(this,void 0),E(this,m,e,"f"),E(this,g,[],"f"),E(this,v,!1,"f"),E(this,b,new WeakMap,"f")}observe(e,t){E(this,v,!1,"f");const n=x(this,b,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=x(this,u,"m",y).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=x(this,b,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){x(this,g,"f").splice(0),E(this,v,!0,"f")}};function D(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const _=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,o=n.toString(),r=D(o),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(r):Object.defineProperty(s,"observedAttributes",{value:[r],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,o,{get:function(){return this.hasAttribute(r)},set:function(e){e?this.setAttribute(r,""):this.removeAttribute(r)}});break;case Object:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(r,JSON.stringify(e)):this.removeAttribute(r)}});break;case Number:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}});break;case String:default:Object.defineProperty(i,o,{get:function(){const e=this.getAttribute(r);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(r,e):this.removeAttribute(r)}})}}},B=function(e){return t=>H(t,e)},H=function(e,t){const{name:n,options:s}=t;return customElements.get(n)||customElements.define(n,e,s),e};function*K(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*K(e)),s++}}function V(...e){const t=document.createDocumentFragment();return t.append(...e),t}function $(e,t){if(t){const{options:n,properties:s,part:i,exportParts:o,attributes:r,dataset:a,children:c,eventListeners:l,style:h}=t,d=document.createElement(e,n);if(n){const{is:e}=n;e&&d.setAttribute("is",e)}if(s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==s[e]&&Object.assign(d,{[e]:t})})),s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==s[e]&&Object.assign(d,{[e]:t})})),i){const{part:e}=d;i.forEach((t=>{e.add(t)}))}if(o&&d.setAttribute("exportparts",o.join(", ")),r&&Object.keys(r).forEach((e=>{const t=r[e];"boolean"==typeof t?t&&d.setAttribute(D(e),""):d.setAttribute(D(e),t.toString())})),h){const{style:e}=d;Object.keys(h).forEach((t=>{Array.isArray(h[t])?e.setProperty(t,h[t][0],h[t][1]):e.setProperty(t,h[t])}))}if(a){const{dataset:e}=d;Object.keys(a).forEach((t=>{e[t]=a[t].toString()}))}switch(c&&("function"==typeof c?d.append(...c(d)):d.append(...Array.from(c))),l&&Object.entries(l).forEach((([e,t])=>{Array.isArray(t)?d.addEventListener(e,t[0],t[1]):d.addEventListener(e,t)})),e){case"template":const{content:e}=t;e&&d.content.append(...Array.from(e))}return d}return document.createElement(e)}const q=new WeakMap,X=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=q.get(t);if(s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),Y=new F((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:o}=q.get(t);o.forEach((e=>{const{elementRef:t,react:o,properties:r}=e,a=t.deref();a&&r.includes(n)&&o(a,n,s,i)}))}))}));function U(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},o=q.get(e);if(X.register(t,{model:e,reactiveElement:i}),o){const{reactiveElementsArray:e,observerOptions:t}=o,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];q.set(e,{observerOptions:t,reactiveElementsArray:s}),Y.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const z=new WeakMap,J=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=z.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),G=new F((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:o}=z.get(s);o.forEach((n=>{const{parentRef:s,mapping:o,placeholder:r}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;r&&i>0&&n==r&&a.removeChild(r);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:p}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map((e=>o(e))),{length:r}=s;t<r?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:o}=i;t=t??document.createRange();const r=n+(o-1);r<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[r]),t.deleteContents());break}case p:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&r&&a.append(r)}}))}))}));function Z(e,t,n){return s=>{const i=new WeakRef(s),o=z.get(e),r={parentRef:i,mapping:t,placeholder:n};if(J.register(s,{list:e,reactiveChildElement:r}),o){const{reactiveChildElementsArray:e}=o;e.push(r)}else{const t=[r];z.set(e,{reactiveChildElementsArray:t}),G.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function Q(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var ee,te,ne;let se=class extends HTMLElement{constructor(){super(),ee.add(this);const e=this.attachShadow({mode:"open"});e.append(ne.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ee,"m",te).bind(this))}};ee=new WeakSet,te=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ue)).forEach(((e,t)=>{e.posinset=t}))},(ne=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),se=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-treeitemgroup"})],se);var ie,oe,re,ae,ce,le=se,he=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},de=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},pe=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let fe=class extends HTMLElement{constructor(){super(),ie.add(this),oe.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(ce.content.cloneNode(!0)),e.addEventListener("slotchange",de(this,ie,"m",ae).bind(this)),this.addEventListener("click",de(this,ie,"m",re).bind(this)),pe(this,oe,null,"f")}get group(){return de(this,oe,"f")}connectedCallback(){this.level=(()=>{let e=0,{parentElement:t}=this;for(;t instanceof le;){if(e++,({parentElement:t}=t),!(t instanceof Ue))return e;({parentElement:t}=t)}return t instanceof nt&&e++,e})()}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};oe=new WeakMap,ie=new WeakSet,re=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},ae=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];pe(this,oe,e instanceof le?e:null,"f");break}}},ce=$("template",{content:[$("div",{part:["content"],children:[$("span",{part:["arrow"]}),$("slot")]}),$("slot",{properties:{name:"group"}})]}),he([_({type:String})],fe.prototype,"name",void 0),he([_({type:Number})],fe.prototype,"posinset",void 0),he([_({type:String,observed:!0})],fe.prototype,"label",void 0),he([_({type:Boolean,observed:!0})],fe.prototype,"expanded",void 0),he([_({type:Boolean})],fe.prototype,"droptarget",void 0),he([_({type:Boolean})],fe.prototype,"active",void 0),he([_({type:Boolean,observed:!0})],fe.prototype,"selected",void 0),he([_({type:Number,observed:!0})],fe.prototype,"level",void 0),he([_({type:String,defaultValue:"leaf"})],fe.prototype,"type",void 0),fe=he([B({name:"e-treeitem"})],fe);var ue,me,ge,ve,be,we,ye,Ee,xe,ke,Te,Se,Pe,Ie,Ce,Re,Ne,Le,Oe,Ae,Me,je,We,Fe,De,_e,Be,He,Ke,Ve,$e,qe,Xe,Ye,Ue=fe,ze=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Je=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ge=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ze=class extends HTMLElement{constructor(){super(),ue.add(this),me.set(this,void 0),ge.set(this,void 0),ve.set(this,void 0),be.set(this,void 0),we.set(this,void 0),Ge(this,we,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Je(this,ue,"m",ye).bind(this)),"f"),Ge(this,me,-1,"f"),Ge(this,ge,-1,"f"),Ge(this,ve,!1,"f"),Ge(this,be,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(Ye.content.cloneNode(!0)),this.addEventListener("click",Je(this,ue,"m",Ae).bind(this)),this.addEventListener("contextmenu",Je(this,ue,"m",Me).bind(this),!0),this.addEventListener("dragend",Je(this,ue,"m",je).bind(this)),this.addEventListener("dragenter",Je(this,ue,"m",We).bind(this)),this.addEventListener("dragleave",Je(this,ue,"m",De).bind(this)),this.addEventListener("dragover",Je(this,ue,"m",Fe).bind(this)),this.addEventListener("dragstart",Je(this,ue,"m",_e).bind(this)),this.addEventListener("drop",Je(this,ue,"m",Be).bind(this)),this.addEventListener("focus",Je(this,ue,"m",Ke).bind(this)),this.addEventListener("focusin",Je(this,ue,"m",Ve).bind(this)),this.addEventListener("focusout",Je(this,ue,"m",$e).bind(this)),this.addEventListener("keydown",Je(this,ue,"m",He).bind(this)),this.addEventListener("select",Je(this,ue,"m",qe).bind(this)),e.addEventListener("slotchange",Je(this,ue,"m",Xe).bind(this))}get activeIndex(){return Je(this,me,"f")}get activeItem(){return this.items.item(Je(this,me,"f"))??null}get dropTargetItem(){return this.items.item(Je(this,ge,"f"))??null}selectedItems(){const e=[],t=Je(this,we,"f");t.currentNode=t.root;let n=Je(this,ue,"m",Ce).call(this);for(;null!==n;)n.selected&&e.push(n),n=Je(this,ue,"m",Le).call(this,n);return e}beginSelection(){Ge(this,ve,!0,"f")}endSelection(){Ge(this,ve,!1,"f"),Je(this,be,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),Ge(this,be,!1,"f"))}};me=new WeakMap,ge=new WeakMap,ve=new WeakMap,be=new WeakMap,we=new WeakMap,ue=new WeakSet,ye=function(e){return e instanceof Ue?NodeFilter.FILTER_ACCEPT:e instanceof le?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ee=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=Je(this,ue,"m",Le).call(this,e);for(;s&&s!==t;)n.push(s),s=Je(this,ue,"m",Le).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=Je(this,ue,"m",Ne).call(this,e);for(;s&&s!==t;)n.push(s),s=Je(this,ue,"m",Ne).call(this,s);return n.push(t),n}return[]},xe=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},ke=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Te=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Se=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},Pe=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e?(Je(this,we,"f").currentNode=e,e.active=!0,e.tabIndex=0,Ge(this,me,Array.from(n).indexOf(e),"f")):Ge(this,me,-1,"f")},Ie=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,Ge(this,ge,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,Ge(this,ge,-1,"f"))},Ce=function(){const e=Je(this,we,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Re=function(){const e=Je(this,we,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ne=function(e){const t=Je(this,we,"f");t.currentNode=e;const n=t.previousSibling();return n?Je(this,ue,"m",Oe).call(this,n):t.parentNode()},Le=function(e){const t=Je(this,we,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Oe=function e(t){if(t.expanded){const t=Je(this,we,"f").lastChild();if(t)return Je(this,ue,"m",e).call(this,t)}return t},Ae=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof Ue)if(s||n){if(n){const{selected:n}=t;n&&t.blur(),n?Je(this,ue,"m",Te).call(this,t):Je(this,ue,"m",ke).call(this,t),e.stopPropagation()}else if(s){const n=i[i.length-1];if(n){const e=Je(this,ue,"m",Ee).call(this,n,t);e&&(i.includes(t)?Je(this,ue,"m",Te).call(this,...e):Je(this,ue,"m",ke).call(this,...e))}else Je(this,ue,"m",xe).call(this,t);e.stopPropagation()}}else Je(this,ue,"m",xe).call(this,t)},Me=function(e){const{target:t}=e;t instanceof Ue&&(this.selectedItems().includes(t)||Je(this,ue,"m",xe).call(this,t),e.preventDefault())},je=function(){Je(this,ue,"m",Ie).call(this,null)},We=function(e){const{target:t}=e;if(t instanceof Ue){const{type:e}=t;"parent"==e&&t.toggle(!0),Je(this,ue,"m",Ie).call(this,t)}e.preventDefault()},Fe=function(e){e.preventDefault()},De=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||Je(this,ue,"m",Ie).call(this,null)}},_e=function(e){const{target:t}=e;t instanceof Ue&&(this.selectedItems().includes(t)||Je(this,ue,"m",xe).call(this,t))},Be=function(){Je(this,ue,"m",Ie).call(this,null)},He=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=Je(this,we,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=Je(this,ue,"m",Ee).call(this,s,Je(this,ue,"m",Oe).call(this,i));e&&Je(this,ue,"m",xe).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=Je(this,we,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=Je(this,ue,"m",Ne).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Je(this,ue,"m",Te).call(this,t):Je(this,ue,"m",ke).call(this,t))}}else{const e=Je(this,ue,"m",Ce).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Je(this,ue,"m",Le).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Je(this,ue,"m",Te).call(this,t):Je(this,ue,"m",ke).call(this,t))}}else{const e=Je(this,ue,"m",Re).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Je(this,ue,"m",Ce).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Je(this,ue,"m",Re).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(Je(this,ue,"m",xe).call(this,n),n.click()),e.stopPropagation();break;case"Escape":Je(this,ue,"m",Se).call(this),Je(this,ue,"m",Pe).call(this,null),this.focus(),e.stopPropagation()}},Ke=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ve=function(e){const{target:t}=e;t instanceof Ue&&(Je(this,ue,"m",Pe).call(this,t),this.tabIndex=-1)},$e=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},qe=function(){Je(this,ve,"f")?Ge(this,be,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Xe=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ue)).forEach(((e,t)=>{e.posinset=t}))},(Ye=$("template")).content.append($("slot")),ze([_({type:Boolean})],Ze.prototype,"droptarget",void 0),ze([_({type:String})],Ze.prototype,"name",void 0),Ze=ze([B({name:"e-tree"})],Ze);var Qe,et,tt,nt=Ze,st=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},it=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class ot extends HTMLElement{constructor(){super(),Qe.add(this),et.set(this,void 0),st(this,et,null,"f")}get model(){return it(this,et,"f")}setModel(e){st(this,et,e,"f"),it(this,Qe,"m",tt).call(this)}renderLight(){}renderShadow(){}refresh(){it(this,Qe,"m",tt).call(this)}}et=new WeakMap,Qe=new WeakSet,tt=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var rt,at,ct,lt,ht,dt,pt,ft,ut,mt,gt,vt,bt,wt,yt,Et=ot,xt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},kt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Tt=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class St extends j{constructor(e){super(),rt.add(this);const t=new W(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new W(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",kt(this,rt,"m",at).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...St.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:o}=n,{length:r}=o;if(e.startsWith(o)){if("/"==e.charAt(r))return St.prototype.getItemByUri.call(n,e);if(r==s)return n}}return null}}rt=new WeakSet,at=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof W&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:o}=e,r=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(o.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...r),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class Pt{constructor(e){ct.set(this,void 0),Tt(this,ct,e,"f")}static from(e){return new Pt(e)}static of(...e){return new Pt(e)}show(){console.log(kt(this,ct,"f")),kt(this,ct,"f").forEach((e=>e.show()))}hide(){kt(this,ct,"f").forEach((e=>e.hide()))}display(){const e=kt(this,ct,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=kt(this,ct,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof It||n instanceof St){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}ct=new WeakMap;class It extends j{constructor(e){super(),lt.add(this);const{label:t,type:n}=e,s=new W(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",kt(this,lt,"m",ht).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof It?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof It?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof It||e instanceof St){const{childItems:t}=e;t&&t.remove(this)}}}lt=new WeakSet,ht=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},xt([O()],It.prototype,"childCount",void 0),xt([O()],It.prototype,"visibility",void 0);let Ct=class extends Et{constructor(e){super(),dt.add(this),pt.set(this,void 0),ft.set(this,void 0),ut.set(this,void 0),Tt(this,ut,new WeakMap,"f"),Tt(this,ft,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new St)}getTreeElement(){return kt(this,pt,"f")?.deref()??null}getTreeItemElement(e){return kt(this,ut,"f").get(e)?.deref()??null}getDragImageElement(e){return kt(this,ft,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=$("e-tree",{properties:{tabIndex:0},children:Z(e.childItems,(e=>kt(this,dt,"m",mt).call(this,e))),eventListeners:{dragstart:kt(this,dt,"m",vt).bind(this),drop:kt(this,dt,"m",bt).bind(this),contextmenu:kt(this,dt,"m",wt).bind(this),keydown:kt(this,dt,"m",yt).bind(this)}});return Tt(this,pt,new WeakRef(t),"f"),V($("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),$("link",{properties:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,$("div",{properties:{className:"offscreen",hidden:!0},children:Z(e.items,(e=>kt(this,dt,"m",gt).call(this,e)))}))}};pt=new WeakMap,ft=new WeakMap,ut=new WeakMap,dt=new WeakSet,mt=function e(t){const n=U(t,$("e-treeitem",{properties:{tabIndex:-1,label:t.label,type:t.type,draggable:!0},dataset:{uri:t.uri},children:("parent"==t.type?[$("e-treeitemgroup",{properties:{slot:"group"},children:Z(t.childItems,(t=>kt(this,dt,"m",e).call(this,t)))})]:[]).concat([$("span",{properties:{className:"label"}})]).concat("parent"==t.type?[$("span",{properties:{className:"badge"}})]:[]).concat([$("e-toolbar",{properties:{tabIndex:0},children:[$("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{t.visibility?t.hide():t.show()}}})]})])}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=s);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${s})`);break;case"visibility":{const t=e.querySelector(":scope > e-toolbar");if(t){const e=t.items.namedItem("visibility");e&&(e.title=s?"Hide":"Show",e.checked=s)}}}}));return kt(this,ut,"f").set(t,new WeakRef(n)),n},gt=function(e){const t=U(e,$("span",{properties:{className:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return kt(this,ft,"f").set(e,new WeakRef(t)),t},vt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this;if(t instanceof nt&&n instanceof Ue){const{dataTransfer:n}=e,i=t.selectedItems(),{length:o}=i;if(o>0){const e=i.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),t=e.join("\n"),o=e[e.length-1],r=s.getItemByUri(o);if(r&&n){n.dropEffect="move",n.setData("text/plain",t);const e=this.getDragImageElement(r);e&&n.setDragImage(e,-16,0)}}}},bt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,{sortFunction:i}=s;if(t instanceof nt&&n instanceof Ue){const{dataTransfer:o}=e;if(o){const e=n.dataset.uri,r=s.getItemByUri(e),a=o.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>s.getItemByUri(e))).filter((e=>null!==e)),{type:o,parentItem:c}=r,l="parent"==o?r.childItems:c?c.childItems:s.childItems;Pt.from(e).remove(),i?(l.beginChanges(),l.append(...e),l.sort(i),l.endChanges()):l.insert(n.posinset,...e);const h=e.map((e=>this.getTreeItemElement(e)));t.beginSelection(),h.forEach((e=>{e.selected=!0})),t.endSelection()}}}},wt=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof nt&&i instanceof Ue){const s=o.getItemByUri(i.dataset.uri),r=$("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n},children:[$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Pt.from(this.selectedItems()).display()}}}),$("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Pt.from(this.selectedItems()).remove()}}})]}),$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Pt.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});document.body.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},yt=function(e){const{currentTarget:t,key:n}=e;if(t instanceof nt)switch(n){case"Delete":Pt.from(this.selectedItems()).remove(),e.preventDefault()}},Ct=xt([B({name:"v-tree"})],Ct);var Rt=Ct,Nt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};class Lt extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}Nt([_({type:String})],Lt.prototype,"name",void 0),Nt([_({type:String})],Lt.prototype,"value",void 0),Nt([_({type:String})],Lt.prototype,"hotkey",void 0),Nt([_({type:String,defaultValue:"button"})],Lt.prototype,"type",void 0),Nt([_({type:Boolean})],Lt.prototype,"disabled",void 0),Nt([_({type:Boolean})],Lt.prototype,"checked",void 0);var Ot,At,Mt,jt=Lt;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Ot||(Ot={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(At||(At={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Mt||(Mt={})),new WeakSet;var Wt,Ft=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Dt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Wt.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(Wt=$("template")).content.append($("slot")),Ft([_({type:String})],Dt.prototype,"name",void 0),Ft([_({type:String})],Dt.prototype,"headers",void 0),Ft([_({type:String})],Dt.prototype,"type",void 0),Ft([_({type:Number})],Dt.prototype,"posinset",void 0),Ft([_({type:Boolean})],Dt.prototype,"droptarget",void 0),Ft([_({type:Boolean})],Dt.prototype,"active",void 0),Ft([_({type:Boolean,observed:!0})],Dt.prototype,"selected",void 0),Dt=Ft([B({name:"e-gridcell"})],Dt);var _t,Bt,Ht,Kt=Dt;let Vt=class extends HTMLElement{constructor(){super(),_t.add(this);const e=this.attachShadow({mode:"open"});e.append(Ht.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,_t,"m",Bt).bind(this))}};_t=new WeakSet,Bt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Kt)).forEach(((e,t)=>{e.posinset=t}))},(Ht=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "}}),$("slot")),Vt=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridrowgroup"})],Vt);var $t,qt,Xt,Yt=Vt,Ut=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},zt=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Jt=class extends jt{constructor(){super(),$t.add(this),this.attachShadow({mode:"open"}).append(Xt.content.cloneNode(!0))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&zt(this,$t,"m",qt).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,zt(this,$t,"m",qt).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var Gt;$t=new WeakSet,qt=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:p}=this;if("menu"==p){const e=o+r-h,p=n+a-d;t.setProperty("left",`${e>0?l+i-r:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:p}=c.getBoundingClientRect(),f=o+r-h,u=n+a-d;t.setProperty("left",(f>0?i-r-p:o-p)+"px");const m=window.getComputedStyle(e),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);t.setProperty("top",`${u>0?s-a-l+w:n-l-b}px`)}}}},Xt=$("template",{content:[$("span",{part:["content"],children:[$("span",{part:["icon"]}),$("span",{part:["label"],children:[$("slot")]}),$("span",{part:["arrow"]})]}),$("slot",{properties:{name:"menu"}})]}),Ut([_({type:Boolean})],Jt.prototype,"active",void 0),Ut([_({type:Number})],Jt.prototype,"index",void 0),Ut([_({type:Boolean})],Jt.prototype,"expanded",void 0),Ut([_({type:String,defaultValue:"button",observed:!0})],Jt.prototype,"type",void 0),Ut([(Gt={selector:"e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,i=t.toString(),{selector:o}=Gt,r=Gt.withinShadowRoot?function(){return this.shadowRoot.querySelector(o)}:function(){return this.querySelector(o)};Object.defineProperty(s,i,{get:r})})],Jt.prototype,"menu",void 0),Jt=Ut([B({name:"e-menuitem"})],Jt);var Zt,Qt,en,tn=Jt,nn=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menu:r}=e;return r&&(r.slot="menu"),$("e-menuitem",{properties:{tabIndex:-1,title:t,name:n,value:i,type:s,textContent:t},children:r?[r]:void 0,eventListeners:{trigger:o}})}),{prototype:tn.prototype,button:e=>new nn({...e,type:"button"}),checkbox:e=>new nn({...e,type:"checkbox"}),radio:e=>new nn({...e,type:"radio"}),menu:e=>new nn({...e,type:"menu"}),submenu:e=>new nn({...e,type:"submenu"})}),sn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let on=class extends HTMLElement{constructor(){super(),Zt.add(this);const e=this.attachShadow({mode:"open"});e.append(en.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Zt,"m",Qt).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};Zt=new WeakSet,Qt=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof tn)).forEach(((e,t)=>{e.index=t}))},(en=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "}}),$("slot")),sn([_({type:String})],on.prototype,"name",void 0),sn([_({type:String,observed:!0})],on.prototype,"label",void 0),on=sn([B({name:"e-menuitemgroup"})],on);var rn,an,cn,ln,hn,dn,pn,fn,un,mn,gn,vn,bn,wn,yn,En,xn,kn,Tn,Sn,Pn,In,Cn,Rn,Nn=on,Ln=Object.assign((function(e){const{name:t,items:n}=e;return $("e-menuitemgroup",{properties:{name:t},children:n})}),{prototype:Nn.prototype,radios:e=>{const{name:t,items:n}=e;return $("e-menuitemgroup",{properties:{name:t},children:n.map((({label:e,value:n})=>new nn({name:t,label:e,type:"radio",value:n})))})}}),On=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},An=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Mn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let jn=In=class extends HTMLElement{constructor(){super(),rn.add(this),an.set(this,void 0),cn.set(this,void 0),Mn(this,cn,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,An(this,rn,"m",dn).bind(this)),"f"),Mn(this,an,-1,"f"),this.items=this.getElementsByTagName("e-menuitem"),this.attachShadow({mode:"open"}).append(Cn.content.cloneNode(!0)),this.addEventListener("click",An(this,rn,"m",bn).bind(this)),this.addEventListener("mouseover",An(this,rn,"m",Sn).bind(this)),this.addEventListener("mouseout",An(this,rn,"m",Tn).bind(this)),this.addEventListener("focusin",An(this,rn,"m",wn).bind(this)),this.addEventListener("focusout",An(this,rn,"m",yn).bind(this)),this.addEventListener("keydown",An(this,rn,"m",kn).bind(this)),this.addEventListener("trigger",An(this,rn,"m",Pn).bind(this))}get activeItem(){return this.items.item(An(this,an,"f"))}get activeIndex(){return An(this,an,"f")}connectedCallback(){const{contextual:e}=this;e&&An(this,rn,"m",ln).call(this)}};an=new WeakMap,cn=new WeakMap,rn=new WeakSet,ln=function(){const{contextX:e,contextY:t}=this,{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window,a=e+o,c=t+r,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,p=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${p>0?c-i:c}px`)},hn=function(){Array.from(this.items).forEach((e=>{e.expanded&&e.collapse()}))},dn=function(e){return e instanceof tn?NodeFilter.FILTER_ACCEPT:e instanceof Nn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pn=function(){const e=An(this,cn,"f");return e.currentNode=e.root,e.firstChild()},fn=function(){const e=An(this,cn,"f");return e.currentNode=e.root,e.lastChild()},un=function(e){const t=An(this,cn,"f");return t.currentNode=e,t.previousNode()},mn=function(e){const t=An(this,cn,"f");return t.currentNode=e,t.nextNode()},gn=function(e){const{menu:t}=e;return t instanceof In?An(t,rn,"m",pn).call(t):null},vn=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&(e.active=!0,Mn(this,an,Array.from(n).indexOf(e),"f")),null==e&&Mn(this,an,-1,"f")},bn=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n).find((e=>e.contains(t)))??null;s&&s.trigger()},wn=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n).find((e=>e.contains(t)))??null;s&&An(this,rn,"m",vn).call(this,s)},yn=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),An(this,rn,"m",vn).call(this,null)}}},En=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Rn.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Rn.delete(e)}))},xn=function(e){const t=Rn.get(e);void 0!==t&&(Rn.delete(e),t.clear())},kn=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?An(this,rn,"m",un).call(this,n)??An(this,rn,"m",fn).call(this):An(this,rn,"m",pn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?An(this,rn,"m",mn).call(this,n)??An(this,rn,"m",pn).call(this):An(this,rn,"m",pn).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":An(this,rn,"m",pn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":An(this,rn,"m",fn).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&An(this,rn,"m",gn).call(this,n)?.focus({preventScroll:!0});break;default:n.trigger()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Bn))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),An(this,rn,"m",gn).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},Tn=function(e){const{target:t,relatedTarget:n}=e,{items:s}=this,i=Array.from(s).find((e=>e.contains(t)))??null;if("submenu"!=i?.type||i.expanded||An(this,rn,"m",xn).call(this,i),e.composedPath().find((e=>e instanceof Bn))==this){const{clientX:t,clientY:s}=e,{left:i,right:o,top:r,bottom:a}=this.getBoundingClientRect(),c=!(i>t||o<t||r>s||a<s),l=this.contains(n);if(c&&l)if(n instanceof Bn&&n!==this)n.focus({preventScroll:!0});else{const e=An(this,an,"f");this.focus({preventScroll:!0}),An(this,rn,"m",vn).call(this,null),Mn(this,an,e,"f")}c||(this.focus({preventScroll:!0}),An(this,rn,"m",vn).call(this,null))}},Sn=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n).find((e=>e.contains(t)))??null;if("submenu"==s?.type&&s.expanded&&An(this,rn,"m",xn).call(this,s),e.composedPath().find((e=>e instanceof Bn))==this){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(An(this,rn,"m",xn).call(this,e),An(this,rn,"m",En).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==s&&(An(this,rn,"m",vn).call(this,s),s.focus({preventScroll:!0}),"submenu"==s.type&&(s.expanded?s.menu?.focus({preventScroll:!0}):(An(this,rn,"m",xn).call(this,s),An(this,rn,"m",En).call(this,s,200).then((()=>{const{activeItem:e}=this;An(this,rn,"m",hn).call(this),e&&(An(this,rn,"m",xn).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},Pn=function(e){const{target:t}=e,n=e.composedPath(),{contextual:s}=this;if(t instanceof tn){if(n.find((e=>e instanceof Bn))==this){const{type:e,name:n,value:s}=t;"radio"==e&&Array.from(this.items).filter((e=>"radio"==e.type&&e.name===n)).forEach((e=>{e.checked=e.value==s}))}if(s)try{this.remove()}catch(e){}}},Cn=$("template",{content:[$("slot")]}),Rn=new WeakMap,On([_({type:String})],jn.prototype,"name",void 0),On([_({type:Boolean})],jn.prototype,"contextual",void 0),On([_({type:Number,defaultValue:0})],jn.prototype,"contextX",void 0),On([_({type:Number,defaultValue:0})],jn.prototype,"contextY",void 0),jn=In=On([B({name:"e-menu"})],jn);var Wn,Fn,Dn,_n,Bn=jn,Hn=Object.assign((function(e){const{name:t,children:n}=e;return $("e-menu",{properties:{name:t,tabIndex:-1},children:n})}),{prototype:Bn.prototype}),Kn=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Vn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},$n=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let qn=class extends HTMLElement{constructor(){super(),Wn.add(this),Fn.set(this,void 0),Vn(this,Fn,null,"f"),this.cells=new es(this);const e=this.attachShadow({mode:"open"});e.append(_n.content.cloneNode(!0)),e.addEventListener("slotchange",$n(this,Wn,"m",Dn).bind(this))}get menu(){return $n(this,Fn,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};Fn=new WeakMap,Wn=new WeakSet,Dn=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];Vn(this,Fn,e instanceof Bn?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof Kt)).forEach(((e,t)=>{e.posinset=t}))}},(_n=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "}}),$("slot"),$("slot",{properties:{name:"menu"}})),Kn([_({type:String})],qn.prototype,"name",void 0),Kn([_({type:Boolean})],qn.prototype,"active",void 0),Kn([_({type:Boolean})],qn.prototype,"selected",void 0),Kn([_({type:Number})],qn.prototype,"posinset",void 0),qn=Kn([B({name:"e-gridrow"})],qn);var Xn,Yn,Un,zn=qn,Jn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Yn=new WeakMap,Xn=new WeakSet,Un=function(e){return e instanceof Kt?NodeFilter.FILTER_ACCEPT:e instanceof hs||e instanceof Yt||e instanceof zn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Gn,Zn,Qn,es=class{constructor(e){Xn.add(this),Yn.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Yn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Jn(this,Xn,"m",Un).bind(this)),"f")}get length(){const e=Jn(this,Yn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=Jn(this,Yn,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Jn(this,Yn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=Jn(this,Yn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},ts=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Zn=new WeakMap,Gn=new WeakSet,Qn=function(e){return e instanceof hs?NodeFilter.FILTER_SKIP:e instanceof zn?NodeFilter.FILTER_ACCEPT:e instanceof Yt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ns,ss,is,os=class{constructor(e){Gn.add(this),Zn.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Zn,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ts(this,Gn,"m",Qn).bind(this)),"f")}get length(){const e=ts(this,Zn,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ts(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ts(this,Zn,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=ts(this,Zn,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let rs=class extends HTMLElement{constructor(){super(),ns.add(this),this.cells=new es(this),this.rows=new os(this);const e=this.attachShadow({mode:"open"});e.append(is.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ns,"m",ss).bind(this))}};ns=new WeakSet,ss=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Kt)).forEach(((e,t)=>{e.posinset=t}))},(is=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),$("slot")),rs=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridbody"})],rs);var as,cs,ls,hs=rs;let ds=class extends HTMLElement{constructor(){super(),as.add(this),this.cells=new es(this),this.rows=new os(this);const e=this.attachShadow({mode:"open"});e.append(ls.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,as,"m",cs).bind(this))}};as=new WeakSet,cs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Kt)).forEach(((e,t)=>{e.posinset=t}))},(ls=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: table-row-group;\n                        }\n                    "}}),$("slot")),ds=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-gridhead"})],ds);var ps,fs,us,ms,gs,vs,bs,ws,ys,Es,xs,ks,Ts,Ss,Ps,Is,Cs,Rs,Ns,Ls,Os,As,Ms,js,Ws,Fs,Ds,_s,Bs,Hs,Ks,Vs,$s,qs,Xs,Ys,Us,zs,Js,Gs,Zs,Qs,ei=ds,ti=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ni=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},si=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class ii extends HTMLElement{constructor(){super(),ps.add(this),gs.set(this,void 0),vs.set(this,void 0),bs.set(this,void 0),ws.set(this,void 0),ys.set(this,void 0),Es.set(this,void 0),si(this,ys,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ni(this,ps,"m",xs).bind(this)),"f"),si(this,Es,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ni(this,ps,"m",ks).bind(this)),"f"),si(this,gs,-1,"f"),si(this,vs,-1,"f"),si(this,bs,!1,"f"),si(this,ws,!1,"f"),this.cells=new es(this),this.rows=new os(this);const e=this.attachShadow({mode:"open"});e.adoptedStyleSheets=[ni(ii,fs,"f",ms)],e.append(ni(ii,fs,"f",us).content.cloneNode(!0)),this.addEventListener("contextmenu",ni(this,ps,"m",Ys).bind(this)),this.addEventListener("click",ni(this,ps,"m",Us).bind(this)),this.addEventListener("focus",ni(this,ps,"m",Js).bind(this)),this.addEventListener("focusin",ni(this,ps,"m",Gs).bind(this)),this.addEventListener("keydown",ni(this,ps,"m",zs).bind(this)),this.addEventListener("select",ni(this,ps,"m",Zs).bind(this)),e.addEventListener("slotchange",ni(this,ps,"m",Qs).bind(this))}get activeCellIndex(){return ni(this,gs,"f")}get activeCell(){return this.cells.item(ni(this,gs,"f"))??null}get activeRowIndex(){return ni(this,vs,"f")}get activeRow(){return this.rows.item(ni(this,vs,"f"))??null}get body(){return Array.from(this.childNodes).find((e=>e instanceof hs))??null}get head(){return Array.from(this.childNodes).find((e=>e instanceof ei))??null}beginSelection(){si(this,bs,!0,"f")}endSelection(){si(this,bs,!1,"f"),ni(this,ws,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),si(this,ws,!1,"f"))}clearSelection(){ni(this,ps,"m",Os).call(this),ni(this,ps,"m",As).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}}fs=ii,gs=new WeakMap,vs=new WeakMap,bs=new WeakMap,ws=new WeakMap,ys=new WeakMap,Es=new WeakMap,ps=new WeakSet,xs=function(e){return e instanceof Kt&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof hs||e instanceof Yt||e instanceof zn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},ks=function(e){return e instanceof zn&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof hs||e instanceof Yt?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ts=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},Ss=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ni(this,ps,"m",$s).call(this,e);for(;s&&s!==t;)n.push(s),s=ni(this,ps,"m",$s).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ni(this,ps,"m",Vs).call(this,e);for(;s&&s!==t;)n.push(s),s=ni(this,ps,"m",Vs).call(this,s);return n.push(t),n}return[]},Ps=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Is=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Cs=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Rs=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ns=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ls=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Os=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},As=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Ms=function(e){const{activeCell:t,cells:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),ni(this,ys,"f").currentNode=e,e.active=!0,e.tabIndex=0;const s=ni(this,ps,"m",Bs).call(this,e);s&&ni(this,ps,"m",js).call(this,s),si(this,gs,Array.from(n.values()).indexOf(e),"f")},js=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),ni(this,Es,"f").currentNode=e,e.active=!0,e.tabIndex=0,si(this,vs,Array.from(n.values()).indexOf(e),"f")},Ws=function(e){const t=ni(this,ys,"f");return t.currentNode=e,t.firstChild()},Fs=function(e){const t=ni(this,ys,"f");return t.currentNode=e,t.lastChild()},Ds=function(e){const t=ni(this,ys,"f");return t.currentNode=e,t.previousNode()},_s=function(e){const t=ni(this,ys,"f");return t.currentNode=e,t.nextNode()},Bs=function(e){const t=ni(this,Es,"f");return t.currentNode=e,t.parentNode()},Hs=function(){const e=ni(this,Es,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ks=function(){const e=ni(this,Es,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Vs=function(e){const t=ni(this,Es,"f");return t.currentNode=e,t.previousNode()},$s=function(e){const t=ni(this,Es,"f");return t.currentNode=e,t.nextNode()},qs=function(e){const t=ni(this,ps,"m",Bs).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ni(this,ps,"m",Vs).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Xs=function(e){const t=ni(this,ps,"m",Bs).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=ni(this,ps,"m",$s).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Ys=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof hs))?t.find((e=>e instanceof Kt)):null;n instanceof Kt&&(this.selectedCells().includes(n)||ni(this,ps,"m",Ps).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof hs))?t.find((e=>e instanceof zn)):null;n instanceof zn&&(this.selectedRows().includes(n)||ni(this,ps,"m",Is).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},Us=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof hs))?s.find((e=>e instanceof Kt)):null,o=this.selectedCells();if(i instanceof Kt)if(n||t){if(t)i.selected?ni(this,ps,"m",Ns).call(this,i):ni(this,ps,"m",Cs).call(this,i),e.stopPropagation();else if(n){const t=o[o.length-1];if(t){const e=ni(this,ps,"m",Ts).call(this,t,i);e&&(o.includes(i)?ni(this,ps,"m",Ns).call(this,...e):ni(this,ps,"m",Cs).call(this,...e))}else ni(this,ps,"m",Ps).call(this,i);e.stopPropagation()}}else ni(this,ps,"m",Ps).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),o=i.find((e=>e instanceof hs))?i.find((e=>e instanceof zn)):null;if(o instanceof zn)if(n||t){if(t)o.selected?ni(this,ps,"m",Ls).call(this,o):ni(this,ps,"m",Rs).call(this,o),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=ni(this,ps,"m",Ss).call(this,t,o);e&&(s.includes(o)?ni(this,ps,"m",Ls).call(this,...e):ni(this,ps,"m",Rs).call(this,...e))}else ni(this,ps,"m",Is).call(this,o);e.stopPropagation()}}else ni(this,ps,"m",Is).call(this,o);break}}},zs=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=ni(this,ps,"m",Hs).call(this),t=e?ni(this,ps,"m",Ws).call(this,e):null,n=ni(this,ps,"m",Ks).call(this),s=n?ni(this,ps,"m",Fs).call(this,n):null;if(t&&s){const e=ni(this,ps,"m",Ts).call(this,t,s);e&&ni(this,ps,"m",Ps).call(this,...e)}break}case"row":{const e=ni(this,ps,"m",Hs).call(this),t=ni(this,ps,"m",Ks).call(this);if(e&&t){const n=ni(this,ps,"m",Ss).call(this,e,t);n&&ni(this,ps,"m",Is).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=ni(this,ps,"m",Ds).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ni(this,ps,"m",Ns).call(this,t):ni(this,ps,"m",Cs).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=ni(this,ps,"m",_s).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ni(this,ps,"m",Ns).call(this,t):ni(this,ps,"m",Cs).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??ni(this,ps,"m",Hs).call(this),n=s?ni(this,ps,"m",qs).call(this,s):t?ni(this,ps,"m",Ws).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ni(this,ps,"m",Ns).call(this,n):ni(this,ps,"m",Cs).call(this,n))}break}case"row":{const t=i?ni(this,ps,"m",Vs).call(this,i):ni(this,ps,"m",Hs).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ni(this,ps,"m",Ls).call(this,t):ni(this,ps,"m",Rs).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??ni(this,ps,"m",Ks).call(this),n=s?ni(this,ps,"m",Xs).call(this,s):t?ni(this,ps,"m",Fs).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?ni(this,ps,"m",Ns).call(this,n):ni(this,ps,"m",Cs).call(this,n))}}break;case"row":{const t=i?ni(this,ps,"m",$s).call(this,i):ni(this,ps,"m",Ks).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?ni(this,ps,"m",Ls).call(this,t):ni(this,ps,"m",Rs).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=ni(this,ps,"m",Ws).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ni(this,ps,"m",Hs).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=ni(this,ps,"m",Fs).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ni(this,ps,"m",Ks).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(ni(this,ps,"m",Ps).call(this,s),s.click());break;case"row":i&&(ni(this,ps,"m",Is).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":ni(this,ps,"m",Os).call(this);break;case"row":ni(this,ps,"m",As).call(this)}this.focus(),e.stopPropagation()}},Js=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},Gs=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof Kt&&ni(this,ps,"m",Ms).call(this,t);break;case"row":t instanceof zn&&ni(this,ps,"m",js).call(this,t)}},Zs=function(){ni(this,bs,"f")?si(this,ws,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},Qs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof zn)).forEach(((e,t)=>{e.posinset=t}))},B({name:"e-grid"})(fs),us={value:$("template",{content:[$("slot")]})},ms={value:function(e){const t=new CSSStyleSheet;return t.replaceSync(e),t}(function(e){const t=e.indexOf("\n"),n=(e=e.substring(t+1)).match(/^[\s]*/);if(n){const t=e.substring(0,n[0].length);e=e.replaceAll(t,"").trimEnd()}return e}("\n            :host {\n                display: table;\n            }\n\n            :host([droptarget]) {\n                background-color: gainsboro;\n            }\n        "))},ti([_({type:String})],ii.prototype,"name",void 0),ti([_({type:String,defaultValue:"cell"})],ii.prototype,"selectby",void 0);var oi,ri,ai,ci,li,hi,di,pi,fi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ui=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class mi{constructor(e){oi.add(this),ri.set(this,void 0),ui(this,ri,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,fi(this,oi,"m",ai).bind(this)),"f")}get length(){const e=fi(this,ri,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=fi(this,ri,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=fi(this,ri,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return"radio"==s?.type?new vi(n,e):s}*values(){const e=fi(this,ri,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}ri=new WeakMap,oi=new WeakSet,ai=function(e){return e instanceof tn?NodeFilter.FILTER_ACCEPT:e instanceof Nn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},mi.HTMLEMenuItemRadioListBase=(pi=class{constructor(e,t){ci.add(this),li.set(this,void 0),hi.set(this,void 0),ui(this,li,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,fi(this,ci,"m",di).bind(this)),"f"),ui(this,hi,t,"f")}get value(){const e=fi(this,hi,"f"),t=fi(this,li,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=fi(this,hi,"f"),t=fi(this,li,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:s,type:i}=n;s==e&&"radio"==i&&(yield n),n=t.nextNode()}}},li=new WeakMap,hi=new WeakMap,ci=new WeakSet,di=function(e){return e instanceof tn?NodeFilter.FILTER_ACCEPT:e instanceof Nn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pi);var gi=mi,vi=mi.HTMLEMenuItemRadioListBase;delete mi.HTMLEMenuItemRadioListBase;var bi,wi,yi,Ei,xi,ki,Ti,Si,Pi,Ii,Ci,Ri,Ni,Li,Oi,Ai,Mi,ji=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Wi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Fi=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Di=class extends HTMLElement{constructor(){super(),bi.add(this),wi.set(this,void 0),yi.set(this,void 0),Fi(this,yi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Wi(this,bi,"m",Ei).bind(this)),"f"),this.items=new gi(this),Fi(this,wi,-1,"f"),this.attachShadow({mode:"open"}).append(Mi.content.cloneNode(!0)),this.addEventListener("click",Wi(this,bi,"m",Li).bind(this)),this.addEventListener("focusin",Wi(this,bi,"m",Ci).bind(this)),this.addEventListener("focusout",Wi(this,bi,"m",Ri).bind(this)),this.addEventListener("mouseover",Wi(this,bi,"m",Ni).bind(this)),this.addEventListener("keydown",Wi(this,bi,"m",Oi).bind(this)),this.addEventListener("trigger",Wi(this,bi,"m",Ai).bind(this))}get activeIndex(){return Wi(this,wi,"f")}get activeItem(){return this.items.item(Wi(this,wi,"f"))??null}};wi=new WeakMap,yi=new WeakMap,bi=new WeakSet,Ei=function(e){return e instanceof tn?NodeFilter.FILTER_ACCEPT:e instanceof Nn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},xi=function(){const e=Wi(this,yi,"f");return e.currentNode=e.root,e.firstChild()},ki=function(){const e=Wi(this,yi,"f");return e.currentNode=e.root,e.lastChild()},Ti=function(e){const t=Wi(this,yi,"f");return t.currentNode=e,t.previousSibling()},Si=function(e){const t=Wi(this,yi,"f");return t.currentNode=e,t.nextSibling()},Pi=function(e){const{menu:t}=e;return t?t.items.item(0):null},Ii=function(e){const{activeItem:t,active:n,items:s}=this;null!==t&&t!==e&&(t.collapse(),t.active=!1),null!==e?(n&&e.expand(),e.active=!0,Fi(this,wi,Array.from(s.values()).indexOf(e),"f")):Fi(this,wi,-1,"f")},Ci=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;Wi(this,bi,"m",Ii).call(this,s)},Ri=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.expanded&&e.collapse(),Wi(this,bi,"m",Ii).call(this,null),this.active=!1}},Ni=function(e){const{target:t}=e,{active:n,activeItem:s,items:i}=this;if(t instanceof tn&&Array.from(i.values()).includes(t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},Li=function(e){const{target:t}=e,{active:n,activeItem:s,items:i}=this;if(t instanceof tn&&Array.from(i.values()).includes(t)){const e=!n;if(this.active=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},Oi=function(e){const{key:t}=e,{active:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?Wi(this,bi,"m",Ti).call(this,s)??Wi(this,bi,"m",ki).call(this):Wi(this,bi,"m",xi).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Wi(this,bi,"m",Pi).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?Wi(this,bi,"m",Si).call(this,s)??Wi(this,bi,"m",xi).call(this):Wi(this,bi,"m",ki).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&Wi(this,bi,"m",Pi).call(this,s)?.focus({preventScroll:!0});break;case"Enter":s&&(this.active=!n,Wi(this,bi,"m",Pi).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.active=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},Ai=function(){const{activeItem:e}=this;e?.expanded&&e.collapse(),this.active=!1,this.focus({preventScroll:!0})},(Mi=$("template")).content.append($("slot")),ji([_({type:String})],Di.prototype,"name",void 0),ji([_({type:Boolean})],Di.prototype,"active",void 0),Di=ji([B({name:"e-menubar"})],Di);var _i,Bi,Hi,Ki,Vi,$i,qi,Xi,Yi=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ui=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},zi=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ji=class extends HTMLElement{constructor(){super(),_i.add(this),Bi.set(this,void 0),Ui(this,Bi,null,"f");const e=this.attachShadow({mode:"open"});e.append($("span",{part:["content"],children:[$("span",{part:["icon"]}),$("span",{part:["label"]})]}),$("slot",{properties:{name:"menu"}})),this.addEventListener("keydown",zi(this,_i,"m",$i).bind(this)),this.addEventListener("click",zi(this,_i,"m",Ki).bind(this)),this.addEventListener("focusout",zi(this,_i,"m",Vi).bind(this)),this.addEventListener("trigger",zi(this,_i,"m",Xi).bind(this)),e.addEventListener("slotchange",zi(this,_i,"m",qi).bind(this))}get menu(){return zi(this,Bi,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,zi(this,_i,"m",Hi).call(this))}collapse(){this.expanded&&(this.expanded=!1)}};Bi=new WeakMap,_i=new WeakSet,Hi=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:o}=this.getBoundingClientRect(),{width:r,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,p=o+r-h,f=n+a-d;t.setProperty("left",`${p>0?l+o-r:l+i}px`),t.setProperty("top",`${f>0?c+n-a:c+s}px`)}},Ki=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Vi=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},$i=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.menu?.items.item(0)?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},qi=function(e){const{target:t}=e,n=t.assignedElements()[0];Ui(this,Bi,n instanceof Bn?n:null,"f")},Xi=function(){this.collapse(),this.focus({preventScroll:!0})},Yi([_({type:String})],Ji.prototype,"name",void 0),Yi([_({type:Boolean})],Ji.prototype,"disabled",void 0),Yi([_({type:Boolean})],Ji.prototype,"expanded",void 0),Ji=Yi([B({name:"e-menubutton"})],Ji);var Gi,Zi=Ji,Qi=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",$("e-menubutton",{properties:{tabIndex:-1},children:[t]})}),{prototype:Zi.prototype}),eo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let to=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Gi.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(Gi=$("template")).content.append($("style",{properties:{innerText:'\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    '}}),$("span",{part:["content"],children:[$("span",{part:["label"]})]})),eo([_({type:String})],to.prototype,"name",void 0),eo([_({type:String})],to.prototype,"value",void 0),eo([_({type:String,observed:!0})],to.prototype,"label",void 0),eo([_({type:String})],to.prototype,"description",void 0),eo([_({type:Boolean})],to.prototype,"disabled",void 0),eo([_({type:Boolean})],to.prototype,"active",void 0),eo([_({type:Boolean})],to.prototype,"selected",void 0),eo([_({type:Boolean})],to.prototype,"default",void 0),to=eo([B({name:"e-option"})],to);var no,so=to;let io=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(no.content.cloneNode(!0))}};(no=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),io=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-optiongroup"})],io);var oo,ro,ao,co=io,lo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};ro=new WeakMap,oo=new WeakSet,ao=function(e){return e instanceof so?NodeFilter.FILTER_ACCEPT:e instanceof co?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var ho,po,fo,uo,mo,go,vo,bo,wo,yo,Eo,xo,ko,To,So,Po,Io,Co,Ro,No,Lo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Oo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ao=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Mo=class extends jt{constructor(){super(),ho.add(this),po.set(this,void 0),fo.set(this,void 0),uo.set(this,void 0),Ao(this,po,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Oo(this,ho,"m",mo).bind(this)),"f"),Ao(this,fo,-1,"f"),Ao(this,uo,-1,"f"),this.options=new class{constructor(e){oo.add(this),ro.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,ro,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,lo(this,oo,"m",ao).bind(this)),"f")}get length(){const e=lo(this,ro,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=lo(this,ro,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=lo(this,ro,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=lo(this,ro,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=lo(this,ro,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(No.content.cloneNode(!0)),this.addEventListener("click",Oo(this,ho,"m",To).bind(this)),this.addEventListener("focusin",Oo(this,ho,"m",So).bind(this)),this.addEventListener("focusout",Oo(this,ho,"m",Po).bind(this)),this.addEventListener("keydown",Oo(this,ho,"m",Io).bind(this)),this.addEventListener("mouseover",Oo(this,ho,"m",Co).bind(this)),e.addEventListener("slotchange",Oo(this,ho,"m",Ro).bind(this))}get activeIndex(){return Oo(this,fo,"f")}get selectedIndex(){return Oo(this,uo,"f")}get activeOption(){return this.options.item(Oo(this,fo,"f"))??null}get selectedOption(){return this.options.item(Oo(this,uo,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(Oo(this,ho,"m",xo).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;Oo(this,ho,"m",ko).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};po=new WeakMap,fo=new WeakMap,uo=new WeakMap,ho=new WeakSet,mo=function(e){return e instanceof so?NodeFilter.FILTER_ACCEPT:e instanceof co?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},go=function(){const e=Oo(this,po,"f");return e.currentNode=e.root,e.firstChild()},vo=function(){const e=Oo(this,po,"f");return e.currentNode=e.root,e.lastChild()},bo=function(e){const t=Oo(this,po,"f");return t.currentNode=e,t.previousNode()},wo=function(e){const t=Oo(this,po,"f");return t.currentNode=e,t.nextNode()},yo=function(e){e&&!e.disabled&&(this.value=e.value)},Eo=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),Ao(this,fo,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else Ao(this,fo,-1,"f")},xo=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,s&&(s.selected=!1),Ao(this,uo,Array.from(t.values()).indexOf(e),"f")}}else Ao(this,fo,-1,"f")},ko=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:o,scrollY:r}=window;n.setProperty("top",`${s+r}px`),n.setProperty("left",`${i+o}px`)},To=function(e){const{target:t}=e;t instanceof so?(Oo(this,ho,"m",yo).call(this,t),this.collapse()):t==this&&this.toggle()},So=function(e){const{target:t}=e,{expanded:n}=this;t instanceof so&&(n||this.expand(),Oo(this,ho,"m",Eo).call(this,t))},Po=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),Oo(this,ho,"m",Eo).call(this,null))},Io=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:i,selectedIndex:o,expanded:r}=this;switch(t){case"ArrowUp":if(r&&null!==s){const e=Oo(this,ho,"m",bo).call(this,s)??Oo(this,ho,"m",go).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Oo(this,ho,"m",bo).call(this,i)??Oo(this,ho,"m",go).call(this);e&&Oo(this,ho,"m",yo).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(r&&null!==s){const e=Oo(this,ho,"m",wo).call(this,s)??Oo(this,ho,"m",vo).call(this);e&&e.focus({preventScroll:!0})}else if(!r&&null!==i){const e=Oo(this,ho,"m",wo).call(this,i)??Oo(this,ho,"m",vo).call(this);e&&Oo(this,ho,"m",yo).call(this,e)}e.stopPropagation();break;case"Home":{const t=Oo(this,ho,"m",go).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Oo(this,ho,"m",yo).call(this,t)),e.stopPropagation();break}case"End":{const t=Oo(this,ho,"m",vo).call(this);null!==t&&(r?t.focus({preventScroll:!0}):Oo(this,ho,"m",yo).call(this,t)),e.stopPropagation();break}case"Enter":if(r)this.collapse(),null!==s&&Oo(this,ho,"m",yo).call(this,s);else{const e=n.item(o);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":r&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),o=Array.from(n.values()),r=o.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=o.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>s)),c=a>-1?a:r,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},Co=function(e){const{target:t}=e;t instanceof so&&t.focus({preventScroll:!0})},Ro=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof so));if(n.length>0){let e=null;null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=Oo(this,ho,"m",go).call(this)),console.log(e),n.forEach((t=>{t.selected=t==e})),null!==e&&Oo(this,ho,"m",xo).call(this,e)}},(No=$("template")).content.append($("div",{part:["content"],children:[$("label",{part:["label"]}),$("output",{part:["value"]})]}),$("div",{part:["options"],children:[$("slot"),$("hr",{part:["separator"]}),$("span",{part:["description"]})]})),Lo([_({type:String})],Mo.prototype,"name",void 0),Lo([_({type:String,observed:!0})],Mo.prototype,"label",void 0),Lo([_({type:String,observed:!0})],Mo.prototype,"value",void 0),Lo([_({type:String,defaultValue:"select",observed:!0})],Mo.prototype,"type",void 0),Lo([_({type:Boolean})],Mo.prototype,"expanded",void 0),Mo=Lo([B({name:"e-select"})],Mo);var jo,Wo,Fo,Do,_o,Bo,Ho,Ko,Vo,$o,qo,Xo,Yo,Uo,zo=Mo,Jo=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Go=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Zo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Qo=class extends jt{constructor(){super(),jo.add(this),Wo.set(this,void 0),Fo.set(this,void 0),Go(this,Wo,null,"f"),Go(this,Fo,null,"f");const e=this.attachShadow({mode:"open"});e.append(Xo.content.cloneNode(!0)),e.addEventListener("slotchange",Zo(this,jo,"m",qo).bind(this))}get menubutton(){return Zo(this,Wo,"f")}get select(){return Zo(this,Fo,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.menu?.items.item(0)?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&Zo(this,jo,"m",Do).call(this);break}}}};Wo=new WeakMap,Fo=new WeakMap,jo=new WeakSet,Do=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},_o=function(e){const t=Zo(this,jo,"m",Vo).bind(this);Yo.set(e,t),e.addEventListener("keydown",t)},Bo=function(e){const t=Yo.get(e);t&&e.removeEventListener("keydown",t)},Ho=function(e){const t=Zo(this,jo,"m",$o).bind(this);Uo.set(e,t),e.addEventListener("trigger",t)},Ko=function(e){const t=Uo.get(e);t&&e.removeEventListener("trigger",t)},Vo=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},$o=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},qo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=Zo(this,Wo,"f");null!==e&&(Zo(this,jo,"m",Ko).call(this,e),Zo(this,jo,"m",Bo).call(this,e));const n=t.assignedElements()[0];e=n instanceof Zi?n:null,null!==e&&(Zo(this,jo,"m",Ho).call(this,e),Zo(this,jo,"m",_o).call(this,e)),Go(this,Wo,e,"f");break}case"select":{let e=Zo(this,Fo,"f");null!==e&&Zo(this,jo,"m",Bo).call(this,e);const n=t.assignedElements()[0];e=n instanceof zo?n:null,null!==e&&Zo(this,jo,"m",_o).call(this,e),Go(this,Fo,e,"f");break}}},Xo=$("template",{content:[$("span",{part:["content"],children:[$("span",{part:["icon"]}),$("span",{part:["label"]}),$("slot",{properties:{name:"select"}}),$("slot",{properties:{name:"menubutton"}})]})]}),Yo=new WeakMap,Uo=new WeakMap,Jo([_({type:Boolean})],Qo.prototype,"active",void 0),Jo([_({type:String,observed:!0})],Qo.prototype,"value",void 0),Jo([_({type:String})],Qo.prototype,"name",void 0),Jo([_({type:String,observed:!0})],Qo.prototype,"label",void 0),Jo([_({type:String})],Qo.prototype,"type",void 0),Qo=Jo([B({name:"e-toolbaritem"})],Qo);var er,tr=Qo,nr=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:o,menubutton:r,select:a}=e;return r&&(r.slot="menubutton"),a&&(a.slot="select"),$("e-toolbaritem",{properties:{tabIndex:-1,title:t,name:n,value:i,type:s},children:r?[r]:a?[a]:void 0,eventListeners:{trigger:o}})}),{prototype:tr.prototype,button:e=>new nr({...e,type:"button"}),checkbox:e=>new nr({...e,type:"checkbox"}),radio:e=>new nr({...e,type:"radio"}),menubutton:e=>new nr({...e,type:"menubutton"}),select:e=>new nr({...e,type:"select"})}),sr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let ir=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(er.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(er=$("template")).content.append($("style",{properties:{textContent:'\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    '}}),$("slot")),sr([_({type:String})],ir.prototype,"name",void 0),sr([_({type:String,observed:!0})],ir.prototype,"label",void 0),sr([_({type:Boolean,observed:!0})],ir.prototype,"disabled",void 0),ir=sr([B({name:"e-toolbaritemgroup"})],ir);var or,rr,ar,cr,lr,hr,dr,pr,fr=ir,ur=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},mr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class gr{constructor(e){or.add(this),rr.set(this,void 0),mr(this,rr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ur(this,or,"m",ar).bind(this)),"f")}get length(){const e=ur(this,rr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=ur(this,rr,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=ur(this,rr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n&&"radio"==n.type?new br(t.root,e):n}*values(){const e=ur(this,rr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}rr=new WeakMap,or=new WeakSet,ar=function(e){return e instanceof tr?NodeFilter.FILTER_ACCEPT:e instanceof fr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},gr.HTMLEToolBarItemRadioListBase=(pr=class{constructor(e,t){cr.add(this),lr.set(this,void 0),hr.set(this,void 0),mr(this,lr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,ur(this,cr,"m",dr).bind(this)),"f"),mr(this,hr,t,"f")}get value(){const e=ur(this,hr,"f"),t=ur(this,lr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){if(n.name==e&&"radio"==n.type&&n.checked)return n.value;n=t.nextNode()}return""}*values(){const e=ur(this,hr,"f"),t=ur(this,lr,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n;){const{name:s,type:i}=n;s==e&&"radio"==i&&(yield n),n=t.nextNode()}}},lr=new WeakMap,hr=new WeakMap,cr=new WeakSet,dr=function(e){return e instanceof tr?NodeFilter.FILTER_ACCEPT:e instanceof fr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},pr);var vr=gr,br=gr.HTMLEToolBarItemRadioListBase;delete gr.HTMLEToolBarItemRadioListBase;var wr,yr,Er,xr,kr,Tr,Sr,Pr,Ir,Cr,Rr,Nr,Lr,Or,Ar,Mr,jr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Wr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Fr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Dr=class extends HTMLElement{constructor(){super(),wr.add(this),yr.set(this,void 0),Er.set(this,void 0),Wr(this,Er,-1,"f"),Wr(this,yr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Fr(this,wr,"m",xr).bind(this)),"f"),this.items=new vr(this),this.attachShadow({mode:"open"}).append(Mr.content.cloneNode(!0)),this.addEventListener("change",Fr(this,wr,"m",Cr).bind(this)),this.addEventListener("click",Fr(this,wr,"m",Rr).bind(this)),this.addEventListener("focusin",Fr(this,wr,"m",Nr).bind(this)),this.addEventListener("focusout",Fr(this,wr,"m",Lr).bind(this)),this.addEventListener("keydown",Fr(this,wr,"m",Or).bind(this)),this.addEventListener("trigger",Fr(this,wr,"m",Ar).bind(this))}get activeItem(){return this.items.item(Fr(this,Er,"f"))??null}get activeIndex(){return Fr(this,Er,"f")}};yr=new WeakMap,Er=new WeakMap,wr=new WeakSet,xr=function(e){return e instanceof tr?NodeFilter.FILTER_ACCEPT:e instanceof fr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},kr=function(){const e=Fr(this,yr,"f");return e.currentNode=e.root,e.firstChild()},Tr=function(){const e=Fr(this,yr,"f");return e.currentNode=e.root,e.lastChild()},Sr=function(e){const t=Fr(this,yr,"f");return t.currentNode=e,t.previousSibling()},Pr=function(e){const t=Fr(this,yr,"f");return t.currentNode=e,t.nextSibling()},Ir=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,Wr(this,Er,Array.from(n.values()).indexOf(e),"f")):Wr(this,Er,-1,"f")},Cr=function(e){const{target:t}=e;if(t instanceof zo){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},Rr=function(e){const{target:t}=e;if(t instanceof tr){const{type:e}=t;t.trigger()}},Nr=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n.values()).find((e=>e.contains(t)))??null;Fr(this,wr,"m",Ir).call(this,s)},Lr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&Fr(this,wr,"m",Ir).call(this,null)},Or=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.menu?.items.item(0)?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=Fr(this,wr,"m",Sr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Fr(this,wr,"m",kr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=Fr(this,wr,"m",Pr).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=Fr(this,wr,"m",Tr).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=Fr(this,wr,"m",kr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Fr(this,wr,"m",Tr).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Ar=function(e){const{target:t}=e;if(t instanceof tr){const{type:e,name:n,value:s}=t;"radio"==e&&Array.from(new br(this,n).values()).forEach((e=>{e.checked=e.value==s}))}},(Mr=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "}}),$("slot")),jr([_({type:String})],Dr.prototype,"name",void 0),jr([_({type:String})],Dr.prototype,"orientation",void 0),Dr=jr([B({name:"e-toolbar"})],Dr);var _r=Dr,Br=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Hr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "}}),$("slot"))}};Br([_({type:String})],Hr.prototype,"name",void 0),Hr=Br([B({name:"e-tabpanel"})],Hr);var Kr,Vr=Hr,$r=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},qr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Xr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Yr=class extends HTMLElement{constructor(){super(),Kr.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "}}),$("slot")),qr(this,Kr,null,"f")}get panel(){return Xr(this,Kr,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==Xr(this,Kr,"f")&&e instanceof Vr&&qr(this,Kr,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof Vr&&qr(this,Kr,e,"f"),e&&(e.hidden=!this.active)}}};Kr=new WeakMap,$r([_({type:String})],Yr.prototype,"name",void 0),$r([_({type:Boolean})],Yr.prototype,"disabled",void 0),$r([_({type:Boolean,observed:!0})],Yr.prototype,"active",void 0),$r([_({type:String,observed:!0})],Yr.prototype,"controls",void 0),Yr=$r([B({name:"e-tab"})],Yr);var Ur,zr=Yr,Jr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Gr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Zr=class extends HTMLElement{constructor(){super(),Ur.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "}}),$("slot")),this.tabs=[],Jr(this,Ur,1,"f")}get activeIndex(){return Gr(this,Ur,"f")}get activeTab(){return this.tabs[Gr(this,Ur,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof zr));this.tabs=t,Jr(this,Ur,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof zr&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);Jr(this,Ur,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(Jr(this,Ur,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};Ur=new WeakMap,Zr=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-tablist"})],Zr);var Qr,ea,ta,na,sa,ia,oa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ra=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},aa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ca=class extends HTMLElement{constructor(){super(),Qr.add(this),ea.set(this,void 0),ta.set(this,void 0),na.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(ia.content.cloneNode(!0)),ra(this,ea,null,"f"),ra(this,na,null,"f"),ra(this,ta,null,"f"),e.addEventListener("slotchange",aa(this,Qr,"m",sa).bind(this))}get badge(){return aa(this,ea,"f")}get toolbar(){return aa(this,ta,"f")}get menu(){return aa(this,na,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};ea=new WeakMap,ta=new WeakMap,na=new WeakMap,Qr=new WeakSet,sa=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];ra(this,ta,e instanceof _r?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];ra(this,ea,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];ra(this,na,e instanceof Bn?e:null,"f");break}}},(ia=$("template")).content.append($("style",{properties:{textContent:'\n                        :host {\n                            display: block;\n                            user-select: none;\n                        }\n                        \n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        [part="content"]:hover {\n                            background-color: whitesmoke;\n                        }\n\n                        :host([active]) [part="content"] {\n                            background-color: whitesmoke;\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) [part="content"] {\n                            background-color: gainsboro;\n                        }\n\n                        [part="content"] {\n                            display: flex;\n                            line-height: 22px;\n                        }\n                        \n                        [part="label"] {\n                            order: 0;\n                            margin-right: auto;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="toolbar"]) {\n                            order: 1;\n                        }\n\n                        ::slotted([slot="badge"]) {\n                            order: 2;\n                            pointer-events: none;\n                        }\n\n                        ::slotted([slot="menu"]) {\n                            position: absolute;\n                        }\n                    '}}),$("div",{part:["content"],children:[$("span",{part:["label"]}),$("slot",{properties:{name:"toolbar"}}),$("slot",{properties:{name:"badge"}})]}),$("slot",{properties:{name:"menu"}})),oa([_({type:String})],ca.prototype,"name",void 0),oa([_({type:Number})],ca.prototype,"posinset",void 0),oa([_({type:String,observed:!0})],ca.prototype,"label",void 0),oa([_({type:Boolean})],ca.prototype,"droptarget",void 0),oa([_({type:Boolean})],ca.prototype,"active",void 0),oa([_({type:Boolean,observed:!0})],ca.prototype,"selected",void 0),ca=oa([B({name:"e-listitem"})],ca);var la,ha,da,pa=ca;let fa=class extends HTMLElement{constructor(){super(),la.add(this);const e=this.attachShadow({mode:"open"});e.append(da.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,la,"m",ha).bind(this))}};la=new WeakSet,ha=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof pa)).forEach(((e,t)=>{e.posinset=t}))},(da=$("template")).content.append($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot")),fa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}([B({name:"e-listitemgroup"})],fa);var ua,ma,ga,va,ba,wa,ya,Ea,xa,ka,Ta,Sa,Pa,Ia,Ca,Ra,Na,La,Oa,Aa,Ma,ja,Wa,Fa,Da,_a,Ba,Ha,Ka,Va,$a,qa,Xa=fa,Ya=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ua=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},za=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ja=class extends HTMLElement{constructor(){super(),ua.add(this),ma.set(this,void 0),ga.set(this,void 0),va.set(this,void 0),ba.set(this,void 0),wa.set(this,void 0),za(this,wa,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ua(this,ua,"m",ya).bind(this)),"f"),za(this,ga,-1,"f"),za(this,ma,-1,"f"),za(this,va,!1,"f"),za(this,ba,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(qa.content.cloneNode(!0)),this.addEventListener("contextmenu",Ua(this,ua,"m",Oa).bind(this)),this.addEventListener("click",Ua(this,ua,"m",Aa).bind(this)),this.addEventListener("dragend",Ua(this,ua,"m",Ma).bind(this)),this.addEventListener("dragenter",Ua(this,ua,"m",ja).bind(this)),this.addEventListener("dragover",Ua(this,ua,"m",Wa).bind(this)),this.addEventListener("dragleave",Ua(this,ua,"m",Fa).bind(this)),this.addEventListener("dragstart",Ua(this,ua,"m",Da).bind(this)),this.addEventListener("drop",Ua(this,ua,"m",_a).bind(this)),this.addEventListener("focus",Ua(this,ua,"m",Ha).bind(this)),this.addEventListener("focusin",Ua(this,ua,"m",Ka).bind(this)),this.addEventListener("keydown",Ua(this,ua,"m",Ba).bind(this)),this.addEventListener("select",Ua(this,ua,"m",Va).bind(this)),e.addEventListener("slotchange",Ua(this,ua,"m",$a).bind(this))}get dropTargetItem(){return this.items[Ua(this,ma,"f")]??null}get activeIndex(){return Ua(this,ga,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){za(this,va,!0,"f")}endSelection(){za(this,va,!1,"f"),Ua(this,ba,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),za(this,ba,!1,"f"))}selectedItems(){const e=[],t=Ua(this,wa,"f");t.currentNode=t.root;let n=Ua(this,ua,"m",Ca).call(this);for(;null!==n;)n.selected&&e.push(n),n=Ua(this,ua,"m",La).call(this,n);return e}};ma=new WeakMap,ga=new WeakMap,va=new WeakMap,ba=new WeakMap,wa=new WeakMap,ua=new WeakSet,ya=function(e){return e instanceof pa?NodeFilter.FILTER_ACCEPT:e instanceof Xa?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ea=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},xa=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},ka=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Ta=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Sa=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},Pa=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),e.active=!0,e.tabIndex=0,za(this,ga,Array.from(n).indexOf(e),"f")},Ia=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,za(this,ma,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,za(this,ma,-1,"f"))},Ca=function(){const e=Ua(this,wa,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ra=function(){const e=Ua(this,wa,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Na=function(e){const t=Ua(this,wa,"f");return t.currentNode=e,t.previousNode()},La=function(e){const t=Ua(this,wa,"f");return t.currentNode=e,t.nextNode()},Oa=function(e){const{target:t}=e;t instanceof pa&&(this.selectedItems().includes(t)||Ua(this,ua,"m",xa).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},Aa=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof pa)if(s||n){if(n)t.selected?Ua(this,ua,"m",Ta).call(this,t):Ua(this,ua,"m",ka).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=Ua(this,ua,"m",Ea).call(this,n,t);e&&(i.includes(t)?Ua(this,ua,"m",Ta).call(this,...e):Ua(this,ua,"m",ka).call(this,...e))}else Ua(this,ua,"m",xa).call(this,t);e.stopPropagation()}}else Ua(this,ua,"m",xa).call(this,t)},Ma=function(){Ua(this,ua,"m",Ia).call(this,null)},ja=function(e){const{target:t}=e;t instanceof pa&&Ua(this,ua,"m",Ia).call(this,t),e.preventDefault()},Wa=function(e){e.preventDefault()},Fa=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||Ua(this,ua,"m",Ia).call(this,null)},Da=function(e){const{target:t}=e;t instanceof pa&&(this.selectedItems().includes(t)||Ua(this,ua,"m",xa).call(this,t))},_a=function(){Ua(this,ua,"m",Ia).call(this,null)},Ba=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=Ua(this,wa,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=Ua(this,ua,"m",Ea).call(this,n,s);i&&Ua(this,ua,"m",xa).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=Ua(this,ua,"m",Na).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ua(this,ua,"m",Ta).call(this,t):Ua(this,ua,"m",ka).call(this,t))}}else{const e=Ua(this,ua,"m",Ca).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=Ua(this,ua,"m",La).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ua(this,ua,"m",Ta).call(this,t):Ua(this,ua,"m",ka).call(this,t))}}else{const e=Ua(this,ua,"m",Ra).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Ua(this,ua,"m",Ca).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Ua(this,ua,"m",Ra).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(Ua(this,ua,"m",xa).call(this,t),t.click()),e.stopPropagation();break}case"Escape":Ua(this,ua,"m",Sa).call(this),this.focus(),e.stopPropagation()}},Ha=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},Ka=function(e){const{target:t}=e;t instanceof pa&&Ua(this,ua,"m",Pa).call(this,t)},Va=function(){Ua(this,va,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},$a=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof pa)).forEach(((e,t)=>{e.posinset=t}))},(qa=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: block;\n                        }\n\n                        :host([droptarget]) {\n                            outline: 1px solid black;\n                            outline-offset: -1px;\n                        }\n                    "}}),$("slot",{children:[$("slot")]})),Ya([_({type:String})],Ja.prototype,"name",void 0),Ya([_({type:Boolean})],Ja.prototype,"droptarget",void 0),Ja=Ya([B({name:"e-list"})],Ja);var Ga,Za=Ja,Qa=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},ec=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let tc=class extends HTMLElement{constructor(){super(),Ga.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    '}}),$("div",{part:["container"],children:[$("slot",{properties:{textContent:"&nbsp;"}})]})),this.references=[],ec(this,Ga,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ga,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return ec(e,Ga,this,"f"),e}};Ga=new WeakMap,Qa([_({type:Boolean})],tc.prototype,"selected",void 0),Qa([_({type:Boolean})],tc.prototype,"dragovered",void 0),Qa([_({type:Boolean})],tc.prototype,"dragged",void 0),Qa([_({type:Boolean})],tc.prototype,"disabled",void 0),tc=Qa([B({name:"e-draggable"})],tc);var nc,sc,ic=tc,oc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},rc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ac=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let cc=class extends HTMLElement{constructor(){super(),nc.set(this,void 0),sc.set(this,void 0),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    '}}),$("div",{part:["container"],children:[$("slot")]})),rc(this,nc,[],"f"),rc(this,sc,[],"f")}get draggables(){return ac(this,nc,"f")}get selectedDraggables(){return ac(this,sc,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),rc(this,sc,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof ic));rc(this,nc,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,o=s>0?this.draggables.length-1:0,r=s>0?n:e,a=s>0?e:n;for(let e=i;e!==o+s;e+=s)e>=r&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};nc=new WeakMap,sc=new WeakMap,oc([_({type:Boolean})],cc.prototype,"disabled",void 0),cc=oc([B({name:"e-dragzone"})],cc);var lc=cc,hc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let dc=class extends lc{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append($("div",{part:["appendarea"],children:[$("span",{part:["placeholder"],properties:{textContent:"&nbsp;"}})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof lc){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof pc&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const o=this.shadowRoot?.querySelector("slot");return o&&o.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};hc([_({type:String})],dc.prototype,"name",void 0),hc([_({type:String})],dc.prototype,"dragovered",void 0),hc([_({type:String,observed:!0})],dc.prototype,"placeholder",void 0),hc([_({type:Boolean})],dc.prototype,"multiple",void 0),dc=hc([B({name:"e-dropzone"})],dc);var pc=dc,fc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let uc=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append($("style",{properties:{innerText:'\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    '}}),$("div",{part:["header"],children:[$("button",{part:["button","close-button"],properties:{textContent:"x",type:"button",tabIndex:0}})]}),$("hr",{part:["separator"]}),$("div",{part:["body"],children:[$("slot")]}),$("hr",{part:["separator"]}),$("div",{part:["actions"],children:[$("button",{part:["button","cancel-button"],properties:{textContent:"Cancel",type:"button",tabIndex:0}}),$("button",{part:["button","confirm-button"],properties:{textContent:"Confirm",type:"button",tabIndex:0}}),$("button",{part:["button","ok-button"],properties:{textContent:"OK",type:"button",tabIndex:0}})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};fc([_({type:String})],uc.prototype,"type",void 0),uc=fc([B({name:"e-dialog"})],uc);var mc,gc,vc,bc,wc,yc,Ec,xc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},kc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Tc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Sc=class extends HTMLElement{constructor(){super(),mc.add(this),gc.set(this,void 0),vc.set(this,void 0),this.attachShadow({mode:"open"}).append(Ec.content.cloneNode(!0)),kc(this,gc,null,"f"),kc(this,vc,!1,"f"),this.addEventListener("pointerdown",Tc(this,mc,"m",wc).bind(this)),this.addEventListener("pointermove",Tc(this,mc,"m",yc).bind(this)),this.addEventListener("pointerup",Tc(this,mc,"m",bc).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;kc(this,gc,document.getElementById(e),"f");break}}}};gc=new WeakMap,vc=new WeakMap,mc=new WeakSet,bc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),kc(this,vc,!1,"f")},wc=function(e){const{pointerId:t}=e,{controls:n}=this;kc(this,gc,document.getElementById(n),"f"),this.setPointerCapture(t),kc(this,vc,!0,"f")},yc=function(e){if(Tc(this,vc,"f")){const t=Tc(this,gc,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:o,height:r}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),p=parseFloat(n.getPropertyValue("left")),f=Math.max(c,Math.min(Math.trunc(p+s),l-o)),u=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(u+i),d-r));t.style.setProperty("left",`${f}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Ec=$("template")).content.append($("style",{properties:{innerText:'\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    '}})),xc([_({type:String,observed:!0})],Sc.prototype,"controls",void 0),Sc=xc([B({name:"e-handle"})],Sc);var Pc,Ic,Cc,Rc,Nc,Lc,Oc,Ac,Mc,jc,Wc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Fc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Dc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let _c=class extends HTMLElement{constructor(){super(),Pc.add(this),Ic.set(this,void 0),Cc.set(this,void 0),Rc.set(this,void 0),Nc.set(this,void 0),this.attachShadow({mode:"open"}).append(jc.content.cloneNode(!0)),Fc(this,Ic,null,"f"),Fc(this,Rc,null,"f"),Fc(this,Nc,0,"f"),Fc(this,Cc,!1,"f"),this.addEventListener("pointerdown",Dc(this,Pc,"m",Oc).bind(this)),this.addEventListener("pointermove",Dc(this,Pc,"m",Ac).bind(this)),this.addEventListener("pointerup",Dc(this,Pc,"m",Lc).bind(this))}get target(){return Dc(this,Ic,"f")}};Ic=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,Nc=new WeakMap,Pc=new WeakSet,Lc=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Fc(this,Cc,!1,"f")},Oc=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Fc(this,Ic,s.getElementById(n),"f"),this.setPointerCapture(t),Fc(this,Cc,!0,"f")},Ac=function(e){Dc(this,Cc,"f")&&(null==Dc(this,Rc,"f")?(Fc(this,Nc,e.movementY,"f"),Fc(this,Rc,Dc(this,Pc,"m",Mc).bind(this),"f"),requestAnimationFrame(Dc(this,Rc,"f"))):Fc(this,Nc,Dc(this,Nc,"f")+e.movementY,"f"))},Mc=function(){const e=Dc(this,Ic,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Dc(this,Nc,"f"),i=parseFloat(t.getPropertyValue("height")),o=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${o}px`);const r=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${r}px`),this.dispatchEvent(new Event("resize"))}Fc(this,Rc,null,"f")},(jc=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),Wc([_({type:String})],_c.prototype,"controls",void 0),Wc([_({type:String,defaultValue:"top"})],_c.prototype,"growdir",void 0),_c=Wc([B({name:"e-hsash"})],_c);var Bc,Hc,Kc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r};let Vc=class extends HTMLElement{constructor(){super(...arguments),Bc.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Bc,"m",Hc).call(this,e)}};Bc=new WeakSet,Hc=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},Kc([_({type:String})],Vc.prototype,"src",void 0),Vc=Kc([B({name:"e-import"})],Vc);var $c,qc,Xc,Yc,Uc,zc=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Jc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Gc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Zc=class extends HTMLElement{constructor(){super(),$c.add(this),qc.set(this,void 0),this.attachShadow({mode:"open"}),Jc(this,$c,"m",Xc).call(this),Gc(this,qc,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":Jc(this,$c,"m",Xc).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),Gc(this,qc,e,"f")}get promise(){return Jc(this,qc,"f")}};qc=new WeakMap,$c=new WeakSet,Xc=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(Uc.content.cloneNode(!0));break;case"bar":t.replaceChildren(Yc.content.cloneNode(!0))}},(()=>{const e=$("style",{properties:{innerText:"\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "}}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(Yc=$("template")).content.append(t,$("div",{part:["bar"],children:[$("div",{part:["slider"],children:[$("div",{part:["cursor"]})]})]})),(Uc=$("template")).content.append(n,$("div",{part:["circle"]}))})(),zc([_({type:String,defaultValue:"bar",observed:!0})],Zc.prototype,"type",void 0),Zc=zc([B({name:"e-loader"})],Zc);var Qc,el,tl,nl,sl,il,ol,rl,al,cl,ll=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},hl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},dl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let pl=class extends HTMLElement{constructor(){super(),Qc.add(this),el.set(this,void 0),tl.set(this,void 0),nl.set(this,void 0),sl.set(this,void 0),this.attachShadow({mode:"open"}).append(cl.content.cloneNode(!0)),hl(this,el,null,"f"),hl(this,nl,null,"f"),hl(this,sl,0,"f"),hl(this,tl,!1,"f"),this.addEventListener("pointerdown",dl(this,Qc,"m",ol).bind(this)),this.addEventListener("pointermove",dl(this,Qc,"m",rl).bind(this)),this.addEventListener("pointerup",dl(this,Qc,"m",il).bind(this))}get target(){return dl(this,el,"f")}setWidth(e){const t=dl(this,el,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};el=new WeakMap,tl=new WeakMap,nl=new WeakMap,sl=new WeakMap,Qc=new WeakSet,il=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),hl(this,tl,!1,"f")},ol=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();hl(this,el,s.getElementById(n),"f"),this.setPointerCapture(t),hl(this,tl,!0,"f")},rl=function(e){dl(this,tl,"f")&&(null==dl(this,nl,"f")&&(hl(this,nl,dl(this,Qc,"m",al).bind(this),"f"),requestAnimationFrame(dl(this,nl,"f"))),hl(this,sl,dl(this,sl,"f")+e.movementX,"f"))},al=function(){const e=dl(this,el,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=dl(this,sl,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}hl(this,sl,0,"f"),hl(this,nl,null,"f")},(cl=$("template")).content.append($("style",{properties:{innerText:"\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "}})),ll([_({type:String,observed:!0})],pl.prototype,"controls",void 0),ll([_({type:String,defaultValue:"right"})],pl.prototype,"growdir",void 0),ll([_({type:Boolean})],pl.prototype,"max",void 0),pl=ll([B({name:"e-wsash"})],pl);var fl,ul,ml=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,ul=new WeakMap,fl=new WeakSet;var gl,vl,bl,wl,yl,El,xl,kl=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Tl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Sl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Pl extends j{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new W(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class Il{constructor(e){gl.set(this,void 0),Tl(this,gl,e,"f")}static from(e){return new Il(e)}show(){Sl(this,gl,"f").forEach((e=>{e.show()}))}hide(){Sl(this,gl,"f").forEach((e=>{e.hide()}))}display(){const e=Sl(this,gl,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=Sl(this,gl,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof Pl){const{items:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}gl=new WeakMap;class Cl extends j{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof Pl?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof Pl){const{items:t}=e;t&&t.remove(this)}}}kl([O()],Cl.prototype,"visibility",void 0);let Rl=class extends Et{constructor(e){super(),vl.add(this),bl.set(this,void 0),wl.set(this,void 0),this.attachShadow({mode:"open"}),Tl(this,bl,new WeakMap,"f"),Tl(this,wl,new WeakMap,"f"),this.setModel(e??new Pl)}getListElement(){const{model:e}=this;return Sl(this,bl,"f").get(e)?.deref()??null}getListItemElement(e){return Sl(this,wl,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return V($("style",{properties:{textContent:"\n                        :host {\n                            display: block;\n                        }\n                    "}}),$("slot"))}renderLight(){const{model:e}=this,t=$("e-list",{properties:{tabIndex:0},children:[$("e-listitemgroup",{children:Z(e.items,(e=>Sl(this,vl,"m",yl).call(this,e)))})],eventListeners:{contextmenu:Sl(this,vl,"m",El).bind(this),keydown:Sl(this,vl,"m",xl).bind(this)}});return Sl(this,bl,"f").set(e,new WeakRef(t)),t}};bl=new WeakMap,wl=new WeakMap,vl=new WeakSet,yl=function(e){const t=$("e-listitem",{properties:{tabIndex:-1,label:e.label,name:e.label,draggable:!0},dataset:{index:e.index},children:[$("e-toolbar",{properties:{slot:"toolbar",tabIndex:0},children:[$("e-toolbaritemgroup",{children:[nr.menubutton({name:"settings",label:"Actions",menubutton:new Qi({menu:U(e,new Hn({children:[new Ln({items:[nn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),nn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new Ln({items:[nn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{const{items:i}=e;switch(t){case"visibility":{const e=i.namedItem("visibility");e.textContent=s?"Hide":"Show",e.title=s?"Hide":"Show"}}}))})}),U(e,$("e-toolbaritem",{properties:{name:"visibility",type:"checkbox",tabIndex:-1},eventListeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return Sl(this,wl,"f").set(e,new WeakRef(t)),t},El=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:o}=this;if(s instanceof Za&&i instanceof pa){const s=o.getItemByIndex(parseInt(i.dataset.index)),r=$("e-menu",{properties:{tabIndex:-1,contextual:!0,contextX:t,contextY:n,slot:"menu"},children:[$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,textContent:"Display"},eventListeners:{trigger:()=>{Il.from(this.selectedItems()).display()}}}),$("e-menuitem",{properties:{tabIndex:-1,textContent:"Delete"},eventListeners:{trigger:()=>{Il.from(this.selectedItems()).remove()}}})]}),$("e-menuitemgroup",{properties:{tabIndex:-1},children:[$("e-menuitem",{properties:{tabIndex:-1,type:"checkbox",textContent:s.visibility?"Hide":"Show"},eventListeners:{trigger:()=>{const e=Il.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],eventListeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(r),r.focus({preventScroll:!0}),e.preventDefault()}},xl=function(e){const{currentTarget:t,key:n}=e;if(t instanceof Za)switch(n){case"Delete":Il.from(this.selectedItems()).remove(),e.preventDefault()}},Rl=kl([B({name:"v-list"})],Rl);var Nl,Ll,Ol,Al,Ml,jl,Wl,Fl,Dl,_l,Bl,Hl=Rl,Kl=function(e,t,n,s){var i,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Vl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},$l=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class ql extends j{constructor(e){super();const t=new W(e?.rows??[]);t.setParent(this),this.rows=t;const n=new W(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,s)=>{const i=e.extract(n).toString(),o=e.extract(s).toString();return t*i.localeCompare(o)}))}}class Xl extends j{constructor(e){super();const{name:t,label:n,type:s,extract:i}=e;this.name=t,this.label=n,this.type=s,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}Kl([O()],Xl.prototype,"sortorder",void 0);class Yl extends j{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}Kl([O()],Yl.prototype,"name",void 0),Kl([O()],Yl.prototype,"age",void 0);let Ul=class extends Et{constructor(e){super(),Nl.add(this),Ll.set(this,void 0),Ol.set(this,void 0),Al.set(this,void 0),Ml.set(this,void 0),jl.set(this,void 0),Vl(this,Al,[],"f"),Vl(this,Ml,null,"f"),Vl(this,jl,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new ql),Vl(this,Ol,((e,t)=>$("label",{properties:{textContent:t.extract(e)}})),"f"),Vl(this,Ll,(e=>$("label",{properties:{textContent:e.label}})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){Vl(this,Ll,e,"f")}setCellDelegate(e){Vl(this,Ol,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return $l(this,jl,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return V($("link",{properties:{rel:"stylesheet",href:"css/main.css"}}),$("link",{properties:{rel:"stylesheet",href:"css/views/gridview.css"}}),$("div",{children:[$("input",{properties:{type:"search"},eventListeners:{input:$l(this,Nl,"m",_l).bind(this)}})]}),$("e-grid",{properties:{tabIndex:0,selectby:"row"},children:[$("e-gridhead",{children:[$("e-gridrow",{children:Z(e.columns,(e=>$l(this,Nl,"m",Wl).call(this,e)))})]}),$("e-gridbody",{children:Z(e.rows,(e=>$l(this,Nl,"m",Fl).call(this,e)))})]}))}setSearchFilter(e){Vl(this,Ml,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!$l(this,Al,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){$l(this,Al,"f").includes(e)||($l(this,Al,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!$l(this,Al,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=$l(this,Al,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!$l(this,Al,"f").every((t=>t.filter(e))))})));const{gridElement:s}=this;s.beginSelection(),s.selectedRows().forEach((e=>e.selected=!1)),s.endSelection()}};Ll=new WeakMap,Ol=new WeakMap,Al=new WeakMap,Ml=new WeakMap,jl=new WeakMap,Nl=new WeakSet,Wl=function(e){const{model:t}=this;return U(e,$("e-gridcell",{properties:{tabIndex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[$("span",{properties:{className:"gridcell-content"},children:[$("label",{properties:{className:"gridcell-label",textContent:e.label},eventListeners:{click:$l(this,Nl,"m",Bl).bind(this)}}),$("e-toolbar",{properties:{tabIndex:-1},children:[$("e-toolbaritem",{properties:{type:"menubutton",tabIndex:-1},children:[$("e-menubutton",{properties:{slot:"menubutton",tabIndex:-1},children:[$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[$("e-menuitem",{properties:{type:"button",textContent:"Resize column",tabIndex:-1},eventListeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);t&&(t.style.removeProperty("width"),t.style.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset")))}}}),$("e-menuitem",{properties:{type:"submenu",textContent:"Sort",tabIndex:-1},children:[U(e,$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:[$("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Ascending",value:"1",tabIndex:-1}}),$("e-menuitem",{properties:{type:"radio",name:"sort",textContent:"Descending",value:"-1",tabIndex:-1}})],eventListeners:{trigger:n=>{const{target:s}=n,i=s.value;t.sortByColumn(e,parseInt(i))}}}),["sortorder"],((e,t,n,s)=>{Array.from(e.items).filter((e=>e.name.startsWith("sort"))).forEach((e=>{e.checked=parseInt(e.value)===s}))}))]}),$("e-menuitem",{properties:{type:"submenu",textContent:"Filter",tabIndex:-1},children:[$("e-menu",{properties:{slot:"menu",tabIndex:-1},children:e.filters.map(((e,t)=>$("e-menuitem",{properties:{tabIndex:-1,textContent:e.name,type:"checkbox",checked:$l(this,Al,"f").includes(e)},eventListeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof tn){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[$("e-wsash",{properties:{controls:`${e.name}-columnheader`},eventListeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":void 0!==s?e.dataset.sortorder=s.toString():delete e.dataset.sortorder}}))},Fl=function(e){const{model:t}=this,n=$("e-gridrow",{properties:{tabIndex:-1},children:Z(t.columns,(t=>$l(this,Nl,"m",Dl).call(this,e,t)))});return $l(this,jl,"f").set(e,new WeakRef(n)),n},Dl=function(e,t){return $("e-gridcell",{properties:{type:"gridcell",headers:t.name},children:[$l(this,Ol,"f").call(this,e,t)]})},_l=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Bl=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:s}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(s.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Kl([_({type:Boolean,observed:!0})],Ul.prototype,"resizable",void 0),Kl([_({type:Boolean,observed:!0})],Ul.prototype,"sortable",void 0),Ul=Kl([B({name:"v-grid"})],Ul);var zl,Jl,Gl,Zl,Ql,eh,th,nh,sh,ih,oh,rh,ah,ch,lh,hh,dh,ph,fh,uh,mh,gh,vh=Ul,bh=class{constructor(){this.element=this.render()}click(){this.element.click()}focus(e){this.element.focus(e)}blur(){this.element.blur()}contains(e){return this.element.contains(e)}render(){throw new Error}},wh=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},yh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Jl=new WeakMap,Gl=new WeakMap,Zl=new WeakMap,zl=new WeakSet,Ql=function(e){const{classList:t}=e;return t.contains("menuitem")?NodeFilter.FILTER_ACCEPT:t.contains("menuitemgroup")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},eh=function(){Array.from(this.items).forEach((e=>{e.collapse()}))},th=function(){const e=yh(this,Zl,"f");return e.currentNode=e.root,e.firstChild()},nh=function(){const e=yh(this,Zl,"f");return e.currentNode=e.root,e.lastChild()},sh=function(e){const t=yh(this,Zl,"f");return t.currentNode=e.element,t.previousNode()},ih=function(e){const t=yh(this,Zl,"f");return t.currentNode=e.element,t.nextNode()},oh=function(e){const{menu:t}=e;return t?t.items[0]?.element??null:null},rh=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1),null!==e&&t!==e&&(e.active=!0,wh(this,Jl,Array.from(n).indexOf(e),"f")),null==e&&wh(this,Jl,-1,"f")},ah=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n).find((e=>e.contains(t)))??null;s&&s.trigger()},ch=function(e){const{target:t}=e,{items:n}=this,s=Array.from(n).find((e=>e.contains(t)))??null;s&&yh(this,zl,"m",rh).call(this,s)},lh=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{activeItem:e}=this;e?.collapse(),yh(this,zl,"m",rh).call(this,null)}},hh=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);yh(this,Gl,"f").set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{yh(this,Gl,"f").delete(e)}))},dh=function(e){const t=yh(this,Gl,"f").get(e);void 0!==t&&(yh(this,Gl,"f").delete(e),t.clear())},ph=function(e){const{key:t}=e,{element:n,activeItem:s}=this;switch(t){case"ArrowUp":(s?yh(this,zl,"m",sh).call(this,s)??yh(this,zl,"m",nh).call(this):yh(this,zl,"m",th).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(s?yh(this,zl,"m",ih).call(this,s)??yh(this,zl,"m",th).call(this):yh(this,zl,"m",th).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":yh(this,zl,"m",th).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":yh(this,zl,"m",nh).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":if(s){const{hasPopup:t}=s;t?(s.expand(),s.expanded&&yh(this,zl,"m",oh).call(this,s)?.focus({preventScroll:!0})):s.click(),e.stopPropagation()}break;case"Escape":case"ArrowLeft":s&&(e.composedPath().find((e=>e instanceof HTMLMenuElement))==n||(s.collapse(),s.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(s){const{hasPopup:t}=s;t&&(s.expand(),yh(this,zl,"m",oh).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation())}}},fh=function(e){const{items:t}=this;return Array.from(t).find((t=>t.contains(e)))??null},uh=function(e){const{target:t,relatedTarget:n}=e,{element:s}=this,i=t instanceof Element?yh(this,zl,"m",fh).call(this,t):null;if(i?.hasPopup&&!i.expanded&&yh(this,zl,"m",dh).call(this,i),e.composedPath().find((e=>e instanceof HTMLMenuElement))==s){const{clientX:t,clientY:i}=e,{left:o,right:r,top:a,bottom:c}=s.getBoundingClientRect(),l=!(o>t||r<t||a>i||c<i),h=s.contains(n);if(l&&h)if(n instanceof HTMLMenuElement&&n!==s)n.focus({preventScroll:!0});else{const e=yh(this,Jl,"f");s.focus({preventScroll:!0}),yh(this,zl,"m",rh).call(this,null),wh(this,Jl,e,"f")}l||(s.focus({preventScroll:!0}),yh(this,zl,"m",rh).call(this,null))}},mh=function(e){const{target:t}=e,{element:n}=this,s=t instanceof Element?yh(this,zl,"m",fh).call(this,t):null;if(s?.hasPopup&&s.expanded&&yh(this,zl,"m",dh).call(this,s),e.composedPath().find((e=>e instanceof HTMLMenuElement))==n){const{activeItem:e}=this;e?.hasPopup&&e.expanded&&!e.contains(t)&&(yh(this,zl,"m",dh).call(this,e),yh(this,zl,"m",hh).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),null!==s&&(yh(this,zl,"m",rh).call(this,s),s.focus({preventScroll:!0}),s.hasPopup&&(s.expanded?e&&e.menu?.focus({preventScroll:!0}):(yh(this,zl,"m",dh).call(this,s),yh(this,zl,"m",hh).call(this,s,200).then((()=>{const{activeItem:e}=this;yh(this,zl,"m",eh).call(this),e&&(yh(this,zl,"m",dh).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{})))))}},gh=function(e){const{target:t}=e,{element:n}=this;e.composedPath().find((e=>e instanceof HTMLMenuElement))};var Eh,xh,kh,Th,Sh=class extends bh{constructor(e){super(),zl.add(this),Jl.set(this,void 0),Gl.set(this,void 0),Zl.set(this,void 0);const{element:t}=this;this.items=[],this.insertItem(0,...e),wh(this,Jl,-1,"f"),wh(this,Gl,new WeakMap,"f"),wh(this,Zl,document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,yh(this,zl,"m",Ql).bind(this)),"f"),t.addEventListener("click",yh(this,zl,"m",ah).bind(this)),t.addEventListener("mouseover",yh(this,zl,"m",mh).bind(this)),t.addEventListener("mouseout",yh(this,zl,"m",uh).bind(this)),t.addEventListener("focusin",yh(this,zl,"m",ch).bind(this)),t.addEventListener("focusout",yh(this,zl,"m",lh).bind(this)),t.addEventListener("keydown",yh(this,zl,"m",ph).bind(this)),t.addEventListener("trigger",yh(this,zl,"m",gh).bind(this))}get activeItem(){return this.items[yh(this,Jl,"f")]??null}get activeIndex(){return yh(this,Jl,"f")}render(){return $("menu",{properties:{className:"menu",tabIndex:-1},attributes:{role:"menu"}})}insertItem(e,...t){const{element:n}=this;this.items.splice(e,0,...t),0===n.children.length?n.append(...t.map((e=>e.element))):n.children.item(Math.max(n.children.length,e)).before(...t.map((e=>e.element)))}},Ph=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};xh=new WeakMap,Eh=new WeakSet,kh=function(){return this.element.querySelector(":scope > .content > .label")},Th=function(){const{element:e,menu:t}=this;if(null!==t){const{element:n}=t,{style:s}=n,{top:i,bottom:o,left:r,right:a}=e.getBoundingClientRect(),{width:c,height:l}=n.getBoundingClientRect(),{scrollY:h,scrollX:d}=window,{clientWidth:p,clientHeight:f}=document.body,{type:u}=this;if("menu"==u){const e=a+c-p,t=i+l-f;s.setProperty("left",`${e>0?d+r-c:d+r}px`),s.setProperty("top",`${t>0?h+i-l:h+o}px`)}else{const t=e.closest(".menu");if(null!==t){const{top:e,left:h}=t.getBoundingClientRect(),d=a+c-p,u=i+l-f;s.setProperty("left",(d>0?r-c-h:a-h)+"px");const m=window.getComputedStyle(n),{paddingTop:g,paddingBottom:v}=m,b=parseFloat(g),w=parseFloat(v);s.setProperty("top",`${u>0?o-l-e+w:i-e-b}px`)}}}};var Ih=class extends bh{constructor(e){super(),Eh.add(this),xh.set(this,null);const{label:t,type:n,menu:s}=e;this.label=t,this.type=n,this.menu=s??null}render(){return $("button",{properties:{className:"menuitem"},attributes:{role:"menuitem"},children:[$("span",{properties:{className:"content"},children:[$("span",{properties:{className:"icon"}}),$("span",{properties:{className:"label"}}),$("span",{properties:{className:"arrow"}})]})]})}get checked(){return this.element.hasAttribute("aria-checked")}set checked(e){this.element.toggleAttribute("aria-checked",e)}get label(){return Ph(this,Eh,"a",kh).textContent??""}set label(e){Ph(this,Eh,"a",kh).textContent=e}get type(){return this.element.dataset.type??"button"}set type(e){this.element.dataset.type=e}get menu(){return Ph(this,xh,"f")}set menu(e){const t=Ph(this,xh,"f");null!==t&&null!==e?(t.element.replaceWith(e.element),this.hasPopup=!0):(null!==t&&(t.element.remove(),this.hasPopup=!1),null!==e&&(this.element.append(e.element),this.hasPopup=!0)),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,xh,e,"f")}get active(){return this.element.hasAttribute("aria-active")}set active(e){this.element.toggleAttribute("aria-active",e)}get hasPopup(){return this.element.hasAttribute("aria-haspopup")}set hasPopup(e){this.element.setAttribute("aria-haspopup",e.toString())}get expanded(){return this.element.hasAttribute("aria-expanded")}set expanded(e){this.element.toggleAttribute("aria-expanded",e)}trigger(){const{type:e,element:t}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}t.dispatchEvent(new Event("trigger",{bubbles:!0}))}toggle(e){const{element:t,type:n}=this;switch(n){case"menu":case"submenu":{const n=e??!this.expanded;this.expanded=n,n&&Ph(this,Eh,"m",Th).call(this),t.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e||(this.expanded=!0,Ph(this,Eh,"m",Th).call(this));break}}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":{const{expanded:e}=this;e&&(this.expanded=!1);break}}}};async function Ch(){const e=new Rt,t=new St({items:[new It({label:"TI 0",type:"parent",items:[new It({label:"TI 1A",type:"parent",items:[new It({type:"leaf",label:"TI 1AX"})]}),new It({type:"parent",label:"TI 1B"})]}),new It({label:"TI 1",type:"parent",items:[new It({label:"TI 1A",type:"parent",items:[new It({type:"leaf",label:"TI 1AX"})]}),new It({type:"parent",label:"TI 1B"})]}),new It({type:"leaf",label:"TI 2"}),new It({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new It({label:"yo",type:"parent",items:[new It({type:"leaf",label:"plop"})]}));const n=new Hl;n.setModel(new Pl({items:[new Cl({label:"Hey"}),new Cl({label:"Yo"})]})),document.body.append(n);const s=new vh;s.resizable=!0,s.sortable=!0,s.setColumnDelegate((e=>V($("label",{properties:{textContent:e.label}})))),s.setModel(new ql({columns:[new Xl({name:"name",label:"Name",type:String,extract:e=>e.name}),new Xl({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Yl({name:"Denis",age:13}),new Yl({name:"Jean-Charles",age:32}),new Yl({name:"Charles",age:25})]}));const i=new Sh([new Ih({label:"MenuItem A1",type:"checkbox"}),new Ih({label:"MenuItem A2",type:"submenu",menu:new Sh([new Ih({label:"MenuItem B1",type:"checkbox"}),new Ih({label:"MenuItem B2",type:"checkbox"})])})]);document.body.append(i.element),(new class{constructor(){this._widgets=new Array,this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(K(e)).forEach((e=>{e instanceof jt&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(K(e)).forEach((e=>{e instanceof jt&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}registerWidget(e){e.element.addEventListener("focusin",this),this._widgets.push(e)}unregisterWidget(e){this._widgets.includes(e)&&(e.element.removeEventListener("focusin",this),this._widgets.splice(this._widgets.indexOf(e),1))}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof jt)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const i=s?.hotkey,o=s?.key,r=s?.value,a=s?.checked,c={name:e,trigger:t,key:o,type:n};r&&(c.value=r),void 0!==o&&void 0!==r&&localStorage.setItem(o,r),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const i=this._actions[s];let o;switch(t){case"radio":o=i.value??"";break;case"checkbox":o=i.value??!1}i.trigger(o,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const o=this._actionElements[n];if(o)switch(s){case"radio":o.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":o.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:i,value:o,checked:r}=s;switch(i){case"radio":"radio"==t.type?t.checked=t.value==o:"select"==t.type&&(t.value=o);break;case"checkbox":t.checked=r}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map