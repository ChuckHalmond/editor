var main;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{e.r(t),e.d(t,{main:()=>Df});var n,s,i,r,o,a,c,l,h,d,u,p,f,m,b,g,w,v,y,E=new WeakMap,S=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"childList":{const e=E.get(t);e&&e.forEach((e=>{const{widget:n,element:s,slot:i}=e,r=n.slottedCallback;"function"==typeof r&&r(s.deref(),t,i)}));break}}}))})),T=new WeakMap,k=new MutationObserver((e=>{e.forEach((e=>{const{target:t,type:n}=e;if(t instanceof HTMLElement)switch(n){case"attributes":{const{attributeName:n,oldValue:s}=e,i=T.get(t);if(i){const e=i.attributeChangedCallback;"function"==typeof e&&e(t,n,s,t.getAttribute(n))}break}}}))})),x=class{constructor(){const e=this;this.create=new Proxy(this.create,{apply:(t,n,s)=>{const i=Reflect.apply(t,n,s),r=e.observedSlots;Array.isArray(r)&&r.map((t=>({slotName:t,slotElement:e.slot(i,t)}))).forEach((t=>{const{slotElement:n,slotName:s}=t;if(n){S.observe(n,{childList:!0});const t=E.get(n),r={widget:e,element:new WeakRef(i),slot:s};Array.isArray(t)?t.push(r):E.set(n,new Array(r))}}));const o=e.observedAttributes;return Array.isArray(o)&&(T.set(i,e),k.observe(i,{attributes:!0,attributeFilter:o,attributeOldValue:!0})),i}})}create(){throw new Error("create method is not implemented")}slot(){return null}get observedSlots(){return["_"]}},P=new Map,L=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},C=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class N{constructor(e){this.target=e.target,this.changeType=e.changeType,this.propertyName=e.propertyName??null,this.oldValue=e.oldValue??void 0,this.newValue=e.newValue??void 0,this.removedIndex=e.removedIndex??0,this.removedItems=new A(e.removedItems??[]),this.insertedIndex=e.insertedIndex??0,this.insertedItems=new A(e.insertedItems??[]),this.sortedIndices=e.sortedIndices??[]}static get PROPERTY_CHANGE(){return 1}static get LIST_REMOVE(){return 2}static get LIST_INSERT(){return 3}static get LIST_SORT(){return 4}get PROPERTY_CHANGE(){return N.PROPERTY_CHANGE}get LIST_REMOVE(){return N.LIST_REMOVE}get LIST_INSERT(){return N.LIST_INSERT}get LIST_SORT(){return N.LIST_SORT}}var I=N;n=new WeakMap;var A=class{constructor(e){n.set(this,void 0),L(this,n,e.slice(),"f")}get length(){return C(this,n,"f").length}item(e){return C(this,n,"f")[e]??null}values(){return C(this,n,"f").values()}};class R{constructor(e){s.set(this,void 0),i.set(this,void 0),this.type=e,L(this,s,null,"f"),L(this,i,null,"f")}get currentTarget(){return C(this,s,"f")}get target(){return C(this,i,"f")}}s=new WeakMap,i=new WeakMap,R.ModelEventTargetAccessor=new class{setCurrentTarget(e,t){e instanceof R&&L(e,s,t,"f")}setTarget(e,t){e instanceof R&&L(e,i,t,"f")}};var M=R.ModelEventTargetAccessor;delete R.ModelEventTargetAccessor;var O=R;r=new WeakMap;class W extends class{constructor(){r.set(this,void 0),L(this,r,new Map,"f")}receiveEvent(e){const{type:t}=e,n=C(this,r,"f").get(t);M.setCurrentTarget(e,this),n&&n.forEach((t=>{t(e)}))}addEventListener(e,t){const n=C(this,r,"f").get(e);n?n.push(t):C(this,r,"f").set(e,[t])}removeEventListener(e,t){const n=C(this,r,"f").get(e);if(n){const s=n.findIndex((e=>e==t));s>-1&&n.splice(s,1),0==n.length&&C(this,r,"f").delete(e)}}dispatchEvent(e){M.setTarget(e,this),this.receiveEvent(e)}}{constructor(){super(),o.add(this),a.set(this,void 0),c.set(this,void 0),l.set(this,void 0),L(this,a,null,"f"),L(this,c,[],"f"),L(this,l,!1,"f")}get parentNode(){return C(this,a,"f")}setParent(e){if(null!==e){let t=e==this,{parentNode:n}=e;for(;!t&&null!==n;)({parentNode:n}=n),t=n==this;if(t)throw new TypeError("Failed to set parent on ModelNode: circular reference detected in the hierarchy.");L(this,a,e,"f")}else L(this,a,null,"f")}beginChanges(){L(this,l,!0,"f")}endChanges(){this.dispatchEvent(new O("modelchange")),C(this,c,"f").splice(0),L(this,l,!1,"f")}getRecords(){return C(this,c,"f").slice()}receiveEvent(e){super.receiveEvent(e);const{parentNode:t}=this;t&&t.receiveEvent(e)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,o=new WeakSet,h=function(e,t,n){const s=C(this,c,"f"),i=new I({target:this,changeType:I.PROPERTY_CHANGE,propertyName:e,oldValue:t,newValue:n});s.push(i),this.dispatchEvent(new O("modelchange")),s.splice(0)},d=function(e){C(this,c,"f").push(e),C(this,l,"f")||(this.dispatchEvent(new O("modelchange")),C(this,c,"f").splice(0))},W.ModelNodeRecordsAccessor=new class{triggerChange(e,t,n,s){e instanceof W&&C(e,o,"m",h).call(e,t,n,s)}handleRecord(e,t){e instanceof W&&C(e,o,"m",d).call(e,t)}};var j=W.ModelNodeRecordsAccessor;delete W.ModelNodeRecordsAccessor;var D=W;const F=function(e){return(e,t)=>{const{constructor:n}=e,{prototype:s}=n;Object.defineProperty(s,t,{set:function(e){const n=H.getProperty(this,t);return H.setProperty(this,t,e),e!==n&&j.triggerChange(this,t,n,e),!0},get:function(){return H.getProperty(this,t)},enumerable:!0})}};class _ extends W{constructor(){super(),u.set(this,void 0),L(this,u,new Map,"f")}}u=new WeakMap,_.ModelObjectPropertiesAccessor=new class{setProperty(e,t,n){e instanceof _&&C(e,u,"f").set(t,n)}getProperty(e,t){if(e instanceof _)return C(e,u,"f").get(t)}};var H=_.ModelObjectPropertiesAccessor;delete _.ModelObjectPropertiesAccessor;var B=_;p=new WeakMap;var q=class extends W{constructor(e){super(),p.set(this,void 0),L(this,p,e?.slice()??[],"f")}setParent(e){super.setParent(e),C(this,p,"f").forEach((t=>{t.setParent(e)}))}get length(){return C(this,p,"f").length}get(e){return C(this,p,"f")[e]??null}index(e,t){return C(this,p,"f").indexOf(e,t)}values(){return C(this,p,"f").values()}sort(e){const t=C(this,p,"f").map(((e,t)=>({item:e,index:t})));t.sort(((t,n)=>e(t.item,n.item))),L(this,p,t.map((e=>e.item)),"f");const n=new I({target:this,changeType:I.LIST_SORT,sortedIndices:t.map((e=>e.index))});j.handleRecord(this,n)}prepend(...e){const t=C(this,p,"f"),{parentNode:n}=this;n&&e.forEach((e=>{e.setParent(n)})),t.splice(0,0,...e);const s=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:0,insertedItems:e});j.handleRecord(this,s)}append(...e){const t=C(this,p,"f"),{length:n}=t,{parentNode:s}=this;s&&e.forEach((e=>{e.setParent(s)})),t.push(...e);const i=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:n,insertedItems:e});j.handleRecord(this,i)}insert(e,...t){const n=C(this,p,"f"),{length:s}=n;if(Math.abs(e)<=s){if(e>=0){const{parentNode:i}=this;t.forEach((e=>{e.setParent(i)})),e<s?n.splice(e,0,...t):n.push(...t)}else if(e<0){e=s-e;const{parentNode:i}=this;i&&t.forEach((e=>{e.setParent(i)})),n.splice(e,0,...t)}const i=new I({target:this,changeType:I.LIST_INSERT,insertedIndex:e,insertedItems:t.slice()});j.handleRecord(this,i)}}remove(e){const t=C(this,p,"f"),n=t.indexOf(e);if(n>-1){const e=t.splice(n,1)[0],{parentNode:s}=this;s&&e.setParent(null);const i=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:n,removedItems:[e]});j.handleRecord(this,i)}}clear(){const e=C(this,p,"f"),{length:t}=e;if(t>0){const t=e.splice(0),{parentNode:n}=this;n&&t.forEach((e=>{e.setParent(null)}));const s=new I({target:this,changeType:I.LIST_REMOVE,removedIndex:0,removedItems:t});j.handleRecord(this,s)}}};m=new WeakMap,b=new WeakMap,g=new WeakMap,w=new WeakMap,f=new WeakSet,v=function(){const e=C(this,b,"f").splice(0);e.length>0&&C(this,m,"f").call(this,e)},y=function(e){if(!C(this,g,"f")){const{target:t,currentTarget:n}=e,s=C(this,w,"f").get(n);if(s){const{options:e}=s,{properties:i,propertiesFilter:r,childList:o,subtree:a}=e;a?i&&t instanceof D?(r?C(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):C(this,b,"f").push(...t.getRecords()),C(this,f,"m",v).call(this)):o&&t instanceof q&&(C(this,b,"f").push(...t.getRecords()),C(this,f,"m",v).call(this)):t==n&&(i&&t instanceof D?(r?C(this,b,"f").push(...t.getRecords().filter((e=>{const{propertyName:t}=e;return r.includes(t)}))):C(this,b,"f").push(...t.getRecords()),C(this,f,"m",v).call(this)):o&&t instanceof q&&(C(this,b,"f").push(...t.getRecords()),C(this,f,"m",v).call(this)))}}};var K=class{constructor(e){f.add(this),m.set(this,void 0),b.set(this,void 0),g.set(this,void 0),w.set(this,void 0),L(this,m,e,"f"),L(this,b,[],"f"),L(this,g,!1,"f"),L(this,w,new WeakMap,"f")}observe(e,t){L(this,g,!1,"f");const n=C(this,w,"f");let s=n.get(e);if(s)n.set(e,s);else{const i=C(this,f,"m",y).bind(this);e.addEventListener("modelchange",i),s={listener:i,options:t},n.set(e,s)}}unobserve(e){let t=C(this,w,"f").get(e);if(t){const{listener:n}=t;e.removeEventListener("modelchange",n)}}disconnect(){C(this,b,"f").splice(0),L(this,g,!0,"f")}};function $(e){return e.replace(/(?<!^)(?=[A-Z])/g,"-").toLowerCase()}const V=function(e){return(t,n)=>{const{constructor:s}=t,{prototype:i}=s,r=n.toString(),o=$(r),a=e.defaultValue??null;if(e.observed){const e=Reflect.get(s,"observedAttributes",s);Array.isArray(e)?e.push(o):Object.defineProperty(s,"observedAttributes",{value:[o],writable:!1})}const{type:c}=e;switch(c){case Boolean:Object.defineProperty(i,r,{get:function(){return this.hasAttribute(o)},set:function(e){e?this.setAttribute(o,""):this.removeAttribute(o)}});break;case Object:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?JSON.parse(e):a},set:function(e){null!==e?this.setAttribute(o,JSON.stringify(e)):this.removeAttribute(o)}});break;case Number:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?parseFloat(e):a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}});break;case String:default:Object.defineProperty(i,r,{get:function(){const e=this.getAttribute(o);return null!==e?e:a},set:function(e){null!==e?this.setAttribute(o,e):this.removeAttribute(o)}})}}},J=function(e){return t=>{const{name:n,options:s}=e;return customElements.get(n)||customElements.define(n,t,s),t}},U=function(e){return t=>{const{name:n}=e;return P.set(n,new t),t}};function*G(e){yield e;const t=e.childNodes,n=t.length;let s=0;for(;s<n;){const e=t.item(s);null!==e&&(yield*G(e)),s++}}function X(...e){const t=document.createDocumentFragment();return t.append(...e),t}function Y(e,t){if(t){const{options:n,attributes:s,dataset:i,children:r,listeners:o}=t,a=document.createElement(e,n);if(s&&Object.keys(s).forEach((e=>{const t=s[e];void 0!==t&&("boolean"==typeof t?a.toggleAttribute($(e),t):a.setAttribute($(e),t.toString()))})),i){const{dataset:e}=a;Object.keys(i).forEach((t=>{e[t]=i[t].toString()}))}return r&&("function"==typeof r?a.append(...r(a)):a.append(...Array.from(r))),o&&Object.entries(o).forEach((([e,t])=>{Array.isArray(t)?a.addEventListener(e,t[0],t[1]):a.addEventListener(e,t)})),a}return document.createElement(e)}function z(e,t){const n=P.get(e);if(n){const e=n.create(t?.properties);if(t){const{attributes:s,dataset:i,slotted:r,listeners:o}=t;if(s&&Object.keys(s).forEach((t=>{const n=s[t];void 0!==n&&("boolean"==typeof n?e.toggleAttribute($(t),n):e.setAttribute($(t),n.toString()))})),i){const{dataset:t}=e;Object.keys(i).forEach((e=>{t[e]=i[e].toString()}))}if(r)if("function"==typeof r||Array.isArray(r)||r instanceof NodeList){const t=n.slot(e,null);t&&("function"==typeof r?t.append(...r(e)):t.append(...Array.from(r)))}else Object.entries(r).forEach((([t,s])=>{const i=n.slot(e,t);i&&("function"==typeof s?i.append(...s(e)):i.append(...Array.from(s)))}));o&&Object.entries(o).forEach((([t,n])=>{Array.isArray(n)?e.addEventListener(t,n[0],n[1]):e.addEventListener(t,n)}))}return e}throw new Error(`Unknown widget ${e}.`)}const Z=new WeakMap,Q=new FinalizationRegistry((e=>{const{model:t,reactiveElement:n}=e,s=Z.get(t);if(void 0!==s){const{reactiveElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),ee=new K((e=>{e.forEach((e=>{const{target:t,propertyName:n,oldValue:s,newValue:i}=e,{reactiveElementsArray:r}=Z.get(t);r.forEach((e=>{const{elementRef:t,react:r,properties:o}=e,a=t.deref();a&&o.includes(n)&&r(a,n,s,i)}))}))}));function te(e,t,n,s){const i={elementRef:new WeakRef(t),react:s,properties:n},r=Z.get(e);if(Q.register(t,{model:e,reactiveElement:i}),r){const{reactiveElementsArray:e,observerOptions:t}=r,{propertiesFilter:s}=t;e.push(i),t.propertiesFilter=s?s.concat(n.filter((e=>!s.includes(e)))):Array.from(new Set(n))}else{const t={properties:!0,propertiesFilter:n},s=[i];Z.set(e,{observerOptions:t,reactiveElementsArray:s}),ee.observe(e,t)}return n.forEach((n=>{if(n in e){const i=Reflect.get(e,n,e);void 0!==i&&s(t,n,void 0,i)}})),t}const ne=new WeakMap,se=new FinalizationRegistry((e=>{const{list:t,reactiveChildElement:n}=e,s=ne.get(t);if(s){const{reactiveChildElementsArray:e}=s;e.splice(e.indexOf(n),1)}})),ie=new K((e=>{let t=null;Array.from(e.values()).forEach((e=>{const{target:n}=e,s=n,{length:i}=s,{reactiveChildElementsArray:r}=ne.get(s);r.forEach((n=>{const{parentRef:s,mapping:r,placeholder:o}=n,a=s.deref();if(a){const{firstChild:n,children:s}=a,{length:c}=s;o&&i>0&&n==o&&a.removeChild(o);const{changeType:l,LIST_INSERT:h,LIST_REMOVE:d,LIST_SORT:u}=e;switch(l){case h:{const{insertedIndex:t,insertedItems:n}=e,i=Array.from(n.values()).map(r),{length:o}=s;t<o?s[t].before(...i):a.append(...i);break}case d:{const{removedIndex:n,removedItems:i}=e,{length:r}=i;t=t??document.createRange();const o=n+(r-1);o<c&&(t.setStartBefore(s[n]),t.setEndAfter(s[o]),t.deleteContents());break}case u:{const{sortedIndices:t}=e,n=Array.from(s);a.append(...t.filter((e=>e<c)).map((e=>n[e])));break}}0==i&&o&&a.append(o)}}))}))}));function re(e,t,n){return s=>{const i=new WeakRef(s),r=ne.get(e),o={parentRef:i,mapping:t,placeholder:n};if(se.register(s,{list:e,reactiveChildElement:o}),r){const{reactiveChildElementsArray:e}=r;e.push(o)}else{const t=[o];ne.set(e,{reactiveChildElementsArray:t}),ie.observe(e,{childList:!0})}return 0==e.length&&n?[n]:Array.from(e.values()).map(t)}}function oe(e,t,n,s,i){if(t==s)switch(e){case"boolean":return""==n&&""==i;case"string":return""!==n&&n==i;case"list":return""!==n&&null!==i&&new RegExp(`${n}s*?`,"g").test(i)}return!1}var ae,ce,le,he=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},de=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class ue extends HTMLElement{constructor(){super(),ae.add(this),ce.set(this,void 0),he(this,ce,null,"f")}get model(){return de(this,ce,"f")}setModel(e){he(this,ce,e,"f"),de(this,ae,"m",le).call(this)}renderLight(){}renderShadow(){}refresh(){de(this,ae,"m",le).call(this)}}ce=new WeakMap,ae=new WeakSet,le=function(){const{shadowRoot:e}=this,t=this.renderShadow();t&&e&&e.replaceChildren(t);const n=this.renderLight();n&&this.replaceChildren(n)};var pe,fe,me,be,ge,we,ve,ye,Ee,Se,Te,ke,xe,Pe,Le,Ce,Ne,Ie,Ae,Re,Me,Oe,We,je,De,Fe,_e,He,Be,qe,Ke,$e,Ve,Je,Ue,Ge,Xe,Ye,ze,Ze,Qe,et,tt,nt,st,it,rt,ot,at,ct,lt,ht,dt,ut,pt,ft,mt,bt,gt,wt,vt,yt,Et,St,Tt,kt,xt,Pt,Lt,Ct,Nt,It,At,Rt,Mt,Ot,Wt,jt,Dt,Ft,_t,Ht,Bt,qt,Kt,$t,Vt,Jt,Ut,Gt,Xt,Yt,zt,Zt,Qt=ue,en=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},tn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},nn=new(U({name:"menuitem"})((Te=class extends x{constructor(){super(),pe.add(this),fe.set(this,void 0),me.set(this,void 0),be.set(this,void 0),ge.set(this,void 0),we.set(this,void 0),ve.set(this,void 0),en(this,fe,Y("span",{attributes:{class:"icon"}}),"f"),en(this,me,Y("span",{attributes:{class:"arrow"}}),"f"),en(this,be,Y("span",{attributes:{class:"keyshortcuts"}}),"f"),en(this,ge,Y("button",{attributes:{class:"menuitem",role:"menuitem",type:"button",tabindex:-1},children:[tn(this,fe,"f").cloneNode(!0),Y("span",{attributes:{class:"label"}})]}),"f"),en(this,we,["checkbox","radio","menu","submenu","button"],"f"),en(this,ve,{button:{role:"menuitem",hasIcon:!0,hasArrow:!1},checkbox:{role:"menuitemcheckbox",hasIcon:!0,hasArrow:!1},radio:{role:"menuitemradio",hasIcon:!0,hasArrow:!1},menu:{role:"menuitem",hasIcon:!1,hasArrow:!1},submenu:{role:"menuitem",hasIcon:!0,hasArrow:!0}},"f")}create(e){const t=tn(this,ge,"f").cloneNode(!0);if(t.addEventListener("click",tn(this,pe,"m",Ee).bind(this)),void 0!==e){const{keyshortcut:n,checked:s,type:i,label:r,name:o,value:a,disabled:c}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==s&&this.setChecked(t,s),void 0!==i&&("menu"!=i&&"submenu"!=i||this.setExpanded(t,!1),this.setType(t,i)),void 0!==r&&this.setLabel(t,r),void 0!==o&&this.setName(t,o),void 0!==a&&this.setValue(t,a),void 0!==c&&this.setDisabled(t,c)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",n.toString())}getMenu(e){return e.querySelector(":scope > .menu")}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){let n=e.querySelector(":scope > .keyshortcuts");if(null!==t){if(e.setAttribute("aria-keyshortcuts",t),!n){const t=tn(this,pe,"m",ye).call(this,e);n=tn(this,be,"f").cloneNode(!0),t.after(n)}n.textContent=t}else e.removeAttribute("aria-keyshortcuts"),n&&n.remove()}getLabel(e){return tn(this,pe,"m",ye).call(this,e).textContent??""}setLabel(e,t){tn(this,pe,"m",ye).call(this,e).textContent=t}getType(e){const t=tn(this,we,"f"),{classList:n}=e;for(let e of t)if(n.contains(`menuitem-${e}`))return e;return null}setType(e,t){const n=tn(this,ve,"f"),s=tn(this,fe,"f"),i=tn(this,me,"f"),{role:r,hasIcon:o,hasArrow:a}=n[t],c=this.getType(e),{classList:l}=e;c&&l.remove(`menuitem-${c}`),l.add(`menuitem-${t}`),e.setAttribute("role",r);const h=tn(this,pe,"m",ye).call(this,e),d=e.querySelector(":scope > .icon"),u=e.querySelector(":scope > .arrow");o?!d&&h&&h.before(s.cloneNode(!0)):d&&d.remove(),a?!u&&h&&h.after(i.cloneNode(!0)):u&&u.remove()}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getChecked(e){return JSON.parse(e.getAttribute("aria-checked")??(!1).toString())}setChecked(e,t){e.setAttribute("aria-checked",t.toString())}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",t.toString())}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??(!1).toString())}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&tn(this,pe,"m",Se).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),tn(this,pe,"m",Se).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}},fe=new WeakMap,me=new WeakMap,be=new WeakMap,ge=new WeakMap,we=new WeakMap,ve=new WeakMap,pe=new WeakSet,ye=function(e){return e.querySelector(":scope > .label")},Ee=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".menuitem");if(s==n)switch(this.getType(s)){case"checkbox":this.setChecked(s,!this.getChecked(s));break;case"radio":this.setChecked(s,!0);break;case"menu":case"submenu":this.toggle(s)}},Se=function(e){const t=this.getMenu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body;if("menu"==this.getType(e)){const e=o+a-d,t=s+c-u;n.setProperty("left",`${e>0?h+r-a:h+r}px`),n.setProperty("top",`${t>0?l+s-c:l+i}px`)}else{const l=e.closest(".menu");if(null!==l){const{top:e,left:h}=l.getBoundingClientRect(),p=o+a-d,f=s+c-u;n.setProperty("left",(p>0?r-a-h:o-h)+"px");const m=window.getComputedStyle(t),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);n.setProperty("top",`${f>0?i-c-e+v:s-e-w}px`)}}}},Te))),sn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},rn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},on=new(U({name:"menu"})((Ve=class extends x{constructor(){super(),ke.add(this),xe.set(this,void 0),Pe.set(this,void 0),Le.set(this,void 0),sn(this,xe,Y("div",{attributes:{class:"menu",role:"menu",tabindex:-1}}),"f"),sn(this,Pe,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,rn(this,ke,"m",Ce).bind(this)),"f"),sn(this,Le,new WeakMap,"f")}create(e){const t=rn(this,xe,"f").cloneNode(!0);if(t.addEventListener("click",rn(this,ke,"m",He).bind(this)),t.addEventListener("mouseover",rn(this,ke,"m",$e).bind(this)),t.addEventListener("mouseout",rn(this,ke,"m",Ke).bind(this)),t.addEventListener("focusout",rn(this,ke,"m",Be).bind(this)),t.addEventListener("keydown",rn(this,ke,"m",qe).bind(this)),void 0!==e){const{contextual:n}=e;void 0!==n&&this.setContextual(t,n)}return t}slot(e){return e}positionContextual(e,t,n){const{style:s}=e,{width:i,height:r}=e.getBoundingClientRect(),{scrollX:o,scrollY:a}=window,c=t+o,l=n+a,{clientWidth:h,clientHeight:d}=document.body,u=c+i-h,p=l+r-d;s.setProperty("left",`${u>0?c-i:c}px`),s.setProperty("top",`${p>0?l-r:l}px`)}getContextual(e){const{classList:t}=e;return t.contains("menu-contextual")}setContextual(e,t){const{classList:n}=e;t?n.add("menu-contextual"):n.remove("menu-contextual")}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem"))}},xe=new WeakMap,Pe=new WeakMap,Le=new WeakMap,ke=new WeakSet,Ce=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!nn.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Ne=function(e){e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem[aria-expanded]").forEach((e=>nn.collapse(e)))},Ie=function(e,t){return t.closest(".menu")==e},Ae=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Re=function(e){const t=rn(this,Pe,"f");return t.currentNode=e,t.firstChild()},Me=function(e){const t=rn(this,Pe,"f");return t.currentNode=e,t.lastChild()},Oe=function(e){const t=rn(this,Pe,"f");return t.currentNode=e,t.previousSibling()},We=function(e){const t=rn(this,Pe,"f");return t.currentNode=e,t.nextSibling()},je=function(e){const t=nn.getMenu(e);if(t){const e=rn(this,Pe,"f");return e.currentNode=t,e.firstChild()}return null},De=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},Fe=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);rn(this,Le,"f").set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{rn(this,Le,"f").delete(e)}))},_e=function(e){const t=rn(this,Le,"f").get(e);void 0!==t&&(rn(this,Le,"f").delete(e),t.clear())},He=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem"))if(this.getContextual(s))try{s.remove()}catch(e){}else if(rn(this,ke,"m",Ie).call(this,s,t)){const e=nn.getType(t),n=nn.getName(t),i=nn.getValue(t);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .menuitemgroup) > .menuitem-radio[name=${n}]`).forEach((e=>{nn.setChecked(e,nn.getValue(e)==i)}))}},Be=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(!i.contains(s))if(this.getContextual(i))try{i.remove()}catch(e){}else{const e=rn(this,ke,"m",Ae).call(this,i,t);e&&nn.collapse(e)}},qe=function(e){const{currentTarget:t,key:n}=e,s=t,i=rn(this,ke,"m",De).call(this,s);switch(n){case"ArrowUp":(i?rn(this,ke,"m",Oe).call(this,i)??rn(this,ke,"m",Me).call(this,s):rn(this,ke,"m",Re).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(i?rn(this,ke,"m",We).call(this,i)??rn(this,ke,"m",Re).call(this,s):rn(this,ke,"m",Re).call(this,s))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":rn(this,ke,"m",Re).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":rn(this,ke,"m",Me).call(this,s)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(i){switch(nn.getType(i)){case"submenu":nn.expand(i),rn(this,ke,"m",je).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"Escape":case"ArrowLeft":i&&(e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s||(nn.collapse(i),i.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(i)switch(nn.getType(i)){case"submenu":nn.getExpanded(i)||(nn.expand(i),rn(this,ke,"m",je).call(this,i)?.focus({preventScroll:!0}),e.stopPropagation())}}},Ke=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=rn(this,ke,"m",Ae).call(this,i,t);if(null!==n&&("submenu"!=nn.getType(n)||nn.getExpanded(n)||rn(this,ke,"m",_e).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==i)){const t=rn(this,ke,"m",De).call(this,i);null!==t&&"submenu"==nn.getType(t)&&nn.getExpanded(t)&&(rn(this,ke,"m",_e).call(this,t),rn(this,ke,"m",Fe).call(this,t,400).then((()=>{nn.collapse(t)})).catch((()=>{})));const{clientX:n,clientY:r}=e,{left:o,right:a,top:c,bottom:l}=i.getBoundingClientRect(),h=!(o>n||a<n||c>r||l<r),d=i.contains(s);h&&d&&(s instanceof HTMLElement&&s.classList.contains("menu")&&s!==i?s.focus({preventScroll:!0}):i.focus({preventScroll:!0})),h||i.focus({preventScroll:!0})}}},$e=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const n=rn(this,ke,"m",Ae).call(this,s,t);if(null!==n&&("submenu"==nn.getType(n)&&nn.getExpanded(n)&&rn(this,ke,"m",_e).call(this,n),e.composedPath().find((e=>e instanceof HTMLElement&&e.classList.contains("menu")))==s)){const e=rn(this,ke,"m",De).call(this,s);null!==e&&"submenu"==nn.getType(e)&&nn.getExpanded(e)&&!e.contains(t)&&(rn(this,ke,"m",_e).call(this,e),rn(this,ke,"m",Fe).call(this,e,400).then((()=>{nn.collapse(e)})).catch((()=>{}))),n.focus({preventScroll:!0}),"submenu"==nn.getType(n)&&(nn.getExpanded(n)?nn.getMenu(n)?.focus({preventScroll:!0}):(rn(this,ke,"m",_e).call(this,n),rn(this,ke,"m",Fe).call(this,n,200).then((()=>{const e=rn(this,ke,"m",De).call(this,s);rn(this,ke,"m",Ne).call(this,s),e&&(rn(this,ke,"m",_e).call(this,e),nn.expand(e),nn.getMenu(e)?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},Ve))),an=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},cn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ln=new(U({name:"toolbaritem"})((Qe=class extends x{constructor(){super(),Je.add(this),Ue.set(this,void 0),Ge.set(this,void 0),an(this,Ge,["button","checkbox","radio","menubutton"],"f"),an(this,Ue,Y("button",{attributes:{class:"toolbaritem",role:"button",type:"button",tabindex:-1},children:[Y("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=cn(this,Ue,"f").cloneNode(!0);if(t.addEventListener("focusout",cn(this,Je,"m",Xe).bind(this)),t.addEventListener("click",cn(this,Je,"m",Ye).bind(this)),void 0!==e){const{keyshortcut:n,pressed:s,type:i,label:r,name:o,value:a,disabled:c}=e;void 0!==n&&this.setKeyShortcut(t,n),void 0!==s&&this.setPressed(t,s),void 0!==i&&this.setType(t,i),void 0!==r&&this.setLabel(t,r),void 0!==o&&this.setName(t,o),void 0!==a&&this.setValue(t,a),void 0!==c&&this.setDisabled(t,c)}return t}slot(e){return e}slottedCallback(e,t){const n=Array.from(t.childNodes).some((e=>e instanceof HTMLElement&&e.classList.contains("menu")));e.setAttribute("aria-haspopup",n.toString())}menu(e){return e.querySelector(":scope > .menu")}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}getLabel(e){return cn(this,Je,"m",Ze).call(this,e).textContent??""}setLabel(e,t){cn(this,Je,"m",Ze).call(this,e).textContent=t}getKeyShortcut(e){return e.getAttribute("aria-keyshortcuts")}setKeyShortcut(e,t){null!==t?e.setAttribute("aria-keyshortcuts",t):e.removeAttribute("aria-keyshortcuts")}toggle(e,t){const n=t??!this.getExpanded(e);this.setExpanded(e,n),n&&cn(this,Je,"m",ze).call(this,e)}expand(e){this.getExpanded(e)||(this.setExpanded(e,!0),cn(this,Je,"m",ze).call(this,e))}collapse(e){this.getExpanded(e)&&this.setExpanded(e,!1)}getType(e){const t=cn(this,Ge,"f"),{classList:n}=e;for(let e of t)if(n.contains(`toolbaritem-${e}`))return e;return null}setType(e,t){const n=this.getType(e);if(t!==n){const{classList:s}=e;n&&s.remove(`toolbaritem-${n}`),s.add(`toolbaritem-${t}`)}}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getTitle(e){return e.getAttribute("title")??""}setTitle(e,t){e.setAttribute("title",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getPressed(e){return JSON.parse(e.getAttribute("aria-pressed")??(!1).toString())}setPressed(e,t){e.setAttribute("aria-pressed",t.toString())}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},Ue=new WeakMap,Ge=new WeakMap,Je=new WeakSet,Xe=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},Ye=function(e){const{target:t,currentTarget:n}=e,s=t.closest(".toolbaritem");if(s==n)switch(this.getType(s)){case"checkbox":this.setPressed(s,!this.getPressed(s));break;case"radio":this.setPressed(s,!0);break;case"menubutton":{const e=this.menu(s);e&&!e.contains(t)&&(this.toggle(s),this.getExpanded(s)&&e?.focus({preventScroll:!0}));break}}},ze=function(e){if("menubutton"==this.getType(e)){const t=this.menu(e);if(null!==t){const{style:n}=t,{top:s,bottom:i,left:r,right:o}=e.getBoundingClientRect(),{width:a,height:c}=t.getBoundingClientRect(),{scrollY:l,scrollX:h}=window,{clientWidth:d,clientHeight:u}=document.body,p=o+a-d,f=s+c-u;n.setProperty("left",`${p>0?h+r-a:h+r}px`),n.setProperty("top",`${f>0?l+s-c:l+i}px`)}}},Ze=function(e){return e.querySelector(":scope > .label")},Qe))),hn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},dn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},un=new(U({name:"treeitem"})((ot=class extends x{constructor(){super(),et.add(this),tt.set(this,void 0),nt.set(this,void 0),hn(this,nt,["parent","leaf"],"f"),hn(this,tt,Y("li",{attributes:{class:"treeitem",role:"treeitem",tabindex:-1},children:[Y("span",{attributes:{class:"content"},children:[Y("span",{attributes:{class:"arrow"}}),Y("span",{attributes:{class:"label"}})]})]}),"f")}group(e){return e.querySelector(":scope > .treeitemgroup")}create(e){const t=dn(this,tt,"f").cloneNode(!0);if(t.addEventListener("click",dn(this,et,"m",rt).bind(this)),void 0!==e){const{label:n,disabled:s,draggable:i}=e;let{type:r}=e;r=r??"leaf",this.setType(t,r),"parent"===r&&this.setExpanded(t,!1),void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setDisabled(t,s),void 0!==i&&this.setDraggable(t,i),this.setSelected(t,!1)}return t}get observedSlots(){return["content","group"]}slot(e,t){switch(t){case"content":return dn(this,et,"m",st).call(this,e);case"group":return e}return null}getLabel(e){return dn(this,et,"m",it).call(this,e).textContent??""}setLabel(e,t){dn(this,et,"m",it).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",t.toString())}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}getType(e){const t=dn(this,nt,"f"),{classList:n}=e;for(let e of t)if(n.contains(`treeitem-${e}`))return e;throw new Error("Missing type.")}setType(e,t){const{classList:n}=e;try{const t=this.getType(e);n.remove(`treeitem-${t}`)}catch(e){}n.add(`treeitem-${t}`)}setExpanded(e,t){e.setAttribute("aria-expanded",t.toString())}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??(!1).toString())}setActive(e,t){const{classList:n}=e;t?n.contains("active")||n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDraggable(e,t){e.setAttribute("draggable",t.toString())}getDraggable(e){return JSON.parse(e.getAttribute("draggable")??(!1).toString())}setSelected(e,t){e.setAttribute("aria-selected",t.toString()),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??(!1).toString())}setLevel(e,t){e.style.setProperty("--level",t.toString())}getLevel(e){return parseInt(e.style.getPropertyValue("--level"))}toggle(e,t){this.setExpanded(e,t??!this.getExpanded(e))}},tt=new WeakMap,nt=new WeakMap,et=new WeakSet,st=function(e){const t=e.querySelector(":scope > .content");if(!t)throw new Error("Missing content.");return t},it=function(e){const t=e.querySelector(":scope > .content > .label");if(!t)throw new Error("Missing label.");return t},rt=function(e){const{target:t,currentTarget:n,shiftKey:s,ctrlKey:i}=e,r=t.closest(".treeitem");r==n&&("parent"!=this.getType(r)||s||i||this.toggle(r))},ot))),pn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},fn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},mn=new(U({name:"tree"})((Ft=class extends x{constructor(){super(),at.add(this),ct.set(this,void 0),lt.set(this,void 0),ht.set(this,void 0),dt.set(this,void 0),pn(this,ct,Y("ul",{attributes:{class:"tree",role:"tree",tabindex:0}}),"f"),pn(this,ht,new WeakMap,"f"),pn(this,dt,new WeakMap,"f"),pn(this,lt,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,fn(this,at,"m",mt).bind(this)),"f")}create(e){const t=fn(this,ct,"f").cloneNode(!0);if(t.addEventListener("mousedown",fn(this,at,"m",Lt).bind(this)),t.addEventListener("dragend",fn(this,at,"m",Ct).bind(this)),t.addEventListener("dragenter",fn(this,at,"m",Nt).bind(this)),t.addEventListener("dragleave",fn(this,at,"m",At).bind(this)),t.addEventListener("dragover",fn(this,at,"m",It).bind(this)),t.addEventListener("drop",fn(this,at,"m",Rt).bind(this)),t.addEventListener("focus",fn(this,at,"m",Ot).bind(this)),t.addEventListener("focusin",fn(this,at,"m",Wt).bind(this)),t.addEventListener("focusout",fn(this,at,"m",jt).bind(this)),t.addEventListener("keydown",fn(this,at,"m",Mt).bind(this)),t.addEventListener("select",fn(this,at,"m",Dt).bind(this)),fn(this,ht,"f").set(t,!1),fn(this,dt,"f").set(t,!1),void 0!==e){const{multisectable:n}=e;void 0!==n&&this.setMultiSelectable(t,n)}return t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(un.setPosInSet(e,t),un.setLevel(e,0))}))}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .treeitemgroup) > .treeitem"))}selectedItems(e){const t=[];fn(this,lt,"f").currentNode=e;let n=fn(this,at,"m",St).call(this,e);for(;null!==n;)un.getSelected(n)&&t.push(n),n=fn(this,at,"m",xt).call(this,n);return t}beginSelection(e){fn(this,ht,"f").set(e,!0)}endSelection(e){fn(this,ht,"f").set(e,!1),fn(this,dt,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),fn(this,dt,"f").set(e,!1))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",t.toString())}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??(!1).toString())}},ct=new WeakMap,lt=new WeakMap,ht=new WeakMap,dt=new WeakMap,at=new WeakSet,ut=function(e){return e.querySelector(".treeitem.active")},pt=function(e){return e.querySelector(".treeitem.droptarget")},ft=function(e,t){const{classList:n}=e,s=fn(this,at,"m",pt).call(this,e);null!==s&&s!==t&&un.setDropTarget(s,!1),null!==t?(un.setDropTarget(t,!0),n.add("droptarget")):n.remove("droptarget")},mt=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("treeitem")&&!un.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("treeitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},bt=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=fn(this,at,"m",xt).call(this,e);for(;s&&s!==t;)n.push(s),s=fn(this,at,"m",xt).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=fn(this,at,"m",kt).call(this,e);for(;s&&s!==t;)n.push(s),s=fn(this,at,"m",kt).call(this,s);return n.push(t),n}return[]},gt=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||un.setSelected(e,!1)})),t.forEach((t=>{const n=un.getSelected(t);e.contains(t)&&!n&&un.setSelected(t,!0)})),this.endSelection(e)},wt=function(e,...t){this.beginSelection(e),t.forEach((e=>{un.getSelected(e)||un.setSelected(e,!0)})),this.endSelection(e)},vt=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&un.setSelected(e,!1)})),this.endSelection(e)},yt=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{un.setSelected(e,!1)})),this.endSelection(e)},Et=function(e,t){const n=fn(this,at,"m",ut).call(this,e);null!==n&&n!==t&&(un.setActive(n,!1),n.tabIndex=-1),null!==t&&(un.setActive(t,!0),t.tabIndex=0)},St=function(e){const t=fn(this,lt,"f");return t.currentNode=e,t.firstChild()},Tt=function(e){const t=fn(this,lt,"f");return t.currentNode=e,t.lastChild()},kt=function(e){const t=fn(this,lt,"f");t.currentNode=e;const n=t.previousSibling();return n?fn(this,at,"m",Pt).call(this,n):t.parentNode()},xt=function(e){const t=fn(this,lt,"f");t.currentNode=e;const n=un.getType(e),s=un.getExpanded(e);return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Pt=function e(t){if(un.getExpanded(t)){const t=fn(this,lt,"f").lastChild();if(t)return fn(this,at,"m",e).call(this,t)}return t},Lt=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".treeitem");if(a){const t=un.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),fn(this,at,"m",vt).call(this,o,a)):fn(this,at,"m",wt).call(this,o,a),e.stopPropagation();else if(i){const t=fn(this,at,"m",ut).call(this,o);if(t){const e=fn(this,at,"m",bt).call(this,t,a);e&&fn(this,at,"m",gt).call(this,o,...e)}e.stopPropagation()}}else fn(this,at,"m",gt).call(this,o,a);break;case 2:t||fn(this,at,"m",gt).call(this,o,a)}}},Ct=function(e){const{currentTarget:t}=e,n=t;fn(this,at,"m",ft).call(this,n,null)},Nt=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&("parent"==un.getType(s)&&un.toggle(s,!0),fn(this,at,"m",ft).call(this,i,s)),e.preventDefault()},It=function(e){e.preventDefault()},At=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(n){const e=n.getRootNode(),t=e instanceof ShadowRoot?e.host:n;s.contains(t)||fn(this,at,"m",ft).call(this,s,null)}},Rt=function(e){const{currentTarget:t}=e,n=t;fn(this,at,"m",ft).call(this,n,null)},Mt=function(e){const{currentTarget:t,key:n}=e,s=t,i=fn(this,at,"m",ut).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=fn(this,lt,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=fn(this,at,"m",bt).call(this,t,fn(this,at,"m",Pt).call(this,n));e&&fn(this,at,"m",gt).call(this,s,...e)}}e.preventDefault();break}case"ArrowLeft":if(i)if(un.getExpanded(i))un.toggle(i);else{const e=fn(this,lt,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":i&&(un.getExpanded(i)||un.toggle(i)),e.stopPropagation();break;case"ArrowUp":if(i){const t=fn(this,at,"m",kt).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(un.getSelected(t)?fn(this,at,"m",vt).call(this,s,t):fn(this,at,"m",wt).call(this,s,t))}}else{const e=fn(this,at,"m",St).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=fn(this,at,"m",xt).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(un.getSelected(t)?fn(this,at,"m",vt).call(this,s,t):fn(this,at,"m",wt).call(this,s,t))}}else{const e=fn(this,at,"m",Tt).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=fn(this,at,"m",St).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=fn(this,at,"m",Tt).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&(fn(this,at,"m",gt).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":fn(this,at,"m",yt).call(this,s),fn(this,at,"m",Et).call(this,s,null),s.focus(),e.stopPropagation()}},Ot=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=fn(this,at,"m",ut).call(this,s);i&&n!==i&&i.focus()},Wt=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&(fn(this,at,"m",Et).call(this,i,s),i.tabIndex=-1)},jt=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},Dt=function(e){const{target:t}=e,n=t;t instanceof HTMLElement&&t.classList.contains("treeitem")&&(fn(this,ht,"f").get(n)?fn(this,dt,"f").set(t,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Ft))),bn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},gn=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},wn=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};class vn extends B{constructor(e){super(),_t.add(this);const t=new q(e?.items??[]);t.setParent(this),this.childItems=t,this.items=new q(this.flattenItems()),this.sortFunction=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},this.addEventListener("modelchange",gn(this,_t,"m",Ht).bind(this))}flattenItems(){const{childItems:e}=this;return Array.from(e.values()).flatMap((e=>Array.of(e,...vn.prototype.flattenItems.call(e))))}getItemByUri(e){const{childItems:t}=this,{length:n}=t,{length:s}=e;for(let i=0;i<n;i++){const n=t.get(i),{uri:r}=n,{length:o}=r;if(e.startsWith(r)){if("/"==e.charAt(o))return vn.prototype.getItemByUri.call(n,e);if(o==s)return n}}return null}}_t=new WeakSet,Ht=function(e){const{target:t}=e,{items:n,sortFunction:s,flattenItems:i}=this;t instanceof q&&t.getRecords().forEach((e=>{const{insertedItems:t,removedItems:r}=e,o=Array.from(t.values()).flatMap((e=>Array.of(e,...i.call(e)))),a=Array.from(r.values()).flatMap((e=>Array.of(e,...i.call(e))));n.beginChanges(),n.append(...o),a.forEach((e=>n.remove(e))),s&&n.sort(s),n.endChanges()}))};class yn{constructor(e){this.items=e}get count(){return this.items.length}static from(e){return new yn(e)}static of(...e){return new yn(e)}show(){this.items.forEach((e=>e.show()))}hide(){this.items.forEach((e=>e.hide()))}display(){const e=this.items.reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const{items:e}=this,t=e.reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof En||n instanceof vn){const{childItems:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(t.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}class En extends B{constructor(e){super(),Bt.add(this);const{label:t,type:n}=e,s=new q(e.items??[]);s.setParent(this),this.childItems=s,this.label=t,this.type=n,this.childCount=s.length,this.visibility=!0,this.addEventListener("modelchange",gn(this,Bt,"m",qt).bind(this))}get uri(){const{parentNode:e}=this;return e instanceof En?`${e.uri}/${this.label}`:this.label}get parentItem(){const{parentNode:e}=this;return e instanceof En?e:null}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof En||e instanceof vn){const{childItems:t}=e;t&&t.remove(this)}}}Bt=new WeakSet,qt=function(e){const{target:t}=e,{childItems:n}=this;t==n&&(this.childCount=n.length)},bn([F()],En.prototype,"childCount",void 0),bn([F()],En.prototype,"visibility",void 0);let Sn=class extends Qt{constructor(e){super(),Kt.add(this),$t.set(this,void 0),Vt.set(this,void 0),Jt.set(this,void 0),wn(this,Jt,new WeakMap,"f"),wn(this,Vt,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new vn)}getTreeElement(){return gn(this,$t,"f")?.deref()??null}getTreeItemElement(e){return gn(this,Jt,"f").get(e)?.deref()??null}getDragImageElement(e){return gn(this,Vt,"f").get(e)?.deref()??null}selectedItems(){const e=this.getTreeElement();if(e){const{model:t}=this;return mn.selectedItems(e).map((e=>t.getItemByUri(e.dataset.uri)))}return[]}renderShadow(){const{model:e}=this,t=z("tree",{attributes:{tabindex:0},slotted:re(e.childItems,(e=>gn(this,Kt,"m",Ut).call(this,e))),listeners:{dragstart:gn(this,Kt,"m",Xt).bind(this),drop:gn(this,Kt,"m",Yt).bind(this),contextmenu:gn(this,Kt,"m",zt).bind(this),keydown:gn(this,Kt,"m",Zt).bind(this)}});return wn(this,$t,new WeakRef(t),"f"),X(Y("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),Y("link",{attributes:{rel:"stylesheet",href:"css/views/treeview.css"}}),t,Y("div",{attributes:{class:"offscreen",hidden:!0},children:re(e.items,(e=>gn(this,Kt,"m",Gt).call(this,e)))}))}};$t=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,Kt=new WeakSet,Ut=function e(t){const n=te(t,z("treeitem",{properties:{type:t.type,draggable:!0,label:t.label},dataset:{uri:t.uri},slotted:{group:"parent"==t.type?[z("treeitemgroup",{slotted:re(t.childItems,(t=>gn(this,Kt,"m",e).call(this,t)))})]:[],content:[Y("span",{attributes:{class:"label"}})].concat("parent"==t.type?[Y("span",{attributes:{class:"badge"}})]:[]).concat([z("toolbar",{slotted:[z("toolbaritem",{properties:{name:"visibility",type:"checkbox"},listeners:{click:()=>{t.visibility?t.hide():t.show()}}})]})])}}),["label","childCount","visibility"],((e,t,n,s)=>{switch(t){case"label":const t=e.querySelector(":scope > .label");t&&(t.textContent=s);break;case"childCount":const n=e.querySelector(":scope > .badge");n&&(n.textContent=`(${s})`);break;case"visibility":{const t=e.querySelector(":scope > .toolbar");if(t){const e=t.querySelector(".toolbaritem[name=visibility]");e&&(ln.setTitle(e,s?"Hide":"Show"),ln.setPressed(e,s))}}}}));return gn(this,Jt,"f").set(t,new WeakRef(n)),n},Gt=function(e){const t=te(e,Y("span",{attributes:{class:"dragimage"}}),["label"],((e,t,n,s)=>{e.textContent=s}));return gn(this,Vt,"f").set(e,new WeakRef(t)),t},Xt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,i=t;if(n.closest(".treeitem")){const{dataTransfer:t}=e,n=mn.selectedItems(i),{length:r}=n;if(r>0){const e=n.map((e=>e.dataset.uri)).filter(((e,t,n)=>!n.some((t=>e.startsWith(`${t}/`))))),i=e.join("\n"),r=e[e.length-1],o=s.getItemByUri(r);if(o&&t){t.dropEffect="move",t.setData("text/plain",i);const e=this.getDragImageElement(o);e&&t.setDragImage(e,-16,0)}}}},Yt=function(e){const{currentTarget:t,target:n}=e,{model:s}=this,{sortFunction:i}=s,r=t,o=n.closest(".treeitem");if(o){const{dataTransfer:t}=e;if(t){const e=o.dataset.uri,n=s.getItemByUri(e),a=t.getData("text/plain").split("\n");if(!a.some((t=>e.startsWith(`${t}/`)||t==e))){const e=a.map((e=>s.getItemByUri(e))).filter((e=>null!==e)),{type:t,parentItem:c}=n,l="parent"==t?n.childItems:c?c.childItems:s.childItems;Array.from(l.values()).forEach((t=>{const n=e.findIndex((e=>e.label==t.label));n>-1&&(confirm(`Replace ${t.label}?`)?l.remove(t):(e.copyWithin(n,n+1),e.length--))})),yn.from(e).remove(),i?(l.beginChanges(),l.append(...e),l.sort(i),l.endChanges()):l.insert(un.getPosInSet(o),...e);const h=e.map((e=>this.getTreeItemElement(e)));mn.beginSelection(r),h.forEach((e=>{un.setSelected(e,!0)})),mn.endSelection(r)}}}},zt=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:r}=this,o=s,a=i.closest(".treeitem");if(a){const s=r.getItemByUri(a.dataset.uri),i=z("menu",{properties:{contextual:!0},slotted:[z("menuitemgroup",{slotted:[z("menuitem",{properties:{label:"Display"},listeners:{click:()=>{yn.from(this.selectedItems()).display()}}}),z("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{const e=yn.from(this.selectedItems()),{count:t}=e;confirm(`Remove ${t} items?`)&&e.remove(),o.focus()}}})]}),z("menuitemgroup",{slotted:[z("menuitem",{properties:{type:"checkbox",label:s.visibility?"Hide":"Show"},listeners:{click:()=>{const e=yn.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{a.focus({preventScroll:!0})}}});o.append(i),on.positionContextual(i,t,n),i.focus({preventScroll:!0}),e.preventDefault()}},Zt=function(e){const{currentTarget:t,key:n}=e,s=t;switch(n){case"Delete":{const t=yn.from(this.selectedItems()),{count:n}=t;confirm(`Remove ${n} items?`)&&t.remove(),s.focus(),e.preventDefault();break}}},Sn=bn([J({name:"v-treee"})],Sn);var Tn=Sn,kn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};class xn extends HTMLElement{trigger(){if(!this.disabled){switch(this.type){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0}this.dispatchEvent(new Event("trigger",{bubbles:!0}))}}enable(){this.disabled=!1}disable(){this.disabled=!0}}kn([V({type:String})],xn.prototype,"name",void 0),kn([V({type:String})],xn.prototype,"value",void 0),kn([V({type:String})],xn.prototype,"hotkey",void 0),kn([V({type:String,defaultValue:"button"})],xn.prototype,"type",void 0),kn([V({type:Boolean})],xn.prototype,"disabled",void 0),kn([V({type:Boolean})],xn.prototype,"checked",void 0);var Pn,Ln,Cn,Nn=xn;!function(e){e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.ENTER="Enter",e.BACKSPACE="Backspace",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_UP="ArrowUp",e.SHIFT="Shift"}(Pn||(Pn={})),function(e){e.Alt="Alt",e.Control="Control",e.Shift="Shift"}(Ln||(Ln={})),function(e){e[e.LEFT=1]="LEFT",e[e.WHEEL=2]="WHEEL",e[e.RIGHT=3]="RIGHT",e[e.FORWARD=4]="FORWARD",e[e.BACK=5]="BACK"}(Cn||(Cn={})),new WeakSet;var In,An=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Rn=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(In.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};(In=Y("template")).content.append(Y("slot")),An([V({type:String})],Rn.prototype,"name",void 0),An([V({type:String})],Rn.prototype,"headers",void 0),An([V({type:String})],Rn.prototype,"type",void 0),An([V({type:Number})],Rn.prototype,"posinset",void 0),An([V({type:Boolean})],Rn.prototype,"droptarget",void 0),An([V({type:Boolean})],Rn.prototype,"active",void 0),An([V({type:Boolean,observed:!0})],Rn.prototype,"selected",void 0),Rn=An([J({name:"e-gridcell"})],Rn);var Mn,On,Wn,jn=Rn;let Dn=class extends HTMLElement{constructor(){super(),Mn.add(this);const e=this.attachShadow({mode:"open"});e.append(Wn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Mn,"m",On).bind(this))}};Mn=new WeakSet,On=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof jn)).forEach(((e,t)=>{e.posinset=t}))},(Wn=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: table-row-group;\n                            /*display: flex;\n                            flex-direction: column;*/\n                        }\n                    "]}),Y("slot")),Dn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-gridrowgroup"})],Dn);var Fn,_n,Hn,Bn,qn=Dn,Kn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},$n=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Vn=class extends HTMLElement{constructor(){super(),Fn.add(this),this.attachShadow({mode:"open"}).append(Bn.content.cloneNode(!0)),this.addEventListener("click",$n(this,Fn,"m",Hn).bind(this))}toggle(e){const{type:t,expanded:n}=this;switch(t){case"menu":case"submenu":{const t=e??!n;this.expanded=t,t&&$n(this,Fn,"m",_n).call(this),this.dispatchEvent(new Event("toggle",{bubbles:!0}));break}}}expand(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded||(this.expanded=!0,$n(this,Fn,"m",_n).call(this))}}collapse(){const{type:e}=this;switch(e){case"menu":case"submenu":this.expanded&&(this.expanded=!1)}}};var Jn;Fn=new WeakSet,_n=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,{type:u}=this;if("menu"==u){const e=r+o-h,u=n+a-d;t.setProperty("left",`${e>0?l+i-o:l+i}px`),t.setProperty("top",`${u>0?c+n-a:c+s}px`)}else{const c=this.closest("e-menu");if(null!==c){const{top:l,left:u}=c.getBoundingClientRect(),p=r+o-h,f=n+a-d;t.setProperty("left",(p>0?i-o-u:r-u)+"px");const m=window.getComputedStyle(e),{paddingTop:b,paddingBottom:g}=m,w=parseFloat(b),v=parseFloat(g);t.setProperty("top",`${f>0?s-a-l+v:n-l-w}px`)}}}},Hn=function(e){const{target:t}=e;if(t==this){const{type:e}=this;switch(e){case"checkbox":this.checked=!this.checked;break;case"radio":this.checked=!0;break;case"menu":case"submenu":this.toggle()}}},(Bn=Y("template")).content.append(Y("span",{attributes:{part:"icon"}}),Y("span",{attributes:{part:"label"},children:[Y("slot")]}),Y("span",{attributes:{part:"arrow"}}),Y("slot",{attributes:{name:"menu"}})),Kn([V({type:String})],Vn.prototype,"name",void 0),Kn([V({type:String})],Vn.prototype,"value",void 0),Kn([V({type:String})],Vn.prototype,"hotkey",void 0),Kn([V({type:Boolean})],Vn.prototype,"disabled",void 0),Kn([V({type:Boolean})],Vn.prototype,"checked",void 0),Kn([V({type:Boolean})],Vn.prototype,"expanded",void 0),Kn([V({type:String,defaultValue:"button",observed:!0})],Vn.prototype,"type",void 0),Kn([(Jn={selector:":scope > e-menu[slot=menu]"},(e,t)=>{const{constructor:n}=e,{prototype:s}=n,i=t.toString(),{selector:r}=Jn,o=Jn.withinShadowRoot?function(){return this.shadowRoot.querySelector(r)}:function(){return this.querySelector(r)};Object.defineProperty(s,i,{get:o})})],Vn.prototype,"menu",void 0),Vn=Kn([J({name:"e-menuitem"})],Vn);var Un,Gn,Xn,Yn=Vn,zn=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menu:o}=e;return o&&(o.slot="menu"),Y("e-menuitem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[t,o]:[t],listeners:{trigger:r}})}),{prototype:Yn.prototype,button:e=>new zn({...e,type:"button"}),checkbox:e=>new zn({...e,type:"checkbox"}),radio:e=>new zn({...e,type:"radio"}),menu:e=>new zn({...e,type:"menu"}),submenu:e=>new zn({...e,type:"submenu"})}),Zn=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Qn=class extends HTMLElement{constructor(){super(),Un.add(this);const e=this.attachShadow({mode:"open"});e.append(Xn.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Un,"m",Gn).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"label":const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n)}}};Un=new WeakSet,Gn=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Yn)).forEach(((e,t)=>{}))},(Xn=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: column;\n                        }\n                    "]}),Y("slot")),Zn([V({type:String})],Qn.prototype,"name",void 0),Zn([V({type:String,observed:!0})],Qn.prototype,"label",void 0),Qn=Zn([J({name:"e-menuitemgroup"})],Qn);var es,ts,ns,ss,is,rs,os,as,cs,ls,hs,ds,us,ps,fs,ms,bs,gs,ws,vs,ys,Es,Ss,Ts,ks=Qn,xs=Object.assign((function(e){const{name:t,items:n}=e;return Y("e-menuitemgroup",{attributes:{name:t},children:n})}),{prototype:ks.prototype,radios:e=>{const{name:t,items:n}=e;return Y("e-menuitemgroup",{attributes:{name:t},children:n.map((({label:e,value:n})=>new zn({name:t,label:e,type:"radio",value:n})))})}}),Ps=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ls=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Cs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ns=Es=class extends HTMLElement{constructor(){super(),es.add(this),ts.set(this,void 0),ns.set(this,void 0);const e=this.attachShadow({mode:"open"});Ls(this,ns,-1,"f"),e.append(Ss.content.cloneNode(!0)),Ls(this,ts,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Cs(this,es,"m",os).bind(this)),"f"),this.addEventListener("click",Cs(this,es,"m",ms).bind(this)),this.addEventListener("mouseover",Cs(this,es,"m",ys).bind(this)),this.addEventListener("mouseout",Cs(this,es,"m",vs).bind(this)),this.addEventListener("focusin",Cs(this,es,"m",bs).bind(this)),this.addEventListener("focusout",Cs(this,es,"m",gs).bind(this)),this.addEventListener("keydown",Cs(this,es,"m",ws).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return Cs(this,ns,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}positionContextual(e,t){const{style:n}=this,{width:s,height:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window,a=e+r,c=t+o,{clientWidth:l,clientHeight:h}=document.body,d=a+s-l,u=c+i-h;n.setProperty("left",`${d>0?a-s:a}px`),n.setProperty("top",`${u>0?c-i:c}px`)}};ts=new WeakMap,ns=new WeakMap,es=new WeakSet,ss=function(){this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem[expanded]").forEach((e=>{e.collapse()}))},is=function(e){return e.closest(":is(e-menu)")==this},rs=function(e){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem")).find((t=>t.contains(e)))??null},os=function(e){return e instanceof Yn?NodeFilter.FILTER_ACCEPT:e instanceof ks?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},as=function(){const e=Cs(this,ts,"f");return e.currentNode=e.root,e.firstChild()},cs=function(){const e=Cs(this,ts,"f");return e.currentNode=e.root,e.lastChild()},ls=function(e){const t=Cs(this,ts,"f");return t.currentNode=e,t.previousNode()},hs=function(e){const t=Cs(this,ts,"f");return t.currentNode=e,t.nextNode()},ds=function(e){const{menu:t}=e;return t instanceof Es?Cs(t,es,"m",as).call(t):null},us=function(e){null!==e&&Ls(this,ns,this.items().indexOf(e),"f")},ps=async function(e,t){return new Promise(((n,s)=>{const i=setTimeout((()=>{n(void 0)}),t??0);Ts.set(e,{clear:()=>{clearTimeout(i),s()}})})).then((()=>{Ts.delete(e)}))},fs=function(e){const t=Ts.get(e);void 0!==t&&(Ts.delete(e),t.clear())},ms=function(e){const{target:t}=e;if(t instanceof Yn){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else if(Cs(this,es,"m",is).call(this,t)){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-menuitemgroup) > e-menuitem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}}},bs=function(e){const{target:t}=e;if(t instanceof Yn){const e=Cs(this,es,"m",rs).call(this,t);e&&Cs(this,es,"m",us).call(this,e)}},gs=function(e){const{relatedTarget:t}=e;if(!this.contains(t)){const{contextual:e}=this;if(e)try{this.remove()}catch(e){}else{const{activeItem:e}=this;e?.expanded&&e.collapse(),Cs(this,es,"m",us).call(this,null)}}},ws=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"ArrowUp":(n?Cs(this,es,"m",ls).call(this,n)??Cs(this,es,"m",cs).call(this):Cs(this,es,"m",as).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"ArrowDown":(n?Cs(this,es,"m",hs).call(this,n)??Cs(this,es,"m",as).call(this):Cs(this,es,"m",as).call(this))?.focus({preventScroll:!0}),e.stopPropagation();break;case"Home":Cs(this,es,"m",as).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"End":Cs(this,es,"m",cs).call(this)?.focus({preventScroll:!0}),e.stopPropagation();break;case"Enter":case" ":if(n){const{type:t}=n;switch(t){case"submenu":n.expand(),n.expanded&&Cs(this,es,"m",ds).call(this,n)?.focus({preventScroll:!0})}e.stopPropagation()}break;case"Escape":case"ArrowLeft":n&&(e.composedPath().find((e=>e instanceof Os))==this||(n.collapse(),n.focus({preventScroll:!0}),e.stopPropagation()));break;case"ArrowRight":if(n){const{type:t}=n;switch(t){case"submenu":n.expanded||(n.expand(),Cs(this,es,"m",ds).call(this,n)?.focus({preventScroll:!0}),e.stopPropagation())}}}},vs=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof Yn){const s=Cs(this,es,"m",rs).call(this,t);if(null!==s&&("submenu"!=s.type||s.expanded||Cs(this,es,"m",fs).call(this,s),e.composedPath().find((e=>e instanceof Os))==this)){const{activeItem:t}=this;"submenu"==t?.type&&t.expanded&&(Cs(this,es,"m",fs).call(this,t),Cs(this,es,"m",ps).call(this,t,400).then((()=>{t.collapse()})).catch((()=>{})));const{clientX:s,clientY:i}=e,{left:r,right:o,top:a,bottom:c}=this.getBoundingClientRect(),l=!(r>s||o<s||a>i||c<i),h=this.contains(n);l&&h&&(n instanceof Os&&n!==this?n.focus({preventScroll:!0}):(this.focus({preventScroll:!0}),Cs(this,es,"m",us).call(this,null))),l||(this.focus({preventScroll:!0}),Cs(this,es,"m",us).call(this,null))}}},ys=function(e){const{target:t}=e;if(t instanceof Yn){const n=Cs(this,es,"m",rs).call(this,t);if(null!==n&&("submenu"==n.type&&n.expanded&&Cs(this,es,"m",fs).call(this,n),e.composedPath().find((e=>e instanceof Os))==this)){const{activeItem:e}=this;"submenu"==e?.type&&e.expanded&&!e.contains(t)&&(Cs(this,es,"m",fs).call(this,e),Cs(this,es,"m",ps).call(this,e,400).then((()=>{e.collapse()})).catch((()=>{}))),Cs(this,es,"m",us).call(this,n),n.focus({preventScroll:!0}),"submenu"==n.type&&(n.expanded?n.menu?.focus({preventScroll:!0}):(Cs(this,es,"m",fs).call(this,n),Cs(this,es,"m",ps).call(this,n,200).then((()=>{const{activeItem:e}=this;Cs(this,es,"m",ss).call(this),e&&(Cs(this,es,"m",fs).call(this,e),e.expand(),e.menu?.focus({preventScroll:!0}))})).catch((()=>{}))))}}},(Ss=Y("template")).content.append(Y("slot")),Ts=new WeakMap,Ps([V({type:String})],Ns.prototype,"name",void 0),Ps([V({type:Boolean})],Ns.prototype,"contextual",void 0),Ns=Es=Ps([J({name:"e-menu"})],Ns);var Is,As,Rs,Ms,Os=Ns,Ws=Object.assign((function(e){const{name:t,children:n}=e;return Y("e-menu",{attributes:{name:t,tabindex:-1},children:n})}),{prototype:Os.prototype}),js=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ds=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Fs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let _s=class extends HTMLElement{constructor(){super(),Is.add(this),As.set(this,void 0),Ds(this,As,null,"f"),this.cells=new Gs(this);const e=this.attachShadow({mode:"open"});e.append(Ms.content.cloneNode(!0)),e.addEventListener("slotchange",Fs(this,Is,"m",Rs).bind(this))}get menu(){return Fs(this,As,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}))}}};As=new WeakMap,Is=new WeakSet,Rs=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menu":{const e=t.assignedElements()[0];Ds(this,As,e instanceof Os?e:null,"f");break}default:t.assignedElements().filter((e=>e instanceof jn)).forEach(((e,t)=>{e.posinset=t}))}},(Ms=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: table-row;\n                        }\n\n                        :host([droptarget]) {\n                            background-color: gainsboro;\n                        }\n                        \n                        :host(:hover) {\n                            background-color: rgba(135, 206, 250, 0.2);\n                        }\n\n                        :host([active]) {\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n\n                        :host([selected]) {\n                            background-color: rgba(135, 206, 250, 0.4);\n                            outline: 1px solid rgb(135, 206, 250);\n                            outline-offset: -1px;\n                        }\n                    "]}),Y("slot"),Y("slot",{attributes:{name:"menu"}})),js([V({type:String})],_s.prototype,"name",void 0),js([V({type:Boolean})],_s.prototype,"active",void 0),js([V({type:Boolean})],_s.prototype,"selected",void 0),js([V({type:Number})],_s.prototype,"posinset",void 0),_s=js([J({name:"e-gridrow"})],_s);var Hs,Bs,qs,Ks=_s,$s=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Bs=new WeakMap,Hs=new WeakSet,qs=function(e){return e instanceof jn?NodeFilter.FILTER_ACCEPT:e instanceof Bi||e instanceof qn||e instanceof Ks?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Vs,Js,Us,Gs=class{constructor(e){Hs.add(this),Bs.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Bs,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,$s(this,Hs,"m",qs).bind(this)),"f")}get length(){const e=$s(this,Bs,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=$s(this,Bs,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=$s(this,Bs,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=$s(this,Bs,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}},Xs=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Js=new WeakMap,Vs=new WeakSet,Us=function(e){return e instanceof Bi?NodeFilter.FILTER_SKIP:e instanceof Ks?NodeFilter.FILTER_ACCEPT:e instanceof qn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var Ys,zs,Zs,Qs=class{constructor(e){Vs.add(this),Js.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Js,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Xs(this,Vs,"m",Us).bind(this)),"f")}get length(){const e=Xs(this,Js,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}item(e){if(e<0)return null;const t=Xs(this,Js,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Xs(this,Js,"f");t.currentNode=t.root;let n=t.nextNode();for(;null!==n&&n.name!=e;)n=t.nextNode();return n}*values(){const e=Xs(this,Js,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}};let ei=class extends HTMLElement{constructor(){super(),Ys.add(this),this.cells=new Gs(this),this.rows=new Qs(this);const e=this.attachShadow({mode:"open"});e.append(Zs.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ys,"m",zs).bind(this))}};Ys=new WeakSet,zs=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof jn)).forEach(((e,t)=>{e.posinset=t}))},(Zs=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),Y("slot")),ei=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-gridbody"})],ei);var ti,ni,si,ii,ri,oi,ai,ci,li,hi,di,ui,pi,fi,mi,bi,gi,wi,vi,yi,Ei,Si,Ti,ki,xi,Pi,Li,Ci,Ni,Ii,Ai,Ri,Mi,Oi,Wi,ji,Di,Fi,_i,Hi,Bi=ei,qi=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ki=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},$i=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Vi=class extends HTMLElement{constructor(){super(),ti.add(this),ni.set(this,void 0),si.set(this,void 0),ii.set(this,void 0),ri.set(this,void 0),oi.set(this,void 0),ai.set(this,void 0),$i(this,oi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ki(this,ti,"m",ci).bind(this)),"f"),$i(this,ai,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,Ki(this,ti,"m",li).bind(this)),"f"),$i(this,ni,-1,"f"),$i(this,si,-1,"f"),$i(this,ii,!1,"f"),$i(this,ri,!1,"f"),this.cells=new Gs(this),this.rows=new Qs(this);const e=this.attachShadow({mode:"open"});e.append(Hi.content.cloneNode(!0)),this.addEventListener("contextmenu",Ki(this,ti,"m",Mi).bind(this)),this.addEventListener("click",Ki(this,ti,"m",Oi).bind(this)),this.addEventListener("focus",Ki(this,ti,"m",ji).bind(this)),this.addEventListener("focusin",Ki(this,ti,"m",Di).bind(this)),this.addEventListener("keydown",Ki(this,ti,"m",Wi).bind(this)),this.addEventListener("select",Ki(this,ti,"m",Fi).bind(this)),e.addEventListener("slotchange",Ki(this,ti,"m",_i).bind(this))}get activeCellIndex(){return Ki(this,ni,"f")}get activeCell(){return this.cells.item(Ki(this,ni,"f"))??null}get activeRowIndex(){return Ki(this,si,"f")}get activeRow(){return this.rows.item(Ki(this,si,"f"))??null}get body(){return this.querySelector(":scope > e-gridbody")}get head(){return this.querySelector(":scope > e-gridhead")}beginSelection(){$i(this,ii,!0,"f")}endSelection(){$i(this,ii,!1,"f"),Ki(this,ri,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),$i(this,ri,!1,"f"))}clearSelection(){Ki(this,ti,"m",wi).call(this),Ki(this,ti,"m",vi).call(this)}selectedCells(){return Array.from(this.querySelectorAll("e-gridcell[selected]"))}selectedRows(){return Array.from(this.querySelectorAll("e-gridrow[selected]"))}};ni=new WeakMap,si=new WeakMap,ii=new WeakMap,ri=new WeakMap,oi=new WeakMap,ai=new WeakMap,ti=new WeakSet,ci=function(e){return e instanceof jn&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Bi||e instanceof qn||e instanceof Ks?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},li=function(e){return e instanceof Ks&&!e.hidden?NodeFilter.FILTER_ACCEPT:e instanceof Bi||e instanceof qn?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},hi=function(e,t){const n=Array.from(this.cells.values()),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},di=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=Ki(this,ti,"m",Ii).call(this,e);for(;s&&s!==t;)n.push(s),s=Ki(this,ti,"m",Ii).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=Ki(this,ti,"m",Ni).call(this,e);for(;s&&s!==t;)n.push(s),s=Ki(this,ti,"m",Ni).call(this,s);return n.push(t),n}return[]},ui=function(...e){this.beginSelection(),this.selectedCells().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},pi=function(...e){this.beginSelection(),this.selectedRows().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},fi=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},mi=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},bi=function(...e){this.beginSelection();const t=this.selectedCells();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},gi=function(...e){this.beginSelection();const t=this.selectedRows();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},wi=function(){this.beginSelection(),this.selectedCells().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},vi=function(){this.beginSelection(),this.selectedRows().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},yi=function(e){const{activeCell:t,cells:n}=this;if(null!==t&&t!==e)t.active=!1,t.tabIndex=-1;else if(null!==e){Ki(this,oi,"f").currentNode=e,e.active=!0,e.tabIndex=0;const t=Ki(this,ti,"m",Pi).call(this,e);t&&Ki(this,ti,"m",Ei).call(this,t),$i(this,ni,Array.from(n.values()).indexOf(e),"f")}else $i(this,ni,-1,"f")},Ei=function(e){const{activeRow:t,rows:n}=this;null!==t&&t!==e?(t.active=!1,t.tabIndex=-1):null!==e?(Ki(this,ai,"f").currentNode=e,e.active=!0,e.tabIndex=0,$i(this,si,Array.from(n.values()).indexOf(e),"f")):$i(this,si,-1,"f")},Si=function(e){const t=Ki(this,oi,"f");return t.currentNode=e,t.firstChild()},Ti=function(e){const t=Ki(this,oi,"f");return t.currentNode=e,t.lastChild()},ki=function(e){const t=Ki(this,oi,"f");return t.currentNode=e,t.previousNode()},xi=function(e){const t=Ki(this,oi,"f");return t.currentNode=e,t.nextNode()},Pi=function(e){const t=Ki(this,ai,"f");return t.currentNode=e,t.parentNode()},Li=function(){const e=Ki(this,ai,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ci=function(){const e=Ki(this,ai,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ni=function(e){const t=Ki(this,ai,"f");return t.currentNode=e,t.previousNode()},Ii=function(e){const t=Ki(this,ai,"f");return t.currentNode=e,t.nextNode()},Ai=function(e){const t=Ki(this,ti,"m",Pi).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=Ki(this,ti,"m",Ni).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Ri=function(e){const t=Ki(this,ti,"m",Pi).call(this,e);if(t){const{cells:n}=t,s=Array.from(n.values()).indexOf(e),i=Ki(this,ti,"m",Ii).call(this,t);if(i){const{cells:e}=i;return e.item(Math.min(s,e.length))}}return null},Mi=function(e){const{selectby:t}=this;switch(t){case"cell":{const t=e.composedPath(),n=t.find((e=>e instanceof Bi))?t.find((e=>e instanceof jn)):null;n instanceof jn&&(this.selectedCells().includes(n)||Ki(this,ti,"m",ui).call(this,n),n.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const t=e.composedPath(),n=t.find((e=>e instanceof Bi))?t.find((e=>e instanceof Ks)):null;n instanceof Ks&&(this.selectedRows().includes(n)||Ki(this,ti,"m",pi).call(this,n),n.focus({preventScroll:!0}));break}}e.preventDefault()},Oi=function(e){const{ctrlKey:t,shiftKey:n}=e,{selectby:s}=this;switch(s){case"cell":{const s=e.composedPath(),i=s.find((e=>e instanceof Bi))?s.find((e=>e instanceof jn)):null,r=this.selectedCells();if(i instanceof jn)if(n||t){if(t)i.selected?Ki(this,ti,"m",bi).call(this,i):Ki(this,ti,"m",fi).call(this,i),e.stopPropagation();else if(n){const t=r[r.length-1];if(t){const e=Ki(this,ti,"m",hi).call(this,t,i);e&&(r.includes(i)?Ki(this,ti,"m",bi).call(this,...e):Ki(this,ti,"m",fi).call(this,...e))}else Ki(this,ti,"m",ui).call(this,i);e.stopPropagation()}}else Ki(this,ti,"m",ui).call(this,i);break}case"row":{const s=this.selectedRows(),i=e.composedPath(),r=i.find((e=>e instanceof Bi))?i.find((e=>e instanceof Ks)):null;if(r instanceof Ks)if(n||t){if(t)r.selected?Ki(this,ti,"m",gi).call(this,r):Ki(this,ti,"m",mi).call(this,r),e.stopPropagation();else if(n){const t=s[s.length-1];if(t){const e=Ki(this,ti,"m",di).call(this,t,r);e&&(s.includes(r)?Ki(this,ti,"m",gi).call(this,...e):Ki(this,ti,"m",mi).call(this,...e))}else Ki(this,ti,"m",pi).call(this,r);e.stopPropagation()}}else Ki(this,ti,"m",pi).call(this,r);break}}},Wi=function(e){const{key:t}=e,{selectby:n,activeCell:s,activeRow:i}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t)switch(n){case"cell":{const e=Ki(this,ti,"m",Li).call(this),t=e?Ki(this,ti,"m",Si).call(this,e):null,n=Ki(this,ti,"m",Ci).call(this),s=n?Ki(this,ti,"m",Ti).call(this,n):null;if(t&&s){const e=Ki(this,ti,"m",hi).call(this,t,s);e&&Ki(this,ti,"m",ui).call(this,...e)}break}case"row":{const e=Ki(this,ti,"m",Li).call(this),t=Ki(this,ti,"m",Ci).call(this);if(e&&t){const n=Ki(this,ti,"m",di).call(this,e,t);n&&Ki(this,ti,"m",pi).call(this,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==n&&s){const t=Ki(this,ti,"m",ki).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ki(this,ti,"m",bi).call(this,t):Ki(this,ti,"m",fi).call(this,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==n&&s){const t=Ki(this,ti,"m",xi).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ki(this,ti,"m",bi).call(this,t):Ki(this,ti,"m",fi).call(this,t))}}e.stopPropagation();break;case"ArrowUp":switch(n){case"cell":{const t=i??Ki(this,ti,"m",Li).call(this),n=s?Ki(this,ti,"m",Ai).call(this,s):t?Ki(this,ti,"m",Si).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?Ki(this,ti,"m",bi).call(this,n):Ki(this,ti,"m",fi).call(this,n))}break}case"row":{const t=i?Ki(this,ti,"m",Ni).call(this,i):Ki(this,ti,"m",Li).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ki(this,ti,"m",gi).call(this,t):Ki(this,ti,"m",mi).call(this,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(n){case"cell":{const t=i??Ki(this,ti,"m",Ci).call(this),n=s?Ki(this,ti,"m",Ri).call(this,s):t?Ki(this,ti,"m",Ti).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&(n.selected?Ki(this,ti,"m",bi).call(this,n):Ki(this,ti,"m",fi).call(this,n))}}break;case"row":{const t=i?Ki(this,ti,"m",Ii).call(this,i):Ki(this,ti,"m",Ci).call(this);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?Ki(this,ti,"m",gi).call(this,t):Ki(this,ti,"m",mi).call(this,t))}break}}e.stopPropagation();break;case"Home":switch(n){case"cell":if(i){const e=Ki(this,ti,"m",Si).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=Ki(this,ti,"m",Li).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(n){case"cell":if(i){const e=Ki(this,ti,"m",Ti).call(this,i);e&&e.focus({preventScroll:!0})}break;case"row":{const e=Ki(this,ti,"m",Ci).call(this);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(n){case"cell":s&&(Ki(this,ti,"m",ui).call(this,s),s.click());break;case"row":i&&(Ki(this,ti,"m",pi).call(this,i),i.click())}e.stopPropagation();break;case"Escape":switch(n){case"cell":Ki(this,ti,"m",wi).call(this),Ki(this,ti,"m",yi).call(this,null);break;case"row":Ki(this,ti,"m",vi).call(this),Ki(this,ti,"m",Ei).call(this,null)}this.focus(),e.stopPropagation()}},ji=function(e){const{relatedTarget:t}=e,{selectby:n}=this;switch(n){case"cell":{const{activeCell:e}=this;e&&t!==e&&e.focus();break}case"row":{const{activeRow:e}=this;e&&t!==e&&e.focus();break}}},Di=function(e){const{target:t}=e,{selectby:n}=this;switch(n){case"cell":t instanceof jn&&Ki(this,ti,"m",yi).call(this,t);break;case"row":t instanceof Ks&&Ki(this,ti,"m",Ei).call(this,t)}},Fi=function(){Ki(this,ii,"f")?$i(this,ri,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},_i=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Ks)).forEach(((e,t)=>{e.posinset=t}))},(Hi=Y("template")).content.append(Y("slot")),qi([V({type:String})],Vi.prototype,"name",void 0),qi([V({type:String,defaultValue:"cell"})],Vi.prototype,"selectby",void 0),Vi=qi([J({name:"e-grid"})],Vi);var Ji,Ui,Gi;let Xi=class extends HTMLElement{constructor(){super(),Ji.add(this),this.cells=new Gs(this),this.rows=new Qs(this);const e=this.attachShadow({mode:"open"});e.append(Gi.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Ji,"m",Ui).bind(this))}};Ji=new WeakSet,Ui=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof jn)).forEach(((e,t)=>{e.posinset=t}))},(Gi=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: table-row-group;\n                        }\n                    "]}),Y("slot")),Xi=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-gridhead"})],Xi);var Yi,zi,Zi,Qi,er,tr,nr,sr,ir,rr,or,ar,cr,lr,hr,dr,ur,pr,fr,mr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},br=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},gr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let wr=class extends HTMLElement{constructor(){super(),Yi.add(this),zi.set(this,void 0),Zi.set(this,void 0),gr(this,Zi,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,br(this,Yi,"m",Qi).bind(this)),"f"),gr(this,zi,-1,"f"),this.attachShadow({mode:"open"}).append(fr.content.cloneNode(!0)),this.addEventListener("click",br(this,Yi,"m",ur).bind(this)),this.addEventListener("focusin",br(this,Yi,"m",lr).bind(this)),this.addEventListener("focusout",br(this,Yi,"m",hr).bind(this)),this.addEventListener("mouseover",br(this,Yi,"m",dr).bind(this)),this.addEventListener("keydown",br(this,Yi,"m",pr).bind(this))}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))}get activeIndex(){return br(this,zi,"f")}get activeItem(){const{activeIndex:e}=this;return this.querySelector(":is(:scope, :scope > e-menuitemgroup) > e-menuitem:focus-within")??e>-1?this.items()[e]??null:null}};zi=new WeakMap,Zi=new WeakMap,Yi=new WeakSet,Qi=function(e){return e instanceof Yn?NodeFilter.FILTER_ACCEPT:e instanceof ks?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},er=function(){const e=br(this,Zi,"f");return e.currentNode=e.root,e.firstChild()},tr=function(){const e=br(this,Zi,"f");return e.currentNode=e.root,e.lastChild()},nr=function(e){const t=br(this,Zi,"f");return t.currentNode=e,t.previousSibling()},sr=function(e){const t=br(this,Zi,"f");return t.currentNode=e,t.nextSibling()},ir=function(e){const{menu:t}=e;if(t){const e=br(this,Zi,"f");return e.currentNode=t,e.firstChild()}return null},rr=function(e){const{activeItem:t,expanded:n}=this;null!==t&&t!==e&&t.collapse(),null!==e?(n&&e.expand(),gr(this,zi,this.items().indexOf(e),"f")):gr(this,zi,-1,"f")},or=function(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-menuitemgroup) > e-menuitem"))},ar=function(e){return e.closest(":is(e-menubar, e-menu)")==this},cr=function(e){return br(this,Yi,"a",or).find((t=>t.contains(e)))??null},lr=function(e){const{target:t}=e;if(t instanceof Element){const e=br(this,Yi,"m",cr).call(this,t);br(this,Yi,"m",rr).call(this,e)}},hr=function(e){const{target:t,relatedTarget:n}=e;if(t instanceof HTMLElement&&!t.contains(n)){const e=br(this,Yi,"m",cr).call(this,t);e&&e.collapse()}!this.contains(n)&&(this.expanded=!1)},dr=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof Yn&&br(this,Yi,"m",ar).call(this,t)&&t!==s&&n){const{menu:e}=t;e&&(t.expand(),e.focus({preventScroll:!0}))}},ur=function(e){const{target:t}=e,{expanded:n,activeItem:s}=this;if(t instanceof Yn&&br(this,Yi,"m",ar).call(this,t)){const e=!n;if(this.expanded=e,e){s&&!s.expanded&&s.expand();const{menu:e}=t;e?.focus({preventScroll:!0})}else this.focus({preventScroll:!0})}},pr=function(e){const{key:t}=e,{expanded:n}=this;let{activeItem:s}=this;switch(t){case"ArrowLeft":(s?br(this,Yi,"m",nr).call(this,s)??br(this,Yi,"m",tr).call(this):br(this,Yi,"m",er).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&br(this,Yi,"m",ir).call(this,s)?.focus({preventScroll:!0});break;case"ArrowRight":(s?br(this,Yi,"m",sr).call(this,s)??br(this,Yi,"m",er).call(this):br(this,Yi,"m",tr).call(this))?.focus({preventScroll:!0}),({activeItem:s}=this),n&&s&&br(this,Yi,"m",ir).call(this,s)?.focus({preventScroll:!0});break;case"Enter":case" ":s&&(this.expanded=!n,br(this,Yi,"m",ir).call(this,s)?.focus({preventScroll:!0}));break;case"Escape":n?(this.expanded=!1,s&&(s.collapse(),s.focus({preventScroll:!0}))):this.focus({preventScroll:!0})}},(fr=Y("template")).content.append(Y("slot")),mr([V({type:String})],wr.prototype,"name",void 0),mr([V({type:Boolean})],wr.prototype,"expanded",void 0),wr=mr([J({name:"e-menubar"})],wr);var vr,yr,Er,Sr,Tr,kr,xr,Pr,Lr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Cr=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Nr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ir=class extends HTMLElement{constructor(){super(),vr.add(this),yr.set(this,void 0),Cr(this,yr,null,"f");const e=this.attachShadow({mode:"open"});e.append(Y("span",{attributes:{part:"content"},children:[Y("span",{attributes:{part:"icon"}}),Y("span",{attributes:{part:"label"}})]}),Y("slot",{attributes:{name:"menu"}})),this.addEventListener("keydown",Nr(this,vr,"m",kr).bind(this)),this.addEventListener("click",Nr(this,vr,"m",Sr).bind(this)),this.addEventListener("focusout",Nr(this,vr,"m",Tr).bind(this)),this.addEventListener("trigger",Nr(this,vr,"m",Pr).bind(this)),e.addEventListener("slotchange",Nr(this,vr,"m",xr).bind(this))}get menu(){return Nr(this,yr,"f")}toggle(e){e??!this.expanded?this.expand():this.collapse()}expand(){this.expanded||(this.expanded=!0,Nr(this,vr,"m",Er).call(this))}collapse(){this.expanded&&(this.expanded=!1)}get firstItem(){return this.querySelector(":scope > :is(e-menu, e-menu > e-menuitemgroup) > e-menuitem")}};yr=new WeakMap,vr=new WeakSet,Er=function(){const{menu:e}=this;if(null!==e){const{style:t}=e,{top:n,bottom:s,left:i,right:r}=this.getBoundingClientRect(),{width:o,height:a}=e.getBoundingClientRect(),{scrollY:c,scrollX:l}=window,{clientWidth:h,clientHeight:d}=document.body,u=r+o-h,p=n+a-d;t.setProperty("left",`${u>0?l+r-o:l+i}px`),t.setProperty("top",`${p>0?c+n-a:c+s}px`)}},Sr=function(e){const{target:t}=e;if(t==this){this.toggle();const{expanded:e}=this;e&&this.menu?.focus({preventScroll:!0})}},Tr=function(e){const{relatedTarget:t}=e;!this.contains(t)&&this.collapse()},kr=function(e){const{key:t}=e,{expanded:n}=this;switch(t){case"ArrowDown":case"Enter":n||(this.expand(),this.firstItem?.focus({preventScroll:!0}),e.stopPropagation());break;case"Escape":n&&(this.collapse(),this.focus({preventScroll:!0}),e.stopPropagation())}},xr=function(e){const{target:t}=e,n=t.assignedElements()[0];Cr(this,yr,n instanceof Os?n:null,"f")},Pr=function(){this.collapse(),this.focus({preventScroll:!0})},Lr([V({type:String})],Ir.prototype,"name",void 0),Lr([V({type:Boolean})],Ir.prototype,"disabled",void 0),Lr([V({type:Boolean})],Ir.prototype,"expanded",void 0),Ir=Lr([J({name:"e-menubutton"})],Ir);var Ar,Rr=Ir,Mr=Object.assign((function(e){const{menu:t}=e;return t.slot="menu",Y("e-menubutton",{attributes:{tabindex:-1},children:[t]})}),{prototype:Rr.prototype}),Or=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Wr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Ar.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};(Ar=Y("template")).content.append(Y("style",{children:['\n                        :host {\n                            display: flex;\n                            user-select: none;\n                            white-space: nowrap;\n                            padding: 2px 12px;\n                        }\n                        \n                        :host([active]) {\n                            color: black;\n                            background-color: lightgray;\n                        }\n        \n                        :host([disabled]) {\n                            color: lightgray;\n                        }\n\n                        :host::before {\n                            display: flex;\n                            content: "";\n                            width: 18px;\n                            height: 18px;\n                            margin-right: 6px;\n\n                            mask-size: 18px 18px;\n                            -webkit-mask-size: 18px 18px;\n                            background-color: var(--icon-color, none);\n                            -webkit-mask-image: var(--icon-image, none);\n                            mask-image: var(--icon-image, none);\n                        }\n\n                        [part="label"] {\n                            flex: auto;\n                            text-align: left;\n                        }\n\n                        :host([default])::after {\n                            display: inline-block;\n                            content: "(default)";\n                            margin-left: 24px;\n                            text-align: right;\n                        }\n\n                        [part="content"] {\n                            flex: auto;\n                            display: flex;\n                            overflow: hidden;\n                            pointer-events: none;\n                        }\n                    ']}),Y("span",{attributes:{part:"content"},children:[Y("span",{attributes:{part:"label"}})]})),Or([V({type:String})],Wr.prototype,"name",void 0),Or([V({type:String})],Wr.prototype,"value",void 0),Or([V({type:String,observed:!0})],Wr.prototype,"label",void 0),Or([V({type:String})],Wr.prototype,"description",void 0),Or([V({type:Boolean})],Wr.prototype,"disabled",void 0),Or([V({type:Boolean})],Wr.prototype,"active",void 0),Or([V({type:Boolean})],Wr.prototype,"selected",void 0),Or([V({type:Boolean})],Wr.prototype,"default",void 0),Wr=Or([J({name:"e-option"})],Wr);var jr,Dr=Wr;let Fr=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(jr.content.cloneNode(!0))}};(jr=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),Y("slot")),Fr=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-optiongroup"})],Fr);var _r,Hr,Br,qr=Fr,Kr=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};Hr=new WeakMap,_r=new WeakSet,Br=function(e){return e instanceof Dr?NodeFilter.FILTER_ACCEPT:e instanceof qr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT};var $r,Vr,Jr,Ur,Gr,Xr,Yr,zr,Zr,Qr,eo,to,no,so,io,ro,oo,ao,co,lo,ho=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},uo=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},po=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let fo=class extends Nn{constructor(){super(),$r.add(this),Vr.set(this,void 0),Jr.set(this,void 0),Ur.set(this,void 0),po(this,Vr,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,uo(this,$r,"m",Gr).bind(this)),"f"),po(this,Jr,-1,"f"),po(this,Ur,-1,"f"),this.options=new class{constructor(e){_r.add(this),Hr.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Hr,document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,Kr(this,_r,"m",Br).bind(this)),"f")}get length(){const e=Kr(this,Hr,"f");e.currentNode=e.root;let t=0;for(;null!==e.nextNode();)t++;return t}get value(){const e=Kr(this,Hr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;){if(t.selected)return t.value;t=e.nextNode()}return""}item(e){if(e<0)return null;const t=Kr(this,Hr,"f");t.currentNode=t.root;let n=t.nextNode(),s=0;for(;s<e&&null!==n;)n=t.nextNode(),s++;return n}namedItem(e){if(!e)return null;const t=Kr(this,Hr,"f"),{root:n}=t;t.currentNode=n;let s=t.nextNode();for(;null!==s&&s.name!=e;)s=t.nextNode();return s}*values(){const e=Kr(this,Hr,"f");e.currentNode=e.root;let t=e.nextNode();for(;null!==t;)yield t,t=e.nextNode()}}(this);const e=this.attachShadow({mode:"open"});e.append(lo.content.cloneNode(!0)),this.addEventListener("click",uo(this,$r,"m",so).bind(this)),this.addEventListener("focusin",uo(this,$r,"m",io).bind(this)),this.addEventListener("focusout",uo(this,$r,"m",ro).bind(this)),this.addEventListener("keydown",uo(this,$r,"m",oo).bind(this)),this.addEventListener("mouseover",uo(this,$r,"m",ao).bind(this)),e.addEventListener("slotchange",uo(this,$r,"m",co).bind(this))}get activeIndex(){return uo(this,Jr,"f")}get selectedIndex(){return uo(this,Ur,"f")}get activeOption(){return this.options.item(uo(this,Jr,"f"))??null}get selectedOption(){return this.options.item(uo(this,Ur,"f"))??null}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{options:e}=this,t=Array.from(e.values()).find((e=>e.value==n));t&&(uo(this,$r,"m",to).call(this,t),this.dispatchEvent(new Event("change",{bubbles:!0})));break}}}expand(){const{expanded:e,options:t}=this;if(!e){this.expanded=!0;const{selectedIndex:e}=this;uo(this,$r,"m",no).call(this);const n=t.item(e);n&&n.focus({preventScroll:!0})}}collapse(){const{expanded:e}=this;e&&(this.expanded=!1,this.focus())}toggle(e){const{expanded:t}=this;e??!t?this.expand():this.collapse()}};Vr=new WeakMap,Jr=new WeakMap,Ur=new WeakMap,$r=new WeakSet,Gr=function(e){return e instanceof Dr?NodeFilter.FILTER_ACCEPT:e instanceof qr?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Xr=function(){const e=uo(this,Vr,"f");return e.currentNode=e.root,e.firstChild()},Yr=function(){const e=uo(this,Vr,"f");return e.currentNode=e.root,e.lastChild()},zr=function(e){const t=uo(this,Vr,"f");return t.currentNode=e,t.previousNode()},Zr=function(e){const t=uo(this,Vr,"f");return t.currentNode=e,t.nextNode()},Qr=function(e){e&&!e.disabled&&(this.value=e.value)},eo=function(e){const{options:t,activeOption:n}=this;if(null!==n&&n!==e&&(n.active=!1),null!==e){if(!e.disabled){const{shadowRoot:n}=this,s=n.querySelector("[part='description']");s&&(s.textContent=e.description),po(this,Jr,Array.from(t.values()).indexOf(e),"f")}e.active=!0}else po(this,Jr,-1,"f")},to=function(e){const{options:t}=this;if(null!==e){if(!e.disabled){const{shadowRoot:n,selectedOption:s}=this,i=n.querySelector("[part='value']");i&&(i.textContent=e.label),e.selected=!0,s&&(s.selected=!1),po(this,Ur,Array.from(t.values()).indexOf(e),"f")}}else po(this,Jr,-1,"f")},no=function(){const{shadowRoot:e}=this,t=e.querySelector("[part=options]"),{style:n}=t,{bottom:s,left:i}=this.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},so=function(e){const{target:t}=e;t instanceof Dr?(uo(this,$r,"m",Qr).call(this,t),this.collapse()):t==this&&this.toggle()},io=function(e){const{target:t}=e,{expanded:n}=this;t instanceof Dr&&(n||this.expand(),uo(this,$r,"m",eo).call(this,t))},ro=function(e){const{relatedTarget:t}=e,{expanded:n}=this;!this.contains(t)&&(n&&this.collapse(),uo(this,$r,"m",eo).call(this,null))},oo=function(e){const{key:t}=e,{options:n,activeOption:s,selectedOption:i,selectedIndex:r,expanded:o}=this;switch(t){case"ArrowUp":if(o&&null!==s){const e=uo(this,$r,"m",zr).call(this,s)??uo(this,$r,"m",Xr).call(this);e&&e.focus({preventScroll:!0})}else if(!o&&null!==i){const e=uo(this,$r,"m",zr).call(this,i)??uo(this,$r,"m",Xr).call(this);e&&uo(this,$r,"m",Qr).call(this,e)}e.stopPropagation();break;case"ArrowDown":if(o&&null!==s){const e=uo(this,$r,"m",Zr).call(this,s)??uo(this,$r,"m",Yr).call(this);e&&e.focus({preventScroll:!0})}else if(!o&&null!==i){const e=uo(this,$r,"m",Zr).call(this,i)??uo(this,$r,"m",Yr).call(this);e&&uo(this,$r,"m",Qr).call(this,e)}e.stopPropagation();break;case"Home":{const t=uo(this,$r,"m",Xr).call(this);null!==t&&(o?t.focus({preventScroll:!0}):uo(this,$r,"m",Qr).call(this,t)),e.stopPropagation();break}case"End":{const t=uo(this,$r,"m",Yr).call(this);null!==t&&(o?t.focus({preventScroll:!0}):uo(this,$r,"m",Qr).call(this,t)),e.stopPropagation();break}case"Enter":if(o)this.collapse(),null!==s&&uo(this,$r,"m",Qr).call(this,s);else{const e=n.item(r);null!==e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Escape":o&&this.collapse(),e.stopPropagation();break;default:{const{activeIndex:s}=this,{length:i}=t;if(1==i){const i=t.charCodeAt(0),r=Array.from(n.values()),o=r.findIndex((e=>e.label.toLowerCase().charCodeAt(0)==i)),a=r.findIndex(((e,t)=>e.label.toLowerCase().charCodeAt(0)==i&&t>s)),c=a>-1?a:o,l=n.item(c);null!==l&&l.focus({preventScroll:!0}),e.stopPropagation()}break}}},ao=function(e){const{target:t}=e;t instanceof Dr&&t.focus({preventScroll:!0})},co=function(e){const{target:t}=e,n=t.assignedElements().filter((e=>e instanceof Dr));if(n.length>0){let e=null,{value:t}=this;t&&(e=n.find((e=>e.value==t))??null),null==e&&(e=n.find((e=>e.selected))??null),null==e&&(e=n.find((e=>e.default))??null),null==e&&(e=uo(this,$r,"m",Xr).call(this)),n.forEach((t=>{t.selected=t==e})),null!==e&&uo(this,$r,"m",to).call(this,e)}},(lo=Y("template")).content.append(Y("div",{attributes:{part:"content"},children:[Y("label",{attributes:{part:"label"}}),Y("output",{attributes:{part:"value"}})]}),Y("div",{attributes:{part:"options"},children:[Y("slot"),Y("hr",{attributes:{part:"separator"}}),Y("span",{attributes:{part:"description"}})]})),ho([V({type:String})],fo.prototype,"name",void 0),ho([V({type:String,observed:!0})],fo.prototype,"label",void 0),ho([V({type:String,observed:!0})],fo.prototype,"value",void 0),ho([V({type:String,defaultValue:"select",observed:!0})],fo.prototype,"type",void 0),ho([V({type:Boolean})],fo.prototype,"expanded",void 0),fo=ho([J({name:"e-select"})],fo);var mo,bo,go,wo,vo,yo,Eo,So,To,ko,xo,Po,Lo,Co,No=fo,Io=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ao=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Ro=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Mo=class extends Nn{constructor(){super(),mo.add(this),bo.set(this,void 0),go.set(this,void 0),Ao(this,bo,null,"f"),Ao(this,go,null,"f");const e=this.attachShadow({mode:"open"});e.append(Po.content.cloneNode(!0)),e.addEventListener("slotchange",Ro(this,mo,"m",xo).bind(this))}get menubutton(){return Ro(this,bo,"f")}get select(){return Ro(this,go,"f")}toggle(){const{type:e}=this;switch(e){case"menubutton":{const{menubutton:e}=this;e&&(e.toggle(),e.expanded&&e.firstItem?.focus({preventScroll:!0}));break}case"select":{const{select:e}=this;e&&e.toggle();break}}}attributeChangedCallback(e,t,n){switch(e){case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}case"value":{const{type:e}=this;"select"==e&&Ro(this,mo,"m",wo).call(this);break}}}};bo=new WeakMap,go=new WeakMap,mo=new WeakSet,wo=function(){const{select:e}=this;if(e){const{value:t}=this,{value:n}=e;n!==t&&(e.value=t)}},vo=function(e){const t=Ro(this,mo,"m",To).bind(this);Lo.set(e,t),e.addEventListener("keydown",t)},yo=function(e){const t=Lo.get(e);t&&e.removeEventListener("keydown",t)},Eo=function(e){const t=Ro(this,mo,"m",ko).bind(this);Co.set(e,t),e.addEventListener("trigger",t)},So=function(e){const t=Co.get(e);t&&e.removeEventListener("trigger",t)},To=function(e){const{key:t}=e;switch(t){case"Enter":case"Escape":this.focus({preventScroll:!0}),e.stopPropagation()}},ko=function(e){this.focus({preventScroll:!0}),e.stopPropagation()},xo=function(e){const{target:t}=e,{name:n}=t;switch(n){case"menubutton":{let e=Ro(this,bo,"f");null!==e&&(Ro(this,mo,"m",So).call(this,e),Ro(this,mo,"m",yo).call(this,e));const n=t.assignedElements()[0];e=n instanceof Rr?n:null,null!==e&&(Ro(this,mo,"m",Eo).call(this,e),Ro(this,mo,"m",vo).call(this,e)),Ao(this,bo,e,"f");break}case"select":{let e=Ro(this,go,"f");null!==e&&Ro(this,mo,"m",yo).call(this,e);const n=t.assignedElements()[0];e=n instanceof No?n:null,null!==e&&Ro(this,mo,"m",vo).call(this,e),Ao(this,go,e,"f");break}}},(Po=Y("template")).content.append(Y("span",{attributes:{part:"content"},children:[Y("span",{attributes:{part:"icon"}}),Y("span",{attributes:{part:"label"}}),Y("slot",{attributes:{name:"select"}}),Y("slot",{attributes:{name:"menubutton"}})]})),Lo=new WeakMap,Co=new WeakMap,Io([V({type:Boolean})],Mo.prototype,"active",void 0),Io([V({type:String,observed:!0})],Mo.prototype,"value",void 0),Io([V({type:String})],Mo.prototype,"name",void 0),Io([V({type:String,observed:!0})],Mo.prototype,"label",void 0),Io([V({type:String})],Mo.prototype,"type",void 0),Mo=Io([J({name:"e-toolbaritem"})],Mo);var Oo,Wo=Mo,jo=Object.assign((function(e){const{label:t,name:n,type:s,value:i,trigger:r,menubutton:o,select:a}=e;return o&&(o.slot="menubutton"),a&&(a.slot="select"),Y("e-toolbaritem",{attributes:{tabindex:-1,title:t,name:n,value:i,type:s},children:o?[o]:a?[a]:void 0,listeners:{trigger:r}})}),{prototype:Wo.prototype,button:e=>new jo({...e,type:"button"}),checkbox:e=>new jo({...e,type:"checkbox"}),radio:e=>new jo({...e,type:"radio"}),menubutton:e=>new jo({...e,type:"menubutton"}),select:e=>new jo({...e,type:"select"})}),Do=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Fo=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Oo.content.cloneNode(!0))}attributeChangedCallback(e,t,n){switch(e){case"label":{const e=this.shadowRoot.querySelector("[part='label']");e&&(e.textContent=n);break}}}};(Oo=Y("template")).content.append(Y("style",{children:['\n                        :host {\n                            display: flex;\n                            width: max-content;\n                            flex-direction: row;\n                        }\n\n                        /*:host([orientation="vertical"]) {\n                            flex-direction: column;\n                        }\n\n                        :host([orientation="horizontal"]) {\n                            flex-direction: row;\n                        }*/\n                    ']}),Y("slot")),Do([V({type:String})],Fo.prototype,"name",void 0),Do([V({type:String,observed:!0})],Fo.prototype,"label",void 0),Do([V({type:Boolean,observed:!0})],Fo.prototype,"disabled",void 0),Fo=Do([J({name:"e-toolbaritemgroup"})],Fo);var _o,Ho,Bo,qo,Ko,$o,Vo,Jo,Uo,Go,Xo,Yo,zo,Zo,Qo,ea,ta=Fo,na=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},sa=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ia=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let ra=class extends HTMLElement{constructor(){super(),_o.add(this),Ho.set(this,void 0),Bo.set(this,void 0),sa(this,Bo,-1,"f"),sa(this,Ho,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,ia(this,_o,"m",qo).bind(this)),"f"),this.attachShadow({mode:"open"}).append(ea.content.cloneNode(!0)),this.addEventListener("change",ia(this,_o,"m",Go).bind(this)),this.addEventListener("click",ia(this,_o,"m",Xo).bind(this)),this.addEventListener("focusin",ia(this,_o,"m",Yo).bind(this)),this.addEventListener("focusout",ia(this,_o,"m",zo).bind(this)),this.addEventListener("keydown",ia(this,_o,"m",Zo).bind(this)),this.addEventListener("trigger",ia(this,_o,"m",Qo).bind(this))}get activeItem(){return this.querySelector("e-toolbaritem[active]")}items(){return Array.from(this.querySelectorAll(":is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem"))}get activeIndex(){return ia(this,Bo,"f")}};Ho=new WeakMap,Bo=new WeakMap,_o=new WeakSet,qo=function(e){return e instanceof Wo?NodeFilter.FILTER_ACCEPT:e instanceof ta?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Ko=function(){const e=ia(this,Ho,"f");return e.currentNode=e.root,e.firstChild()},$o=function(){const e=ia(this,Ho,"f");return e.currentNode=e.root,e.lastChild()},Vo=function(e){const t=ia(this,Ho,"f");return t.currentNode=e,t.previousSibling()},Jo=function(e){const t=ia(this,Ho,"f");return t.currentNode=e,t.nextSibling()},Uo=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1),null!==e?(e.active=!0,sa(this,Bo,this.items().indexOf(e),"f")):sa(this,Bo,-1,"f")},Go=function(e){const{target:t}=e;if(t instanceof No){const e=t.closest("e-toolbaritem");if(null!==e){const{select:n,type:s}=e;if(t==n&&n&&"select"==s){const{value:t}=e,{value:s}=n;t!==s&&(e.value=s,e.trigger())}}}},Xo=function(e){const{target:t}=e;if(t instanceof Wo){const{type:e}=t;t.trigger()}},Yo=function(e){const{target:t}=e,n=this.items().find((e=>e.contains(t)))??null;ia(this,_o,"m",Uo).call(this,n)},zo=function(e){const{relatedTarget:t}=e;!this.contains(t)&&ia(this,_o,"m",Uo).call(this,null)},Zo=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"Enter":if(n){const{type:t}=n;switch(t){case"menubutton":{const{menubutton:e}=n;if(e){const{expanded:t}=e;t||(e.expand(),e.firstItem?.focus({preventScroll:!0}))}break}case"select":{const{select:e}=n;e&&e.expand();break}default:n.trigger()}e.stopPropagation()}break;case"ArrowLeft":if(n){const e=ia(this,_o,"m",Vo).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=ia(this,_o,"m",Ko).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(n){const e=ia(this,_o,"m",Jo).call(this,n);e&&e.focus({preventScroll:!0})}else{const e=ia(this,_o,"m",$o).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const{type:t}=n;switch(t){case"select":n.select?.expand(),e.stopPropagation()}}break;case"Home":{const t=ia(this,_o,"m",Ko).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=ia(this,_o,"m",$o).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":n?n.focus({preventScroll:!0}):this.focus({preventScroll:!0}),e.stopPropagation()}},Qo=function(e){const{target:t}=e;if(t instanceof Wo){const{type:e,name:n,value:s}=t;"radio"==e&&this.querySelectorAll(`:is(:scope, :scope > e-toolbaritemgroup) > e-toolbaritem[type=radio][name=${n}]`).forEach((e=>{e.checked=e.value==s}))}},(ea=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: flex;\n                            flex-direction: row;\n                        }\n                    "]}),Y("slot")),na([V({type:String})],ra.prototype,"name",void 0),na([V({type:String})],ra.prototype,"orientation",void 0),ra=na([J({name:"e-toolbar"})],ra);var oa=ra,aa=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let ca=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Y("style",{children:["\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([hidden]) {\n                            display: none;\n                        }\n                    "]}),Y("slot"))}};aa([V({type:String})],ca.prototype,"name",void 0),ca=aa([J({name:"e-tabpanel"})],ca);var la,ha=ca,da=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},ua=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},pa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let fa=class extends HTMLElement{constructor(){super(),la.set(this,void 0),this.attachShadow({mode:"open"}).append(Y("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            user-select: none;\n                            white-space: nowrap;\n\n                            padding: 2px 6px;\n                            cursor: pointer;\n                        }\n                        \n                        :host([disabled]) {\n                            color: lightgray;\n                            pointer-events: none;\n                        }\n        \n                        :host([active]) {\n                            background-color: lightgray;\n                        }\n                    "]}),Y("slot")),ua(this,la,null,"f")}get panel(){return pa(this,la,"f")}connectedCallback(){const e=document.getElementById(this.controls);e!==pa(this,la,"f")&&e instanceof ha&&ua(this,la,e,"f"),e&&(e.hidden=!this.active)}attributeChangedCallback(e,t,n){switch(e){case"active":this.active&&this.dispatchEvent(new CustomEvent("e_tabchange",{detail:{tab:this},bubbles:!0}));const e=document.getElementById(this.controls);e!==this.panel&&e instanceof ha&&ua(this,la,e,"f"),e&&(e.hidden=!this.active)}}};la=new WeakMap,da([V({type:String})],fa.prototype,"name",void 0),da([V({type:Boolean})],fa.prototype,"disabled",void 0),da([V({type:Boolean,observed:!0})],fa.prototype,"active",void 0),da([V({type:String,observed:!0})],fa.prototype,"controls",void 0),fa=da([J({name:"e-tab"})],fa);var ma,ba=fa,ga=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},wa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let va=class extends HTMLElement{constructor(){super(),ma.set(this,void 0),this.attachShadow({mode:"open"}).append(Y("style",{children:["\n                        :host {\n                            display: block;\n                            position: relative;\n                        }\n                    "]}),Y("slot")),this.tabs=[],ga(this,ma,1,"f")}get activeIndex(){return wa(this,ma,"f")}get activeTab(){return this.tabs[wa(this,ma,"f")]||null}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot.querySelector("slot");e&&e.addEventListener("slotchange",(e=>{const t=e.target.assignedElements().filter((e=>e instanceof ba));this.tabs=t,ga(this,ma,this.tabs.findIndex((e=>e.active)),"f")})),this.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":this.focusTabAt(this.activeIndex<=0?this.tabs.length-1:this.activeIndex-1),e.stopPropagation();break;case"ArrowDown":this.focusTabAt(this.activeIndex>=this.tabs.length-1?0:this.activeIndex+1),e.stopPropagation();break;case"Enter":this.activeTab&&this.activateTab(this.activeTab)}})),this.addEventListener("click",(e=>{const t=e.target;t instanceof ba&&(t.active=!0)})),this.addEventListener("e_tabchange",(e=>{const t=this.tabs.indexOf(e.detail.tab);ga(this,ma,t,"f"),this.tabs.forEach(((e,n)=>{n!==t&&(e.active=!1)}))}))}focusTabAt(e){const t=this.tabs[e];t&&(ga(this,ma,e,"f"),t.focus())}activateTab(e){this.tabs.includes(e)&&(e.active=!0)}};ma=new WeakMap,va=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-tablist"})],va);var ya,Ea,Sa;let Ta=class extends HTMLElement{constructor(){super(),ya.add(this);const e=this.attachShadow({mode:"open"});e.append(Sa.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ya,"m",Ea).bind(this))}};ya=new WeakSet,Ea=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof hc)).forEach(((e,t)=>{e.posinset=t,e.level=(()=>{let t=-1,n=e;for(;null!==n&&n.matches("e-tree :scope");)n=n.parentElement?.closest("e-treeitem")??null,t++;return t})()}))},(Sa=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),Y("slot")),Ta=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-treeitemgroup"})],Ta);var ka,xa,Pa,La,Ca,Na=Ta,Ia=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Aa=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Ra=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let Ma=class extends HTMLElement{constructor(){super(),ka.add(this),xa.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(Ca.content.cloneNode(!0)),e.addEventListener("slotchange",Aa(this,ka,"m",La).bind(this)),this.addEventListener("click",Aa(this,ka,"m",Pa).bind(this)),Ra(this,xa,null,"f")}get group(){return Aa(this,xa,"f")}attributeChangedCallback(e,t,n){switch(e){case"expanded":this.dispatchEvent(new Event("toggle",{bubbles:!0}));break;case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const e=this.shadowRoot.querySelector("[part=label]");e&&(e.textContent=n);break}case"level":this.style.setProperty("--level",`${this.level}`)}}toggle(e){this.expanded=e??!this.expanded}};xa=new WeakMap,ka=new WeakSet,Pa=function(e){const{target:t,shiftKey:n,ctrlKey:s}=e,{type:i}=this;this!=t||"parent"!=i||n||s||this.toggle()},La=function(e){const{target:t}=e,{name:n}=t;switch(n){case"group":{const e=t.assignedElements()[0];Ra(this,xa,e instanceof Na?e:null,"f");break}}},(Ca=Y("template")).content.append(Y("div",{attributes:{part:"content"},children:[Y("span",{attributes:{part:"arrow"}}),Y("slot")]}),Y("slot",{attributes:{name:"group"}})),Ia([V({type:String})],Ma.prototype,"name",void 0),Ia([V({type:Number})],Ma.prototype,"posinset",void 0),Ia([V({type:String,observed:!0})],Ma.prototype,"label",void 0),Ia([V({type:Boolean,observed:!0})],Ma.prototype,"expanded",void 0),Ia([V({type:Boolean})],Ma.prototype,"droptarget",void 0),Ia([V({type:Boolean})],Ma.prototype,"active",void 0),Ia([V({type:Boolean,observed:!0})],Ma.prototype,"selected",void 0),Ia([V({type:Number,observed:!0})],Ma.prototype,"level",void 0),Ia([V({type:String,defaultValue:"leaf"})],Ma.prototype,"type",void 0),Ma=Ia([J({name:"e-treeitem"})],Ma);var Oa,Wa,ja,Da,Fa,_a,Ha,Ba,qa,Ka,$a,Va,Ja,Ua,Ga,Xa,Ya,za,Za,Qa,ec,tc,nc,sc,ic,rc,oc,ac,cc,lc,hc=Ma,dc=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},uc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},pc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let fc=class extends HTMLElement{constructor(){super(),Oa.add(this),Wa.set(this,void 0),ja.set(this,void 0),Da.set(this,void 0),pc(this,Da,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,uc(this,Oa,"m",Fa).bind(this)),"f"),pc(this,Wa,!1,"f"),pc(this,ja,!1,"f"),this.items=this.getElementsByTagName("e-treeitem");const e=this.attachShadow({mode:"open"});e.append(lc.content.cloneNode(!0)),this.addEventListener("mousedown",uc(this,Oa,"m",za).bind(this)),this.addEventListener("dragend",uc(this,Oa,"m",Za).bind(this)),this.addEventListener("dragenter",uc(this,Oa,"m",Qa).bind(this)),this.addEventListener("dragleave",uc(this,Oa,"m",tc).bind(this)),this.addEventListener("dragover",uc(this,Oa,"m",ec).bind(this)),this.addEventListener("drop",uc(this,Oa,"m",nc).bind(this)),this.addEventListener("focus",uc(this,Oa,"m",ic).bind(this)),this.addEventListener("focusin",uc(this,Oa,"m",rc).bind(this)),this.addEventListener("focusout",uc(this,Oa,"m",oc).bind(this)),this.addEventListener("keydown",uc(this,Oa,"m",sc).bind(this)),this.addEventListener("select",uc(this,Oa,"m",ac).bind(this)),e.addEventListener("slotchange",uc(this,Oa,"m",cc).bind(this))}get activeItem(){return this.querySelector("e-treeitem[active]")}get dropTargetItem(){return this.querySelector("e-treeitem[droptarget]")}selectedItems(){const e=[],t=uc(this,Da,"f");t.currentNode=t.root;let n=uc(this,Oa,"m",Ja).call(this);for(;null!==n;)n.selected&&e.push(n),n=uc(this,Oa,"m",Xa).call(this,n);return e}beginSelection(){pc(this,Wa,!0,"f")}endSelection(){pc(this,Wa,!1,"f"),uc(this,ja,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),pc(this,ja,!1,"f"))}};Wa=new WeakMap,ja=new WeakMap,Da=new WeakMap,Oa=new WeakSet,Fa=function(e){return e instanceof hc?NodeFilter.FILTER_ACCEPT:e instanceof Na?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},_a=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=uc(this,Oa,"m",Xa).call(this,e);for(;s&&s!==t;)n.push(s),s=uc(this,Oa,"m",Xa).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=uc(this,Oa,"m",Ga).call(this,e);for(;s&&s!==t;)n.push(s),s=uc(this,Oa,"m",Ga).call(this,s);return n.push(t),n}return[]},Ha=function(...e){const t=this.selectedItems();this.beginSelection(),t.forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},Ba=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},qa=function(...e){const t=this.selectedItems();this.beginSelection(),e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Ka=function(){const e=this.selectedItems();this.beginSelection(),e.forEach((e=>{e.selected=!1})),this.endSelection()},$a=function(e){const{activeItem:t}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(uc(this,Da,"f").currentNode=e,e.active=!0,e.tabIndex=0)},Va=function(e){const{dropTargetItem:t}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0):this.droptarget=!1},Ja=function(){const e=uc(this,Da,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Ua=function(){const e=uc(this,Da,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Ga=function(e){const t=uc(this,Da,"f");t.currentNode=e;const n=t.previousSibling();return n?uc(this,Oa,"m",Ya).call(this,n):t.parentNode()},Xa=function(e){const t=uc(this,Da,"f");t.currentNode=e;const{type:n,expanded:s}=e;return"leaf"===n||s?t.nextNode():t.nextSibling()??(t.parentNode(),t.nextSibling())},Ya=function e(t){if(t.expanded){const t=uc(this,Da,"f").lastChild();if(t)return uc(this,Oa,"m",e).call(this,t)}return t},za=function(e){const{target:t,ctrlKey:n,shiftKey:s,button:i}=e;if(t instanceof hc){const{selected:r}=t;switch(i){case 0:if(s||n){if(n)r&&t.blur(),r?uc(this,Oa,"m",qa).call(this,t):uc(this,Oa,"m",Ba).call(this,t),e.stopPropagation();else if(s){const{activeItem:n}=this;if(n){const e=uc(this,Oa,"m",_a).call(this,n,t);e&&uc(this,Oa,"m",Ha).call(this,...e)}e.stopPropagation()}}else uc(this,Oa,"m",Ha).call(this,t);break;case 2:r||uc(this,Oa,"m",Ha).call(this,t)}}},Za=function(){uc(this,Oa,"m",Va).call(this,null)},Qa=function(e){const{target:t}=e;if(t instanceof hc){const{type:e}=t;"parent"==e&&t.toggle(!0),uc(this,Oa,"m",Va).call(this,t)}e.preventDefault()},ec=function(e){e.preventDefault()},tc=function(e){const{relatedTarget:t}=e;if(t){const e=t.getRootNode(),n=e instanceof ShadowRoot?e.host:t;this.contains(n)||uc(this,Oa,"m",Va).call(this,null)}},nc=function(){uc(this,Oa,"m",Va).call(this,null)},sc=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t&&n){const e=uc(this,Da,"f"),{root:t}=e;e.currentNode=n;const s=(e.currentNode=e.parentNode()??t,e.firstChild()),i=(e.currentNode=e.parentNode()??t,e.lastChild());if(s&&i){const e=uc(this,Oa,"m",_a).call(this,s,uc(this,Oa,"m",Ya).call(this,i));e&&uc(this,Oa,"m",Ha).call(this,...e)}}e.preventDefault();break}case"ArrowLeft":if(n)if(n.expanded)n.toggle();else{const e=uc(this,Da,"f").parentNode();e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":n&&(n.expanded||n.toggle()),e.stopPropagation();break;case"ArrowUp":if(n){const t=uc(this,Oa,"m",Ga).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?uc(this,Oa,"m",qa).call(this,t):uc(this,Oa,"m",Ba).call(this,t))}}else{const e=uc(this,Oa,"m",Ja).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=uc(this,Oa,"m",Xa).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?uc(this,Oa,"m",qa).call(this,t):uc(this,Oa,"m",Ba).call(this,t))}}else{const e=uc(this,Oa,"m",Ua).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=uc(this,Oa,"m",Ja).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=uc(this,Oa,"m",Ua).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":n&&(uc(this,Oa,"m",Ha).call(this,n),n.click()),e.stopPropagation();break;case"Escape":uc(this,Oa,"m",Ka).call(this),uc(this,Oa,"m",$a).call(this,null),this.focus(),e.stopPropagation()}},ic=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},rc=function(e){const{target:t}=e;t instanceof hc&&(uc(this,Oa,"m",$a).call(this,t),this.tabIndex=-1)},oc=function(e){const{relatedTarget:t}=e;!this.contains(t)&&(this.tabIndex=0)},ac=function(){uc(this,Wa,"f")?pc(this,ja,!0,"f"):this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},cc=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof hc)).forEach(((e,t)=>{e.posinset=t,e.level=0}))},(lc=Y("template")).content.append(Y("slot")),dc([V({type:Boolean})],fc.prototype,"droptarget",void 0),dc([V({type:String})],fc.prototype,"name",void 0),fc=dc([J({name:"e-tree"})],fc);var mc,bc,gc,wc,vc,yc,Ec=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Sc=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Tc=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let kc=class extends HTMLElement{constructor(){super(),mc.add(this),bc.set(this,void 0),gc.set(this,void 0),wc.set(this,void 0);const e=this.attachShadow({mode:"open"});e.append(yc.content.cloneNode(!0)),Sc(this,bc,null,"f"),Sc(this,wc,null,"f"),Sc(this,gc,null,"f"),e.addEventListener("slotchange",Tc(this,mc,"m",vc).bind(this))}get badge(){return Tc(this,bc,"f")}get toolbar(){return Tc(this,gc,"f")}get menu(){return Tc(this,wc,"f")}attributeChangedCallback(e,t,n){switch(e){case"selected":this.dispatchEvent(new Event("select",{bubbles:!0}));break;case"label":{const{shadowRoot:e}=this,t=e.querySelector("[part=label]");t&&(t.textContent=n);break}}}};bc=new WeakMap,gc=new WeakMap,wc=new WeakMap,mc=new WeakSet,vc=function(e){const{target:t}=e,{name:n}=t;switch(n){case"toolbar":{const e=t.assignedElements()[0];Sc(this,gc,e instanceof oa?e:null,"f");break}case"badge":{const e=t.assignedElements()[0];Sc(this,bc,e instanceof HTMLSpanElement?e:null,"f");break}case"menu":{const e=t.assignedElements()[0];Sc(this,wc,e instanceof Os?e:null,"f");break}}},(yc=Y("template")).content.append(Y("slot")),Ec([V({type:String})],kc.prototype,"name",void 0),Ec([V({type:Number})],kc.prototype,"posinset",void 0),Ec([V({type:String,observed:!0})],kc.prototype,"label",void 0),Ec([V({type:Boolean})],kc.prototype,"droptarget",void 0),Ec([V({type:Boolean})],kc.prototype,"active",void 0),Ec([V({type:Boolean,observed:!0})],kc.prototype,"selected",void 0),kc=Ec([J({name:"e-listitem"})],kc);var xc,Pc,Lc,Cc=kc;let Nc=class extends HTMLElement{constructor(){super(),xc.add(this);const e=this.attachShadow({mode:"open"});e.append(Lc.content.cloneNode(!0)),e.addEventListener("slotchange",function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,xc,"m",Pc).bind(this))}};xc=new WeakSet,Pc=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Cc)).forEach(((e,t)=>{e.posinset=t}))},(Lc=Y("template")).content.append(Y("slot")),Nc=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}([J({name:"e-listitemgroup"})],Nc);var Ic,Ac,Rc,Mc,Oc,Wc,jc,Dc,Fc,_c,Hc,Bc,qc,Kc,$c,Vc,Jc,Uc,Gc,Xc,Yc,zc,Zc,Qc,el,tl,nl,sl,il,rl,ol,al,cl=Nc,ll=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},hl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},dl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let ul=class extends HTMLElement{constructor(){super(),Ic.add(this),Ac.set(this,void 0),Rc.set(this,void 0),Mc.set(this,void 0),Oc.set(this,void 0),Wc.set(this,void 0),dl(this,Wc,document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,hl(this,Ic,"m",jc).bind(this)),"f"),dl(this,Rc,-1,"f"),dl(this,Ac,-1,"f"),dl(this,Mc,!1,"f"),dl(this,Oc,!1,"f"),this.items=this.getElementsByTagName("e-listitem");const e=this.attachShadow({mode:"open"});e.append(al.content.cloneNode(!0)),this.addEventListener("contextmenu",hl(this,Ic,"m",Gc).bind(this)),this.addEventListener("click",hl(this,Ic,"m",Xc).bind(this)),this.addEventListener("dragend",hl(this,Ic,"m",Yc).bind(this)),this.addEventListener("dragenter",hl(this,Ic,"m",zc).bind(this)),this.addEventListener("dragover",hl(this,Ic,"m",Zc).bind(this)),this.addEventListener("dragleave",hl(this,Ic,"m",Qc).bind(this)),this.addEventListener("dragstart",hl(this,Ic,"m",el).bind(this)),this.addEventListener("drop",hl(this,Ic,"m",tl).bind(this)),this.addEventListener("focus",hl(this,Ic,"m",sl).bind(this)),this.addEventListener("focusin",hl(this,Ic,"m",il).bind(this)),this.addEventListener("keydown",hl(this,Ic,"m",nl).bind(this)),this.addEventListener("select",hl(this,Ic,"m",rl).bind(this)),e.addEventListener("slotchange",hl(this,Ic,"m",ol).bind(this))}get dropTargetItem(){return this.items[hl(this,Ac,"f")]??null}get activeIndex(){return hl(this,Rc,"f")}get activeItem(){return this.items[this.activeIndex]??null}beginSelection(){dl(this,Mc,!0,"f")}endSelection(){dl(this,Mc,!1,"f"),hl(this,Oc,"f")&&(this.dispatchEvent(new Event("selectionchange",{bubbles:!0})),dl(this,Oc,!1,"f"))}selectedItems(){const e=[],t=hl(this,Wc,"f");t.currentNode=t.root;let n=hl(this,Ic,"m",$c).call(this);for(;null!==n;)n.selected&&e.push(n),n=hl(this,Ic,"m",Uc).call(this,n);return e}};Ac=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,Wc=new WeakMap,Ic=new WeakSet,jc=function(e){return e instanceof Cc?NodeFilter.FILTER_ACCEPT:e instanceof cl?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT},Dc=function(e,t){const n=Array.from(this.items),s=n.indexOf(e),i=n.indexOf(t);return s>-1&&i>-1?e==t?[e]:n.slice(Math.min(s,i),Math.max(s,i)+1):[]},Fc=function(...e){this.beginSelection(),this.selectedItems().forEach((t=>{e.includes(t)||(t.selected=!1)})),e.forEach((e=>{this.contains(e)&&!e.selected&&(e.selected=!0)})),this.endSelection()},_c=function(...e){this.beginSelection(),e.forEach((e=>{e.selected||(e.selected=!0)})),this.endSelection()},Hc=function(...e){this.beginSelection();const t=this.selectedItems();e.forEach((e=>{t.includes(e)&&(e.selected=!1)})),this.endSelection()},Bc=function(){this.beginSelection(),this.selectedItems().forEach((e=>{e.selected&&(e.selected=!1)})),this.endSelection()},qc=function(e){const{activeItem:t,items:n}=this;null!==t&&t!==e&&(t.active=!1,t.tabIndex=-1),null!==e&&(e.active=!0,e.tabIndex=0,dl(this,Rc,Array.from(n).indexOf(e),"f"))},Kc=function(e){const{dropTargetItem:t,items:n}=this;null!==t&&t!==e&&(t.droptarget=!1),null!==e?(this.droptarget=!0,e.droptarget=!0,dl(this,Ac,Array.from(n).indexOf(e),"f")):(this.droptarget=!1,dl(this,Ac,-1,"f"))},$c=function(){const e=hl(this,Wc,"f"),{root:t}=e;return e.currentNode=t,e.firstChild()},Vc=function(){const e=hl(this,Wc,"f"),{root:t}=e;return e.currentNode=t,e.lastChild()},Jc=function(e){const t=hl(this,Wc,"f");return t.currentNode=e,t.previousNode()},Uc=function(e){const t=hl(this,Wc,"f");return t.currentNode=e,t.nextNode()},Gc=function(e){const{target:t}=e;t instanceof Cc&&(this.selectedItems().includes(t)||hl(this,Ic,"m",Fc).call(this,t),t.focus({preventScroll:!0}),e.preventDefault())},Xc=function(e){const{target:t,ctrlKey:n,shiftKey:s}=e,i=this.selectedItems();if(t instanceof Cc)if(s||n){if(n)t.selected?hl(this,Ic,"m",Hc).call(this,t):hl(this,Ic,"m",_c).call(this,t),e.stopPropagation();else if(s){const n=i[i.length-1];if(n){const e=hl(this,Ic,"m",Dc).call(this,n,t);e&&(i.includes(t)?hl(this,Ic,"m",Hc).call(this,...e):hl(this,Ic,"m",_c).call(this,...e))}else hl(this,Ic,"m",Fc).call(this,t);e.stopPropagation()}}else hl(this,Ic,"m",Fc).call(this,t)},Yc=function(){hl(this,Ic,"m",Kc).call(this,null)},zc=function(e){const{target:t}=e;t instanceof Cc&&hl(this,Ic,"m",Kc).call(this,t),e.preventDefault()},Zc=function(e){e.preventDefault()},Qc=function(e){const{relatedTarget:t}=e,n=t.getRootNode(),s=n instanceof ShadowRoot?n.host:t;this.contains(s)||hl(this,Ic,"m",Kc).call(this,null)},el=function(e){const{target:t}=e;t instanceof Cc&&(this.selectedItems().includes(t)||hl(this,Ic,"m",Fc).call(this,t))},tl=function(){hl(this,Ic,"m",Kc).call(this,null)},nl=function(e){const{key:t}=e,{activeItem:n}=this;switch(t){case"a":{const{ctrlKey:t}=e;if(t){const e=hl(this,Wc,"f"),{root:t}=e,n=(e.currentNode=e.parentNode()??t,e.firstChild()),s=(e.currentNode=e.parentNode()??t,e.lastChild()),i=hl(this,Ic,"m",Dc).call(this,n,s);i&&hl(this,Ic,"m",Fc).call(this,...i)}e.preventDefault();break}case"ArrowUp":if(n){const t=hl(this,Ic,"m",Jc).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?hl(this,Ic,"m",Hc).call(this,t):hl(this,Ic,"m",_c).call(this,t))}}else{const e=hl(this,Ic,"m",$c).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(n){const t=hl(this,Ic,"m",Uc).call(this,n);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(t.selected?hl(this,Ic,"m",Hc).call(this,t):hl(this,Ic,"m",_c).call(this,t))}}else{const e=hl(this,Ic,"m",Vc).call(this);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=hl(this,Ic,"m",$c).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=hl(this,Ic,"m",Vc).call(this);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":{const{activeItem:t}=this;t&&(hl(this,Ic,"m",Fc).call(this,t),t.click()),e.stopPropagation();break}case"Escape":hl(this,Ic,"m",Bc).call(this),hl(this,Ic,"m",qc).call(this,null),this.focus(),e.stopPropagation()}},sl=function(e){const{relatedTarget:t}=e,{activeItem:n}=this;n&&t!==n&&n.focus()},il=function(e){const{target:t}=e;t instanceof Cc&&hl(this,Ic,"m",qc).call(this,t)},rl=function(){hl(this,Mc,"f")||this.dispatchEvent(new Event("selectionchange",{bubbles:!0}))},ol=function(e){const{target:t}=e;t.assignedElements().filter((e=>e instanceof Cc)).forEach(((e,t)=>{e.posinset=t}))},(al=Y("template")).content.append(Y("style",{children:["\n\n                    "]}),Y("slot",{children:[Y("slot")]})),ll([V({type:String})],ul.prototype,"name",void 0),ll([V({type:Boolean})],ul.prototype,"droptarget",void 0),ul=ll([J({name:"e-list"})],ul);var pl,fl=ul,ml=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},bl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let gl=class extends HTMLElement{constructor(){super(),pl.set(this,void 0),this.attachShadow({mode:"open"}).append(Y("style",{children:['\n                        :host {\n                            display: inline-block;\n                            padding: 3px 4px;\n                            cursor: pointer;\n                            white-space: nowrap;\n                            border-radius: 4px;\n                            border: 1px solid black;\n                            user-select: none;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                            color: lightgray;\n                            border-color: lightgray;\n                        }\n        \n                        :host([selected]:active) {\n                            cursor: grabbing;\n                        }\n                        \n                        :host([selected]) {\n                            cursor: grab;\n                            font-weight: bold;\n                            outline: 1px auto black;\n                        }\n        \n                        :host([dragovered]) {\n                            border-style: dotted;\n                        }\n                        \n                        [part="container"] {\n                            display: flex;\n                            align-items: center;\n                        }\n                    ']}),Y("div",{attributes:{part:"container"},children:[Y("slot",{children:["&nbsp;"]})]})),this.references=[],bl(this,pl,null,"f")}get referee(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,pl,"f")}connectedCallback(){this.tabIndex=this.tabIndex,this.draggable=!0}disconnectedCallback(){if(this.referee){const e=this.referee.references.indexOf(this);e>-1&&this.referee.references.splice(e,1)}}getReference(){const e=this.cloneNode(!0);return bl(e,pl,this,"f"),e}};pl=new WeakMap,ml([V({type:Boolean})],gl.prototype,"selected",void 0),ml([V({type:Boolean})],gl.prototype,"dragovered",void 0),ml([V({type:Boolean})],gl.prototype,"dragged",void 0),ml([V({type:Boolean})],gl.prototype,"disabled",void 0),gl=ml([J({name:"e-draggable"})],gl);var wl,vl,yl=gl,El=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Sl=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Tl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let kl=class extends HTMLElement{constructor(){super(),wl.set(this,void 0),vl.set(this,void 0),this.attachShadow({mode:"open"}).append(Y("style",{children:['\n                        :host {\n                            display: block;\n                        }\n        \n                        :host([disabled]) {\n                            pointer-events: none;\n                        }\n        \n                        [part="container"] {\n                            position: relative;\n                            display: flex;\n                            flex-direction: column;\n                            padding-left: 2px;\n                            padding-right: 2px;\n                        }\n        \n                        ::slotted(*) {\n                            margin-top: 2px;\n                            margin-bottom: 2px;\n                        }\n                    ']}),Y("div",{attributes:{part:"container"},children:[Y("slot")]})),Sl(this,wl,[],"f"),Sl(this,vl,[],"f")}get draggables(){return Tl(this,wl,"f")}get selectedDraggables(){return Tl(this,vl,"f")}selectDraggable(e){this.selectedDraggables.includes(e)||this.selectedDraggables.push(e),e.selected||(e.selected=!0)}unselectDraggable(e){const t=this.selectedDraggables.indexOf(e);t>-1&&(e.selected&&(e.selected=!1),this.selectedDraggables.splice(t,1))}clearSelection(){this.selectedDraggables.forEach((e=>{e.selected=!1})),Sl(this,vl,[],"f")}connectedCallback(){this.tabIndex=this.tabIndex;const e=this.shadowRoot?.querySelector("slot");e&&e.addEventListener("slotchange",(()=>{const t=e.assignedElements().filter((e=>e instanceof yl));Sl(this,wl,t,"f"),this.draggables.forEach((e=>{e.draggable=!0}))})),this.addEventListener("keydown",(e=>{switch(e.key){case"Escape":this.clearSelection(),this.focus()}})),this.addEventListener("dragstart",(e=>{const t=e.target;if(this.draggables.includes(t)){this.selectedDraggables.forEach((e=>{e.dragged=!0}));const t=e.dataTransfer;t&&(t.dropEffect="move",t.setData("text/plain",this.id))}})),this.addEventListener("dragleave",(e=>{const t=e.dataTransfer;t&&(t.dropEffect="none")})),this.addEventListener("dragend",(e=>{const t=e.target;this.draggables.includes(t)&&this.draggables.filter((e=>e.dragged)).forEach((e=>{e.dragged=!1}))})),this.addEventListener("focusout",(e=>{const t=e.relatedTarget;this.contains(t)||this.clearSelection()})),this.addEventListener("mousedown",(e=>{const t=e.target;if(0==e.button)if(this.draggables.includes(t))if(e.shiftKey||e.ctrlKey){if(e.ctrlKey)t.selected?this.unselectDraggable(t):this.selectDraggable(t);else if(e.shiftKey)if(this.selectedDraggables.length>0){const e=this.draggables.indexOf(t),n=this.draggables.indexOf(this.selectedDraggables[0]),s=Math.sign(e-n),i=s>0?0:this.draggables.length-1,r=s>0?this.draggables.length-1:0,o=s>0?n:e,a=s>0?e:n;for(let e=i;e!==r+s;e+=s)e>=o&&e<=a?this.selectDraggable(this.draggables[e]):this.unselectDraggable(this.draggables[e])}else this.selectDraggable(t)}else t.selected||(this.clearSelection(),this.selectDraggable(t));else this.clearSelection()})),this.addEventListener("mouseup",(e=>{const t=e.target;0==e.button&&this.draggables.includes(t)&&(e.shiftKey||e.ctrlKey||this.draggables.forEach((e=>{e!==t&&this.unselectDraggable(e)})))}))}};wl=new WeakMap,vl=new WeakMap,El([V({type:Boolean})],kl.prototype,"disabled",void 0),kl=El([J({name:"e-dragzone"})],kl);var xl=kl,Pl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Ll=class extends xl{constructor(){super(),this.shadowRoot.querySelector("style").append('\n            :host {\n                border: 1px dashed gray;\n            }\n\n            :host(:not([multiple]):not(:empty)) [part="appendarea"],\n            :host(:not(:empty):not([dragovered])) [part="appendarea"] {\n                display: none !important;\n            }\n\n            [part="appendarea"] {\n                display: block;\n                margin: 2px;\n                border-radius: 4px;\n                border: 1px dotted black;\n            }\n\n            :host(:not([dragovered="appendarea"])) [part="appendarea"] {\n                border-color: transparent;\n            }\n            \n            [part="placeholder"] {\n                display: inline-block;\n                color: grey;\n                pointer-events: none;\n                user-select: none;\n            }\n        '),this.shadowRoot.append(Y("div",{attributes:{part:"appendarea"},children:[Y("span",{attributes:{part:"placeholder"},children:["&nbsp;"]})]})),this.droptest=null}connectedCallback(){super.connectedCallback();const e=this.shadowRoot.querySelector("[part='appendarea']");this.addEventListener("keydown",(e=>{switch(e.key){case"Delete":this==e.target?this.removeDraggables():this.removeDraggables((e=>e.selected)),e.stopPropagation()}})),this.addEventListener("dragover",(e=>{e.preventDefault()})),this.shadowRoot.addEventListener("dragover",(e=>{e.preventDefault()})),this.addEventListener("dragenter",(e=>{const t=e.target;this.draggables.includes(t)?(t.dragovered=!0,this.dragovered="draggable"):this.dragovered="self",e.preventDefault()})),this.shadowRoot.addEventListener("dragenter",(t=>{t.target==e&&(this.dragovered="appendarea"),t.preventDefault()})),this.addEventListener("dragleave",(t=>{const n=t.relatedTarget,s=t.target;(s==this||this.draggables.includes(s))&&(s==this?(e&&(this.dragovered="self"),this.draggables.includes(n)||(this.dragovered=null)):s.dragovered=!1),t.preventDefault()})),this.shadowRoot.addEventListener("dragleave",(t=>{t.target==e&&(this.dragovered="self"),t.preventDefault()})),this.addEventListener("drop",(e=>{const t=e.target;if(t==this||this.draggables.includes(t)){let n=this.draggables.length;t==this?this.dragovered=null:(t.dragovered=!1,n=this.draggables.indexOf(t));const s=e.dataTransfer;if(s){const e=s.getData("text/plain"),t=document.getElementById(e);if(t instanceof xl){const e=t.selectedDraggables;e&&(e.forEach((e=>{e.dragged=!1})),t instanceof Cl&&t.removeDraggables((t=>e.includes(t))),t.clearSelection(),this.addDraggables(e,n))}}}this.dragovered=null,e.preventDefault()}))}attributeChangedCallback(e,t,n){switch(e){case"placeholder":{const e=this.shadowRoot.querySelector("[part='placeholder']");e&&(e.textContent=n);break}}}addDraggables(e,t){if(e.length>0){let n=!0;this.droptest&&(n=this.droptest(this,e));let s=[],i=-1;if(n)if(this.multiple)e.forEach((e=>{let n=e.getReference();t>-1&&t<this.draggables.length?(this.draggables[t].insertAdjacentElement("beforebegin",n),i=i<0?t:i):(this.appendChild(n),i=i<0?this.draggables.length-1:i),s.push(n)}));else{let t=e[0].getReference();this.draggables.length>0?this.replaceChild(t,this.draggables[0]):this.appendChild(t),s.push(t),i=0}const r=this.shadowRoot?.querySelector("slot");return r&&r.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"insert",draggables:s,position:i}}))}),{once:!0}),s}return null}removeDraggables(e=(()=>!0)){let t=this.draggables.filter(((t,n)=>e(t,n))),n=this.draggables.indexOf(t[0]);t.forEach((e=>{e.remove()}));const s=this.shadowRoot?.querySelector("slot");s&&s.addEventListener("slotchange",(()=>{this.dispatchEvent(new CustomEvent("e_datachange",{bubbles:!0,detail:{action:"remove",draggables:t,position:n}}))}),{once:!0})}};Pl([V({type:String})],Ll.prototype,"name",void 0),Pl([V({type:String})],Ll.prototype,"dragovered",void 0),Pl([V({type:String,observed:!0})],Ll.prototype,"placeholder",void 0),Pl([V({type:Boolean})],Ll.prototype,"multiple",void 0),Ll=Pl([J({name:"e-dropzone"})],Ll);var Cl=Ll,Nl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let Il=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).append(Y("style",{children:['\n                        :host {\n                            display: inline-block;\n                            \n                            padding: 6px;\n                            background-color: white;\n        \n                            -webkit-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            -moz-box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 6px;\n                        }\n        \n                        button {\n                            cursor: pointer;\n                        }\n        \n                        [part="actions"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="header"] {\n                            display: flex;\n                            flex-direction: row;\n                            justify-content: flex-end;\n                        }\n        \n                        [part="button"]:not(:first-child) {\n                            margin-left: 4px;\n                        }\n        \n                        :host([type="confirm"]) [part="ok-button"] {\n                            display: none !important;\n                        }\n        \n                        :host([type="alert"]) [part="cancel-button"],\n                        :host([type="alert"]) [part="confirm-button"] {\n                            display: none !important;\n                        }\n                    ']}),Y("div",{attributes:{part:"header"},children:[Y("button",{attributes:{part:"button close-button",type:"button",tabindex:0},children:["x"]})]}),Y("hr",{attributes:{part:"separator"}}),Y("div",{attributes:{part:"body"},children:[Y("slot")]}),Y("hr",{attributes:{part:"separator"}}),Y("div",{attributes:{part:"actions"},children:[Y("button",{attributes:{part:"button cancel-button",type:"button",tabindex:0},children:["Cancel"]}),Y("button",{attributes:{part:"button confirm-button",type:"button",tabindex:0},children:["Confirm"]}),Y("button",{attributes:{part:"button ok-button",type:"button",tabindex:0},children:["OK"]})]}))}connectedCallback(){this.shadowRoot.addEventListener("click",this)}handleEvent(e){const{type:t,target:n}=e;switch(t){case"click":const{part:e}=n;e.contains("close-button")||e.contains("cancel-button")?this.cancel():(e.contains("confirm-button")||e.contains("ok-button"))&&this.confirm()}}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}cancel(){this.dispatchEvent(new CustomEvent("cancel",{bubbles:!0})),this.close()}confirm(){this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0})),this.close()}};Nl([V({type:String})],Il.prototype,"type",void 0),Il=Nl([J({name:"e-dialog"})],Il);var Al,Rl,Ml,Ol,Wl,jl,Dl,Fl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},_l=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Hl=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Bl=class extends HTMLElement{constructor(){super(),Al.add(this),Rl.set(this,void 0),Ml.set(this,void 0),this.attachShadow({mode:"open"}).append(Dl.content.cloneNode(!0)),_l(this,Rl,null,"f"),_l(this,Ml,!1,"f"),this.addEventListener("pointerdown",Hl(this,Al,"m",Wl).bind(this)),this.addEventListener("pointermove",Hl(this,Al,"m",jl).bind(this)),this.addEventListener("pointerup",Hl(this,Al,"m",Ol).bind(this))}attributeChangedCallback(e,t,n){switch(e){case"controls":{const{controls:e}=this;_l(this,Rl,document.getElementById(e),"f");break}}}};Rl=new WeakMap,Ml=new WeakMap,Al=new WeakSet,Ol=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),_l(this,Ml,!1,"f")},Wl=function(e){const{pointerId:t}=e,{controls:n}=this;_l(this,Rl,document.getElementById(n),"f"),this.setPointerCapture(t),_l(this,Ml,!0,"f")},jl=function(e){if(Hl(this,Ml,"f")){const t=Hl(this,Rl,"f");if(null!==t){const n=window.getComputedStyle(t),{movementX:s,movementY:i}=e,{width:r,height:o}=t.getBoundingClientRect(),a=t.parentElement??document.body,{left:c,right:l,top:h,bottom:d}=a.getBoundingClientRect(),u=parseFloat(n.getPropertyValue("left")),p=Math.max(c,Math.min(Math.trunc(u+s),l-r)),f=parseFloat(n.getPropertyValue("top")),m=Math.max(h,Math.min(Math.trunc(f+i),d-o));t.style.setProperty("left",`${p}px`),t.style.setProperty("top",`${m}px`),this.dispatchEvent(new CustomEvent("move"))}}},(Dl=Y("template")).content.append(Y("style",{children:['\n                        :host {\n                            display: block;\n                            \n                            width: 24px;\n                            height: 12px;\n                            \n                            background-color: rgb(0, 128, 255);\n\n                            -webkit-mask-image: url("assets/dots.png");\n                            mask-image: url("assets/dots.png");\n\n                            -webkit-mask-repeat: repeat;\n                            mask-repeat: repeat;\n                            cursor: move;\n                        }\n                    ']})),Fl([V({type:String,observed:!0})],Bl.prototype,"controls",void 0),Bl=Fl([J({name:"e-handle"})],Bl);var ql,Kl,$l,Vl,Jl,Ul,Gl,Xl,Yl,zl,Zl=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ql=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},eh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let th=class extends HTMLElement{constructor(){super(),ql.add(this),Kl.set(this,void 0),$l.set(this,void 0),Vl.set(this,void 0),Jl.set(this,void 0),this.attachShadow({mode:"open"}).append(zl.content.cloneNode(!0)),Ql(this,Kl,null,"f"),Ql(this,Vl,null,"f"),Ql(this,Jl,0,"f"),Ql(this,$l,!1,"f"),this.addEventListener("pointerdown",eh(this,ql,"m",Gl).bind(this)),this.addEventListener("pointermove",eh(this,ql,"m",Xl).bind(this)),this.addEventListener("pointerup",eh(this,ql,"m",Ul).bind(this))}get target(){return eh(this,Kl,"f")}};Kl=new WeakMap,$l=new WeakMap,Vl=new WeakMap,Jl=new WeakMap,ql=new WeakSet,Ul=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Ql(this,$l,!1,"f")},Gl=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Ql(this,Kl,s.getElementById(n),"f"),this.setPointerCapture(t),Ql(this,$l,!0,"f")},Xl=function(e){eh(this,$l,"f")&&(null==eh(this,Vl,"f")?(Ql(this,Jl,e.movementY,"f"),Ql(this,Vl,eh(this,ql,"m",Yl).bind(this),"f"),requestAnimationFrame(eh(this,Vl,"f"))):Ql(this,Jl,eh(this,Jl,"f")+e.movementY,"f"))},Yl=function(){const e=eh(this,Kl,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=eh(this,Jl,"f"),i=parseFloat(t.getPropertyValue("height")),r=Math.trunc(i+("top"==n?-1:1)*s);e.style.setProperty("height",`${r}px`);const o=parseFloat(t.getPropertyValue("height"));e.style.setProperty("height",`${o}px`),this.dispatchEvent(new Event("resize"))}Ql(this,Vl,null,"f")},(zl=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: inline-block;\n                            width: 100%;\n        \n                            max-height: 4px;\n                            height: 4px;\n                            min-height: 4px;\n        \n                            margin-top: -2px;\n                            margin-bottom: -2px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ns-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),Zl([V({type:String})],th.prototype,"controls",void 0),Zl([V({type:String,defaultValue:"top"})],th.prototype,"growdir",void 0),th=Zl([J({name:"e-hsash"})],th);var nh,sh,ih=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o};let rh=class extends HTMLElement{constructor(){super(...arguments),nh.add(this)}connectedCallback(){const{src:e}=this;e&&function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,nh,"m",sh).call(this,e)}};nh=new WeakSet,sh=async function(e){this.outerHTML=await fetch(e).then((e=>{if(e.ok)return e.text();throw new Error(e.statusText)})),this.dispatchEvent(new Event("load",{bubbles:!0}))},ih([V({type:String})],rh.prototype,"src",void 0),rh=ih([J({name:"e-import"})],rh);var oh,ah,ch,lh,hh,dh=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},uh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},ph=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n};let fh=class extends HTMLElement{constructor(){super(),oh.add(this),ah.set(this,void 0),this.attachShadow({mode:"open"}),uh(this,oh,"m",ch).call(this),ph(this,ah,null,"f")}attributeChangedCallback(e,t,n){switch(e){case"type":uh(this,oh,"m",ch).call(this)}}set promise(e){e&&e.finally((()=>{this.remove()})),ph(this,ah,e,"f")}get promise(){return uh(this,ah,"f")}};ah=new WeakMap,oh=new WeakSet,ch=function(){const{type:e,shadowRoot:t}=this;switch(e){case"circle":t.replaceChildren(hh.content.cloneNode(!0));break;case"bar":t.replaceChildren(lh.content.cloneNode(!0))}},(()=>{const e=Y("style",{children:["\n                    :host {\n                        display: inline-block;\n                        --default-loader-color: rgb(0, 128, 255);\n                        --default-animation-duration: 2s;\n                    }\n                "]}),t=e.cloneNode(!0),n=e.cloneNode(!0);t.textContent+='\n            :host {\n                display: block;\n            }\n\n            [part="bar"] {\n                position: relative;\n                display: block;\n                overflow: hidden;\n                height: 6px;\n                width: 100%;\n            }\n\n            [part="slider"] {\n                display: flex;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                animation-name: slider;\n            }\n\n            [part="slider"],\n            [part="cursor"] {\n                border-radius: 4px;\n                will-change: transform;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            [part="cursor"] {\n                display: block;\n                width: 128px;\n                background-color: var(--loader-color, var(--default-loader-color));\n                animation-name: cursor;\n            }\n\n            [part="bar"]:after {\n                animation-name: shine;\n                animation-duration: var(--animation-duration, var(--default-animation-duration));\n                animation-iteration-count: infinite;\n                animation-fill-mode: forwards;  \n                content: "";\n                position: absolute;\n                left: -100%;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                opacity: 0;\n                \n                background: rgba(255, 255, 255, 0.13);\n                background: linear-gradient(\n                    to right, \n                    rgba(255, 255, 255, 0) 0%,\n                    rgba(255, 255, 255, 0.1) 10%,\n                    rgba(255, 255, 255, 0.9) 80%,\n                    rgba(255, 255, 255, 0) 100%\n                );\n            }\n\n            @keyframes shine {\n                25% {\n                    opacity: 1;\n                    left: -100%;\n                }\n                100% {\n                    opacity: 0;\n                    left: 100%;\n                }\n            }\n\n            @keyframes slider {\n                0% {\n                    transform: translateX(0%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n\n            @keyframes cursor {\n                0% {\n                    transform: translateX(-100%);\n                }\n                100% {\n                    transform: translateX(100%);\n                }\n            }\n        ',n.textContent+='\n            :host {\n                display: inline-block;\n            }\n\n            [part="circle"] {\n                width: 12px;\n                height: 12px;\n                border-top: 4px solid var(--loader-color, var(--default-loader-color));\n                border-right: 4px solid var(--loader-color, var(--default-loader-color));\n                border-left: 4px solid transparent;\n                border-bottom: 4px solid transparent;\n                border-radius: 50%;\n                animation-duration: 1s;\n                animation-name: circle;\n                animation-timing-function: linear;\n                animation-iteration-count: infinite;\n            }\n\n            @keyframes circle {\n                0% {\n                    transform: rotate(0);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n        ',(lh=Y("template")).content.append(t,Y("div",{attributes:{part:"bar"},children:[Y("div",{attributes:{part:"slider"},children:[Y("div",{attributes:{part:"cursor"}})]})]})),(hh=Y("template")).content.append(n,Y("div",{attributes:{part:"circle"}}))})(),dh([V({type:String,defaultValue:"bar",observed:!0})],fh.prototype,"type",void 0),fh=dh([J({name:"e-loader"})],fh);var mh,bh,gh,wh,vh,yh,Eh,Sh,Th,kh,xh=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},Ph=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Lh=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};let Ch=class extends HTMLElement{constructor(){super(),mh.add(this),bh.set(this,void 0),gh.set(this,void 0),wh.set(this,void 0),vh.set(this,void 0),this.attachShadow({mode:"open"}).append(kh.content.cloneNode(!0)),Ph(this,bh,null,"f"),Ph(this,wh,null,"f"),Ph(this,vh,0,"f"),Ph(this,gh,!1,"f"),this.addEventListener("pointerdown",Lh(this,mh,"m",Eh).bind(this)),this.addEventListener("pointermove",Lh(this,mh,"m",Sh).bind(this)),this.addEventListener("pointerup",Lh(this,mh,"m",yh).bind(this))}get target(){return Lh(this,bh,"f")}setWidth(e){const t=Lh(this,bh,"f");if(null!==t){const{max:n}=this;t.style.setProperty("width",`${e}px`),n&&t.style.setProperty("max-width",`${e}px`)}}};bh=new WeakMap,gh=new WeakMap,wh=new WeakMap,vh=new WeakMap,mh=new WeakSet,yh=function(e){const{pointerId:t}=e;this.releasePointerCapture(t),Ph(this,gh,!1,"f")},Eh=function(e){const{pointerId:t}=e,{controls:n}=this,s=this.getRootNode();Ph(this,bh,s.getElementById(n),"f"),this.setPointerCapture(t),Ph(this,gh,!0,"f")},Sh=function(e){Lh(this,gh,"f")&&(null==Lh(this,wh,"f")&&(Ph(this,wh,Lh(this,mh,"m",Th).bind(this),"f"),requestAnimationFrame(Lh(this,wh,"f"))),Ph(this,vh,Lh(this,vh,"f")+e.movementX,"f"))},Th=function(){const e=Lh(this,bh,"f");if(null!==e){const t=window.getComputedStyle(e),{growdir:n}=this,s=Lh(this,vh,"f"),i=parseFloat(t.getPropertyValue("width"))+("right"==n?1:-1)*s;this.setWidth(i),this.dispatchEvent(new Event("resize"))}Ph(this,vh,0,"f"),Ph(this,wh,null,"f")},(kh=Y("template")).content.append(Y("style",{children:["\n                        :host {\n                            display: inline-block;\n                            \n                            width: 4px;\n                            \n                            background-color: rgb(135, 206, 250);\n                            cursor: ew-resize;\n        \n                            transition-property: opacity;\n                            transition-delay: 0.2s;\n                            transition-duration: 0.2s;\n                            transition-timing-function: ease-out;\n                            opacity: 0;\n                        }\n        \n                        :host(:active),\n                        :host(:hover) {\n                            opacity: 1;\n                        }\n                    "]})),xh([V({type:String,observed:!0})],Ch.prototype,"controls",void 0),xh([V({type:String,defaultValue:"right"})],Ch.prototype,"growdir",void 0),xh([V({type:Boolean})],Ch.prototype,"max",void 0),Ch=xh([J({name:"e-wsash"})],Ch);var Nh,Ih,Ah=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};new WeakMap,Ih=new WeakMap,Nh=new WeakSet;var Rh,Mh,Oh,Wh,jh,Dh,Fh,_h,Hh,Bh,qh,Kh,$h,Vh,Jh,Uh,Gh,Xh,Yh,zh,Zh,Qh,ed,td,nd,sd,id,rd,od,ad,cd,ld,hd,dd,ud,pd,fd,md,bd,gd,wd,vd,yd,Ed,Sd,Td,kd,xd,Pd,Ld,Cd,Nd,Id,Ad,Rd,Md,Od,Wd,jd,Dd,Fd,_d,Hd,Bd,qd,Kd,$d,Vd,Jd,Ud,Gd,Xd,Yd,zd,Zd,Qd,eu,tu,nu,su,iu,ru,ou,au,cu,lu,hu,du,uu,pu,fu,mu,bu,gu,wu,vu,yu,Eu,Su,Tu,ku,xu,Pu,Lu,Cu,Nu,Iu,Au,Ru,Mu,Ou,Wu,ju,Du,Fu,_u,Hu,Bu,qu,Ku,$u,Vu,Ju,Uu,Gu,Xu,Yu,zu,Zu,Qu,ep,tp,np,sp,ip,rp,op,ap,cp,lp,hp,dp,up,pp,fp,mp,bp,gp,wp,vp,yp,Ep,Sp,Tp,kp,xp,Pp,Lp,Cp,Np,Ip,Ap,Rp,Mp,Op,Wp,jp=(new(U({name:"separator"})((Mh=class extends x{constructor(){super(),Rh.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Rh,Y("div",{attributes:{class:"separator",role:"separator"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Rh,"f").cloneNode(!0)}},Rh=new WeakMap,Mh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Dp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Fp=(new(U({name:"menubar"})((zh=class extends x{constructor(){super(),Oh.add(this),Wh.set(this,void 0),jh.set(this,void 0),jp(this,Wh,Y("div",{attributes:{class:"menubar",role:"menubar",tabindex:0}}),"f"),jp(this,jh,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Dp(this,Oh,"m",Dh).bind(this)),"f")}create(){const e=Dp(this,Wh,"f").cloneNode(!0);return e.addEventListener("click",Dp(this,Oh,"m",Xh).bind(this)),e.addEventListener("focusin",Dp(this,Oh,"m",Jh).bind(this)),e.addEventListener("focusout",Dp(this,Oh,"m",Uh).bind(this)),e.addEventListener("mouseover",Dp(this,Oh,"m",Gh).bind(this)),e.addEventListener("keydown",Dp(this,Oh,"m",Yh).bind(this)),e}setExpanded(e,t){e.toggleAttribute("aria-expanded",t)}getExpanded(e){return e.hasAttribute("aria-expanded")}},Wh=new WeakMap,jh=new WeakMap,Oh=new WeakSet,Dh=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("menuitem")&&!nn.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("menuitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Fh=function(e){return e.querySelector(":is(:scope, :scope > .menuitemgroup) > .menuitem:focus-within")},_h=function(e){const t=Dp(this,jh,"f");return t.currentNode=e,t.firstChild()},Hh=function(e){const t=Dp(this,jh,"f");return t.currentNode=e,t.lastChild()},Bh=function(e){const t=Dp(this,jh,"f");return t.currentNode=e,t.previousSibling()},qh=function(e){const t=Dp(this,jh,"f");return t.currentNode=e,t.nextSibling()},Kh=function(e){const t=nn.getMenu(e);if(t){const e=Dp(this,jh,"f");return e.currentNode=t,e.firstChild()}return null},$h=function(e,t){return t.closest(":is(.menubar, .menu)")==e},Vh=function(e,t){return Array.from(e.querySelectorAll(":is(:scope, :scope > .menuitemgroup) > .menuitem")).find((e=>e.contains(t)))??null},Jh=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&this.getExpanded(s)){const e=Dp(this,Oh,"m",Vh).call(this,s,t);e&&nn.expand(e)}},Uh=function(e){const{target:t,currentTarget:n,relatedTarget:s}=e,i=n;if(t instanceof HTMLElement&&!t.contains(s)){const e=Dp(this,Oh,"m",Vh).call(this,i,t);e&&nn.collapse(e)}!i.contains(s)&&this.setExpanded(i,!1)},Gh=function(e){const{target:t,currentTarget:n}=e,s=n;if(t instanceof HTMLElement&&t.classList.contains("menuitem")){const e=Dp(this,Oh,"m",Fh).call(this,s),n=this.getExpanded(s);if(Dp(this,Oh,"m",$h).call(this,s,t)&&t!==e&&n){const e=nn.getMenu(t);e?e.focus({preventScroll:!0}):t.focus({preventScroll:!0})}}},Xh=function(e){const{target:t,currentTarget:n}=e,s=n,i=Dp(this,Oh,"m",Fh).call(this,s),r=this.getExpanded(s);if(t instanceof HTMLElement&&t.classList.contains("menuitem")&&Dp(this,Oh,"m",$h).call(this,s,t)){const e=!r;this.setExpanded(s,e),e?(null===i||nn.getExpanded(i)||nn.expand(i),nn.getMenu(t)?.focus({preventScroll:!0})):s.focus({preventScroll:!0})}},Yh=function(e){const{key:t,currentTarget:n}=e,s=n;let i=Dp(this,Oh,"m",Fh).call(this,s);const r=this.getExpanded(s);switch(t){case"ArrowLeft":(i?Dp(this,Oh,"m",Bh).call(this,i)??Dp(this,Oh,"m",Hh).call(this,s):Dp(this,Oh,"m",_h).call(this,s))?.focus({preventScroll:!0}),i=Dp(this,Oh,"m",Fh).call(this,s),r&&i&&Dp(this,Oh,"m",Kh).call(this,i)?.focus({preventScroll:!0});break;case"ArrowRight":(i?Dp(this,Oh,"m",qh).call(this,i)??Dp(this,Oh,"m",_h).call(this,s):Dp(this,Oh,"m",Hh).call(this,s))?.focus({preventScroll:!0}),i=Dp(this,Oh,"m",Fh).call(this,s),r&&i&&Dp(this,Oh,"m",Kh).call(this,i)?.focus({preventScroll:!0});break;case"Enter":case" ":i&&(this.setExpanded(s,!r),Dp(this,Oh,"m",Kh).call(this,i)?.focus({preventScroll:!0}),e.preventDefault());break;case"Escape":r?(this.setExpanded(s,!1),i&&(nn.collapse(i),i.focus({preventScroll:!0}))):s.focus({preventScroll:!0})}},zh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),_p=(new(U({name:"menuitemgroup"})((Qh=class extends x{constructor(){super(),Zh.set(this,void 0),Fp(this,Zh,Y("div",{attributes:{class:"menuitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Zh,"f").cloneNode(!0)}slot(e){return e}},Zh=new WeakMap,Qh))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Hp=(new(U({name:"treeitemgroup"})((td=class extends x{constructor(){super(),ed.set(this,void 0),_p(this,ed,Y("ul",{attributes:{class:"treeitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,ed,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("treeitem")&&(un.setPosInSet(e,t),un.setLevel(e,(()=>{let t=-1,n=e;for(;null!==n&&n.matches(".tree :scope");)n=n.parentElement?.closest(".treeitem")??null,t++;return t})()))}))}},ed=new WeakMap,td))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Bp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},qp=new(U({name:"listitem"})((rd=class extends x{constructor(){super(),nd.add(this),sd.set(this,void 0),Hp(this,sd,Y("li",{attributes:{class:"listitem",role:"listitem",tabindex:-1},children:[Y("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=Bp(this,sd,"f").cloneNode(!0);if(void 0!==e){const{label:n,disabled:s}=e;void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setDisabled(t,s),this.setSelected(t,!1)}return t}slot(e){return e}group(e){return e.querySelector(":scope > .listitemgroup")}getLabel(e){return Bp(this,nd,"m",id).call(this,e).textContent??""}setLabel(e,t){Bp(this,nd,"m",id).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",t.toString())}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",t.toString()),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??(!1).toString())}},sd=new WeakMap,nd=new WeakSet,id=function(e){return e.querySelector(":scope > .label")},rd))),Kp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},$p=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Vp=(new(U({name:"list"})((Dd=class extends x{constructor(){super(),od.add(this),ad.set(this,void 0),cd.set(this,void 0),ld.set(this,void 0),hd.set(this,void 0),Kp(this,ad,Y("ul",{attributes:{class:"list",role:"list",tabindex:0}}),"f"),Kp(this,ld,new WeakMap,"f"),Kp(this,hd,new WeakMap,"f"),Kp(this,cd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,$p(this,od,"m",pd).bind(this)),"f")}create(e){const t=$p(this,ad,"f").cloneNode(!0);if(void 0!==e){const{multisectable:n}=e;void 0!==n&&this.setMultiSelectable(t,n)}return t.addEventListener("dragend",$p(this,od,"m",xd).bind(this)),t.addEventListener("dragenter",$p(this,od,"m",Pd).bind(this)),t.addEventListener("dragleave",$p(this,od,"m",Cd).bind(this)),t.addEventListener("dragover",$p(this,od,"m",Ld).bind(this)),t.addEventListener("dragstart",$p(this,od,"m",Nd).bind(this)),t.addEventListener("drop",$p(this,od,"m",Id).bind(this)),t.addEventListener("focus",$p(this,od,"m",Ad).bind(this)),t.addEventListener("focusin",$p(this,od,"m",Rd).bind(this)),t.addEventListener("focusout",$p(this,od,"m",Wd).bind(this)),t.addEventListener("keydown",$p(this,od,"m",Md).bind(this)),t.addEventListener("mousedown",$p(this,od,"m",Od).bind(this)),t.addEventListener("select",$p(this,od,"m",jd).bind(this)),$p(this,ld,"f").set(t,!1),$p(this,hd,"f").set(t,!1),t}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&qp.setPosInSet(e,t)}))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",t.toString())}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??(!1).toString())}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .listitemgroup) > .listitem"))}selectedItems(e){const t=[];$p(this,cd,"f").currentNode=e;let n=$p(this,od,"m",Ed).call(this,e);for(;null!==n;)qp.getSelected(n)&&t.push(n),n=$p(this,od,"m",kd).call(this,n);return t}beginSelection(e){$p(this,ld,"f").set(e,!0)}endSelection(e){$p(this,ld,"f").set(e,!1),$p(this,hd,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),$p(this,hd,"f").set(e,!1))}},ad=new WeakMap,cd=new WeakMap,ld=new WeakMap,hd=new WeakMap,od=new WeakSet,dd=function(e){return e.querySelector(".listitem.active")},ud=function(e){return e.querySelector(".listitem.droptarget")},pd=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("listitem")&&!qp.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("listitemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},fd=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=$p(this,od,"m",kd).call(this,e);for(;s&&s!==t;)n.push(s),s=$p(this,od,"m",kd).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=$p(this,od,"m",Td).call(this,e);for(;s&&s!==t;)n.push(s),s=$p(this,od,"m",Td).call(this,s);return n.push(t),n}return[]},md=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),n.forEach((e=>{t.includes(e)||qp.setSelected(e,!1)})),t.forEach((t=>{const n=qp.getSelected(t);e.contains(t)&&!n&&qp.setSelected(t,!0)})),this.endSelection(e)},bd=function(e,...t){this.beginSelection(e),t.forEach((e=>{qp.getSelected(e)||qp.setSelected(e,!0)})),this.endSelection(e)},gd=function(e,...t){const n=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{n.includes(e)&&qp.setSelected(e,!1)})),this.endSelection(e)},wd=function(e){const t=this.selectedItems(e);this.beginSelection(e),t.forEach((e=>{qp.setSelected(e,!1)})),this.endSelection(e)},vd=function(e,t){const n=$p(this,od,"m",dd).call(this,e);null!==n&&n!==t&&(qp.setActive(n,!1),n.tabIndex=-1),null!==t&&(qp.setActive(t,!0),t.tabIndex=0)},yd=function(e,t){const{classList:n}=e,s=$p(this,od,"m",ud).call(this,e);null!==s&&s!==t&&qp.setDropTarget(s,!1),null!==t?(qp.setDropTarget(t,!1),n.add("droptarget")):n.remove("droptarget")},Ed=function(e){const t=$p(this,cd,"f");return t.currentNode=e,t.firstChild()},Sd=function(e){const t=$p(this,cd,"f");return t.currentNode=e,t.lastChild()},Td=function(e){const t=$p(this,cd,"f");return t.currentNode=e,t.previousNode()},kd=function(e){const t=$p(this,cd,"f");return t.currentNode=e,t.nextNode()},xd=function(e){const{currentTarget:t}=e,n=t;$p(this,od,"m",yd).call(this,n,null)},Pd=function(e){const{currentTarget:t,target:n}=e,s=n.closest(".treeitem"),i=t;s&&$p(this,od,"m",yd).call(this,i,s),e.preventDefault()},Ld=function(e){e.preventDefault()},Cd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;if(n){const e=n.getRootNode(),t=e instanceof ShadowRoot?e.host:n;s.contains(t)||$p(this,od,"m",yd).call(this,s,null)}},Nd=function(e){const{currentTarget:t,target:n}=e,s=t;n instanceof HTMLElement&&n.classList.contains("treeitem")&&(this.selectedItems(s).includes(n)||$p(this,od,"m",md).call(this,s,n))},Id=function(e){const{currentTarget:t}=e,n=t;$p(this,od,"m",yd).call(this,n,null)},Ad=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=$p(this,od,"m",dd).call(this,s);i&&n!==i&&i.focus()},Rd=function(e){const{currentTarget:t,target:n}=e,s=t,i=n.closest(".listitem");i&&($p(this,od,"m",vd).call(this,s,i),s.tabIndex=-1)},Md=function(e){const{currentTarget:t,key:n}=e,s=t,i=$p(this,od,"m",dd).call(this,s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&i){const e=$p(this,cd,"f");e.currentNode=i;const t=(e.currentNode=e.parentNode()??s,e.firstChild()),n=(e.currentNode=e.parentNode()??s,e.lastChild());if(t&&n){const e=$p(this,od,"m",fd).call(this,t,n);e&&$p(this,od,"m",md).call(this,s,...e)}}e.preventDefault();break}case"ArrowUp":if(i){const t=$p(this,od,"m",Td).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(qp.getSelected(t)?$p(this,od,"m",gd).call(this,s,t):$p(this,od,"m",bd).call(this,s,t))}}else{const e=$p(this,od,"m",Ed).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowDown":if(i){const t=$p(this,od,"m",kd).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&(qp.getSelected(t)?$p(this,od,"m",gd).call(this,s,t):$p(this,od,"m",bd).call(this,s,t))}}else{const e=$p(this,od,"m",Sd).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=$p(this,od,"m",Ed).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=$p(this,od,"m",Sd).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Enter":i&&($p(this,od,"m",md).call(this,s,i),i.click()),e.stopPropagation();break;case"Escape":$p(this,od,"m",wd).call(this,s),$p(this,od,"m",vd).call(this,s,null),s.focus(),e.stopPropagation()}},Od=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i,button:r}=e,o=t,a=n.closest(".listitem");if(a){const t=qp.getSelected(a);switch(r){case 0:if(i||s){if(s)t?(a.blur(),$p(this,od,"m",gd).call(this,o,a)):$p(this,od,"m",bd).call(this,o,a),e.stopPropagation();else if(i){const t=$p(this,od,"m",dd).call(this,o);if(t){const e=$p(this,od,"m",fd).call(this,t,a);e&&$p(this,od,"m",md).call(this,o,...e)}e.stopPropagation()}}else $p(this,od,"m",md).call(this,o,a);break;case 2:t||$p(this,od,"m",md).call(this,o,a)}}},Wd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},jd=function(e){const{currentTarget:t}=e,n=t;n&&($p(this,ld,"f").get(n)?$p(this,hd,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},Dd))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Jp=(new(U({name:"listitemgroup"})((_d=class extends x{constructor(){super(),Fd.set(this,void 0),Vp(this,Fd,Y("ul",{attributes:{class:"listitemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Fd,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("listitem")&&qp.setPosInSet(e,t)}))}},Fd=new WeakMap,_d))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Up=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},Gp=(new(U({name:"toolbar"})((nu=class extends x{constructor(){super(),Hd.add(this),Bd.set(this,void 0),qd.set(this,void 0),Jp(this,Bd,Y("div",{attributes:{class:"toolbar",role:"toolbar",tabindex:0}}),"f"),Jp(this,qd,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,Up(this,Hd,"m",$d).bind(this)),"f")}create(){const e=Up(this,Bd,"f").cloneNode(!0);return e.addEventListener("focus",Up(this,Hd,"m",zd).bind(this)),e.addEventListener("focusin",Up(this,Hd,"m",Zd).bind(this)),e.addEventListener("focusout",Up(this,Hd,"m",Qd).bind(this)),e.addEventListener("keydown",Up(this,Hd,"m",eu).bind(this)),e.addEventListener("mousedown",Up(this,Hd,"m",tu).bind(this)),e}items(e){return Array.from(e.querySelectorAll(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem"))}setOrientation(e,t){e.setAttribute("aria-orientation",t)}getOrientation(e){return e.getAttribute("aria-orientation")??"horizontal"}},Bd=new WeakMap,qd=new WeakMap,Hd=new WeakSet,Kd=function(e){return e.querySelector(":is(:scope, :scope > .toolbaritemgroup) > .toolbaritem.active")},$d=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("toolbaritem")&&!ln.getDisabled(e))return NodeFilter.FILTER_ACCEPT;if(t.contains("toolbaritemgroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Vd=function(e){const t=Up(this,qd,"f");return t.currentNode=e,t.firstChild()},Jd=function(e){const t=Up(this,qd,"f");return t.currentNode=e,t.lastChild()},Ud=function(e){const t=Up(this,qd,"f");return t.currentNode=e,t.previousSibling()},Gd=function(e){const t=Up(this,qd,"f");return t.currentNode=e,t.nextSibling()},Xd=function(e){const t=ln.menu(e);if(t){const e=Up(this,qd,"f");return e.currentNode=t,e.firstChild()}return null},Yd=function(e,t){const n=Up(this,Hd,"m",Kd).call(this,e);null!==n&&n!==t&&(ln.setActive(n,!1),n.tabIndex=-1),null!==t&&(ln.setActive(t,!0),t.tabIndex=0)},zd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t,i=Up(this,Hd,"m",Kd).call(this,s);i&&n!==i&&i.focus()},Zd=function(e){const{currentTarget:t,target:n}=e,s=t;n instanceof HTMLElement&&n.classList.contains("toolbaritem")&&(Up(this,Hd,"m",Yd).call(this,s,n),s.tabIndex=-1)},Qd=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},eu=function(e){const{currentTarget:t,key:n}=e,s=t,i=Up(this,Hd,"m",Kd).call(this,s);switch(n){case"Enter":case" ":if(i){switch(ln.getType(i)){case"menubutton":ln.expand(i),Up(this,Hd,"m",Xd).call(this,i)?.focus({preventScroll:!0}),e.preventDefault()}e.stopPropagation()}break;case"ArrowLeft":if(i){const e=Up(this,Hd,"m",Ud).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Up(this,Hd,"m",Vd).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"ArrowRight":if(i){const e=Up(this,Hd,"m",Gd).call(this,i);e&&e.focus({preventScroll:!0})}else{const e=Up(this,Hd,"m",Jd).call(this,s);e&&e.focus({preventScroll:!0})}e.stopPropagation();break;case"Home":{const t=Up(this,Hd,"m",Vd).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"End":{const t=Up(this,Hd,"m",Jd).call(this,s);t&&t.focus({preventScroll:!0}),e.stopPropagation();break}case"Escape":i?i.focus({preventScroll:!0}):s.focus({preventScroll:!0}),e.stopPropagation()}},tu=function(e){const{currentTarget:t,target:n}=e,s=t;if(n instanceof HTMLElement&&n.classList.contains("toolbaritem")){const e=ln.getType(n),t=ln.getName(n),i=ln.getType(n);"radio"==e&&s.querySelectorAll(`:is(:scope, :scope > .toolbaritemgroup) > .toolbaritem[type=radio][name=${t}]`).forEach((e=>{ln.setPressed(e,ln.getValue(e)==i)}))}},nu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Xp=(new(U({name:"toolbaritemgroup"})((iu=class extends x{constructor(){super(),su.set(this,void 0),Gp(this,su,Y("div",{attributes:{class:"toolbaritemgroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,su,"f").cloneNode(!0)}},su=new WeakMap,iu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),Yp=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},zp=new(U({name:"gridcell"})((cu=class extends x{constructor(){super(),ru.add(this),ou.set(this,void 0),Xp(this,ou,Y("td",{attributes:{class:"gridcell",role:"gridcell",tabindex:-1},children:[Y("span",{attributes:{class:"content"},children:[Y("span",{attributes:{class:"label"}})]})]}),"f")}create(e){const t=Yp(this,ou,"f").cloneNode(!0);if(void 0!==e){const{label:n,disabled:s}=e;void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setDisabled(t,s),this.setSelected(t,!1)}return t}slot(e){return e}getHeaders(e){return e.getAttribute("headers")??""}setHeaders(e,t){e.setAttribute("headers",t)}getLabel(e){return Yp(this,ru,"m",au).call(this,e).textContent??""}setLabel(e,t){Yp(this,ru,"m",au).call(this,e).textContent=t}setPosInSet(e,t){e.setAttribute("aria-posinset",t.toString())}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",t.toString()),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??(!1).toString())}},ou=new WeakMap,ru=new WeakSet,au=function(e){return e.querySelector(":scope > .content > .label")},cu))),Zp=new(U({name:"gridrow"})((hu=class extends x{constructor(){super(),lu.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,lu,Y("tr",{attributes:{class:"gridrow",role:"row",tabindex:-1}}),"f")}create(e){const t=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,lu,"f").cloneNode(!0);if(void 0!==e){const{disabled:n}=e;void 0!==n&&this.setDisabled(t,n),this.setSelected(t,!1)}return t}slot(e){return e}cells(e){return Array.from(e.querySelectorAll(":scope > .gridcell"))}setPosInSet(e,t){e.setAttribute("aria-posinset",t.toString())}getPosInSet(e){const t=e.getAttribute("aria-posinset");return t?parseInt(t):-1}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}setDropTarget(e,t){const{classList:n}=e;t?n.add("droptarget"):n.remove("droptarget")}getDropTarget(e){const{classList:t}=e;return t.contains("droptarget")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setSelected(e,t){e.setAttribute("aria-selected",t.toString()),e.dispatchEvent(new Event("select",{bubbles:!0}))}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??(!1).toString())}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&zp.setPosInSet(e,t)}))}},lu=new WeakMap,hu))),Qp=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},ef=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},tf=(new(U({name:"grid"})((zu=class extends x{constructor(){super(),du.add(this),fu.set(this,void 0),mu.set(this,void 0),bu.set(this,void 0),gu.set(this,void 0),wu.set(this,void 0),Qp(this,fu,Y("table",{attributes:{class:"grid",role:"grid",tabindex:0},children:[Y("thead",{attributes:{class:"gridhead",role:"row"}}),Y("tbody",{attributes:{class:"gridbody",role:"rowgroup"}})]}),"f"),Qp(this,gu,new WeakMap,"f"),Qp(this,wu,new WeakMap,"f"),Qp(this,bu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,ef(this,du,"m",vu).bind(this)),"f"),Qp(this,mu,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,ef(this,du,"m",yu).bind(this)),"f")}headers(e){return Array.from(e.querySelectorAll(":scope > .gridhead > .gridheader"))}rows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow"))}cells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell"))}create(e){const t=ef(this,fu,"f").cloneNode(!0);if(void 0!==e){const{selectby:n,multisectable:s}=e;void 0!==n&&this.setSelectBy(t,n),void 0!==s&&this.setMultiSelectable(t,s)}return t.addEventListener("contextmenu",ef(this,du,"m",$u).bind(this)),t.addEventListener("mousedown",ef(this,du,"m",Xu).bind(this)),t.addEventListener("focus",ef(this,du,"m",Vu).bind(this)),t.addEventListener("focusin",ef(this,du,"m",Ju).bind(this)),t.addEventListener("focusout",ef(this,du,"m",Uu).bind(this)),t.addEventListener("keydown",ef(this,du,"m",Gu).bind(this)),t.addEventListener("select",ef(this,du,"m",Yu).bind(this)),t}slot(e,t){switch(t){case"headers":return e.querySelector(":scope > .gridhead");case"rows":default:return e.querySelector(":scope > .gridbody")}}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&Zp.setPosInSet(e,t)}))}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",t.toString())}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??(!1).toString())}setSelectBy(e,t){e.setAttribute("data-selectby",t)}getSelectBy(e){return e.getAttribute("data-selectby")??"cell"}beginSelection(e){ef(this,gu,"f").set(e,!0)}endSelection(e){ef(this,gu,"f").set(e,!1),ef(this,wu,"f").get(e)&&(e.dispatchEvent(new Event("selectionchange",{bubbles:!0})),ef(this,wu,"f").set(e,!1))}selectedCells(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow > .gridcell[aria-selected=true]"))}selectedRows(e){return Array.from(e.querySelectorAll(":scope > .gridbody > .gridrow[aria-selected=true]"))}},fu=new WeakMap,mu=new WeakMap,bu=new WeakMap,gu=new WeakMap,wu=new WeakMap,du=new WeakSet,uu=function(e){return e.querySelector(".gridrow.active")},pu=function(e){return e.querySelector(".gridcell.active")},vu=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridcell")&&!zp.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridrow")||t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},yu=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("gridrow")&&!Zp.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("gridbody"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},Eu=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ef(this,du,"m",ju).call(this,e);for(;s&&s!==t;)n.push(s),s=ef(this,du,"m",ju).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ef(this,du,"m",Wu).call(this,e);for(;s&&s!==t;)n.push(s),s=ef(this,du,"m",Hu).call(this,s);return n.push(t),n}return[]},Su=function(e,t){if(e==t)return[e];const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING){const n=[e];let s=ef(this,du,"m",Bu).call(this,e);for(;s&&s!==t;)n.push(s),s=ef(this,du,"m",Bu).call(this,s);return n.push(t),n}if(n&Node.DOCUMENT_POSITION_PRECEDING){const n=[e];let s=ef(this,du,"m",Hu).call(this,e);for(;s&&s!==t;)n.push(s),s=ef(this,du,"m",Hu).call(this,s);return n.push(t),n}return[]},Tu=function(e,...t){this.beginSelection(e),this.selectedCells(e).forEach((e=>{t.includes(e)||zp.setSelected(e,!1)})),t.forEach((e=>{zp.getSelected(e)||zp.setSelected(e,!0)})),this.endSelection(e)},ku=function(e,...t){this.beginSelection(e),this.selectedRows(e).forEach((e=>{t.includes(e)||Zp.setSelected(e,!1)})),t.forEach((e=>{Zp.getSelected(e)||Zp.setSelected(e,!0)})),this.endSelection(e)},xu=function(e,...t){this.beginSelection(e),t.forEach((e=>{zp.getSelected(e)||zp.setSelected(e,!0)})),this.endSelection(e)},Pu=function(e,...t){this.beginSelection(e),t.forEach((e=>{Zp.getSelected(e)||Zp.setSelected(e,!0)})),this.endSelection(e)},Lu=function(e,...t){this.beginSelection(e);const n=this.selectedCells(e);t.forEach((e=>{n.includes(e)&&zp.setSelected(e,!1)})),this.endSelection(e)},Cu=function(e,...t){this.beginSelection(e);const n=this.selectedRows(e);t.forEach((e=>{n.includes(e)&&Zp.setSelected(e,!1)})),this.endSelection(e)},Nu=function(e){this.beginSelection(e),this.selectedCells(e).forEach((e=>{zp.getSelected(e)&&zp.setSelected(e,!1)})),this.endSelection(e)},Iu=function(e){this.beginSelection(e),this.selectedRows(e).forEach((e=>{Zp.getSelected(e)&&Zp.setSelected(e,!1)})),this.endSelection(e)},Au=function(e,t){const n=ef(this,du,"m",pu).call(this,e);null!==n&&n!==t&&(zp.setActive(n,!1),n.tabIndex=-1),null!==t&&(zp.setActive(t,!0),t.tabIndex=0)},Ru=function(e,t){const n=ef(this,du,"m",uu).call(this,e);null!==n&&n!==t&&(Zp.setActive(n,!1),n.tabIndex=-1),null!==t&&(zp.setActive(t,!0),t.tabIndex=0)},Mu=function(e){const t=ef(this,bu,"f");return t.currentNode=e,t.firstChild()},Ou=function(e){const t=ef(this,bu,"f");return t.currentNode=e,t.lastChild()},Wu=function(e){const t=ef(this,bu,"f");return t.currentNode=e,t.previousNode()},ju=function(e){const t=ef(this,bu,"f");return t.currentNode=e,t.nextNode()},Du=function(e){const t=ef(this,mu,"f");return t.currentNode=e,t.parentNode()},Fu=function(e){const t=ef(this,mu,"f");return t.currentNode=e,t.firstChild()},_u=function(e){const t=ef(this,mu,"f");return t.currentNode=e,t.lastChild()},Hu=function(e){const t=ef(this,mu,"f");return t.currentNode=e,t.previousNode()},Bu=function(e){const t=ef(this,mu,"f");return t.currentNode=e,t.nextNode()},qu=function(e){const t=ef(this,du,"m",Du).call(this,e);if(t){const n=Zp.cells(t),s=Array.from(n.values()).indexOf(e),i=ef(this,du,"m",Hu).call(this,t);if(i){const e=Zp.cells(i);return e[Math.min(s,e.length)]}}return null},Ku=function(e){const t=ef(this,du,"m",Du).call(this,e);if(t){const n=Zp.cells(t),s=Array.from(n.values()).indexOf(e),i=ef(this,du,"m",Bu).call(this,t);if(i){const e=Zp.cells(i);return e[Math.min(s,e.length)]}}return null},$u=function(e){const{currentTarget:t,target:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const t=n.closest(".gridcell");t&&(this.selectedCells(s).includes(t)||ef(this,du,"m",Tu).call(this,t),t.focus({preventScroll:!0}),e.preventDefault());break}case"row":{const e=n.closest(".gridrow");e&&(this.selectedRows(s).includes(e)||ef(this,du,"m",ku).call(this,e),e.focus({preventScroll:!0}));break}}e.preventDefault()},Vu=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=ef(this,du,"m",pu).call(this,s);e&&n!==e&&e.focus();break}case"row":{const e=ef(this,du,"m",uu).call(this,s);e&&n!==e&&e.focus();break}}},Ju=function(e){const{currentTarget:t,target:n}=e,s=t;switch(this.getSelectBy(s)){case"cell":{const e=n.closest(".gridcell");e&&ef(this,du,"m",Au).call(this,s,e);break}case"row":{const e=n.closest(".gridrow");e&&ef(this,du,"m",Ru).call(this,s,e);break}}},Uu=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&(s.tabIndex=0)},Gu=function(e){const{currentTarget:t,key:n}=e,s=t,i=ef(this,du,"m",pu).call(this,s),r=ef(this,du,"m",uu).call(this,s),o=this.getSelectBy(s),a=this.getMultiSelectable(s);switch(n){case"a":{const{ctrlKey:t}=e;if(t&&a)switch(o){case"cell":{const e=ef(this,du,"m",Fu).call(this,s),t=e?ef(this,du,"m",Mu).call(this,e):null,n=ef(this,du,"m",_u).call(this,s),i=n?ef(this,du,"m",Ou).call(this,n):null;if(t&&i){const e=ef(this,du,"m",Eu).call(this,t,i);e&&ef(this,du,"m",Tu).call(this,s,...e)}break}case"row":{const e=ef(this,du,"m",Fu).call(this,s),t=ef(this,du,"m",_u).call(this,s);if(e&&t){const n=ef(this,du,"m",Su).call(this,e,t);n&&ef(this,du,"m",ku).call(this,s,...n)}break}}e.preventDefault();break}case"ArrowLeft":if("cell"==o&&i){const t=ef(this,du,"m",Wu).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(zp.getSelected(t)?ef(this,du,"m",Lu).call(this,s,t):ef(this,du,"m",xu).call(this,s,t))}}e.stopPropagation();break;case"ArrowRight":if("cell"==o&&i){const t=ef(this,du,"m",ju).call(this,i);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(zp.getSelected(t)?ef(this,du,"m",Lu).call(this,s,t):ef(this,du,"m",xu).call(this,s,t))}}e.stopPropagation();break;case"ArrowUp":switch(o){case"cell":{const t=r??ef(this,du,"m",Fu).call(this,s),n=i?ef(this,du,"m",qu).call(this,i):t?ef(this,du,"m",Mu).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(zp.getSelected(n)?ef(this,du,"m",Lu).call(this,s,n):ef(this,du,"m",xu).call(this,s,n))}break}case"row":{const t=r?ef(this,du,"m",Hu).call(this,r):ef(this,du,"m",Fu).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Zp.getSelected(t)?ef(this,du,"m",Cu).call(this,s,t):ef(this,du,"m",Pu).call(this,s,t))}break}}e.stopPropagation();break;case"ArrowDown":switch(o){case"cell":{const t=r??ef(this,du,"m",_u).call(this,s),n=i?ef(this,du,"m",Ku).call(this,i):t?ef(this,du,"m",Ou).call(this,t):null;if(n){n.focus({preventScroll:!0});const{shiftKey:t}=e;t&&a&&(zp.getSelected(n)?ef(this,du,"m",Lu).call(this,s,n):ef(this,du,"m",xu).call(this,s,n))}}break;case"row":{const t=r?ef(this,du,"m",Bu).call(this,r):ef(this,du,"m",_u).call(this,s);if(t){t.focus({preventScroll:!0});const{shiftKey:n}=e;n&&a&&(Zp.getSelected(t)?ef(this,du,"m",Cu).call(this,s,t):ef(this,du,"m",Pu).call(this,s,t))}break}}e.stopPropagation();break;case"Home":switch(o){case"cell":if(r){const e=ef(this,du,"m",Mu).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ef(this,du,"m",Fu).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"End":switch(o){case"cell":if(r){const e=ef(this,du,"m",Ou).call(this,r);e&&e.focus({preventScroll:!0})}break;case"row":{const e=ef(this,du,"m",_u).call(this,s);e&&e.focus({preventScroll:!0});break}}e.stopPropagation();break;case"Enter":switch(o){case"cell":i&&(ef(this,du,"m",Tu).call(this,s,i),i.click());break;case"row":r&&(ef(this,du,"m",ku).call(this,s,r),r.click())}e.stopPropagation();break;case"Escape":switch(o){case"cell":ef(this,du,"m",Nu).call(this,s),ef(this,du,"m",Au).call(this,s,null);break;case"row":ef(this,du,"m",Iu).call(this,s),ef(this,du,"m",Ru).call(this,s,null)}s.focus(),e.stopPropagation()}},Xu=function(e){const{currentTarget:t,target:n,ctrlKey:s,shiftKey:i}=e,r=t,o=this.getSelectBy(r),a=this.getMultiSelectable(r);switch(o){case"cell":{const t=n.closest(".gridcell");if(t){if(a)if(i||s){if(s)zp.getSelected(t)?ef(this,du,"m",Lu).call(this,r,t):ef(this,du,"m",xu).call(this,r,t),e.stopPropagation();else if(i){const n=ef(this,du,"m",pu).call(this,r);if(n){const e=ef(this,du,"m",Eu).call(this,n,t);e&&ef(this,du,"m",Tu).call(this,r,...e)}e.stopPropagation()}}else ef(this,du,"m",Tu).call(this,r,t);else ef(this,du,"m",Tu).call(this,r,t);e.stopPropagation()}break}case"row":{const t=n.closest(".gridrow");if(t){if(a)if(i||s){if(s)Zp.getSelected(t)?ef(this,du,"m",Cu).call(this,r,t):ef(this,du,"m",Pu).call(this,r,t),e.stopPropagation();else if(i){const n=ef(this,du,"m",uu).call(this,r);if(n){const e=ef(this,du,"m",Su).call(this,n,t);e&&ef(this,du,"m",ku).call(this,r,...e)}e.stopPropagation()}}else ef(this,du,"m",ku).call(this,r,t);else ef(this,du,"m",ku).call(this,r,t);e.stopPropagation()}break}}},Yu=function(e){const{currentTarget:t}=e,n=t;n&&(ef(this,gu,"f").get(n)?ef(this,wu,"f").set(n,!0):n.dispatchEvent(new Event("selectionchange",{bubbles:!0})))},zu))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),nf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},sf=(new(U({name:"gridheader"})((tp=class extends x{constructor(){super(),Zu.add(this),Qu.set(this,void 0),tf(this,Qu,Y("th",{attributes:{class:"gridheader",scope:"column",role:"columnheader",tabindex:-1},children:[Y("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=nf(this,Qu,"f").cloneNode(!0);if(void 0!==e){const{label:n}=e;void 0!==n&&this.setLabel(t,n)}return t}getLabel(e){return nf(this,Zu,"m",ep).call(this,e).textContent??""}setLabel(e,t){nf(this,Zu,"m",ep).call(this,e).textContent=t}setActive(e,t){const{classList:n}=e;t?n.add("active"):n.remove("active")}getActive(e){const{classList:t}=e;return t.contains("active")}},Qu=new WeakMap,Zu=new WeakSet,ep=function(e){return e.querySelector(":scope > .label")},tp))),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n}),rf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},of=new(U({name:"option"})((rp=class extends x{constructor(){super(),np.add(this),sp.set(this,void 0),sf(this,sp,Y("span",{attributes:{class:"option",role:"option",tabindex:-1},children:[Y("span",{attributes:{class:"label"}})]}),"f")}create(e){const t=rf(this,sp,"f").cloneNode(!0);if(void 0!==e){const{label:n,name:s,value:i,disabled:r}=e;let{selected:o}=e;o=o??!1,void 0!==o&&this.setSelected(t,o),void 0!==n&&this.setLabel(t,n),void 0!==s&&this.setName(t,s),void 0!==i&&this.setValue(t,i),void 0!==r&&this.setDisabled(t,r)}return t}get observedAttributes(){return["aria-selected"]}attributeChangedCallback(e,t,n,s){switch(t){case"aria-selected":!0===JSON.parse(s)&&e.dispatchEvent(new Event("select",{bubbles:!0}))}}getLabel(e){return rf(this,np,"m",ip).call(this,e).textContent??""}setLabel(e,t){rf(this,np,"m",ip).call(this,e).textContent=t}getValue(e){return e.getAttribute("value")??""}setValue(e,t){e.setAttribute("value",t)}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getSelected(e){return JSON.parse(e.getAttribute("aria-selected")??(!1).toString())}setSelected(e,t){e.setAttribute("aria-selected",t.toString())}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}},sp=new WeakMap,np=new WeakSet,ip=function(e){return e.querySelector(":scope > .label")},rp))),af=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},cf=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},lf=new(U({name:"combobox"})((Pp=class extends x{constructor(){super(),op.add(this),ap.set(this,void 0),cp.set(this,void 0),lp.set(this,void 0),cf(this,cp,document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,af(this,op,"m",fp).bind(this)),"f"),cf(this,lp,new MutationObserver(af(this,op,"m",pp).bind(this)),"f"),cf(this,ap,Y("div",{attributes:{class:"combobox",role:"combobox",tabindex:0},children:[Y("div",{attributes:{class:"content"},children:[Y("span",{attributes:{class:"value"}})]}),Y("div",{attributes:{class:"box"}})]}),"f")}create(e){const t=af(this,ap,"f").cloneNode(!0);if(af(this,lp,"f").observe(t,{childList:!0,subtree:!0}),t.addEventListener("focusout",af(this,op,"m",Tp).bind(this)),t.addEventListener("keydown",af(this,op,"m",kp).bind(this)),t.addEventListener("click",af(this,op,"m",Sp).bind(this)),t.addEventListener("mouseover",af(this,op,"m",xp).bind(this)),this.setExpanded(t,!1),void 0!==e){const{name:n,disabled:s,multiselectable:i}=e;void 0!==n&&this.setName(t,n),void 0!==s&&this.setDisabled(t,s),void 0!==i&&this.setMultiSelectable(t,i)}return t}slot(e){return af(this,op,"m",hp).call(this,e)}slottedCallback(e,t,n){const{childNodes:s}=t;Array.from(s).forEach(((e,t)=>{HTMLElement}))}options(e){return Array.from(e.querySelectorAll(":scope > :is(.box, .box > .optiongroup) > .option"))}selectedOption(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option[aria-selected=true]")}getName(e){return e.getAttribute("name")??""}setName(e,t){e.setAttribute("name",t)}getDisabled(e){return e.hasAttribute("aria-disabled")}setDisabled(e,t){e.toggleAttribute("aria-disabled",t)}setExpanded(e,t){e.setAttribute("aria-expanded",t.toString())}getExpanded(e){return JSON.parse(e.getAttribute("aria-expanded")??(!1).toString())}setMultiSelectable(e,t){e.setAttribute("aria-multiselectable",t.toString())}getMultiSelectable(e){return JSON.parse(e.getAttribute("aria-multiselectable")??(!1).toString())}expand(e){if(!this.getExpanded(e)){this.setExpanded(e,!0),af(this,op,"m",Ep).call(this,e);const t=this.selectedOption(e);t&&t.focus({preventScroll:!0})}}collapse(e){this.getExpanded(e)&&(this.setExpanded(e,!1),e.focus())}toggle(e,t){const n=this.getExpanded(e);t??!n?this.expand(e):this.collapse(e)}},ap=new WeakMap,cp=new WeakMap,lp=new WeakMap,op=new WeakSet,hp=function(e){return e.querySelector(":scope > .box")},dp=function(e){return e.querySelector(":scope > :is(.box, .box > .optiongroup) > .option:focus-within")},up=function(e){return e.querySelector(":scope > .content > .value")},pp=function(e){e.forEach((e=>{const{target:t,type:n}=e,s=t.closest(".combobox");if(s instanceof HTMLElement)switch(n){case"childList":{const{addedNodes:t}=e,n=".option[aria-selected=true]";for(let e of t)if(e instanceof HTMLElement){const t=e.matches(n)?e:e.querySelector(n);if(t){af(this,op,"m",yp).call(this,s,t);break}}break}}}))},fp=function(e){if(e instanceof HTMLElement){const{classList:t}=e;if(t.contains("option")&&!of.getDisabled(e)&&!e.hidden)return NodeFilter.FILTER_ACCEPT;if(t.contains("optiongroup"))return NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_REJECT},mp=function(e){const t=af(this,cp,"f");return t.currentNode=af(this,op,"m",hp).call(this,e),t.firstChild()},bp=function(e){const t=af(this,cp,"f");return t.currentNode=af(this,op,"m",hp).call(this,e),t.lastChild()},gp=function(e){const t=af(this,cp,"f");return t.currentNode=e,t.previousNode()},wp=function(e){const t=af(this,cp,"f");return t.currentNode=e,t.nextNode()},vp=function(e,t){const n=this.selectedOption(e);n&&of.setSelected(n,!1),t!==n&&(of.setSelected(t,!0),af(this,op,"m",yp).call(this,e,t),e.dispatchEvent(new Event("change",{bubbles:!0})))},yp=function(e,t){af(this,op,"m",up).call(this,e).textContent=of.getLabel(t)},Ep=function(e){const t=e.querySelector(":scope > .box"),{style:n}=t,{bottom:s,left:i}=e.getBoundingClientRect(),{scrollX:r,scrollY:o}=window;n.setProperty("top",`${s+o}px`),n.setProperty("left",`${i+r}px`)},Sp=function(e){const{currentTarget:t,target:n}=e,s=t;if(this.toggle(s),this.getExpanded(s))(this.selectedOption(s)??this.options(s)[0])?.focus({preventScroll:!0});else{const e=n.closest(".option");e&&af(this,op,"m",vp).call(this,s,e)}},Tp=function(e){const{currentTarget:t,relatedTarget:n}=e,s=t;!s.contains(n)&&this.collapse(s)},kp=function(e){const{currentTarget:t,key:n}=e,s=t,i=this.getExpanded(s),r=af(this,op,"m",dp).call(this,s),o=this.selectedOption(s);switch(n){case"ArrowUp":if(i){const e=r?af(this,op,"m",gp).call(this,r):af(this,op,"m",mp).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?af(this,op,"m",gp).call(this,o):af(this,op,"m",mp).call(this,s);e&&af(this,op,"m",vp).call(this,s,e)}e.stopPropagation();break;case"ArrowDown":if(i){const e=r?af(this,op,"m",wp).call(this,r):af(this,op,"m",bp).call(this,s);e&&e.focus({preventScroll:!0})}else{const e=o?af(this,op,"m",wp).call(this,o):af(this,op,"m",bp).call(this,s);e&&af(this,op,"m",vp).call(this,s,e)}e.stopPropagation();break;case"Home":{const t=af(this,op,"m",mp).call(this,s);t&&(i?t.focus({preventScroll:!0}):af(this,op,"m",vp).call(this,s,t)),e.stopPropagation();break}case"End":{const t=af(this,op,"m",bp).call(this,s);t&&(i?t.focus({preventScroll:!0}):af(this,op,"m",vp).call(this,s,t)),e.stopPropagation();break}case"Enter":i?(this.collapse(s),r&&af(this,op,"m",vp).call(this,s,r)):(this.expand(s),o?.focus({preventScroll:!0})),e.stopPropagation();break;case"Escape":i&&this.collapse(s),e.stopPropagation();break;default:{const{length:t}=n;if(1==t){const t=n.charCodeAt(0),i=this.options(s),o=r?i.indexOf(r):-1,a=i.find(((e,n)=>of.getLabel(e).toLowerCase().charCodeAt(0)==t&&n>o))??i.find((e=>of.getLabel(e).toLowerCase().charCodeAt(0)==t));a&&a.focus({preventScroll:!0}),e.stopPropagation()}break}}},xp=function(e){const{target:t}=e,n=t.closest(".option");n&&n.focus({preventScroll:!0})},Pp))),hf=(new(U({name:"optiongroup"})((Cp=class extends x{constructor(){super(),Lp.set(this,void 0),function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?i.call(e,n):i?i.value=n:t.set(e,n)}(this,Lp,Y("ul",{attributes:{class:"optiongroup",role:"group"}}),"f")}create(){return function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}(this,Lp,"f").cloneNode(!0)}slot(e){return e}slottedCallback(e,t){const{childNodes:n}=t;Array.from(n).forEach(((e,t)=>{e instanceof HTMLElement&&e.classList.contains("option")}))}},Lp=new WeakMap,Cp))),function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}),df=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},uf=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class pf extends B{constructor(e){super();const t=e?.sortFunction??function(e,t){return e.label.localeCompare(t.label)},n=new q(e?.items??[]);n.setParent(this),this.sortFunction=t,this.items=n}getItemByIndex(e){return this.items.get(e)}}class ff{constructor(e){Np.set(this,void 0),df(this,Np,e,"f")}static from(e){return new ff(e)}show(){uf(this,Np,"f").forEach((e=>{e.show()}))}hide(){uf(this,Np,"f").forEach((e=>{e.hide()}))}display(){const e=uf(this,Np,"f").reduce(((e,t)=>`${e} ${t.label}`),"");console.log(e)}remove(){const e=uf(this,Np,"f").reduce(((e,t)=>{const{parentNode:n}=t;if(n instanceof pf){const{items:s}=n,i=e.get(s);i?i.push(t):e.set(s,[t])}return e}),new Map);Array.from(e.entries()).forEach((([e,t])=>{e.beginChanges(),t.forEach((t=>{e.remove(t)})),e.endChanges()}))}}Np=new WeakMap;class mf extends B{constructor(e){super();const{label:t}=e;this.label=t,this.visibility=!0}get index(){const{parentNode:e}=this;return e instanceof pf?e.items.index(this):-1}show(){this.visibility=!0}hide(){this.visibility=!1}display(){console.log(this.label)}remove(){const{parentNode:e}=this;if(e instanceof pf){const{items:t}=e;t&&t.remove(this)}}}hf([F()],mf.prototype,"visibility",void 0);let bf=class extends Qt{constructor(e){super(),Ip.add(this),Ap.set(this,void 0),Rp.set(this,void 0),this.attachShadow({mode:"open"}),df(this,Ap,new WeakMap,"f"),df(this,Rp,new WeakMap,"f"),this.setModel(e??new pf)}getListElement(){const{model:e}=this;return uf(this,Ap,"f").get(e)?.deref()??null}getListItemElement(e){return uf(this,Rp,"f").get(e)?.deref()??null}selectedItems(){const e=this.getListElement();if(e){const{model:t}=this;return e.selectedItems().map((e=>t.getItemByIndex(e.posinset)))}return[]}renderShadow(){return X(Y("style",{children:["\n                        :host {\n                            display: block;\n                        }\n                    "]}),Y("slot"))}renderLight(){const{model:e}=this,t=Y("e-list",{attributes:{tabindex:0},children:[Y("e-listitemgroup",{children:re(e.items,(e=>uf(this,Ip,"m",Mp).call(this,e)))})],listeners:{contextmenu:uf(this,Ip,"m",Op).bind(this),keydown:uf(this,Ip,"m",Wp).bind(this)}});return uf(this,Ap,"f").set(e,new WeakRef(t)),t}};Ap=new WeakMap,Rp=new WeakMap,Ip=new WeakSet,Mp=function(e){const t=Y("e-listitem",{attributes:{tabindex:-1,name:e.label,draggable:"true"},dataset:{index:e.index},children:[Y("span",{children:[e.label]}),Y("e-toolbar",{attributes:{tabindex:0},children:[Y("e-toolbaritemgroup",{children:[jo.menubutton({name:"settings",label:"Actions",menubutton:new Mr({menu:te(e,new Ws({children:[new xs({items:[zn.button({name:"display",label:"Display",trigger:()=>{e.display()}}),zn.button({name:"delete",label:"Delete",trigger:()=>{e.remove()}})]}),new xs({items:[zn.button({name:"visibility",label:"Visibility",trigger:()=>{e.visibility?e.hide():e.show()}})]})]}),["visibility"],((e,t,n,s)=>{}))})}),te(e,Y("e-toolbaritem",{attributes:{name:"visibility",type:"checkbox",tabindex:-1},listeners:{trigger:()=>{e.visibility?e.hide():e.show()}}}),["visibility"],((e,t,n,s)=>{e.title=s?"Hide":"Show",e.checked=s}))]})]})]});return uf(this,Rp,"f").set(e,new WeakRef(t)),t},Op=function(e){const{clientX:t,clientY:n,currentTarget:s,target:i}=e,{model:r}=this;if(s instanceof fl&&i instanceof Cc){const s=r.getItemByIndex(parseInt(i.dataset.index)),o=Y("e-menu",{attributes:{tabindex:-1,contextual:!0},children:[Y("e-menuitemgroup",{attributes:{tabindex:-1},children:[Y("e-menuitem",{attributes:{tabindex:-1},children:["Display"],listeners:{trigger:()=>{ff.from(this.selectedItems()).display()}}}),Y("e-menuitem",{attributes:{tabindex:-1},children:["Delete"],listeners:{trigger:()=>{ff.from(this.selectedItems()).remove()}}})]}),Y("e-menuitemgroup",{attributes:{tabindex:-1},children:[Y("e-menuitem",{attributes:{tabindex:-1,type:"checkbox"},children:[s.visibility?"Hide":"Show"],listeners:{trigger:()=>{const e=ff.from(this.selectedItems());s.visibility?e.hide():e.show()}}})]})],listeners:{close:()=>{i.focus({preventScroll:!0})}}});i.append(o),o.positionContextual(t,n),o.focus({preventScroll:!0}),e.preventDefault()}},Wp=function(e){const{currentTarget:t,key:n}=e;if(t instanceof fl)switch(n){case"Delete":ff.from(this.selectedItems()).remove(),e.preventDefault()}},bf=hf([J({name:"v-list"})],bf);var gf,wf,vf,yf,Ef,Sf,Tf,kf,xf,Pf,Lf,Cf=bf,Nf=function(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},If=function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},Af=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class Rf extends B{constructor(e){super();const t=new q(e?.rows??[]);t.setParent(this),this.rows=t;const n=new q(e?.columns??[]);n.setParent(this),this.columns=n}getColumnByName(e){return Array.from(this.columns.values()).find((t=>t.name==e))??null}sortByColumn(e,t){Array.from(this.columns.values()).forEach((n=>{n.sortorder=n==e?t:void 0})),this.rows.sort(((n,s)=>{const i=e.extract(n).toString(),r=e.extract(s).toString();return t*i.localeCompare(r)}))}}class Mf extends B{constructor(e){super();const{name:t,label:n,type:s,extract:i}=e;this.name=t,this.label=n,this.type=s,this.extract=i,this.filters=e.filters??[],this.sortorder=1}}Nf([F()],Mf.prototype,"sortorder",void 0);class Of extends B{constructor(e){super();const{name:t,age:n}=e;this.name=t,this.age=n}}Nf([F()],Of.prototype,"name",void 0),Nf([F()],Of.prototype,"age",void 0);let Wf=class extends Qt{constructor(e){super(),gf.add(this),wf.set(this,void 0),vf.set(this,void 0),yf.set(this,void 0),Ef.set(this,void 0),Sf.set(this,void 0),If(this,yf,[],"f"),If(this,Ef,null,"f"),If(this,Sf,new WeakMap,"f"),this.attachShadow({mode:"open"}),this.setModel(e??new Rf),If(this,vf,((e,t)=>Y("label",{children:[t.extract(e)]})),"f"),If(this,wf,(e=>Y("label",{children:[e.label]})),"f")}attributeChangedCallback(e,t,n){switch(e){case"resizable":case"sortable":this.refresh()}}get gridElement(){return this.getGridElement()}setColumnDelegate(e){If(this,wf,e,"f")}setCellDelegate(e){If(this,vf,e,"f")}getGridElement(){return this.shadowRoot.querySelector(":scope > e-grid")}getRowElement(e){return Af(this,Sf,"f").get(e)?.deref()??null}getColumnHeaderElement(e){return this.shadowRoot.querySelector(`:scope > e-grid > e-gridhead > e-gridrow > e-gridcell[type=columnheader][name=${e.name}]`)}getColumnDataElements(e){return Array.from(this.shadowRoot.querySelectorAll(`:scope > e-grid > e-gridbody > e-gridrow > e-gridcell[headers~=${e.name}]`))}renderShadow(){const{model:e}=this;return X(Y("link",{attributes:{rel:"stylesheet",href:"css/main.css"}}),Y("link",{attributes:{rel:"stylesheet",href:"css/views/gridview.css"}}),Y("div",{children:[Y("input",{attributes:{type:"search"},listeners:{input:Af(this,gf,"m",Pf).bind(this)}})]}),Y("e-grid",{attributes:{tabindex:0,selectby:"row"},children:[Y("e-gridhead",{children:[Y("e-gridrow",{children:re(e.columns,(e=>Af(this,gf,"m",Tf).call(this,e)))})]}),Y("e-gridbody",{children:re(e.rows,(e=>Af(this,gf,"m",kf).call(this,e)))})]}))}setSearchFilter(e){If(this,Ef,e,"f"),Array.from(this.model.rows.values()).forEach((t=>{const n=this.getRowElement(t);n&&(n.hidden=!Af(this,yf,"f").some((e=>e.filter(t)))&&!(e?.filter(t)??1))}));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}addDisplayFilter(e){Af(this,yf,"f").includes(e)||(Af(this,yf,"f").push(e),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Af(this,yf,"f").some((t=>t.filter(e))))})));const{gridElement:t}=this;t.beginSelection(),t.selectedRows().forEach((e=>e.selected=!1)),t.endSelection()}removeDisplayFilter(e){const t=Af(this,yf,"f"),n=t.indexOf(e);n>-1&&(t.splice(n,1),Array.from(this.model.rows.values()).forEach((e=>{const t=this.getRowElement(e);t&&(t.hidden=!Af(this,yf,"f").every((t=>t.filter(e))))})));const{gridElement:s}=this;s.beginSelection(),s.selectedRows().forEach((e=>e.selected=!1)),s.endSelection()}};wf=new WeakMap,vf=new WeakMap,yf=new WeakMap,Ef=new WeakMap,Sf=new WeakMap,gf=new WeakSet,Tf=function(e){const{model:t}=this;return te(e,Y("e-gridcell",{attributes:{tabindex:-1,name:e.name,id:this.resizable?`${e.name}-columnheader`:void 0,type:"columnheader"},children:[Y("span",{attributes:{class:"gridcell-content"},children:[Y("label",{attributes:{class:"gridcell-label"},children:[e.label],listeners:{click:Af(this,gf,"m",Lf).bind(this)}}),Y("e-toolbar",{attributes:{tabindex:-1},children:[Y("e-toolbaritem",{attributes:{type:"menubutton",tabindex:-1},children:[Y("e-menubutton",{attributes:{slot:"menubutton",tabindex:-1},children:[Y("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[Y("e-menuitem",{attributes:{type:"button",tabindex:-1},children:["Resize Column"],listeners:{trigger:()=>{const t=this.getColumnHeaderElement(e);if(t){const{style:n}=t;n.removeProperty("width"),n.removeProperty("max-width"),this.getColumnDataElements(e).forEach((e=>e.style.maxWidth="unset"))}}}}),Y("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Sort",te(e,Y("e-menu",{attributes:{slot:"menu",tabindex:-1},children:[Y("e-menuitem",{attributes:{type:"radio",name:"sort",value:"1",tabindex:-1},children:["Ascending"]}),Y("e-menuitem",{attributes:{type:"radio",name:"sort",value:"-1",tabindex:-1},children:["Descending"]})],listeners:{trigger:n=>{const{target:s}=n,i=s.value;t.sortByColumn(e,parseInt(i))}}}),["sortorder"],((e,t,n,s)=>{e.querySelectorAll("e-menuitem[name^=sort]").forEach((e=>{e.checked=parseInt(e.value)===s}))}))]}),Y("e-menuitem",{attributes:{type:"submenu",tabindex:-1},children:["Filter",Y("e-menu",{attributes:{slot:"menu",tabindex:-1},children:e.filters.map(((e,t)=>Y("e-menuitem",{attributes:{tabindex:-1,type:"checkbox",checked:Af(this,yf,"f").includes(e)},children:[e.name],listeners:{trigger:t=>{const{currentTarget:n}=t;if(n instanceof Yn){const{checked:t}=n;t?this.addDisplayFilter(e):this.removeDisplayFilter(e)}}}})))})]})]})]})]})]})].concat(this.resizable?[Y("e-wsash",{attributes:{controls:`${e.name}-columnheader`},listeners:{resize:()=>{this.getColumnDataElements(e).forEach((e=>e.style.removeProperty("max-width")))}}})]:[])})]}),["sortorder"],((e,t,n,s)=>{switch(t){case"sortorder":void 0!==s?e.dataset.sortorder=s.toString():delete e.dataset.sortorder}}))},kf=function(e){const{model:t}=this,n=Y("e-gridrow",{attributes:{tabindex:-1},children:re(t.columns,(t=>Af(this,gf,"m",xf).call(this,e,t)))});return Af(this,Sf,"f").set(e,new WeakRef(n)),n},xf=function(e,t){return Y("e-gridcell",{attributes:{type:"gridcell",headers:t.name},children:[Af(this,vf,"f").call(this,e,t)]})},Pf=function(e){const{target:t}=e;if(t instanceof HTMLInputElement){const{value:e}=t;this.setSearchFilter(""!==e?{filter:t=>t.name.toLowerCase().startsWith(e.toLowerCase())}:null)}},Lf=function(e){const{currentTarget:t}=e,{model:n}=this,{columns:s}=n;if(t instanceof Element){const e=t.closest("e-gridcell");if(e){const t=Array.from(s.values()).find((t=>t.name==e.name));if(t){const e=void 0!==t.sortorder?-t.sortorder:1;n.sortByColumn(t,e)}}}},Nf([V({type:Boolean,observed:!0})],Wf.prototype,"resizable",void 0),Nf([V({type:Boolean,observed:!0})],Wf.prototype,"sortable",void 0),Wf=Nf([J({name:"v-grid"})],Wf);var jf=Wf;async function Df(){const e=new Tn,t=new vn({items:[new En({label:"TI 0",type:"parent",items:[new En({label:"TI 1A",type:"parent",items:[new En({type:"leaf",label:"TI 1AX"})]}),new En({type:"parent",label:"TI 1B"})]}),new En({label:"TI 1",type:"parent",items:[new En({label:"TI 1A",type:"parent",items:[new En({type:"leaf",label:"TI 1AX"})]}),new En({type:"parent",label:"TI 1B"})]}),new En({type:"leaf",label:"TI 2"}),new En({type:"leaf",label:"TI 3"})],sortFunction:(e,t)=>{const{label:n}=e,{label:s}=t;return s.localeCompare(n)}});e.setModel(t),document.body.append(e),t.childItems.append(new En({label:"yo",type:"parent",items:[new En({type:"leaf",label:"plop"})]}));const n=new Cf;n.setModel(new pf({items:[new mf({label:"Hey"}),new mf({label:"Yo"})]})),document.body.append(n);const s=new jf;s.resizable=!0,s.sortable=!0,s.setColumnDelegate((e=>X(Y("label",{children:[e.label]})))),s.setModel(new Rf({columns:[new Mf({name:"name",label:"Name",type:String,extract:e=>e.name}),new Mf({name:"age",label:"Age",type:Number,extract:e=>e.age,filters:[{name:"Minors",filter:e=>e.age<18},{name:"Majors",filter:e=>e.age>=18}]})],rows:[new Of({name:"Denis",age:13}),new Of({name:"Jean-Charles",age:32}),new Of({name:"Charles",age:25})]})),document.body.append(s);const i=z("menubar",{slotted:[z("menuitem",{properties:{label:"MenuItem 0",name:"MenuItem 0",type:"menu",disabled:!0},slotted:[z("menu",{slotted:[z("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}})]})]}),z("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"menu"},slotted:[z("menu",{slotted:[z("menuitemgroup",{slotted:[z("menuitem",{properties:{label:"MenuItem 1",type:"checkbox",keyshortcut:"Ctrl+B",disabled:!0,checked:!0}}),z("menuitem",{properties:{type:"button",label:"MenuItem 2",keyshortcut:"Ctrl+A"}})]}),z("separator"),z("menuitem",{properties:{label:"Submenu",type:"submenu"},slotted:[z("menu",{slotted:[z("menuitem",{properties:{label:"MenuItem 1",type:"radio",name:"radio",value:"1"}}),z("menuitem",{properties:{type:"radio",label:"MenuItem 2",name:"radio",value:"2"}}),z("menuitem",{properties:{type:"radio",label:"MenuItem 3",name:"radio",value:"3"}})]})]})]})]})]});document.body.append(i);const r=z("tree",{slotted:[z("treeitem",{properties:{label:"treeitem 0",type:"parent",draggable:!0},slotted:{group:[z("treeitemgroup",{slotted:[z("treeitem",{properties:{label:"treeitem 1",type:"leaf",draggable:!0}})]})]},listeners:{contextmenu:e=>{const{target:t,clientX:n,clientY:s}=e,i=t.closest(".treeitem"),r=z("menu",{properties:{contextual:!0},slotted:[z("menuitemgroup",{slotted:[z("menuitem",{properties:{label:"Display"},listeners:{click:()=>{console.log(un.getLabel(i))}}}),z("menuitem",{properties:{label:"Delete"},listeners:{click:()=>{i.remove()}}})]})]});i.append(r),on.positionContextual(r,n,s),r.focus({preventScroll:!0}),e.preventDefault()}}}),z("treeitem",{properties:{label:"treeitem 0",type:"parent",draggable:!0,disabled:!0},slotted:{group:[z("treeitemgroup",{slotted:[z("treeitem",{properties:{label:"treeitem 1",type:"leaf",draggable:!0}})]})]}}),z("treeitem",{properties:{label:"treeitem 1",type:"leaf",draggable:!0},slotted:{content:[z("toolbar",{slotted:[z("toolbaritem",{properties:{label:"First item",type:"button"}}),z("toolbaritem",{properties:{label:"Second item",type:"checkbox"}})]})]}})]});document.body.append(r),document.body.append(z("toolbar",{slotted:[z("toolbaritem",{properties:{label:"First item",type:"menubutton"},slotted:[z("menu",{slotted:[z("menuitem",{properties:{label:"MenuItem 1",name:"MenuItem 1",type:"checkbox"}}),z("menuitem",{properties:{label:"MenuItem 2",name:"MenuItem 2",type:"checkbox"}})]})]}),z("toolbaritem",{properties:{label:"Second item",type:"checkbox"}}),z("toolbaritem",{properties:{label:"Third item",type:"checkbox",disabled:!0}}),z("toolbaritem",{properties:{label:"Fourth item",type:"checkbox"}})]})),document.body.append(z("list",{slotted:[z("listitemgroup",{slotted:[z("listitem",{properties:{label:"First item"}})]}),z("listitem",{properties:{label:"Second item"},slotted:[z("toolbar",{slotted:[z("toolbaritem",{properties:{label:"First item",type:"button"}}),z("toolbaritem",{properties:{label:"Second item",type:"checkbox"}})]})]}),z("listitem",{properties:{label:"Third item",disabled:!0}}),z("listitem",{properties:{label:"Fourth item"}})]})),document.body.append(z("grid",{properties:{selectby:"row",multisectable:!0},slotted:{headers:[z("gridheader",{properties:{label:"First header"}}),z("gridheader",{properties:{label:"Second header"}})],rows:[z("gridrow",{slotted:[z("gridcell",{properties:{label:"First cell"}}),z("gridcell",{properties:{label:"Second cell"}})]}),z("gridrow",{slotted:[z("gridcell",{properties:{label:"Third cell"}}),z("gridcell",{properties:{label:"Fourth cell"}})]}),z("gridrow",{slotted:[z("gridcell",{properties:{label:"Fifth cell"}}),z("gridcell",{properties:{label:"Sixth cell"}})]}),z("gridrow",{slotted:[z("gridcell",{properties:{label:"Heighth cell"}}),z("gridcell",{properties:{label:"Nineth cell"}})]})]}})),document.body.append(z("combobox",{slotted:[z("option",{properties:{label:"First option"}}),z("option",{properties:{label:"Second option"}}),z("option",{properties:{label:"Third option",selected:!0}})],listeners:{change:e=>{const{currentTarget:t}=e,n=t;console.log(of.getLabel(lf.selectedOption(n)))}}})),(new class{constructor(){this._actions=new Array,this._actionElements=new Array,this._hotkeys=new Array,this._pairs=new Map,this._pairsListeners=new Map,this._actionsObserver=new MutationObserver(this._actionsObserverCallback.bind(this))}_actionsObserverCallback(e){e.forEach((e=>{e.addedNodes.forEach((e=>{Array.from(G(e)).forEach((e=>{e instanceof Nn&&this.registerActionElement(e.name,e)}))})),e.removedNodes.forEach((e=>{Array.from(G(e)).forEach((e=>{e instanceof Nn&&this.unregisterActionElement(e.name,e)}))}))}))}setup(){document.body.addEventListener("keydown",this),document.body.addEventListener("trigger",this),this._actionsObserver.observe(document.body,{childList:!0,subtree:!0})}handleEvent(e){const t=e.target;switch(e.type){case"keydown":this._hotkeys.map(((t,n)=>t.test(e)?n:-1)).filter((e=>e>-1)).forEach((e=>{const{name:t,type:n,value:s,checked:i}=this._actions[e];switch(n){case"button":this.executeButtonAction(t);break;case"checkbox":this.executeCheckboxAction(t,i);break;case"radio":this.executeRadioAction(t,s)}}));break;case"trigger":if(t instanceof Nn)switch(t.type){case"button":this.executeButtonAction(t.name);break;case"checkbox":this.executeCheckboxAction(t.name,t.checked);break;case"radio":case"select":this.executeRadioAction(t.name,t.value)}}}registerButtonAction(e,t,n){return this.registerAction(e,t,"button",n)}registerRadioAction(e,t,n){return this.registerAction(e,t,"radio",n)}registerCheckboxAction(e,t,n){return this.registerAction(e,t,"checkbox",n)}registerAction(e,t,n,s){const i=s?.hotkey,r=s?.key,o=s?.value,a=s?.checked,c={name:e,trigger:t,key:r,type:n};o&&(c.value=o),void 0!==r&&void 0!==o&&localStorage.setItem(r,o),a&&(c.checked=a);const l=this._actions.push(c)-1;return i&&(this._hotkeys[l]=i),c}executeButtonAction(e){this.executeAction(e,"button")}executeCheckboxAction(e,t){this.executeAction(e,"checkbox",t)}executeRadioAction(e,t){this.executeAction(e,"radio",t)}executeAction(e,t,n){const s=this._actions.findIndex((t=>t.name==e));if(s>-1){const i=this._actions[s];let r;switch(t){case"radio":r=i.value??"";break;case"checkbox":r=i.value??!1}i.trigger(r,n),this.setActionValue(e,n)}}setCheckboxActionValue(e,t){this.setActionValue(e,t)}setRadioActionValue(e,t){this.setActionValue(e,t)}setActionValue(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actions[n],{type:s,key:i}=e;e.value=t,i&&localStorage.setItem(i,t);const r=this._actionElements[n];if(r)switch(s){case"radio":r.forEach((e=>{"radio"==e.type?e.checked=e.value==t:"select"==e.type&&(e.value=t)}));break;case"checkbox":r.forEach((e=>{e.checked=t}))}}}registerActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];e?e.includes(t)||e.push(t):this._actionElements[n]=[t];const s=this._actions[n],{type:i,value:r,checked:o}=s;switch(i){case"radio":"radio"==t.type?t.checked=t.value==r:"select"==t.type&&(t.value=r);break;case"checkbox":t.checked=o}const a=this._hotkeys[n];a&&(t.hotkey=a.toString())}}unregisterActionElement(e,t){const n=this._actions.findIndex((t=>t.name==e));if(n>-1){const e=this._actionElements[n];if(e){const n=e.findIndex((e=>e==t));n>-1&&(e.copyWithin(n,n+1),e.length--)}}}}).setup()}})(),main=t})();
//# sourceMappingURL=main.js.map